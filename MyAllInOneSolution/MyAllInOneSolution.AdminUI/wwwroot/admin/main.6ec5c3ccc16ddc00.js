(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[179],{2976:(dt,Ce,p)=>{"use strict";p.d(Ce,{NA:()=>m,VK:()=>e,de:()=>T});var t=p(4650);let e=(()=>{class C{constructor(){this.Server="http://localhost:5000/"}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275prov=t.Yz7({token:C,factory:C.\u0275fac}),C})();class m{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let T=(()=>{class C{static get SITE_TITLE(){return"AdminUI"}}return C.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html",C.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html",C.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite",C.defaultEmbeddedUserName="info@rocksolidknowledge.com",C})()},8002:(dt,Ce,p)=>{"use strict";p.d(Ce,{Z:()=>q});var t=p(6895),e=p(8185),m=p(4006),T=p(388),C=p(2320),b=p(1191),g=p(8190),f=p(9383),w=p(7023),_=p(2979),R=p(5084),P=p(5785),a=p(4022),k=p(7770),L=p(5971),Z=p(6980),j=p(9650),N=p(2147),B=p(4091),V=p(5503),J=p(4650);let q=(()=>{class re{}return re.\u0275fac=function(G){return new(G||re)},re.\u0275mod=J.oAB({type:re}),re.\u0275inj=J.cJS({providers:[g.F],imports:[t.ez,m.u5,m.UX,b.H3,C.z8,T.zk,e.Bz,f.aw,w._,_.fQ,R.y,P.U,a.p,k.t,L.s,Z.K,j.I,N.l,B.G,V.D]}),re})()},8413:(dt,Ce,p)=>{"use strict";p.d(Ce,{P:()=>w});var t=p(6895),e=p(9383),m=p(388),T=p(4022),C=p(4380),b=p(9650),g=p(4091),f=p(4650);let w=(()=>{class _{}return _.\u0275fac=function(P){return new(P||_)},_.\u0275mod=f.oAB({type:_}),_.\u0275inj=f.cJS({imports:[m.zk,e.aw,t.ez,C.t,T.p,b.I,g.G]}),_})()},964:(dt,Ce,p)=>{"use strict";p.d(Ce,{z:()=>ne});var t=p(4650),e=p(572),m=p(7235),T=p(9655),C=p(1837),b=p(3110),g=p(9383),f=p(8285),w=p(388),_=p(6895),R=p(2808),P=p(8163),a=p(7608),k=p(2830);const L=["deleteCertModal"];function Z(K,le){if(1&K){const me=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(me);const ye=t.oxw(3);return t.KtG(ye.openDeleteModal(ye.certificates[0]))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&K){const me=t.oxw(3);t.Q6J("disabled",me.deleteCertDisabled),t.xp6(1),t.hij(" ",t.lcZ(2,2,"Clients.Saml.DeleteCert")," ")}}function j(K,le){if(1&K&&(t.TgZ(0,"app-action-bar",9),t.ynx(1,10),t.Hsn(2),t.YNc(3,Z,3,4,"button",11),t.BQk(),t.qZA()),2&K){const me=t.oxw(2);t.xp6(3),t.Q6J("ngIf",(null==me.certificates?null:me.certificates.length)>0)}}function N(K,le){1&K&&(t.TgZ(0,"div",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&K&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function B(K,le){1&K&&(t.TgZ(0,"div",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&K&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Clients.NoCertificates")," "))}const V=function(K){return[K]};function J(K,le){if(1&K&&(t.ynx(0),t.TgZ(1,"app-form-row",15),t._UZ(2,"app-readonly",16),t.qZA(),t.TgZ(3,"app-form-row",15),t._UZ(4,"app-readonly",16),t.qZA(),t.TgZ(5,"app-form-row",17),t._UZ(6,"app-readonly",16)(7,"p",18),t.qZA(),t.BQk()),2&K){const me=t.oxw(2);t.xp6(1),t.Q6J("label","Common.Subject"),t.xp6(1),t.Q6J("values",t.VKq(11,V,me.readOnlyCertificate.subject))("fieldType",me.ReadOnlyFieldType.Single),t.xp6(1),t.Q6J("label","Common.Thumbprint"),t.xp6(1),t.Q6J("values",t.VKq(13,V,me.readOnlyCertificate.thumbprint))("fieldType",me.ReadOnlyFieldType.Single),t.xp6(1),t.Q6J("label","Common.ExpiresOn")("isLast",!0),t.xp6(1),t.Q6J("values",t.VKq(15,V,me.readOnlyCertificate.expiration))("fieldType",me.ReadOnlyFieldType.Single),t.xp6(1),t.Q6J("innerHTML",me.displayExpiry(null==me.readOnlyCertificate?null:me.readOnlyCertificate.expiration.MainText),t.oJD)}}function q(K,le){if(1&K&&(t.TgZ(0,"div",4),t.YNc(1,j,4,1,"app-action-bar",5),t.YNc(2,N,3,3,"div",6),t.YNc(3,B,3,3,"div",7),t.YNc(4,J,8,17,"ng-container",8),t.qZA()),2&K){const me=t.oxw();t.xp6(1),t.Q6J("ngIf",!me.isReadOnly),t.xp6(1),t.Q6J("ngIf",me.deleteCertDisabled&&!me.isReadOnly),t.xp6(1),t.Q6J("ngIf",(null==me.certificates?null:me.certificates.length)<1),t.xp6(1),t.Q6J("ngIf",1==(null==me.certificates?null:me.certificates.length)&&me.readOnlyCertificate)}}function re(K,le){if(1&K){const me=t.EpF();t.TgZ(0,"app-data-table",19),t.NdJ("onDelete",function(ye){t.CHM(me);const ze=t.oxw();return t.KtG(ze.openDeleteModal(ye))}),t._UZ(1,"app-data-table-column",20)(2,"app-data-table-column",21)(3,"app-data-table-column",22),t.qZA()}if(2&K){const me=t.oxw();t.Q6J("isReadOnly",me.isReadOnly)("rows",me.certificates)("norowslabel","Clients.NoCertificates")("actions",me.dataTableActions),t.xp6(1),t.Q6J("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),t.xp6(1),t.Q6J("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),t.xp6(1),t.Q6J("prop","expiration")("formatter",me.displayExpiry.bind(me))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}const W=function(){return{animated:!1,backdrop:"static"}};function G(K,le){if(1&K){const me=t.EpF();t.TgZ(0,"div",23,24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",29),t.NdJ("click",function(){t.CHM(me);const ye=t.oxw();return t.KtG(ye.closeDeleteModal())}),t._UZ(9,"span",30),t.TgZ(10,"span",31),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",32),t._UZ(14,"p",33),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"div",34),t.TgZ(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),t.NdJ("click",function(){t.CHM(me);const ye=t.oxw();return t.KtG(ye.removeCert())}),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"button",39),t.NdJ("click",function(){t.CHM(me);const ye=t.oxw();return t.KtG(ye.closeDeleteModal())}),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()()()}2&K&&(t.Q6J("config",t.DdM(16,W)),t.xp6(6),t.Oqu(t.lcZ(7,6,"Common.Delete.Confirm")),t.xp6(5),t.Oqu(t.lcZ(12,8,"Common.Close")),t.xp6(3),t.Q6J("innerHTML",t.lcZ(15,10,"Common.Delete.Warning"),t.oJD),t.xp6(7),t.Oqu(t.lcZ(22,12,"Common.Delete.Title")),t.xp6(3),t.Oqu(t.lcZ(25,14,"Common.Delete.No")))}const X=[[["","addButton",""]]],E=["[addButton]"];let ne=(()=>{class K{constructor(me,Se){this.translateService=me,this.dataTableService=Se,this.showSingle=!1,this.delete=new t.vpe,this.prettyDateTimePipe=new b.Xm}set isReadOnly(me){this._isReadOnly=me||!1}get isReadOnly(){return this._isReadOnly}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(me=>{this.openDeleteModal(me)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[e.Xz.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new m.$(this.certificates[0]):null}openDeleteModal(me){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[me],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(me){let Se=C.ou.fromISO(me);const ye=this.daysUntilExpiry(Se);if(this.warnOfExpiry(Se)){let ze='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return ze=ze.replace("{0}",this.translateService.instant("Common.ExpiresIn")),ze=ze.replace("{1}",ye.toString()),ze=ze.replace("{2}",this.translateService.instant("Common.UntilExpiry")),ze}return this.prettyDateTimePipe.transform(me)}warnOfExpiry(me){return this.daysUntilExpiry(me)<=30&&this.daysUntilExpiry(me)>=1}daysUntilExpiry(me){const Se=me.toMillis()-C.ou.now().toMillis();return Math.round(Se/864e5)}get ReadOnlyFieldType(){return T.O}}return K.\u0275fac=function(me){return new(me||K)(t.Y36(g.sK),t.Y36(f.n))},K.\u0275cmp=t.Xpm({type:K,selectors:[["app-saml-cert-list"]],viewQuery:function(me,Se){if(1&me&&t.Gf(L,5),2&me){let ye;t.iGM(ye=t.CRH())&&(Se.deleteCertModal=ye.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},features:[t.TTD],ngContentSelectors:E,decls:4,vars:3,consts:[["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"disabled","click"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"isReadOnly","rows","norowslabel","actions","onDelete"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteCertModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(me,Se){1&me&&(t.F$t(X),t.TgZ(0,"div",0),t.YNc(1,q,5,4,"div",1),t.YNc(2,re,4,16,"app-data-table",2),t.qZA(),t.YNc(3,G,26,17,"div",3)),2&me&&(t.xp6(1),t.Q6J("ngIf",Se.showSingle),t.xp6(1),t.Q6J("ngIf",!Se.showSingle),t.xp6(1),t.Q6J("ngIf",!Se.isReadOnly))},dependencies:[w.oB,_.O5,e.Qj,R.E,P.K,a.L,k.f,g.X$],encapsulation:2,changeDetection:0}),K})()},7331:(dt,Ce,p)=>{"use strict";p.d(Ce,{l:()=>L});var t=p(6297),e=p(3111),m=p(590),T=p(9506),C=p(3334),b=p(4650),g=p(7481),f=p(9383),w=p(6895),_=p(5925);function R(Z,j){1&Z&&(b._UZ(0,"app-simple-loader",7),b.ALo(1,"translate")),2&Z&&b.Q6J("text",b.lcZ(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function P(Z,j){if(1&Z&&(b.TgZ(0,"div",8)(1,"div")(2,"h2",9),b._uU(3),b.ALo(4,"translate"),b.qZA(),b.TgZ(5,"span",10),b._uU(6),b.qZA()()()),2&Z){const N=b.oxw();b.xp6(3),b.Oqu(b.lcZ(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),b.xp6(3),b.Oqu(N.getSuccessMessage())}}function a(Z,j){if(1&Z){const N=b.EpF();b.TgZ(0,"div",11)(1,"button",12),b.NdJ("click",function(){b.CHM(N);const V=b.oxw();return b.KtG(V.downloadSecrets())}),b._uU(2),b.ALo(3,"translate"),b.qZA()()}if(2&Z){const N=b.oxw();b.xp6(1),b.Q6J("disabled",N.disableButtons),b.xp6(1),b.hij(" ",b.lcZ(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}const k=function(Z,j){return{"tw-btn-link":Z,"tw-btn-success":j}};let L=(()=>{class Z extends T.n{constructor(N,B,V){super(),this.clientImportService=N,this.importWizardService=B,this.translate=V,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,m.P)()).subscribe(N=>{const B=new t.Zy;B.clients=[],B.protectedResources=[],N.forEach(V=>{if(V.selected){if(V.resourceType===e.JR.Client){const J=new t.rJ;J.useExistingSecrets=V.useExistingSecrets,J.useExistingCertificates=V.useExistingCertificates,J.resourceId=V.identifier,J.secrets=V.secrets,V.certificates&&(V.certificates.EncryptionCertificate&&(J.certificates.encryptionCertificate=V.certificates.EncryptionCertificate.base64Cert),V.certificates.SigningCertificates&&(J.certificates.signingCertificates=V.certificates.SigningCertificates.map(q=>q.base64Cert))),B.clients.push(J)}V.secrets&&V.secrets.length>0&&(this.canDownloadSecrets=!0)}V.resourceType===e.JR.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(N,V,B.protectedResources),V.secrets&&V.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=B,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(N,B,V){B.dependantClients.forEach(J=>{const q=N.find(re=>re.identifier===J.identifier);if(q&&q.selected){const re=new t.rJ;re.useExistingSecrets=B.useExistingSecrets,re.resourceId=B.identifier,re.secrets=B.secrets,V.push(re)}})}completeImport(){const N=this.getFileInStorage();this.clientImportService.completeImport(N,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},B=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const N=this.importConfiguration.clients.length;let B=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==N&&(B=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),B=B.replace("{0}",N)),B}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(C.K.importDownloadWarning)}}return Z.\u0275fac=function(N){return new(N||Z)(b.Y36(t.wf),b.Y36(g.U),b.Y36(f.sK))},Z.\u0275cmp=b.Xpm({type:Z,selectors:[["app-complete-import"]],features:[b.qOj],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"ngClass","disabled","click"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"disabled","click"]],template:function(N,B){1&N&&(b.YNc(0,R,2,3,"app-simple-loader",0),b.TgZ(1,"div",1),b.YNc(2,P,7,4,"div",2),b.qZA(),b.TgZ(3,"div",3)(4,"div",4),b.YNc(5,a,4,4,"div",5),b.TgZ(6,"button",6),b.NdJ("click",function(){return B.goNext()}),b._uU(7),b.ALo(8,"translate"),b.qZA()()()),2&N&&(b.Q6J("ngIf",B.isLoading),b.xp6(2),b.Q6J("ngIf",!B.isLoading),b.xp6(3),b.Q6J("ngIf",B.canDownloadSecrets),b.xp6(1),b.Q6J("ngClass",b.WLB(8,k,B.canDownloadSecrets,!B.canDownloadSecrets))("disabled",B.disableButtons),b.xp6(1),b.hij(" ",b.lcZ(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[w.mk,w.O5,_.w,f.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),Z})()},3286:(dt,Ce,p)=>{"use strict";p.r(Ce),p.d(Ce,{ClientModule:()=>Kt});var t=p(6895),e=p(4006),m=p(8185),T=p(2979),C=p(388),b=p(2320),g=p(5503),f=p(8117),w=p(515),_=p(4004),R=p(262),P=p(4879),a=p(4650),k=p(9012),L=p(4608),Z=p(4889);let j=(()=>{class ge{constructor(ue,Ue,Zt){this.clientService=ue,this.clientCachingService=Ue,this.errorService=Zt}resolve(ue,Ue){const Zt=ue.paramMap.get("Id");return this.clientService.getClient(Zt).pipe((0,_.U)(ln=>(this.clientCachingService.unsavedCache.next(ln),ln)),(0,R.K)(ln=>(404===ln.status?this.errorService.resourceNotFound(P._.client):this.errorService.handleError(ln),(0,w.c)())))}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.LFG(k.a),a.LFG(L.Z),a.LFG(Z.T))},ge.\u0275prov=a.Yz7({token:ge,factory:ge.\u0275fac}),ge})();var N=p(4995),B=p(3883),V=p(9002),J=p(5302),q=p(3499),re=p(4022),W=p(4362),G=p(6980),X=p(4380),E=p(5898),ne=p(9650),K=p(8975),le=p(9383),me=p(5785),Se=p(7770),ye=p(5971),ze=p(5084),Ee=p(9679),qe=p(5150),Te=p(9536),nt=p(2976),at=p(4128),wt=p(9646),lt=p(590),mt=p(9470),pt=p(9848),Yt=p(529),un=p(6349),Nt=(()=>{return(ge=Nt||(Nt={})).Client="Client",ge.WsFed="WsFed",ge.Saml="Saml",Nt;var ge})(),Mt=p(8176),Y=p(160),Q=p(1339),ce=p(1481),We=p(7185),Je=p(3570),Oe=p(7047),i=p(6478),we=p(7073),$e=p(2294),Ye=p(9658),Xe=p(1216);let Fe=(()=>{class ge{}return ge.Default="clientId",ge.Saml="entityId",ge.WsFed="realm",ge})();var Tt=p(7608),vt=p(799),Ge=p(8853);const de=["cloneClientModal"],ee=["addClaimTypeModal"];function U(ge,st){if(1&ge&&(a.TgZ(0,"div",25)(1,"div"),a._uU(2),a.qZA()()),2&ge){const ue=a.oxw();a.xp6(2),a.Oqu(ue.errorCode)}}function te(ge,st){if(1&ge&&(a.TgZ(0,"app-form-row",16)(1,"app-form-toggle",26),a._UZ(2,"input",27),a.qZA()()),2&ge){const ue=a.oxw();a.Q6J("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",ue.clientType!==ue.clientTypes.Saml),a.xp6(1),a.Q6J("id","cloneSecrets")}}function Re(ge,st){1&ge&&(a.TgZ(0,"app-form-row",16)(1,"app-form-toggle",26),a._UZ(2,"input",28),a.qZA()()),2&ge&&(a.Q6J("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),a.xp6(1),a.Q6J("id","cloneSecrets"))}const ot=function(){return{backdrop:"static",keyboard:"false"}};let ut=(()=>{class ge{constructor(ue,Ue,Zt,ln,Vn){this.clientsService=ue,this.fb=Ue,this.localize=Zt,this.router=ln,this.translate=Vn,this.clientTypeKey=Fe.Default,this.clientTypes=pt.B,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",e.kI.required],clientName:["",e.kI.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=Fe.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=Fe.WsFed)}cloneClient(){const ue=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,ue).subscribe(Ue=>{const Zt=Ue.headers.get("location");if(Zt){this.clearForm();const ln=Zt.lastIndexOf("/"),Vn=Zt.substring(ln+1),Di=[this.localize.translateRoute("/clients"),Vn];this.router.navigate(Di)}},Ue=>{this.errorCode=this.translate.instant(400===Ue.status?`Errors.CloneClientError.${Ue.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const ue=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,Mt.qs)(),clientName:ue,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.cloneClientModal.hide(),this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,Mt.qs)()})}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(k.a),a.Y36(e.QS),a.Y36(T.An),a.Y36(m.F0),a.Y36(le.sK))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-clone-client"]],viewQuery:function(ue,Ue){if(1&ue&&(a.Gf(de,7),a.Gf(ee,7)),2&ue){let Zt;a.iGM(Zt=a.CRH())&&(Ue.cloneClientModal=Zt.first),a.iGM(Zt=a.CRH())&&(Ue.addClaimTypeModal=Zt.first)}},inputs:{client:"client",clientType:"clientType"},decls:38,vars:31,consts:[["bsModal","","id","cloneClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["cloneClientModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","confirmCloneBtn",1,"tw-btn-success",3,"disabled","click"],["id","closeCloneModal",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.TgZ(8,"button",6),a.NdJ("click",function(){return Ue.clearForm()}),a._UZ(9,"span",7),a.TgZ(10,"span",8),a._uU(11),a.ALo(12,"translate"),a.qZA()()(),a.TgZ(13,"div",9),a.YNc(14,U,3,1,"div",10),a.TgZ(15,"app-form-row",11),a.ALo(16,"keyToString"),a.TgZ(17,"div",12),a._UZ(18,"input",13),a.TgZ(19,"button",14),a.NdJ("click",function(){return Ue.setRandomID()}),a._UZ(20,"span",15),a.TgZ(21,"span",8),a._uU(22),a.ALo(23,"translate"),a.qZA()()()(),a.TgZ(24,"app-form-row",16),a._UZ(25,"input",17),a.qZA(),a.YNc(26,te,3,5,"app-form-row",18),a.YNc(27,Re,3,5,"app-form-row",18),a.qZA(),a._UZ(28,"div",19),a.TgZ(29,"div",20)(30,"div",21)(31,"div",22)(32,"button",23),a.NdJ("click",function(){return Ue.cloneClient()}),a._uU(33),a.ALo(34,"translate"),a.qZA()(),a.TgZ(35,"button",24),a.NdJ("click",function(){return Ue.clearForm()}),a._uU(36),a.ALo(37,"translate"),a.qZA()()()()()()),2&ue&&(a.Q6J("config",a.DdM(30,ot)),a.xp6(6),a.Oqu(a.lcZ(7,18,"Clients.Clone.Title")),a.xp6(5),a.Oqu(a.lcZ(12,20,"Common.Close")),a.xp6(2),a.Q6J("formGroup",Ue.newClientForm),a.xp6(1),a.Q6J("ngIf",""!=Ue.errorCode),a.xp6(1),a.Q6J("id","cloneClientId")("label",a.lcZ(16,22,Ue.clientTypeKey))("help","Clients.IDHelp"),a.xp6(7),a.Oqu(a.lcZ(23,24,"Common.GenerateRandom")),a.xp6(2),a.Q6J("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===Ue.client.clientSecrets.length&&Ue.clientType!==Ue.clientTypes.Saml),a.xp6(2),a.Q6J("ngIf",0!==Ue.client.clientSecrets.length),a.xp6(1),a.Q6J("ngIf",Ue.clientType===Ue.clientTypes.Saml),a.xp6(5),a.Q6J("disabled",!Ue.newClientForm.valid),a.xp6(1),a.hij(" ",a.lcZ(34,26,"Common.Save")," "),a.xp6(3),a.Oqu(a.lcZ(37,28,"Common.Cancel")))},dependencies:[t.O5,e.Fj,e.Wl,e.JJ,e.JL,e.sg,e.u,Tt.L,vt.O,C.oB,le.X$,Ge.r],encapsulation:2}),ge})();function Dt(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Nav.Saml")("tabValue","saml")}function Qt(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function mn(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function nn(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Common.Secrets")("tabValue","secrets")}function _n(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Common.CIBA")("tabValue","ciba")}const sn=function(ge,st){return{title:ge,link:st}},gt=function(ge){return[ge]},dn=function(){return{backdrop:"static",keyboard:"false"}};let It=(()=>{class ge{constructor(ue,Ue,Zt,ln,Vn,Di,ts,Jr,vo,ko,xs,yo,Xs,uo,Vs){this.clientsService=ue,this.clientCachingService=Ue,this.relyingPartyCachingService=Zt,this.serviceProviderCachingService=ln,this.samlClientService=Vn,this.wsFedClientService=Di,this.clientViewService=ts,this.titleService=Jr,this.translate=vo,this.errorService=ko,this.router=xs,this.toastr=yo,this.localize=Xs,this.dialogService=uo,this.licenseService=Vs}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(ue=>{this.client=ue;const Ue=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+nt.de.SITE_TITLE;this.titleService.setTitle(Ue),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe(ue=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe(ue=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,lt.P)()).subscribe({next:ue=>{this.licenseInfo=ue}})}checkSubmitEnabled(){const ue=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===ue.length||ue.some(Ue=>!Ue.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient(ue){this.clientsService.deleteClient(ue).subscribe(Ue=>{const Zt=this.localize.translateRoute("/clients");this.router.navigate([Zt]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},Ue=>{const Zt={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(Ue,Zt)&Y.s.Toast)!==Y.s.Toast&&this.toastr.error(Zt.toastBody,Zt.toastTitle)})}saveClient(){const ue=this.buildStreamArray();(0,at.D)(ue).subscribe(Ue=>{Ue.some(ln=>ln instanceof Yt.UA)?this.handleError(Ue):this.handleSave(Ue),this.checkSubmitEnabled()},Ue=>{this.errorService.handleError(Ue)})}buildStreamArray(){const ue=[];return this.clientCachingService.componentDirtyValidMap.size>0&&ue.push(this.clientsService.updateClient(this.client).pipe((0,_.U)(()=>Nt.Client),(0,R.K)(Ue=>(0,wt.of)(Ue)))),this.client.clientType===pt.B.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,lt.P)()).subscribe(Ue=>{const Zt=JSON.parse(JSON.stringify(Ue));Zt.claimMappings=(0,Mt.GA)(Ue.claimMappings),ue.push(this.wsFedClientService.updateRelyingParty(this.client.id,Zt).pipe((0,_.U)(()=>Nt.WsFed),(0,R.K)(ln=>(0,wt.of)(ln))))}):this.client.clientType===pt.B.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,lt.P)()).subscribe(Ue=>{const Zt=JSON.parse(JSON.stringify(Ue));Zt.claimMappings=(0,Mt.GA)(Ue.claimMappings),ue.push(this.samlClientService.updateServiceProvider(this.client.id,Zt).pipe((0,_.U)(()=>Nt.Saml),(0,R.K)(ln=>(0,wt.of)(ln))))}),ue}handleSave(ue){ue.forEach(Ue=>{switch(Ue){case Nt.WsFed:this.relyingPartyCachingService.onSave();break;case Nt.Saml:this.serviceProviderCachingService.onClientSave();break;case Nt.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError(ue){const Ue=ue.filter(Zt=>Zt instanceof Yt.UA);Ue.length===ue.length?this.errorService.handleError(Ue[0]):400===Ue[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(un.e5(ue,Ue))):this.errorService.handleError(Ue[0])}canDeactivate(){return!(this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(ue=>{ue&&(this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear())}),this.dialogService.eventStream)}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(k.a),a.Y36(L.Z),a.Y36(qe.N),a.Y36(Te.S),a.Y36(Q.G),a.Y36(q.K),a.Y36(mt.a),a.Y36(ce.Dx),a.Y36(le.sK),a.Y36(Z.T),a.Y36(m.F0),a.Y36(We._W),a.Y36(T.An),a.Y36(Je.x),a.Y36(Oe.E))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-edit-client"]],features:[a._Bn([mt.a])],decls:63,vars:61,consts:[[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"disabled","click"],["right",""],["type","button","data-toggle","modal","data-target","#deleteClientModal",1,"tw-btn-danger","tw-mb-3"],[3,"client","clientType"],["cloneClientModal",""],["bsModal","","id","deleteClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(ue,Ue){if(1&ue){const Zt=a.EpF();a.TgZ(0,"app-title-bar",0),a.ALo(1,"translate"),a.ALo(2,"localize"),a.ynx(3,1),a.TgZ(4,"app-custom-tabs"),a._UZ(5,"app-custom-tab",2),a.YNc(6,Dt,1,2,"app-custom-tab",3),a.YNc(7,Qt,1,2,"app-custom-tab",3),a.YNc(8,mn,1,2,"app-custom-tab",3),a.YNc(9,nn,1,2,"app-custom-tab",3),a._UZ(10,"app-custom-tab",2),a.YNc(11,_n,1,2,"app-custom-tab",3),a._UZ(12,"app-custom-tab",2)(13,"app-custom-tab",4),a.qZA(),a.BQk(),a.qZA(),a.TgZ(14,"div",5),a._UZ(15,"router-outlet"),a.qZA(),a.TgZ(16,"app-button-bar")(17,"button",6),a.NdJ("click",function(){return Ue.saveClient()}),a.TgZ(18,"span"),a._uU(19),a.ALo(20,"translate"),a.qZA()(),a.TgZ(21,"button",7),a.NdJ("click",function(){a.CHM(Zt);const Vn=a.MAs(30);return a.KtG(Vn.show())}),a.TgZ(22,"span"),a._uU(23),a.ALo(24,"translate"),a.qZA()(),a.ynx(25,8),a.TgZ(26,"button",9),a._uU(27),a.ALo(28,"translate"),a.qZA(),a.BQk(),a.qZA(),a._UZ(29,"app-clone-client",10,11),a.TgZ(31,"div",12)(32,"div",13)(33,"div",14)(34,"div",15)(35,"h5",16),a._uU(36),a.ALo(37,"translate"),a.qZA(),a.TgZ(38,"button",17),a._UZ(39,"span",18),a.TgZ(40,"span",19),a._uU(41),a.ALo(42,"translate"),a.qZA()()(),a.TgZ(43,"div",20)(44,"p",21),a._uU(45),a.ALo(46,"translate"),a.TgZ(47,"strong"),a._uU(48),a.qZA(),a._uU(49,"?"),a.qZA(),a._UZ(50,"p",22),a.ALo(51,"translate"),a.qZA(),a._UZ(52,"div",23),a.TgZ(53,"div",24)(54,"div",25)(55,"div",26)(56,"button",27),a.NdJ("click",function(){return Ue.deleteClient(Ue.client.id)}),a._uU(57),a.ALo(58,"translate"),a.qZA()(),a.TgZ(59,"button",28),a._uU(60),a.ALo(61,"translate"),a.qZA()()()()()(),a._UZ(62,"app-can-deactivate")}if(2&ue){let Zt;a.Q6J("title",Ue.client.clientName)("crumbs",a.VKq(58,gt,a.WLB(55,sn,a.lcZ(1,33,"Nav.Clients"),a.lcZ(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0),a.xp6(5),a.Q6J("tabTitle","Nav.Details")("tabValue","details"),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.saml.display),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.wsFed.display),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.applicationUrls.display),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.secrets.display),a.xp6(1),a.Q6J("tabTitle","Nav.Resources")("tabValue","resources"),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.ciba.display),a.xp6(1),a.Q6J("tabTitle","Common.Advanced")("tabValue","advanced"),a.xp6(1),a.Q6J("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Zt=null==Ue.licenseInfo?null:Ue.licenseInfo.isStarterLicense())&&void 0!==Zt&&Zt),a.xp6(4),a.Q6J("disabled",Ue.submitDisabled),a.xp6(2),a.Oqu(a.lcZ(20,37,"Common.SaveAll")),a.xp6(2),a.Q6J("disabled",Ue.isCloneDisabled()),a.xp6(2),a.Oqu(a.lcZ(24,39,"Clients.Clone.Label")),a.xp6(4),a.Oqu(a.lcZ(28,41,"Common.Delete.Title")),a.xp6(2),a.Q6J("client",Ue.client)("clientType",Ue.client.clientType),a.xp6(2),a.Q6J("config",a.DdM(60,dn)),a.xp6(5),a.Oqu(a.lcZ(37,43,"Common.Delete.Confirm")),a.xp6(5),a.Oqu(a.lcZ(42,45,"Common.Close")),a.xp6(4),a.hij("",a.lcZ(46,47,"Common.Delete.AreYouSureSimple")," "),a.xp6(3),a.Oqu(Ue.client.clientName),a.xp6(2),a.Q6J("innerHTML",a.lcZ(51,49,"Common.Delete.Warning"),a.oJD),a.xp6(7),a.hij(" ",a.lcZ(58,51,"Common.Delete.Title")," "),a.xp6(3),a.Oqu(a.lcZ(61,53,"Common.Delete.No"))}},dependencies:[m.lC,t.O5,i.v,we.x,$e.G,Ye.J,Xe.N,C.oB,ut,le.X$,T.lO],encapsulation:2}),ge})();var fn=p(7579),An=p(3635),kn=p(8675),Gn=p(5577),ti=p(1005);class ii{constructor(st){this.id=st.id,this.clientId=st.clientId,this.clientName=st.clientName,this.description=st.description,this.enabled=st.enabled,this.selected=!1,this.nonEditable=st.nonEditable,this.clientType=st.clientType}}var Qn=p(9046),Nn=p(5712),bt=p(6887);class _t{}_t.RestrictedClientTypes=[pt.B.ServerSide,pt.B.ServerSidePKCE,pt.B.Native,pt.B.NativePKCE,pt.B.Device,pt.B.Saml,pt.B.WsFed,pt.B.LegacyClientSide];var Ot=p(1060),Ze=p(7696),Ke=p(8163),it=p(5925),yt=p(826),Jt=p(7892),on=p(9326),Bt=p(1330);class Mn{constructor(st){this.clientType=st}}class Jn{constructor(st){this.clientType=st}}let _i=(()=>{class ge{constructor(ue){this.fb=ue}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",e.kI.required]})}getStepSummary(){const ue=new Map;return ue.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===pt.B.BrowserBased||this.data.clientType===pt.B.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,Mt.RW)(this.callbackUrlForm.get("callbackUrl").value),ue.set("corsurl",[this.corsUrl])),ue}getStepDTO(){const ue=this.getStepSummary(),Ue={};return ue.forEach((Zt,ln)=>{"corsurl"===ln&&(ln="allowedCorsOrigins"),"callbackUrl"===ln&&(ln="redirectUris"),Ue[ln]=Zt}),Ue}canNext(){return this.callbackUrlForm.valid}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(e.QS))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-callback-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0),a._UZ(1,"p",1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"form",2)(4,"app-form-row",3),a._UZ(5,"input",4),a.qZA()()),2&ue&&(a.xp6(1),a.Q6J("innerHTML",a.lcZ(2,6,"Clients.CallbackURL"),a.oJD),a.xp6(2),a.Q6J("formGroup",Ue.callbackUrlForm),a.xp6(1),a.Q6J("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,Tt.L,le.X$],encapsulation:2}),ge})();class Cn{constructor(st,ue=Fe.Default){this.clientType=st,this.clientIdKey=ue}}function Zn(ge,st){1&ge&&(a.TgZ(0,"div")(1,"app-form-row",2),a._UZ(2,"input",13),a.qZA(),a.TgZ(3,"app-form-row",2),a._UZ(4,"input",14),a.qZA()()),2&ge&&(a.xp6(1),a.Q6J("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),a.xp6(2),a.Q6J("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function di(ge,st){1&ge&&(a.TgZ(0,"app-form-row",10)(1,"app-form-toggle",15),a._UZ(2,"input",16),a.qZA()()),2&ge&&(a.Q6J("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),a.xp6(1),a.Q6J("id","requireConsent"))}let Un=(()=>{class ge{constructor(ue){this.fb=ue,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[e.kI.required,e.kI.maxLength(100)]],clientName:["",[e.kI.required,e.kI.maxLength(50)]],description:["",e.kI.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===pt.B.Native||this.data.clientType===pt.B.NativePKCE||this.data.clientType===pt.B.BrowserBased||this.data.clientType===pt.B.LegacyClientSide||this.data.clientType===pt.B.ServerSide||this.data.clientType===pt.B.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new e.p4("",e.kI.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new e.p4("",e.kI.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new e.p4(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,Mt.qs)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const ue=new Map;for(const Ue in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(Ue)&&ue.set("clientId"===Ue?this.clientIdKey:Ue,[this.descriptionForm.value[Ue]]);return ue.delete("clientType"),ue}getStepDTO(){const ue=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&(ue.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&(ue.logoUri=null)),ue}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(e.QS))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["ng-component"]],inputs:{data:"data"},decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0)(1,"p"),a._uU(2),a.ALo(3,"translate"),a.qZA()(),a.TgZ(4,"div",1)(5,"app-form-row",2),a.ALo(6,"keyToString"),a.TgZ(7,"div",3),a._UZ(8,"input",4),a.TgZ(9,"button",5),a.NdJ("click",function(){return Ue.setRandomID()}),a._UZ(10,"span",6),a.TgZ(11,"span",7),a._uU(12),a.ALo(13,"translate"),a.qZA()()()(),a.TgZ(14,"app-form-row",2),a._UZ(15,"input",8),a.qZA(),a.YNc(16,Zn,5,6,"div",9),a.TgZ(17,"app-form-row",10)(18,"textarea",11),a.NdJ("blur",function(){return Ue.desFocus=!Ue.desFocus})("focus",function(){return Ue.desFocus=!Ue.desFocus}),a.qZA()(),a.YNc(19,di,3,5,"app-form-row",12),a.qZA()),2&ue&&(a.xp6(2),a.Oqu(a.lcZ(3,15,"Clients.EnterBasicDetails")),a.xp6(2),a.Q6J("formGroup",Ue.descriptionForm),a.xp6(1),a.Q6J("id","ClientId")("label",a.lcZ(6,17,Ue.clientIdKey))("help","Clients.IDHelp"),a.xp6(7),a.Oqu(a.lcZ(13,19,"Common.GenerateRandom")),a.xp6(2),a.Q6J("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),a.xp6(2),a.Q6J("ngIf",Ue.hasExtraFields),a.xp6(1),a.Q6J("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!Ue.hasExtraFields),a.xp6(2),a.Q6J("ngIf",Ue.hasExtraFields))},dependencies:[t.O5,e.Fj,e.Wl,e.JJ,e.JL,e.sg,e.u,Tt.L,vt.O,le.X$,Ge.r],encapsulation:2}),ge})();var Ui=p(6055),bi=p(1660);const pi=["secretPicker"];let ci=(()=>{class ge{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const ue=new Map;return ue.set("secrets",this.secrets.map(Ue=>Ue.type)),ue}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe(ue=>{this.secretPicker.clientSecrets.push(ue)}),this.secretPicker.secretsRemoveStream.subscribe(ue=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(ue),1)})}filePickerStateChanged(ue){this.filePickerClosed=!ue}}return ge.\u0275fac=function(ue){return new(ue||ge)},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-client-secret-picker"]],viewQuery:function(ue,Ue){if(1&ue&&a.Gf(pi,7),2&ue){let Zt;a.iGM(Zt=a.CRH())&&(Ue.secretPicker=Zt.first)}},decls:5,vars:6,consts:[[1,"tw-mb-4"],[3,"clientSecrets","nonModelCertPicker","showCreatedColumn","filepickerDisplayed"],["secretPicker",""]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"p",0),a._uU(1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"app-secret-picker",1,2),a.NdJ("filepickerDisplayed",function(ln){return Ue.filePickerStateChanged(ln)}),a.qZA()),2&ue&&(a.xp6(1),a.Oqu(a.lcZ(2,4,"Clients.NativeApp.Secrets")),a.xp6(2),a.Q6J("clientSecrets",Ue.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[bi.P,le.X$],encapsulation:2,data:{animation:[(0,Ui.Ic)()]}}),ge})();function Fi(ge,st){1&ge&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.SloEndpoints")))}function Wt(ge,st){1&ge&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.AcsEndpoints")))}function Pn(ge,st){1&ge&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.ArsEndpoints")))}function kt(ge,st){1&ge&&(a.TgZ(0,"option",13),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Post")))}function zt(ge,st){1&ge&&(a.TgZ(0,"option",14),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Redirect")))}function Sn(ge,st){1&ge&&(a.TgZ(0,"option",15),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Artifact")))}function Ln(ge,st){1&ge&&(a.TgZ(0,"option",16),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Soap")))}let zn=(()=>{class ge{constructor(ue){this.fb=ue}hosted(){}ngOnInit(){const ue=[e.kI.pattern("^https?://.*$")],Ue=[];"ACSEndpoint"===this.data.endpointType&&(ue.push(e.kI.required),Ue.push(e.kI.required)),this.endpointForm=this.fb.group({location:["",ue],index:[0,[e.kI.min(0),e.kI.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",Ue]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const ue=this.endpointForm.get("location"),Ue=this.endpointForm.get("binding");this.valueChangesSub=ue.valueChanges.subscribe(Zt=>{Ue.setValidators(Zt.length>0?e.kI.required:null),Ue.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let ue,Ue;switch(this.data.endpointType){case"SLOEndpoint":ue="SLOBindingType",Ue="SLOEndpointIndex";break;case"ACSEndpoint":ue="ACSBindingType",Ue="ACSEndpointIndex";break;default:ue="ARSBindingType",Ue="ARSEndpointIndex"}const Zt=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[ue]:this.endpointForm.get("binding").value,[Ue]:Zt}}}canNext(){return this.endpointForm.valid}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(e.QS))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-endpoints"]],decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0),a.YNc(1,Fi,3,3,"p",1),a.YNc(2,Wt,3,3,"p",1),a.YNc(3,Pn,3,3,"p",1),a.qZA(),a.TgZ(4,"form",2)(5,"app-form-row",3),a._UZ(6,"input",4),a.qZA(),a.TgZ(7,"app-form-row",3)(8,"div",5)(9,"select",6),a.YNc(10,kt,3,3,"option",7),a.YNc(11,zt,3,3,"option",8),a.YNc(12,Sn,3,3,"option",9),a.YNc(13,Ln,3,3,"option",10),a.qZA()()(),a.TgZ(14,"app-form-row",11),a._UZ(15,"input",12),a.qZA()()),2&ue&&(a.xp6(1),a.Q6J("ngIf","SLOEndpoint"==Ue.data.endpointType),a.xp6(1),a.Q6J("ngIf","ACSEndpoint"==Ue.data.endpointType),a.xp6(1),a.Q6J("ngIf","ARSEndpoint"==Ue.data.endpointType),a.xp6(1),a.Q6J("formGroup",Ue.endpointForm),a.xp6(1),a.Q6J("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==Ue.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==Ue.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),a.xp6(2),a.Q6J("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),a.xp6(3),a.Q6J("ngIf","ARSEndpoint"!=Ue.data.endpointType),a.xp6(1),a.Q6J("ngIf","ARSEndpoint"!=Ue.data.endpointType),a.xp6(1),a.Q6J("ngIf","ARSEndpoint"!=Ue.data.endpointType),a.xp6(1),a.Q6J("ngIf","ARSEndpoint"==Ue.data.endpointType),a.xp6(1),a.Q6J("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[t.O5,e._Y,e.YN,e.Kr,e.Fj,e.wV,e.EJ,e.JJ,e.JL,e.qQ,e.sg,e.u,Tt.L,le.X$],encapsulation:2}),ge})(),et=(()=>{class ge{constructor(ue){this.fb=ue}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",e.kI.pattern("^https?://.*$")]})}getStepSummary(){const ue="logoutUrl",Ue=new Map,Zt=this.logoutUrlForm.value[ue];return(0,Mt.hr)(Zt)||Ue.set(ue,[Zt]),Ue}getStepDTO(){const ue=this.logoutUrlForm.value.logoutUrl;return(0,Mt.hr)(ue)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[ue]}}canNext(){return this.logoutUrlForm.valid}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(e.QS))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-logout-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0),a._UZ(1,"p",1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"form",2)(4,"app-form-row",3),a._UZ(5,"input",4),a.qZA()()),2&ue&&(a.xp6(1),a.Q6J("innerHTML",a.lcZ(2,6,"Clients.PostLogoutURL"),a.oJD),a.xp6(2),a.Q6J("formGroup",Ue.logoutUrlForm),a.xp6(1),a.Q6J("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,Tt.L,le.X$],encapsulation:2}),ge})(),ft=(()=>{class ge{constructor(ue){this.fb=ue}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",e.kI.required],pollingInterval:["",e.kI.required]})}getStepSummary(){const ue=new Map;return ue.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),ue.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===pt.B.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,ue.set("cibaLifetime",[this.cibaLifetime.toString()]),ue.set("pollingInterval",[this.pollingInterval.toString()])),ue}getStepDTO(){const ue=this.getStepSummary(),Ue={};return ue.forEach((Zt,ln)=>{"cibaLifetime"===ln&&(ln="cibaLifetime"),"pollingInterval"===ln&&(ln="pollingInterval"),Ue[ln]=Zt[0]}),Ue}canNext(){return this.cibaConfigForm.valid}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(e.QS))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0),a._UZ(1,"p",1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"form",2)(4,"app-form-row",3),a._UZ(5,"input",4),a.qZA(),a.TgZ(6,"app-form-row",5),a._UZ(7,"input",6),a.qZA()()),2&ue&&(a.xp6(1),a.Q6J("innerHTML",a.lcZ(2,9,"Clients.CIBAConfiguration"),a.oJD),a.xp6(2),a.Q6J("formGroup",Ue.cibaConfigForm),a.xp6(1),a.Q6J("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),a.xp6(2),a.Q6J("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[e._Y,e.Fj,e.wV,e.JJ,e.JL,e.sg,e.u,Tt.L,le.X$],encapsulation:2}),ge})();const Lt=["commonPicker"];let pn=(()=>{class ge{constructor(ue,Ue){this.wizardResourceService=Ue,this.resourceType=ue}hosted(){}ngOnInit(){}getStepSummary(){const Ue=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(Zt=>Zt.name);return new Map([[this.resourceType,Ue]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(Zt=>Zt.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}}return ge.\u0275fac=function(ue){a.$Z()},ge.\u0275dir=a.lG2({type:ge,viewQuery:function(ue,Ue){if(1&ue&&a.Gf(Lt,7),2&ue){let Zt;a.iGM(Zt=a.CRH())&&(Ue.commonPicker=Zt.first)}}}),ge})();var hn=p(8506),In=p(7305),Rn=p(8098);function xi(ge,st){1&ge&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.ProtectedResourcesAccess")))}function fi(ge,st){1&ge&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.IdentityResourcesAccess")))}let qn=(()=>{class ge extends pn{constructor(ue,Ue){super("identityResources",Ue),this.identityResourceService=ue,this.wizardResourceService=Ue,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe(ue=>{const Ue=ue.find(Zt=>"openid"===Zt.name);Ue&&(ue.splice(ue.indexOf(Ue),1),this.assignedResources=[Ue],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=ue})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(ue=>{this.resources=(0,Mt.mn)(this.resources.slice(),ue);const Ue=this.assignedResources.slice();this.assignedResources=Ue.concat(ue),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(ue=>{const Ue=this.resources;this.assignedResources=(0,Mt.mn)(this.assignedResources.slice(),ue),this.resources=Ue.concat(ue),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.assignedCount=0})}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(hn.Q),a.Y36(In.j))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["ng-component"]],features:[a.qOj],decls:5,vars:4,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"],["commonPicker",""]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0),a.YNc(1,xi,3,3,"p",1),a.YNc(2,fi,3,3,"p",1),a.qZA(),a._UZ(3,"app-common-picker",2,3)),2&ue&&(a.xp6(1),a.Q6J("ngIf","protectedResources"==Ue.resourceType),a.xp6(1),a.Q6J("ngIf","identityResources"==Ue.resourceType),a.xp6(1),a.Q6J("assignedInput",Ue.assignedResources)("availableInput",Ue.resources))},dependencies:[t.O5,Rn.v,le.X$],encapsulation:2}),ge})();var or=p(7733);function Yi(ge,st){1&ge&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.ProtectedResourcesAccess")))}function hr(ge,st){1&ge&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.IdentityResourcesAccess")))}let Ei=(()=>{class ge extends pn{constructor(ue,Ue){super("protectedResources",Ue),this.protectedResourceService=ue,this.wizardResourceService=Ue,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe(ue=>{const Ue=[];ue.forEach(Zt=>{Zt.scopes.forEach(ln=>{Ue.find(Vn=>Vn.name==ln.name)||Ue.push(ln)})}),this.resources=Ue})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(ue=>{this.resources=(0,Mt.mn)(this.resources.slice(),ue);const Ue=this.assignedResources.slice();this.assignedResources=Ue.concat(ue),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(ue=>{const Ue=this.resources;this.assignedResources=(0,Mt.mn)(this.assignedResources.slice(),ue),this.resources=Ue.concat(ue),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.assignedCount=0})}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(or.m),a.Y36(In.j))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["ng-component"]],features:[a.qOj],decls:5,vars:4,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"],["commonPicker",""]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0),a.YNc(1,Yi,3,3,"p",1),a.YNc(2,hr,3,3,"p",1),a.qZA(),a._UZ(3,"app-common-picker",2,3)),2&ue&&(a.xp6(1),a.Q6J("ngIf","protectedResources"==Ue.resourceType),a.xp6(1),a.Q6J("ngIf","identityResources"==Ue.resourceType),a.xp6(1),a.Q6J("assignedInput",Ue.assignedResources)("availableInput",Ue.resources))},dependencies:[t.O5,Rn.v,le.X$],encapsulation:2}),ge})();class gr extends Jt.A{constructor(){super(),this.nameComponentMap.set(Bt.Q.SinglePageApplication,[new yt.H(Un,new Cn(pt.B.BrowserBased)),new yt.H(_i,new Jn(pt.B.BrowserBased)),new yt.H(et,new Mn(pt.B.BrowserBased)),new yt.H(qn,{}),new yt.H(Ei,{})]),this.nameComponentMap.set(Bt.Q.LegacySinglePageApplication,[new yt.H(Un,new Cn(pt.B.LegacyClientSide)),new yt.H(_i,new Jn(pt.B.LegacyClientSide)),new yt.H(et,new Mn(pt.B.LegacyClientSide)),new yt.H(qn,{}),new yt.H(Ei,{})]),this.nameComponentMap.set(Bt.Q.SamlApplication,[new yt.H(Un,new Cn(pt.B.Saml,Fe.Saml)),new yt.H(zn,{endpointType:"ACSEndpoint"}),new yt.H(zn,{endpointType:"SLOEndpoint"}),new yt.H(zn,{endpointType:"ARSEndpoint"}),new yt.H(qn)]),this.nameComponentMap.set(Bt.Q.WsFedApplication,[new yt.H(Un,new Cn(pt.B.WsFed,Fe.WsFed)),new yt.H(_i,new Jn(pt.B.WsFed)),new yt.H(qn)]),this.nameComponentMap.set(Bt.Q.DeviceApplication,[new yt.H(Un,new Cn(pt.B.Device)),new yt.H(Ei,{}),new yt.H(qn,{})]),this.nameComponentMap.set(Bt.Q.RobotApplication,[new yt.H(Un,new Cn(pt.B.Machine)),new yt.H(Ei,{}),new yt.H(ci,{})]),this.nameComponentMap.set(Bt.Q.CIBARobotApplication,[new yt.H(Un,new Cn(pt.B.CIBAMachine)),new yt.H(qn,{}),new yt.H(Ei,{}),new yt.H(ci,{}),new yt.H(ft,{})]),this.nameComponentMap.set(Bt.Q.NativeApplication,[new yt.H(Un,new Cn(pt.B.Native)),new yt.H(_i,new Jn(pt.B.Native)),new yt.H(ci,{}),new yt.H(qn,{}),new yt.H(Ei,{})]),this.nameComponentMap.set(Bt.Q.PKCENativeApplication,[new yt.H(Un,new Cn(pt.B.NativePKCE)),new yt.H(_i,new Jn(pt.B.NativePKCE)),new yt.H(ci,{}),new yt.H(qn,{}),new yt.H(Ei,{})]),this.nameComponentMap.set(Bt.Q.WebApplication,[new yt.H(Un,new Cn(pt.B.ServerSide)),new yt.H(_i,new Jn(pt.B.ServerSide)),new yt.H(et,new Mn(pt.B.ServerSide)),new yt.H(ci,{}),new yt.H(qn,{}),new yt.H(Ei,{})]),this.nameComponentMap.set(Bt.Q.PKCEWebApplication,[new yt.H(Un,new Cn(pt.B.ServerSidePKCE)),new yt.H(_i,new Jn(pt.B.ServerSidePKCE)),new yt.H(et,new Mn(pt.B.ServerSidePKCE)),new yt.H(ci,{}),new yt.H(qn,{}),new yt.H(Ei,{})]),this.nameTitleMap.set(Bt.Q.SinglePageApplication,new on.K("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(Bt.Q.LegacySinglePageApplication,new on.K("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(Bt.Q.DeviceApplication,new on.K("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(Bt.Q.RobotApplication,new on.K("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(Bt.Q.CIBARobotApplication,new on.K("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(Bt.Q.NativeApplication,new on.K("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Bt.Q.PKCENativeApplication,new on.K("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Bt.Q.WebApplication,new on.K("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(Bt.Q.PKCEWebApplication,new on.K("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(Bt.Q.SamlApplication,new on.K("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(Bt.Q.WsFedApplication,new on.K("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(st){return this.nameComponentMap.get(st)}getWizardTitle(st){return this.nameTitleMap.get(st)}}var Mi=p(9141),Hi=p(1503),Nr=p(5221);function cs(ge,st){}function is(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"button",17),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.nextTab())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}if(2&ge){const ue=a.oxw();a.Q6J("disabled",!ue.canNext()),a.xp6(1),a.Oqu(a.lcZ(2,2,"Common.Next"))}}function us(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"button",18),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.submit())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.Save")))}function qr(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"button",19),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.previousTab())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.Back")))}function _r(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"button",19),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.cancelWizard())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.Back")))}let rs=(()=>{class ge extends Mi.G{constructor(ue,Ue,Zt,ln){super(),this.clientsService=ue,this.errorService=Ue,this.toastr=Zt,this.translate=ln,this.wizardProvider=new gr,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const ue=[];this.wizardSteps.forEach((Ue,Zt)=>{const Vn=this.components.get(Zt).instance.getStepSummary();null!=Vn&&ue.push({stepName:`ClientStep${Zt}`,stepData:Vn})}),this.displaySummaryComponent(ue)}displaySummaryComponent(ue){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(Hi.q)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.instance.summary=ue,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,lt.P)()).subscribe(Ue=>{this.index=ue.findIndex(Zt=>Zt.stepName===Ue),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let ue={};return this.wizardSteps.forEach((Ue,Zt)=>{const Vn=this.components.get(Zt).instance.getStepDTO();ue=Object.assign({},ue,Vn)}),ue}submit(){const ue=this.getWizardDto();this.clientsService.addClient(ue).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+ue.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:Ue=>{this.errorService.handleError(Ue)}})}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(k.a),a.Y36(Z.T),a.Y36(We._W),a.Y36(le.sK))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-client-wizard-host"]],features:[a._Bn([k.a]),a.qOj],decls:24,vars:17,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0)(1,"h5",1),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return Ue.hideWizard()}),a._UZ(5,"span",3),a.TgZ(6,"span",4),a._uU(7),a.ALo(8,"translate"),a.qZA()()(),a.TgZ(9,"div",5),a._UZ(10,"div",6),a.qZA(),a.TgZ(11,"div",7),a.YNc(12,cs,0,0,"ng-template",8),a.qZA(),a._UZ(13,"div",9),a.TgZ(14,"div",10)(15,"div",11)(16,"div",12),a.YNc(17,is,3,4,"button",13),a.YNc(18,us,3,3,"button",14),a.YNc(19,qr,3,3,"button",15),a.YNc(20,_r,3,3,"button",15),a.qZA(),a.TgZ(21,"button",16),a.NdJ("click",function(){return Ue.cancelWizard()}),a._uU(22),a.ALo(23,"translate"),a.qZA()()()),2&ue&&(a.xp6(1),a.Q6J("id",Ue.titleId),a.xp6(1),a.Oqu(a.lcZ(3,11,Ue.wizardTitles.setupTitle)),a.xp6(5),a.Oqu(a.lcZ(8,13,"Common.Close")),a.xp6(3),a.Udp("width",Ue.progressPercent+"%"),a.uIk("aria-valuenow",Ue.progressPercent),a.xp6(7),a.Q6J("ngIf",Ue.index<(null==Ue.wizardSteps?null:Ue.wizardSteps.length)),a.xp6(1),a.Q6J("ngIf",Ue.index==(null==Ue.wizardSteps?null:Ue.wizardSteps.length)),a.xp6(1),a.Q6J("ngIf",Ue.index>0),a.xp6(1),a.Q6J("ngIf",Ue.index<=0),a.xp6(2),a.Oqu(a.lcZ(23,15,"Common.Cancel")))},dependencies:[t.O5,Nr.S,le.X$],encapsulation:2}),ge})();function Rs(ge,st){1&ge&&a.GkF(0)}function Cs(ge,st){1&ge&&a.GkF(0)}function Sr(ge,st){1&ge&&a.GkF(0)}function rr(ge,st){1&ge&&a.GkF(0)}function Ri(ge,st){1&ge&&a.GkF(0)}function ds(ge,st){1&ge&&a.GkF(0)}function Xn(ge,st){1&ge&&a.GkF(0)}function _s(ge,st){1&ge&&a.GkF(0)}const Wn=function(ge,st,ue,Ue){return{id:"spaBtn",btnId:"spaTestBtn",title:ge,summary:st,icon:"fab fa-chrome",selected:ue,type:Ue}},pr=function(ge,st,ue,Ue){return{id:"webAppBtn",btnId:"webAppTestBtn",title:ge,summary:st,icon:"fas fa-globe",selected:ue,type:Ue}},xr=function(ge,st,ue,Ue){return{id:"nativeBtn",btnId:"nativeTestBtn",title:ge,summary:st,icon:"fas fa-mobile-alt",selected:ue,type:Ue}},Yr=function(ge,st,ue,Ue){return{id:"robotBtn",btnId:"robotTestBtn",title:ge,summary:st,icon:"fas fa-microchip",selected:ue,type:Ue}},Zr=function(ge,st,ue,Ue){return{id:"deviceBtn",btnId:"deviceTestBtn",title:ge,summary:st,icon:"fas fa-wifi",selected:ue,type:Ue}},Pr=function(ge,st,ue,Ue){return{id:"samlBtn",btnId:"samlTestBtn",title:ge,summary:st,icon:"fas fa-code",selected:ue,type:Ue}},vr=function(ge,st,ue,Ue){return{id:"wsfedBtn",btnId:"wsfedTestBtn",title:ge,summary:st,icon:"far fa-id-card",selected:ue,type:Ue}},ss=function(ge,st,ue,Ue){return{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:ge,summary:st,icon:"fab fa-chrome",selected:ue,type:Ue}};function sr(ge,st){if(1&ge&&(a.TgZ(0,"div",27)(1,"ul",28),a.YNc(2,Rs,1,0,"ng-container",29),a.ALo(3,"translate"),a.ALo(4,"translate"),a.YNc(5,Cs,1,0,"ng-container",29),a.ALo(6,"translate"),a.ALo(7,"translate"),a.YNc(8,Sr,1,0,"ng-container",29),a.ALo(9,"translate"),a.ALo(10,"translate"),a.YNc(11,rr,1,0,"ng-container",29),a.ALo(12,"translate"),a.ALo(13,"translate"),a.YNc(14,Ri,1,0,"ng-container",29),a.ALo(15,"translate"),a.ALo(16,"translate"),a.YNc(17,ds,1,0,"ng-container",29),a.ALo(18,"translate"),a.ALo(19,"translate"),a.YNc(20,Xn,1,0,"ng-container",29),a.ALo(21,"translate"),a.ALo(22,"translate"),a.YNc(23,_s,1,0,"ng-container",29),a.ALo(24,"translate"),a.ALo(25,"translate"),a.qZA()()),2&ge){a.oxw();const ue=a.MAs(21),Ue=a.oxw();a.xp6(2),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(48,Wn,a.lcZ(3,16,"Clients.SPA.Title"),a.lcZ(4,18,"Clients.SPA.Summary"),Ue.activeType===Ue.wizardTypes.SinglePageApplication,Ue.wizardTypes.SinglePageApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(53,pr,a.lcZ(6,20,"Clients.WebApp.Title"),a.lcZ(7,22,"Clients.WebApp.Summary"),Ue.activeType===Ue.wizardTypes.WebApplication||Ue.activeType===Ue.wizardTypes.PKCEWebApplication,Ue.wizardTypes.PKCEWebApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(58,xr,a.lcZ(9,24,"Clients.NativeApp.Title"),a.lcZ(10,26,"Clients.PKCENativeApp.Summary"),Ue.activeType===Ue.wizardTypes.PKCENativeApplication||Ue.activeType==Ue.wizardTypes.NativeApplication,Ue.wizardTypes.PKCENativeApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(63,Yr,a.lcZ(12,28,"Clients.MachineToMachine.Title"),a.lcZ(13,30,"Clients.MachineToMachine.Summary"),Ue.activeType===Ue.wizardTypes.RobotApplication,Ue.wizardTypes.RobotApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(68,Zr,a.lcZ(15,32,"Clients.DeviceFlow.Title"),a.lcZ(16,34,"Clients.DeviceFlow.Summary"),Ue.activeType===Ue.wizardTypes.DeviceApplication,Ue.wizardTypes.DeviceApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(73,Pr,a.lcZ(18,36,"Clients.Saml.Title"),a.lcZ(19,38,"Clients.Saml.Summary"),Ue.activeType===Ue.wizardTypes.SamlApplication,Ue.wizardTypes.SamlApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(78,vr,a.lcZ(21,40,"Clients.WsFed.Title"),a.lcZ(22,42,"Clients.WsFed.Summary"),Ue.activeType===Ue.wizardTypes.WsFedApplication,Ue.wizardTypes.WsFedApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(83,ss,a.lcZ(24,44,"Clients.LegacySPA.Title"),a.lcZ(25,46,"Clients.LegacySPA.Summary"),Ue.activeType===Ue.wizardTypes.LegacySinglePageApplication,Ue.wizardTypes.LegacySinglePageApplication))}}function yr(ge,st){1&ge&&a.GkF(0)}function os(ge,st){1&ge&&a.GkF(0)}function Cr(ge,st){1&ge&&a.GkF(0)}function Ji(ge,st){1&ge&&a.GkF(0)}function jr(ge,st){1&ge&&a.GkF(0)}function hs(ge,st){1&ge&&a.GkF(0)}function Ds(ge,st){1&ge&&a.GkF(0)}function Rr(ge,st){1&ge&&a.GkF(0)}const bs=function(ge,st,ue,Ue){return{id:"webAppBtn",btnId:"webAppTestBtn",title:ge,summary:st,icon:"fas fa-globe",selected:ue,starterModeProtected:!0,type:Ue}},Vi=function(ge,st,ue,Ue){return{id:"nativeBtn",btnId:"nativeTestBtn",title:ge,summary:st,icon:"fas fa-mobile-alt",selected:ue,starterModeProtected:!0,type:Ue}},ws=function(ge,st,ue,Ue){return{id:"deviceBtn",btnId:"deviceTestBtn",title:ge,summary:st,icon:"fas fa-wifi",selected:ue,starterModeProtected:!0,type:Ue}},no=function(ge,st,ue,Ue){return{id:"samlBtn",btnId:"samlTestBtn",title:ge,summary:st,icon:"fas fa-code",selected:ue,starterModeProtected:!0,type:Ue}},Vr=function(ge,st,ue,Ue){return{id:"wsfedBtn",btnId:"wsfedTestBtn",title:ge,summary:st,icon:"far fa-id-card",selected:ue,starterModeProtected:!0,type:Ue}},Xr=function(ge,st,ue,Ue){return{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:ge,summary:st,icon:"fab fa-chrome",selected:ue,starterModeProtected:!0,type:Ue}};function ks(ge,st){if(1&ge&&(a.TgZ(0,"div",30)(1,"h6",31),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"ul",28),a.YNc(5,yr,1,0,"ng-container",29),a.ALo(6,"translate"),a.ALo(7,"translate"),a.YNc(8,os,1,0,"ng-container",29),a.ALo(9,"translate"),a.ALo(10,"translate"),a.qZA(),a.TgZ(11,"h6",31),a._uU(12),a.ALo(13,"translate"),a.qZA(),a.TgZ(14,"ul",28),a.YNc(15,Cr,1,0,"ng-container",29),a.ALo(16,"translate"),a.ALo(17,"translate"),a.YNc(18,Ji,1,0,"ng-container",29),a.ALo(19,"translate"),a.ALo(20,"translate"),a.YNc(21,jr,1,0,"ng-container",29),a.ALo(22,"translate"),a.ALo(23,"translate"),a.YNc(24,hs,1,0,"ng-container",29),a.ALo(25,"translate"),a.ALo(26,"translate"),a.YNc(27,Ds,1,0,"ng-container",29),a.ALo(28,"translate"),a.ALo(29,"translate"),a.YNc(30,Rr,1,0,"ng-container",29),a.ALo(31,"translate"),a.ALo(32,"translate"),a.qZA()()),2&ge){a.oxw();const ue=a.MAs(21),Ue=a.oxw();a.xp6(2),a.Oqu(a.lcZ(3,18,"StarterMode.Clients.Basic")),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(54,Wn,a.lcZ(6,20,"Clients.SPA.Title"),a.lcZ(7,22,"Clients.SPA.Summary"),Ue.activeType===Ue.wizardTypes.SinglePageApplication,Ue.wizardTypes.SinglePageApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(59,Yr,a.lcZ(9,24,"Clients.MachineToMachine.Title"),a.lcZ(10,26,"Clients.MachineToMachine.Summary"),Ue.activeType===Ue.wizardTypes.RobotApplication,Ue.wizardTypes.RobotApplication)),a.xp6(4),a.Oqu(a.lcZ(13,28,"StarterMode.Clients.Enterprise")),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(64,bs,a.lcZ(16,30,"Clients.WebApp.Title"),a.lcZ(17,32,"Clients.WebApp.Summary"),Ue.activeType===Ue.wizardTypes.WebApplication||Ue.activeType===Ue.wizardTypes.PKCEWebApplication,Ue.wizardTypes.PKCEWebApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(69,Vi,a.lcZ(19,34,"Clients.NativeApp.Title"),a.lcZ(20,36,"Clients.PKCENativeApp.Summary"),Ue.activeType===Ue.wizardTypes.PKCENativeApplication||Ue.activeType==Ue.wizardTypes.NativeApplication,Ue.wizardTypes.PKCENativeApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(74,ws,a.lcZ(22,38,"Clients.DeviceFlow.Title"),a.lcZ(23,40,"Clients.DeviceFlow.Summary"),Ue.activeType===Ue.wizardTypes.DeviceApplication,Ue.wizardTypes.DeviceApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(79,no,a.lcZ(25,42,"Clients.Saml.Title"),a.lcZ(26,44,"Clients.Saml.Summary"),Ue.activeType===Ue.wizardTypes.SamlApplication,Ue.wizardTypes.SamlApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(84,Vr,a.lcZ(28,46,"Clients.WsFed.Title"),a.lcZ(29,48,"Clients.WsFed.Summary"),Ue.activeType===Ue.wizardTypes.WsFedApplication,Ue.wizardTypes.WsFedApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",ue)("ngTemplateOutletContext",a.l5B(89,Xr,a.lcZ(31,50,"Clients.LegacySPA.Title"),a.lcZ(32,52,"Clients.LegacySPA.Summary"),Ue.activeType===Ue.wizardTypes.LegacySinglePageApplication,Ue.wizardTypes.LegacySinglePageApplication))}}function Is(ge,st){if(1&ge&&(a.TgZ(0,"option",38),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge){const ue=st.$implicit;a.Q6J("value",ue),a.xp6(1),a.Oqu(a.lcZ(2,2,"Clients.WizardTypes."+ue))}}function zr(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"form",32)(1,"app-form-row",33)(2,"div",34)(3,"select",35,36),a.NdJ("change",function(){a.CHM(ue);const Zt=a.MAs(4),ln=a.oxw(2);return a.KtG(ln.setActive(Zt.value))}),a.YNc(5,Is,3,4,"option",37),a.qZA()()()()}if(2&ge){const ue=a.oxw(2);a.Q6J("formGroup",ue.webAppSelectForm),a.xp6(1),a.Q6J("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),a.xp6(4),a.Q6J("ngForOf",ue.webAppTypes)}}function Wi(ge,st){if(1&ge&&(a.TgZ(0,"option",38),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge){const ue=st.$implicit;a.Q6J("value",ue),a.xp6(1),a.Oqu(a.lcZ(2,2,"Clients.WizardTypes."+ue))}}function Gr(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"form",39)(1,"app-form-row",33)(2,"div",34)(3,"select",40,41),a.NdJ("change",function(){a.CHM(ue);const Zt=a.MAs(4),ln=a.oxw(2);return a.KtG(ln.setActive(Zt.value))}),a.YNc(5,Wi,3,4,"option",37),a.qZA()()()()}if(2&ge){const ue=a.oxw(2);a.Q6J("formGroup",ue.robotAppSelectForm),a.xp6(1),a.Q6J("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),a.xp6(4),a.Q6J("ngForOf",ue.robotAppTypes)}}function as(ge,st){if(1&ge&&(a.TgZ(0,"option",38),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge){const ue=st.$implicit;a.Q6J("value",ue),a.xp6(1),a.Oqu(a.lcZ(2,2,"Clients.WizardTypes."+ue))}}function ao(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"form",42)(1,"app-form-row",33)(2,"div",34)(3,"select",43,44),a.NdJ("change",function(){a.CHM(ue);const Zt=a.MAs(4),ln=a.oxw(2);return a.KtG(ln.setActive(Zt.value))}),a.YNc(5,as,3,4,"option",37),a.qZA()()()()}if(2&ge){const ue=a.oxw(2);a.Q6J("formGroup",ue.nativeAppSelectForm),a.xp6(1),a.Q6J("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),a.xp6(4),a.Q6J("ngForOf",ue.nativeAppTypes)}}function Zi(ge,st){1&ge&&(a.TgZ(0,"span",9),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Selected")))}const br=function(ge,st){return{"tw-bg-green-200":ge,"tw-bg-primary-200":st}},Er=function(ge,st,ue){return{"tw-bg-green-500":ge,"tw-bg-primary-500":st,"tw-bg-grey-200":ue}},si=function(ge,st,ue){return{"tw-text-white":ge,"tw-text-secondary-500":st,"tw-text-grey-400 group-hover:tw-text-grey-700":ue}},Ps=function(ge,st){return{"fas fa-check tw-text-xl trans":ge,"far fa-arrow-alt-circle-up tw-text-2xl":st}},lr=function(ge,st,ue){return{"tw-text-green-800":ge,"tw-text-primary-800":st,"tw-text-navy-500":ue}},Hr=function(ge,st,ue){return{"tw-text-green-600":ge,"tw-text-primary-600":st,"tw-text-grey-600":ue}},io=function(ge,st,ue){return{"tw-text-green-500":ge,"tw-text-primary-500":st,"tw-text-grey-300":ue}};function ki(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"li",45)(1,"input",46),a.NdJ("click",function(){const ln=a.CHM(ue).type,Vn=a.oxw(2);return a.KtG(Vn.setActive(ln))}),a.qZA(),a.TgZ(2,"label",47),a.NdJ("click",function(){const ln=a.CHM(ue).type,Vn=a.oxw(2);return a.KtG(Vn.setActive(ln))}),a.TgZ(3,"div",48)(4,"span",49),a._UZ(5,"span",49),a.qZA(),a.YNc(6,Zi,3,3,"span",50),a.qZA(),a.TgZ(7,"div",51)(8,"span",52),a._uU(9),a.qZA(),a.TgZ(10,"span",53),a._uU(11),a.qZA()(),a.TgZ(12,"div",54),a._UZ(13,"span",49),a.qZA()()()}if(2&ge){const ue=st.id,Ue=st.btnId,Zt=st.title,ln=st.summary,Vn=st.icon,Di=st.selected,ts=st.type,Jr=st.starterModeProtected,vo=a.oxw(2);a.s9C("id",ue),a.xp6(1),a.s9C("id",Ue),a.s9C("value",ts),a.Q6J("ngModel",vo.activeType),a.xp6(1),a.s9C("for",Ue),a.Q6J("ngClass",a.WLB(18,br,Di&&!Jr,Di&&Jr)),a.xp6(1),a.Q6J("ngClass",a.kEZ(21,Er,Di&&!Jr,Di&&Jr,!Di)),a.xp6(1),a.Q6J("ngClass",a.kEZ(25,si,Di&&!Jr,Di&&Jr,!Di)),a.xp6(1),a.Q6J("ngClass",a.WLB(29,Ps,!Jr,Jr)),a.xp6(1),a.Q6J("ngIf",Di),a.xp6(2),a.Q6J("ngClass",a.kEZ(32,lr,Di&&!Jr,Di&&Jr,!Di)),a.xp6(1),a.hij(" ",Zt," "),a.xp6(1),a.Q6J("ngClass",a.kEZ(36,Hr,Di&&!Jr,Di&&Jr,!Di)),a.xp6(1),a.hij(" ",ln," "),a.xp6(2),a.Gre("",Vn," tw-text-3xl trans"),a.Q6J("ngClass",a.kEZ(40,io,Di&&!Jr,Di&&Jr,!Di))}}function wr(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Home.Title")))}function Lr(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.SPA.Title")))}function Dr(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.WebApp.Title")))}function yn(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.NativeApp.Title")))}function oi(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.MachineToMachine.Title")))}function ps(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.CIBAMachineToMachine.Title")))}function hi(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.DeviceFlow.Title")))}function Xi(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Saml.Title")))}function Ie(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.WsFed.Title")))}function ve(ge,st){1&ge&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.LegacySPA.Title")))}function ie(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.Home.Description"),a.oJD)}function rt(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.SPA.Description"),a.oJD)}function rn(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.WebApp.Description"),a.oJD)}function Fn(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.NativeApp.Description"),a.oJD)}function ji(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.MachineToMachine.Description"),a.oJD)}function Ir(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.CIBAMachineToMachine.Description"),a.oJD)}function Or(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.DeviceFlow.Description"),a.oJD)}function er(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.Saml.Description"),a.oJD)}function vi(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.WsFed.Description"),a.oJD)}function Me(ge,st){1&ge&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&ge&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.LegacySPA.Description"),a.oJD)}function je(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"button",56),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw(2);return a.KtG(Zt.redirectToUpgrade())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}if(2&ge){const ue=a.oxw(2);a.Q6J("disabled",!ue.protectedWizardTypeSelected),a.xp6(1),a.Oqu(a.lcZ(2,2,"StarterMode.UpgradeAdminUI"))}}function Et(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"div")(1,"div",1)(2,"h5",2),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"button",3),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.hide())}),a.ALo(6,"translate"),a._UZ(7,"span",4),a.qZA()(),a.TgZ(8,"div",5),a._UZ(9,"div",6,7),a.qZA(),a.TgZ(11,"div",8)(12,"p",9),a._uU(13),a.ALo(14,"translate"),a.qZA(),a.YNc(15,sr,26,88,"div",10),a.YNc(16,ks,33,94,"div",11),a.YNc(17,zr,6,5,"form",12),a.YNc(18,Gr,6,5,"form",13),a.YNc(19,ao,6,5,"form",14),a.YNc(20,ki,14,44,"ng-template",null,15,a.W1O),a.TgZ(22,"div",16)(23,"h2",17),a._UZ(24,"span",18),a.YNc(25,wr,3,3,"span",0),a.YNc(26,Lr,3,3,"span",0),a.YNc(27,Dr,3,3,"span",0),a.YNc(28,yn,3,3,"span",0),a.YNc(29,oi,3,3,"span",0),a.YNc(30,ps,3,3,"span",0),a.YNc(31,hi,3,3,"span",0),a.YNc(32,Xi,3,3,"span",0),a.YNc(33,Ie,3,3,"span",0),a.YNc(34,ve,3,3,"span",0),a.qZA(),a.YNc(35,ie,2,3,"p",19),a.YNc(36,rt,2,3,"p",19),a.YNc(37,rn,2,3,"p",19),a.YNc(38,Fn,2,3,"p",19),a.YNc(39,ji,2,3,"p",19),a.YNc(40,Ir,2,3,"p",19),a.YNc(41,Or,2,3,"p",19),a.YNc(42,er,2,3,"p",19),a.YNc(43,vi,2,3,"p",19),a.YNc(44,Me,2,3,"p",19),a.qZA()(),a._UZ(45,"div",20),a.TgZ(46,"div",21)(47,"div",22)(48,"div",23)(49,"button",24),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.choosePage())}),a._uU(50),a.ALo(51,"translate"),a.qZA(),a.YNc(52,je,3,4,"button",25),a.qZA(),a.TgZ(53,"button",26),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.hide())}),a._uU(54),a.ALo(55,"translate"),a.qZA()()()()}if(2&ge){const ue=a.oxw();a.xp6(2),a.Q6J("id",ue.titleId),a.xp6(1),a.Oqu(a.lcZ(4,33,"Clients.Setup")),a.xp6(2),a.uIk("aria-label",a.lcZ(6,35,"Common.Close")),a.xp6(8),a.Oqu(a.lcZ(14,37,"Clients.SelectType")),a.xp6(2),a.Q6J("ngIf",!ue.isStarterMode),a.xp6(1),a.Q6J("ngIf",ue.isStarterMode),a.xp6(1),a.Q6J("ngIf",!ue.isStarterMode&&(ue.activeType===ue.wizardTypes.WebApplication||ue.activeType===ue.wizardTypes.PKCEWebApplication)),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.RobotApplication||ue.activeType===ue.wizardTypes.CIBARobotApplication),a.xp6(1),a.Q6J("ngIf",!ue.isStarterMode&&(ue.activeType===ue.wizardTypes.NativeApplication||ue.activeType===ue.wizardTypes.PKCENativeApplication)),a.xp6(6),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.Home),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.SinglePageApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.WebApplication||ue.activeType===ue.wizardTypes.PKCEWebApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.NativeApplication||ue.activeType===ue.wizardTypes.PKCENativeApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.RobotApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.CIBARobotApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.DeviceApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.SamlApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.WsFedApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.LegacySinglePageApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.Home),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.SinglePageApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.WebApplication||ue.activeType===ue.wizardTypes.PKCEWebApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.NativeApplication||ue.activeType===ue.wizardTypes.PKCENativeApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.RobotApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.CIBARobotApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.DeviceApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.SamlApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.WsFedApplication),a.xp6(1),a.Q6J("ngIf",ue.activeType===ue.wizardTypes.LegacySinglePageApplication),a.xp6(5),a.Q6J("disabled",ue.activeType===ue.wizardTypes.Home||ue.isStarterMode&&ue.protectedWizardTypeSelected),a.xp6(1),a.Oqu(a.lcZ(51,39,"Common.Start")),a.xp6(2),a.Q6J("ngIf",ue.isStarterMode),a.xp6(2),a.Oqu(a.lcZ(55,41,"Common.Cancel"))}}function Rt(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"div")(1,"app-client-wizard-host",57),a.NdJ("wizardCancel",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.onCancel())})("finish",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.onFinish())})("hide",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.hide())}),a.qZA()()}if(2&ge){const ue=a.oxw();a.xp6(1),a.Q6J("wizardName",ue.pageType)}}let jt=(()=>{class ge{constructor(ue,Ue,Zt,ln,Vn){this.fb=ue,this.modalService=Ue,this.licenseService=Zt,this.router=ln,this.localizeRouter=Vn,this.finish=new a.vpe,this.titleId=Nn.G.TileId,this.pageType=Bt.Q.Home,this.activeType=Bt.Q.SinglePageApplication,this.showWizard=!1,this.wizardProvider=new gr,this.wizardTypes=Bt.Q,this.webAppTypes=[Bt.Q.PKCEWebApplication,Bt.Q.WebApplication],this.robotAppTypes=[Bt.Q.RobotApplication,Bt.Q.CIBARobotApplication],this.nativeAppTypes=[Bt.Q.PKCENativeApplication,Bt.Q.NativeApplication],this.starterModeProtectedSetups=[Bt.Q.WebApplication,Bt.Q.PKCEWebApplication,Bt.Q.PKCENativeApplication,Bt.Q.NativeApplication,Bt.Q.DeviceApplication,Bt.Q.SamlApplication,Bt.Q.WsFedApplication,Bt.Q.LegacySinglePageApplication]}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,lt.P)()).subscribe(ue=>{this.isStarterMode=ue.isStarterLicense()}),this.setWebAppSelection(this.webAppTypes[0]),this.setRobotAppSelection(this.robotAppTypes[0]),this.setNativeAppSelection(this.nativeAppTypes[0])}setWebAppSelection(ue){(ue===Bt.Q.WebApplication||ue===Bt.Q.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:ue}))}setRobotAppSelection(ue){(ue===Bt.Q.RobotApplication||ue===Bt.Q.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:ue}))}setNativeAppSelection(ue){(ue===Bt.Q.NativeApplication||ue===Bt.Q.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:ue}))}redirectToUpgrade(){this.hide();const ue=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([ue],{queryParams:{feature:4}})}setActive(ue){this.isStarterMode&&(this.protectedWizardTypeSelected=this.starterModeProtectedSetups.includes(ue)),this.activeType=ue,this.setWebAppSelection(ue),this.setRobotAppSelection(ue),this.setNativeAppSelection(ue)}choosePage(){this.isStarterMode&&this.protectedWizardTypeSelected||(this.pageType=this.activeType,this.showWizard=!0)}onCancel(){this.pageType=Bt.Q.Home,this.activeType=Bt.Q.SinglePageApplication,this.showWizard=!1}onFinish(){this.finish.emit(),this.hide()}hide(){this.modalService.hide(Nn.G.Id),this.modalService.onHidden.pipe((0,lt.P)()).subscribe(()=>{this.onCancel()})}ngOnDestroy(){this.hide()}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(e.QS),a.Y36(C.tT),a.Y36(Oe.E),a.Y36(m.F0),a.Y36(T.An))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-client-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar","aria-valuenow","2",1,"modal-progress-bar",2,"width","2%"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"sr-only"],["id","defaultSetupList","class","tw--mt-2 tw--ml-2 md:tw--mt-4 md:tw--ml-4",4,"ngIf"],["id","starterModeSetupList","class","tw--mt-2 tw--ml-2 md:tw--mt-4 md:tw--ml-4",4,"ngIf"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],["commonTypeButton",""],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],[3,"innerHTML",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextModal",1,"tw-btn-success",3,"disabled","click"],["id","upgradeAdminUI","class","tw-btn tw-ml-4",3,"disabled","click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","starterModeSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],["webAppSelection",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["robotAppSelection",""],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"],["nativeAppSelection",""],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4",3,"id"],["type","radio",1,"sr-only",3,"id","value","ngModel","click"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","trans","hover:tw-shadow-md","md:tw-pr-16",3,"for","ngClass","click"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","trans",3,"ngClass"],[3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],[1,"tw-block","tw-font-semibold","trans",3,"ngClass"],[1,"tw-block","tw-text-xs","trans",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","trans","md:tw-flex"],[3,"innerHTML"],["id","upgradeAdminUI",1,"tw-btn","tw-ml-4",3,"disabled","click"],[3,"wizardName","wizardCancel","finish","hide"]],template:function(ue,Ue){1&ue&&(a.YNc(0,Et,56,43,"div",0),a.YNc(1,Rt,2,1,"div",0)),2&ue&&(a.Q6J("ngIf",Ue.pageType===Ue.wizardTypes.Home),a.xp6(1),a.Q6J("ngIf",Ue.showWizard))},dependencies:[t.mk,t.sg,t.O5,t.tP,e._Y,e.YN,e.Kr,e.Fj,e.EJ,e._,e.JJ,e.JL,e.On,e.sg,e.u,Tt.L,rs,le.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),ge})();var Ht=p(3111),gn=p(7363),Tn=p(6679),ai=p(7393);class jn extends Ht.yr{constructor(st,ue=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=gn.C.DoNotSet,this.certificateAction=Tn.R6.DoNotSet,this.identifier=st.identifier,this.resourceType=st.resourceType,this.resourceState=st.resourceState,this.displayType=st.displayType,this.displayName=st.displayName,this.conflicts=st.conflicts,this.dependantClients=st.dependantClients,this.hadSecrets=st.hadSecrets,this.hadCertificates=st.hadCertificates,this.existingHasSecrets=st.existingHasSecrets,this.existingHasCertificates=st.existingHasCertificates,this.selected=ue,this.certificates=new ai.w}set selected(st){this.isSelectable&&(this._selected=st)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==Ht.vZ.Duplicate&&this.resourceType===Ht.JR.Client}}var ur=p(6297),Kr=p(7481),dr=p(7331),zi=p(5744),ri=p(9659);function fo(ge,st){if(1&ge&&(a.TgZ(0,"div",7),a._UZ(1,"div",8),a.qZA()),2&ge){const ue=a.oxw();a.xp6(1),a.Udp("width",ue.progressComplete+"%"),a.uIk("aria-valuenow",ue.progressComplete)}}function Ks(ge,st){}let fe=(()=>{class ge{constructor(ue){this.viewContainerRef=ue}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(a.s_b))},ge.\u0275dir=a.lG2({type:ge,selectors:[["","appImportStepHost",""]]}),ge})(),Le=(()=>{class ge{constructor(ue){this.importWizardController=ue,this.finish=new a.vpe,this.warning=new a.vpe,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe(ue=>{ue?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const ue=this.importWizardController.getCurrentStep();let Ue;if(ue.component===Tn.V7){const Zt=this.components.get(ue);this.wizardHost.viewContainerRef.detach(),Ue=Zt??this.wizardHost.viewContainerRef.createComponent(ue.component)}else Ue=this.wizardHost.viewContainerRef.createComponent(ue.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(Ue.hostView),Ue.instance.data=ue.data,Ue.instance.importWizardController=this.importWizardController,this.title=ue.stepTitle,this.components.set(ue,Ue),this.updateProgressBar(),this.hideProgressBar=Ue.instance.isWarningModal||Ue.instance.hideProgressBar,this.warning.emit(Ue.instance.isWarningModal)}closeButton(){const ue=this.importWizardController.getCurrentStep();ue.component!==dr.l?this.importWizardController.cancel():this.components.get(ue).instance.goNext()}getStepsProgressForCurrentStep(){const ue=this.importWizardController.getCurrentStep();if(ue.component===gn.$||ue.component===Tn.V7){const Ue=this.importWizardController.stepsCompleted.filter(ln=>ln.component===ue.component).length,Zt=Ue+this.importWizardController.stepsAhead.filter(ln=>ln.component===ue.component).length;return 1===Zt?"":"("+(Ue+1)+"/"+Zt+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==zi.Gz&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach(ue=>{ue.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(ri.o))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-import-wizard-host"]],viewQuery:function(ue,Ue){if(1&ue&&a.Gf(fe,7),2&ue){let Zt;a.iGM(Zt=a.CRH())&&(Ue.wizardHost=Zt.first)}},outputs:{finish:"finish",warning:"warning"},decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(ue,Ue){1&ue&&(a.TgZ(0,"div",0)(1,"h5",1),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return Ue.closeButton()}),a._UZ(5,"span",3),a.TgZ(6,"span",4),a._uU(7),a.ALo(8,"translate"),a.qZA()()(),a.YNc(9,fo,2,3,"div",5),a.TgZ(10,"div"),a.YNc(11,Ks,0,0,"ng-template",6),a.qZA()),2&ue&&(a.xp6(2),a.AsE("",a.lcZ(3,5,Ue.title)," ",Ue.progressStepString,""),a.xp6(2),a.Q6J("disabled",Ue.disableCloseButton()),a.xp6(3),a.Oqu(a.lcZ(8,7,"Common.Close")),a.xp6(2),a.Q6J("ngIf",!Ue.hideProgressBar))},dependencies:[t.O5,fe,le.X$],encapsulation:2}),ge})();function be(ge,st){1&ge&&(a._UZ(0,"app-simple-loader",16),a.ALo(1,"translate")),2&ge&&a.Q6J("text",a.lcZ(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function tt(ge,st){if(1&ge&&(a.TgZ(0,"div",23)(1,"div"),a._uU(2),a.qZA()()),2&ge){const ue=a.oxw(3);a.xp6(2),a.Oqu(ue.errorCode)}}function St(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"div")(1,"div",17)(2,"p"),a._uU(3),a.ALo(4,"translate"),a.qZA()(),a.YNc(5,tt,3,1,"div",18),a.TgZ(6,"app-form-row",19)(7,"div",20)(8,"input",21,22),a.NdJ("change",function(Zt){a.CHM(ue);const ln=a.oxw(2);return a.KtG(ln.handleFileInput(Zt.target.files))}),a.qZA()()()()}if(2&ge){const ue=a.oxw(2);a.xp6(3),a.Oqu(a.lcZ(4,6,"Clients.Import.Wizard.Setup.Summary")),a.xp6(2),a.Q6J("ngIf",""!=ue.errorCode),a.xp6(1),a.Q6J("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function en(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"div")(1,"div",1)(2,"h5",2),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"button",3),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.hide())}),a.ALo(6,"translate"),a._UZ(7,"span",4),a.qZA()(),a.TgZ(8,"div",5),a._UZ(9,"div",6,7),a.qZA(),a.TgZ(11,"div",8),a.YNc(12,be,2,3,"app-simple-loader",9),a.YNc(13,St,11,8,"div",0),a.qZA(),a._UZ(14,"div",10),a.TgZ(15,"div",11)(16,"div",12)(17,"div",13)(18,"button",14),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.startImport())}),a._uU(19),a.ALo(20,"translate"),a.qZA()(),a.TgZ(21,"button",15),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.hide())}),a._uU(22),a.ALo(23,"translate"),a.qZA()()()()}if(2&ge){const ue=a.oxw();a.xp6(2),a.Q6J("id",ue.titleId),a.xp6(1),a.Oqu(a.lcZ(4,10,"Clients.Import.Wizard.Setup.Title")),a.xp6(2),a.Q6J("disabled",ue.disableButtons),a.uIk("aria-label",a.lcZ(6,12,"Common.Close")),a.xp6(7),a.Q6J("ngIf",ue.isLoading),a.xp6(1),a.Q6J("ngIf",!ue.isLoading),a.xp6(5),a.Q6J("disabled",ue.disableButtons||null==ue.fileToUpload),a.xp6(1),a.hij(" ",a.lcZ(20,14,"Common.Start")," "),a.xp6(2),a.Q6J("disabled",ue.disableButtons),a.xp6(1),a.hij(" ",a.lcZ(23,16,"Common.Cancel")," ")}}function an(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"div")(1,"app-import-wizard-host",24),a.NdJ("warning",function(Zt){a.CHM(ue);const ln=a.oxw();return a.KtG(ln.onWarning(Zt))})("finish",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.onFinish())}),a.qZA()()}}let qt=(()=>{class ge{constructor(ue,Ue,Zt,ln){this.translate=ue,this.clientImportService=Ue,this.importWizardService=Zt,this.modalService=ln,this.finish=new a.vpe,this.titleId=Nn.G.TileId,this.wizardTypes=Bt.Q,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(Vn=>{this.reset(),null!=Vn&&(this.errorCode=Vn)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning(ue){this.isWarningModal=ue}hide(){this.reset(),this.modalService.hide(Nn.G.Id)}handleFileInput(ue){this.fileToUpload=ue.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then(ue=>{this.clientImportService.validateImportFile(ue).subscribe(Ue=>{try{JSON.parse(ue)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage(ue);const Zt=Ue.importResources.map(ln=>new jn(ln));this.importWizardService.cache.next(Zt),this.isLoading=!1,this.showWizard=!0},Ue=>{if(400===Ue.status){this.reset();const Zt=Ue.error;this.errorCode=this.translate.instant(`Errors.${Zt.errorCode}`),"ValidateImportError.WrongVersion"===Zt.errorCode&&(this.errorCode=this.errorCode.replace("{0}",Zt.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",Zt.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage(ue){this.storage.setItem("importFile",ue)}ngOnDestroy(){this.reset(),this.hide()}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(le.sK),a.Y36(ur.wf),a.Y36(Kr.U),a.Y36(C.tT))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],["progressBar",""],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"disabled","click"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],["fileInput","","selectedFile",""],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(ue,Ue){1&ue&&(a.YNc(0,en,24,18,"div",0),a.YNc(1,an,2,0,"div",0)),2&ue&&(a.Q6J("ngIf",!Ue.showWizard),a.xp6(1),a.Q6J("ngIf",Ue.showWizard))},dependencies:[t.O5,it.w,Tt.L,Le,le.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),ge})();function Bi(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"app-client-wizard",12,1),a.NdJ("finish",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.reload())}),a.qZA()}}function wi(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"app-import-wizard",13,2),a.NdJ("finish",function(){a.CHM(ue);const Zt=a.oxw();return a.KtG(Zt.reload())}),a.qZA()}}const yi=function(ge,st){return{"tw-alert":ge,"tw-alert-warning":st}},mi=function(ge){return{limit:ge,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}};function Pi(ge,st){if(1&ge&&(a.TgZ(0,"div",14),a._UZ(1,"span",15),a.ALo(2,"translate"),a.qZA()),2&ge){const ue=a.oxw();a.Q6J("ngClass",a.WLB(5,yi,ue.limitReached,ue.overLimit)),a.xp6(1),a.Q6J("innerHTML",a.xi3(2,2,"Common.QuotaLimit",a.VKq(8,mi,ue.licenseInfo.maxClients)),a.oJD)}}function fr(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"div",22)(1,"label",23),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"select",24),a.NdJ("ngModelChange",function(Zt){a.CHM(ue);const ln=a.oxw(2);return a.KtG(ln.pageSize=Zt)})("change",function(){a.CHM(ue);const Zt=a.oxw(2);return a.KtG(Zt.setPageLength(+Zt.pageSize))}),a.TgZ(5,"option",25),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.TgZ(8,"option",26),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.TgZ(11,"option",27),a._uU(12),a.ALo(13,"translate"),a.qZA()()()}if(2&ge){const ue=a.oxw(2);a.xp6(2),a.AsE("",ue.pageSize," ",a.lcZ(3,6,"Nav.PerPage"),""),a.xp6(2),a.Q6J("ngModel",ue.pageSize),a.xp6(2),a.hij("25 ",a.lcZ(7,8,"Nav.PerPage"),""),a.xp6(3),a.hij("50 ",a.lcZ(10,10,"Nav.PerPage"),""),a.xp6(3),a.hij("100 ",a.lcZ(13,12,"Nav.PerPage"),"")}}function es(ge,st){1&ge&&(a.TgZ(0,"span",31)(1,"span",9),a._uU(2),a.ALo(3,"translate"),a.qZA(),a._UZ(4,"span",32),a.qZA()),2&ge&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"StarterMode.RequiresUpgrade")))}function Gi(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"button",28),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw(2),ln=a.MAs(5);return a.KtG(Zt.showWizard(ln,!0))}),a.ALo(1,"translate"),a.TgZ(2,"span")(3,"span",9),a._uU(4),a.ALo(5,"translate"),a.qZA(),a._UZ(6,"span",29),a.qZA(),a.YNc(7,es,5,3,"span",30),a.qZA()}if(2&ge){const ue=a.oxw(2);a.Q6J("tooltip",a.lcZ(1,3,"Clients.Import.Import")),a.xp6(4),a.Oqu(a.lcZ(5,5,"Clients.Import.ImportClients")),a.xp6(3),a.Q6J("ngIf",ue.licenseInfo.isStarterLicense())}}function Br(ge,st){if(1&ge&&(a.TgZ(0,"span",37),a._uU(1),a.qZA()),2&ge){const ue=a.oxw(3);a.xp6(1),a.Oqu(ue.clientSelectedCount)}}function kr(ge,st){1&ge&&(a.TgZ(0,"span",38)(1,"span",9),a._uU(2),a.ALo(3,"translate"),a.qZA(),a._UZ(4,"span",32),a.qZA()),2&ge&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"StarterMode.RequiresUpgrade")))}function Tr(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"button",33),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw(2);return a.KtG(Zt.exportClients())}),a.TgZ(1,"span")(2,"span",9),a._uU(3),a.qZA(),a._UZ(4,"span",34),a.YNc(5,Br,2,1,"span",35),a.qZA(),a.YNc(6,kr,5,3,"span",36),a.qZA()}if(2&ge){const ue=a.oxw(2);a.Q6J("tooltip",ue.currentExportTooltip),a.xp6(3),a.Oqu(ue.currentExportText),a.xp6(2),a.Q6J("ngIf",ue.shouldDisplayCount),a.xp6(1),a.Q6J("ngIf",ue.licenseInfo.isStarterLicense())}}function Ts(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"app-action-bar"),a.ynx(1,16),a.YNc(2,fr,14,14,"div",17),a.BQk(),a.ynx(3,18),a.TgZ(4,"button",19),a.NdJ("click",function(){a.CHM(ue);const Zt=a.oxw(),ln=a.MAs(3);return a.KtG(Zt.showWizard(ln,Zt.limitReached))}),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.YNc(7,Gi,8,7,"button",20),a.YNc(8,Tr,7,4,"button",21),a.BQk(),a.qZA()}if(2&ge){const ue=a.oxw();a.xp6(2),a.Q6J("ngIf",(null==ue.pagedResult?null:ue.pagedResult.results.length)>0),a.xp6(2),a.Q6J("disabled",ue.limitReached),a.xp6(1),a.hij(" ",a.lcZ(6,5,"Clients.Add")," "),a.xp6(2),a.Q6J("ngIf",ue.canImportExport),a.xp6(1),a.Q6J("ngIf",ue.canImportExport)}}function $s(ge,st){1&ge&&a._UZ(0,"app-simple-loader")}function Ro(ge,st){1&ge&&(a.TgZ(0,"div",42)(1,"div"),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&ge&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"Clients.None")))}function vs(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"th",49)(1,"label",50)(2,"input",51),a.NdJ("change",function(){a.CHM(ue);const Zt=a.oxw(3);return a.KtG(Zt.toggleAllClients())})("ngModelChange",function(Zt){a.CHM(ue);const ln=a.oxw(3);return a.KtG(ln.allClientsSelected=Zt)}),a.qZA()()()}if(2&ge){const ue=a.oxw(3);a.xp6(2),a.Q6J("ngModel",ue.allClientsSelected)}}function Gs(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"label",65)(1,"input",66),a.NdJ("change",function(){a.CHM(ue);const Zt=a.oxw(5);return a.KtG(Zt.areAllClientsSelected())})("ngModelChange",function(Zt){a.CHM(ue);const ln=a.oxw(2).$implicit;return a.KtG(ln.selected=Zt)}),a.qZA()()}if(2&ge){const ue=a.oxw(2).$implicit;a.s9C("for",ue.id),a.xp6(1),a.s9C("id",ue.id),a.Q6J("ngModel",ue.selected)}}function lo(ge,st){if(1&ge&&(a.TgZ(0,"td",63),a.YNc(1,Gs,2,3,"label",64),a.qZA()),2&ge){const ue=a.oxw().$implicit,Ue=a.oxw(3);a.xp6(1),a.Q6J("ngIf",!Ue.isClientReadOnly(ue))}}function Jo(ge,st){1&ge&&(a.TgZ(0,"span",67)(1,"span",9),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&ge&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"Common.Disabled")))}function Os(ge,st){1&ge&&(a.TgZ(0,"span",68),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Common.Disabled")," "))}function fs(ge,st){1&ge&&(a.TgZ(0,"span",69),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Common.Reserved")," "))}function mo(ge,st){1&ge&&(a.TgZ(0,"span",9),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.Edit")))}function ls(ge,st){1&ge&&(a.TgZ(0,"span",9),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.View")))}const As=function(ge,st){return{"fad fa-pencil":ge,"fas fa-eye":st}};function go(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"tr",52),a.YNc(1,lo,2,1,"td",53),a.TgZ(2,"td",54),a.NdJ("click",function(){const ln=a.CHM(ue).$implicit,Vn=a.oxw(3);return a.KtG(Vn.viewOrEditClient(ln))}),a.YNc(3,Jo,4,3,"span",55),a.TgZ(4,"b"),a._uU(5),a.qZA()(),a.TgZ(6,"td",56),a.NdJ("click",function(){const ln=a.CHM(ue).$implicit,Vn=a.oxw(3);return a.KtG(Vn.viewOrEditClient(ln))}),a._uU(7),a.qZA(),a.TgZ(8,"td",57),a.NdJ("click",function(){const ln=a.CHM(ue).$implicit,Vn=a.oxw(3);return a.KtG(Vn.viewOrEditClient(ln))}),a.YNc(9,Os,3,3,"span",58),a.YNc(10,fs,3,3,"span",59),a.qZA(),a.TgZ(11,"td",57),a.NdJ("click",function(){const ln=a.CHM(ue).$implicit,Vn=a.oxw(3);return a.KtG(Vn.viewOrEditClient(ln))}),a.TgZ(12,"button",60),a.NdJ("click",function(){const ln=a.CHM(ue).$implicit,Vn=a.oxw(3);return a.KtG(Vn.viewOrEditClient(ln))}),a._UZ(13,"span",61),a.YNc(14,mo,3,3,"span",62),a.YNc(15,ls,3,3,"span",62),a.qZA()()()}if(2&ge){const ue=st.$implicit,Ue=a.oxw(3);a.ekj("inactive",!ue.enabled||Ue.isClientReadOnly(ue)),a.s9C("id",ue.clientName),a.xp6(1),a.Q6J("ngIf",!Ue.isIdentityServerManagerReadOnly),a.xp6(2),a.Q6J("ngIf",!ue.enabled),a.xp6(1),a.ekj("tw-text-blue-500",!(null!=ue&&ue.nonEditable)),a.xp6(1),a.hij(" ",null==ue?null:ue.clientName," "),a.xp6(2),a.hij(" ",null==ue?null:ue.description," "),a.xp6(2),a.Q6J("ngIf",!ue.enabled),a.xp6(1),a.Q6J("ngIf",null==ue?null:ue.nonEditable),a.xp6(3),a.Q6J("ngClass",a.WLB(14,As,!Ue.isIdentityServerManagerReadOnly&&!Ue.isClientReadOnly(ue),Ue.isIdentityServerManagerReadOnly||Ue.isClientReadOnly(ue))),a.xp6(1),a.Q6J("ngIf",!Ue.isIdentityServerManagerReadOnly&&!Ue.isClientReadOnly(ue)),a.xp6(1),a.Q6J("ngIf",Ue.isIdentityServerManagerReadOnly||Ue.isClientReadOnly(ue))}}function Wo(ge,st){if(1&ge&&(a.TgZ(0,"table",43)(1,"thead")(2,"tr"),a.YNc(3,vs,3,1,"th",44),a.TgZ(4,"th",45),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"th",46),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"th",47)(11,"span",9),a._uU(12),a.ALo(13,"translate"),a.qZA()(),a.TgZ(14,"th",47)(15,"span",9),a._uU(16),a.ALo(17,"translate"),a.qZA()()()(),a.TgZ(18,"tbody"),a.YNc(19,go,16,17,"tr",48),a.qZA()()),2&ge){const ue=a.oxw(2);a.xp6(3),a.Q6J("ngIf",!ue.isIdentityServerManagerReadOnly),a.xp6(2),a.Oqu(a.lcZ(6,6,"Common.Name")),a.xp6(3),a.Oqu(a.lcZ(9,8,"Common.Description")),a.xp6(4),a.Oqu(a.lcZ(13,10,"Common.Reserved")),a.xp6(4),a.Oqu(a.lcZ(17,12,"Common.Actions")),a.xp6(3),a.Q6J("ngForOf",ue.allClients)}}function Ss(ge,st){if(1&ge){const ue=a.EpF();a.TgZ(0,"app-pager",70),a.NdJ("onGoToPage",function(Zt){a.CHM(ue);const ln=a.oxw(2);return a.KtG(ln.goToPage(Zt))}),a.qZA()}if(2&ge){const ue=a.oxw(2);a.Q6J("totalResults",null==ue.pagedResult?null:ue.pagedResult.totalCount)("currentPage",ue.page)("lastPage",null==ue.pagedResult?null:ue.pagedResult.pageCount)}}function Mr(ge,st){if(1&ge&&(a.ynx(0),a.YNc(1,Ro,4,3,"div",39),a.YNc(2,Wo,20,14,"table",40),a.YNc(3,Ss,1,3,"app-pager",41),a.BQk()),2&ge){const ue=a.oxw();a.xp6(1),a.Q6J("ngIf",(null==ue.allClients?null:ue.allClients.length)<1),a.xp6(1),a.Q6J("ngIf",(null==ue.allClients?null:ue.allClients.length)>0),a.xp6(1),a.Q6J("ngIf",(null==ue.pagedResult?null:ue.pagedResult.results.length)>0&&!ue.isLoading)}}let qo=(()=>{class ge extends Qn.bk{constructor(ue,Ue,Zt,ln,Vn,Di,ts,Jr,vo,ko,xs,yo){super(Jr,Vn,!0),this.router=ue,this.errorService=Ue,this.titleService=Zt,this.clientsService=ln,this.translate=Vn,this.localize=Di,this.exportService=ts,this.securityService=vo,this.modalService=ko,this.localizeRouter=xs,this.licenseService=yo,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new fn.x,this.pageSizeStream=new fn.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(ue){return this.term=ue,{searchTerm:ue,page:1,pageSize:this.pageSize}}ngOnInit(){const ue=this.translate.instant("Nav.Clients")+" - "+nt.de.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(ue),this.canImportExport=this.securityService.allView;const Ue=this.pageStream.pipe((0,_.U)(Vn=>(this.page=Vn,{searchTerm:this.term,page:Vn,pageSize:this.pageSize}))),Zt=this.pageSizeStream.pipe((0,_.U)(Vn=>(this.pageSize=Vn,{searchTerm:this.term,page:this.page,pageSize:Vn})));Ue.pipe((0,An.b)(Zt),(0,An.b)(this.searchSource),(0,An.b)(this.enterKeySource),(0,kn.O)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,Gn.z)(Vn=>(this.isLoading=!0,this.clientsService.getClients(Vn.searchTerm,Vn.page,Vn.pageSize).pipe((0,ti.g)(200))))).subscribe({next:Vn=>{this.pagedResult=Vn,this.allClients=this.pagedResult.results.map(Di=>new ii(Di)).sort((Di,ts)=>Number(ts.nonEditable)-Number(Di.nonEditable)),this.isLoading=!1},error:Vn=>{this.errorService.handleError(Vn),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,lt.P)()).subscribe(Vn=>{this.licenseInfo=Vn})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const ue=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([ue],{queryParams:{feature:bt.w.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard(ue,Ue=!1){Ue&&this.checkStarterMode()||this.modalService.show(ue,{id:Nn.G.Id,ariaLabelledBy:Nn.G.TileId,ariaDescribedby:Nn.G.DescriptionId,backdrop:"static"})}goToPage(ue){this.pageStream.next(ue)}setPageLength(ue){this.page=1,this.pageSizeStream.next(ue)}viewOrEditClient(ue){this.isIdentityServerManagerReadOnly||this.isClientReadOnly(ue)?this.viewClient(ue):this.editClient(ue)}viewClient(ue){const Ue=this.localize.translateRoute("/clients/view");this.router.navigate([Ue,ue.id])}editClient(ue){const Ue=this.localize.translateRoute("/clients");this.router.navigate([Ue,ue.id])}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const ue=this.allClients.filter(Ue=>Ue.selected).map(Ue=>Ue.clientId);this.exportService.exportSelectedClients(ue)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every(ue=>ue.selected||ue.nonEditable),this.clientSelectedCount=this.allClients.filter(ue=>ue.selected&&!ue.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter(ue=>!ue.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let ue=!0;this.allClients.forEach(Ue=>{!Ue.nonEditable&&!Ue.selected&&(ue=!1)}),this.allClients.forEach(Ue=>{Ue.nonEditable||(Ue.selected=!ue)}),this.shouldDisplayCount=!1,this.clientSelectedCount=ue?0:this.allClients.filter(Ue=>!Ue.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!ue}get isIdentityServerManagerReadOnly(){return(0,Mt.gR)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}isClientReadOnly(ue){const Ue=_t.RestrictedClientTypes.includes(ue.clientType);return ue.nonEditable||this.overLimit||Ue&&this.licenseInfo.isStarterLicense()}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(m.F0),a.Y36(Z.T),a.Y36(ce.Dx),a.Y36(k.a),a.Y36(le.sK),a.Y36(T.An),a.Y36(V.T),a.Y36(We._W),a.Y36(Ot.I),a.Y36(C.tT),a.Y36(T.An),a.Y36(Oe.E))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["ng-component"]],features:[a.qOj],decls:20,vars:14,consts:[[3,"title"],["addClientModal",""],["importWizardModal",""],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","placeholder","ngModelChange","keyup"],[4,"ngIf"],["id","addClientComponent",3,"finish"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"disabled","click"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"tooltip","click"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"tooltip","click"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModel","change","ngModelChange"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"id","ngModel","change","ngModelChange"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(ue,Ue){1&ue&&(a._UZ(0,"app-title-bar",0),a.ALo(1,"translate"),a.YNc(2,Bi,2,0,"ng-template",null,1,a.W1O),a.YNc(4,wi,2,0,"ng-template",null,2,a.W1O),a.TgZ(6,"div",3),a.YNc(7,Pi,3,10,"div",4),a.TgZ(8,"div",5)(9,"div",6)(10,"label",7),a._UZ(11,"span",8),a.TgZ(12,"span",9),a._uU(13),a.ALo(14,"translate"),a.qZA()(),a.TgZ(15,"input",10),a.NdJ("ngModelChange",function(ln){return Ue.searchTerm=ln})("keyup",function(ln){return Ue.search(ln)}),a.ALo(16,"translate"),a.qZA()()(),a.YNc(17,Ts,9,7,"app-action-bar",11),a.YNc(18,$s,1,0,"app-simple-loader",11),a.YNc(19,Mr,4,3,"ng-container",11),a.qZA()),2&ue&&(a.Q6J("title",a.lcZ(1,8,"Nav.Clients")),a.xp6(7),a.Q6J("ngIf",Ue.limitReached),a.xp6(6),a.Oqu(a.lcZ(14,10,"Common.Search")),a.xp6(2),a.s9C("placeholder",a.lcZ(16,12,"Clients.SearchPlaceholder")),a.Q6J("ngModel",Ue.searchTerm),a.xp6(2),a.Q6J("ngIf",!Ue.isLoading&&!Ue.isIdentityServerManagerReadOnly),a.xp6(1),a.Q6J("ngIf",Ue.isLoading),a.xp6(1),a.Q6J("ngIf",!Ue.isLoading))},dependencies:[t.mk,t.sg,t.O5,e.YN,e.Kr,e.Fj,e.Wl,e.EJ,e.JJ,e.On,b.i9,$e.G,Ze.P,Ke.K,it.w,jt,qt,le.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),ge})();function Qs(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Nav.Saml")("tabValue","saml")}function qs(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function zs(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function ia(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Common.Secrets")("tabValue","secrets")}function co(ge,st){1&ge&&a._UZ(0,"app-custom-tab",2),2&ge&&a.Q6J("tabTitle","Common.CIBA")("tabValue","ciba")}function jo(ge,st){1&ge&&(a.TgZ(0,"span",8),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ge&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Common.Disabled")," "))}const _o=function(ge,st){return{title:ge,link:st}},gi=function(ge){return[ge]};let ro=(()=>{class ge{constructor(ue,Ue,Zt,ln,Vn,Di){this.clientCachingService=ue,this.clientViewService=Ue,this.titleService=Zt,this.translate=ln,this.errorService=Vn,this.licenseService=Di}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(ue=>{this.client=ue;const Ue=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+nt.de.SITE_TITLE;this.titleService.setTitle(Ue)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:ue=>this.licenseInfo=ue})}ngOnDestroy(){this.clientSubscription.unsubscribe()}}return ge.\u0275fac=function(ue){return new(ue||ge)(a.Y36(L.Z),a.Y36(mt.a),a.Y36(ce.Dx),a.Y36(le.sK),a.Y36(Z.T),a.Y36(Oe.E))},ge.\u0275cmp=a.Xpm({type:ge,selectors:[["app-view-client"]],features:[a._Bn([mt.a])],decls:18,vars:30,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],[1,"tw-pill-warning","tw-mr-2"]],template:function(ue,Ue){if(1&ue&&(a.TgZ(0,"app-title-bar",0),a.ALo(1,"translate"),a.ALo(2,"localize"),a.ynx(3,1),a.TgZ(4,"app-custom-tabs"),a._UZ(5,"app-custom-tab",2),a.YNc(6,Qs,1,2,"app-custom-tab",3),a.YNc(7,qs,1,2,"app-custom-tab",3),a.YNc(8,zs,1,2,"app-custom-tab",3),a.YNc(9,ia,1,2,"app-custom-tab",3),a._UZ(10,"app-custom-tab",2),a.YNc(11,co,1,2,"app-custom-tab",3),a._UZ(12,"app-custom-tab",2)(13,"app-custom-tab",4),a.qZA(),a.BQk(),a.ynx(14,5),a.YNc(15,jo,3,3,"span",6),a.BQk(),a.qZA(),a.TgZ(16,"div",7),a._UZ(17,"router-outlet"),a.qZA()),2&ue){let Zt;a.Q6J("title",Ue.client.clientName)("crumbs",a.VKq(28,gi,a.WLB(25,_o,a.lcZ(1,21,"Nav.Clients"),a.lcZ(2,23,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",Ue.client.nonEditable),a.xp6(5),a.Q6J("tabTitle","Nav.Details")("tabValue","details"),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.saml.display),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.wsFed.display),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.applicationUrls.display),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.secrets.display),a.xp6(1),a.Q6J("tabTitle","Nav.Resources")("tabValue","resources"),a.xp6(1),a.Q6J("ngIf",Ue.clientViewService.ciba.display),a.xp6(1),a.Q6J("tabTitle","Common.Advanced")("tabValue","advanced"),a.xp6(1),a.Q6J("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Zt=null==Ue.licenseInfo?null:Ue.licenseInfo.isStarterLicense())&&void 0!==Zt&&Zt),a.xp6(2),a.Q6J("ngIf",!Ue.client.enabled)}},dependencies:[m.lC,t.O5,$e.G,i.v,we.x,le.X$,T.lO],encapsulation:2}),ge})();var De=p(1206),$=p(8677),xe=p(8024),Ve=p(5046);const Ct=[{path:"clients",component:qo,canActivate:[$.B,Ve.h],data:{permissions:[De.y[De.y.IdentityServerManager],De.y[De.y.IdentityServerManagerReadOnly],De.y[De.y.AllReadOnly],De.y[De.y.All]]}},{path:"clients/:Id",component:It,loadChildren:()=>Promise.all([p.e(592),p.e(936)]).then(p.bind(p,7936)).then(ge=>ge.EditClientModule),canDeactivate:[xe.I],resolve:{client:j},canActivate:[$.B,Ve.h],data:{permissions:[De.y[De.y.IdentityServerManager],De.y[De.y.All]]}},{path:"clients/view/:Id",component:ro,loadChildren:()=>Promise.all([p.e(592),p.e(36)]).then(p.bind(p,8036)).then(ge=>ge.ViewClientModule),resolve:{client:j},canActivate:[$.B,Ve.h],data:{permissions:[De.y[De.y.IdentityServerManager],De.y[De.y.IdentityServerManagerReadOnly],De.y[De.y.AllReadOnly],De.y[De.y.All]]}}];let Ut=(()=>{class ge{}return ge.\u0275fac=function(ue){return new(ue||ge)},ge.\u0275mod=a.oAB({type:ge}),ge.\u0275inj=a.cJS({imports:[m.Bz.forChild(Ct),T.fQ.forChild(Ct),m.Bz]}),ge})();var Pt=p(1428);let Kt=(()=>{class ge{}return ge.\u0275fac=function(ue){return new(ue||ge)},ge.\u0275mod=a.oAB({type:ge}),ge.\u0275inj=a.cJS({providers:[j,N.U,Pt.d,q.K,qe.N,Te.S,J.L,B.i,V.T,f.S],imports:[Ut,t.ez,m.Bz,e.u5,g.D,e.UX,b.z8,C.zk,le.aw,T.fQ,W.l,Ee.F,ze.y,me.U,re.p,Se.t,ye.s,G.K,X.t,ne.I,K.d,E.T]}),ge})()},5150:(dt,Ce,p)=>{"use strict";p.d(Ce,{N:()=>m});var t=p(1135),e=p(4650);let m=(()=>{class T{constructor(){this.unsavedCache=new t.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac}),T})()},9536:(dt,Ce,p)=>{"use strict";p.d(Ce,{S:()=>m});var t=p(1135),e=p(4650);let m=(()=>{class T{constructor(){this.unsavedCache=new t.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac}),T})()},3351:(dt,Ce,p)=>{"use strict";p.d(Ce,{A:()=>V,z:()=>B});var t=p(5241),e=p(2976),m=p(4650),T=p(4006),C=p(8185),b=p(1481),g=p(7733),f=p(146),w=p(9383),_=p(426),R=p(6895),P=p(2294),a=p(2979);function k(J,q){1&J&&(m.TgZ(0,"span",21),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&J&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Common.Disabled")," "))}function L(J,q){1&J&&(m.TgZ(0,"div",22),m._UZ(1,"router-outlet"),m.qZA())}const Z=function(J,q){return{title:J,link:q}},j=function(J){return[J]},N=function(){return["active"]};function B(){return Object.assign(new t.gd,{closeOthers:!0})}let V=(()=>{class J{constructor(re,W,G,X,E,ne,K,le){this.fb=re,this.route=W,this.router=G,this.titleService=X,this.protectedResourceService=E,this.claimTypesService=ne,this.translate=K,this.scopesClaimService=le}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(re=>{this.protectedResource=re;const W=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+e.de.SITE_TITLE;this.titleService.setTitle(W)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:re=>{this.scopesClaimService.setClaimTypes(re)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(re){this.router.navigate([re],{relativeTo:this.route})}}return J.\u0275fac=function(re){return new(re||J)(m.Y36(T.QS),m.Y36(C.gz),m.Y36(C.F0),m.Y36(b.Dx),m.Y36(g.m),m.Y36(f.M),m.Y36(w.sK),m.Y36(_.q))},J.\u0275cmp=m.Xpm({type:J,selectors:[["app-view-protectedresource"]],features:[m._Bn([{provide:t.gd,useFactory:B}])],decls:53,vars:65,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","viewProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(re,W){1&re&&(m.TgZ(0,"app-title-bar",0),m.ALo(1,"translate"),m.ALo(2,"localize"),m.ynx(3,1),m.TgZ(4,"div",2)(5,"label",3),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"div",4)(9,"select",5),m.NdJ("change",function(X){return W.mobRoute(X.target.value)}),m.TgZ(10,"option",6),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"option",6),m._uU(14),m.ALo(15,"translate"),m.qZA(),m.TgZ(16,"option",7),m._uU(17),m.ALo(18,"translate"),m.qZA(),m.TgZ(19,"option",8),m._uU(20),m.ALo(21,"translate"),m.qZA(),m.TgZ(22,"option",9),m._uU(23),m.ALo(24,"translate"),m.qZA(),m.TgZ(25,"option",10),m._uU(26),m.ALo(27,"translate"),m.qZA()()()(),m.TgZ(28,"ul",11),m.ALo(29,"translate"),m.TgZ(30,"li",12)(31,"button",13),m._uU(32),m.ALo(33,"translate"),m.qZA()(),m.TgZ(34,"li",12)(35,"button",14),m._uU(36),m.ALo(37,"translate"),m.qZA()(),m.TgZ(38,"li",12)(39,"button",15),m._uU(40),m.ALo(41,"translate"),m.qZA()(),m.TgZ(42,"li",12)(43,"button",16),m._uU(44),m.ALo(45,"translate"),m.qZA()(),m.TgZ(46,"li",12)(47,"button",17),m._uU(48),m.ALo(49,"translate"),m.qZA()()(),m.BQk(),m.ynx(50,18),m.YNc(51,k,3,3,"span",19),m.BQk(),m.qZA(),m.YNc(52,L,2,0,"div",20)),2&re&&(m.Q6J("title",null==W.protectedResource?null:W.protectedResource.name)("crumbs",m.VKq(58,j,m.WLB(55,Z,m.lcZ(1,25,"ProtectedResources.Title"),m.lcZ(2,27,"/protectedresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",W.protectedResource.nonEditable),m.xp6(6),m.Oqu(m.lcZ(7,29,"Nav.SubMenu")),m.xp6(5),m.hij("",m.lcZ(12,31,"Nav.SubMenu"),"..."),m.xp6(3),m.Oqu(m.lcZ(15,33,"Nav.Details")),m.xp6(3),m.Oqu(m.lcZ(18,35,"Nav.Scopes")),m.xp6(3),m.Oqu(m.lcZ(21,37,"Nav.Claims")),m.xp6(3),m.Oqu(m.lcZ(24,39,"Nav.Secrets")),m.xp6(3),m.Oqu(m.lcZ(27,41,"Nav.Properties")),m.xp6(2),m.uIk("aria-label",m.lcZ(29,43,"Nav.SubMenu")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(60,N)),m.xp6(1),m.Oqu(m.lcZ(33,45,"Nav.Details")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(61,N)),m.xp6(1),m.Oqu(m.lcZ(37,47,"Nav.Scopes")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(62,N)),m.xp6(1),m.Oqu(m.lcZ(41,49,"Nav.Claims")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(63,N)),m.xp6(1),m.Oqu(m.lcZ(45,51,"Nav.Secrets")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(64,N)),m.xp6(1),m.Oqu(m.lcZ(49,53,"Nav.Properties")),m.xp6(3),m.Q6J("ngIf",!W.protectedResource.enabled),m.xp6(1),m.Q6J("ngIf",W.protectedResource))},dependencies:[R.O5,C.lC,C.rH,C.Od,P.G,w.X$,a.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),J})()},426:(dt,Ce,p)=>{"use strict";p.d(Ce,{q:()=>m});var t=p(4707),e=p(4650);let m=(()=>{class T{constructor(){this.cachedClaimTypes=new t.t(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(b){this.cachedClaimTypes.next(b)}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac}),T})()},7360:(dt,Ce,p)=>{"use strict";p.r(Ce),p.d(Ce,{UsersModule:()=>Fi});var t=p(6895),e=p(4006),m=p(8185),T=p(2979),C=p(388),b=p(2320),g=p(590),f=p(4650),w=p(4889),_=p(9881),R=p(7047),P=p(2294),a=p(9383);function k(Wt,Pn){1&Wt&&(f.TgZ(0,"span",25)(1,"span",26),f._uU(2),f.ALo(3,"translate"),f.qZA(),f._UZ(4,"span",27),f.qZA()),2&Wt&&(f.xp6(2),f.Oqu(f.lcZ(3,1,"StarterMode.RequiresUpgrade")))}const L=function(){return["active"]};function Z(Wt,Pn){1&Wt&&(f.TgZ(0,"li",14)(1,"button",28),f._uU(2),f.ALo(3,"translate"),f.qZA()()),2&Wt&&(f.xp6(1),f.Q6J("routerLinkActive",f.DdM(4,L)),f.xp6(1),f.Oqu(f.lcZ(3,2,"Nav.SessionManagement")))}function j(Wt,Pn){1&Wt&&(f.TgZ(0,"div",29)(1,"p"),f._uU(2),f.ALo(3,"translate"),f.ALo(4,"translate"),f.qZA()()),2&Wt&&(f.xp6(2),f.AsE("",f.lcZ(3,2,"Users.Delete.DeletedUser")," ",f.lcZ(4,4,"Users.Delete.AuditingPurposes"),""))}const N=function(Wt,Pn){return{title:Wt,link:Pn}},B=function(Wt){return[Wt]};let V=(()=>{class Wt{constructor(kt,zt,Sn,Ln,zn){this.r=kt,this.route=zt,this.errorService=Sn,this.configService=Ln,this.licenseService=zn}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:kt=>{this.user=kt.user},error:kt=>{this.errorService.handleError(kt)}}),this.configSubscription=this.configService.getConfig().subscribe({next:kt=>{this.showSessionManagement=kt.featureFlagOptions.sessionManagementEnabled},error:kt=>{this.errorService.handleError(kt)}}),this.licenseService.getLicenseInfo().pipe((0,g.P)()).subscribe({next:kt=>{this.licenseInfo=kt}})}mobRoute(kt){this.r.navigate([kt],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(f.Y36(m.F0),f.Y36(m.gz),f.Y36(w.T),f.Y36(_.E),f.Y36(R.E))},Wt.\u0275cmp=f.Xpm({type:Wt,selectors:[["ng-component"]],decls:65,vars:76,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["value","sessions"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(kt,zt){1&kt&&(f.TgZ(0,"app-title-bar",0),f.ALo(1,"translate"),f.ALo(2,"localize"),f.ynx(3,1),f.TgZ(4,"div",2)(5,"label",3),f._uU(6),f.ALo(7,"translate"),f.qZA(),f.TgZ(8,"div",4)(9,"select",5),f.NdJ("change",function(Ln){return zt.mobRoute(Ln.target.value)}),f.TgZ(10,"option",6),f._uU(11),f.ALo(12,"translate"),f.qZA(),f.TgZ(13,"option",6),f._uU(14),f.ALo(15,"translate"),f.qZA(),f.TgZ(16,"option",7),f._uU(17),f.ALo(18,"translate"),f.qZA(),f.TgZ(19,"option",8),f._uU(20),f.ALo(21,"translate"),f.qZA(),f.TgZ(22,"option",9),f._uU(23),f.ALo(24,"translate"),f.qZA(),f.TgZ(25,"option",10),f._uU(26),f.ALo(27,"translate"),f.qZA(),f.TgZ(28,"option",11),f._uU(29),f.ALo(30,"translate"),f.qZA(),f.TgZ(31,"option",12),f._uU(32),f.ALo(33,"translate"),f.qZA()()()(),f.TgZ(34,"ul",13),f.ALo(35,"translate"),f.TgZ(36,"li",14)(37,"button",15),f._uU(38),f.ALo(39,"translate"),f.qZA()(),f.TgZ(40,"li",14)(41,"button",16),f._uU(42),f.ALo(43,"translate"),f.qZA()(),f.TgZ(44,"li",14)(45,"button",17),f._uU(46),f.ALo(47,"translate"),f.qZA()(),f.TgZ(48,"li",14)(49,"button",18),f._uU(50),f.ALo(51,"translate"),f.qZA()(),f.TgZ(52,"li",14)(53,"button",19),f._uU(54),f.ALo(55,"translate"),f.qZA()(),f.TgZ(56,"li",14)(57,"button",20),f._uU(58),f.ALo(59,"translate"),f.YNc(60,k,5,3,"span",21),f.qZA()(),f.YNc(61,Z,4,5,"li",22),f.qZA(),f.BQk(),f.qZA(),f.TgZ(62,"div",23),f.YNc(63,j,5,6,"div",24),f._UZ(64,"router-outlet"),f.qZA()),2&kt&&(f.Q6J("title",zt.user.firstName+" "+zt.user.lastName)("totpEnabled",zt.user.totpEnabled)("crumbs",f.VKq(68,B,f.WLB(65,N,f.lcZ(1,29,"Nav.Users"),f.lcZ(2,31,"/users"))))("hasTabs",!0),f.xp6(6),f.Oqu(f.lcZ(7,33,"Nav.SubMenu")),f.xp6(5),f.hij("",f.lcZ(12,35,"Nav.SubMenu"),"..."),f.xp6(3),f.Oqu(f.lcZ(15,37,"Nav.Details")),f.xp6(3),f.Oqu(f.lcZ(18,39,"Nav.Roles")),f.xp6(3),f.Oqu(f.lcZ(21,41,"Nav.Additional Details")),f.xp6(3),f.Oqu(f.lcZ(24,43,"Nav.Applications")),f.xp6(3),f.Oqu(f.lcZ(27,45,"Nav.External Logins")),f.xp6(3),f.Oqu(f.lcZ(30,47,"Nav.Audits")),f.xp6(3),f.Oqu(f.lcZ(33,49,"Nav.SessionManagement")),f.xp6(2),f.uIk("aria-label",f.lcZ(35,51,"Nav.SubMenu")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(70,L)),f.xp6(1),f.Oqu(f.lcZ(39,53,"Nav.Details")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(71,L)),f.xp6(1),f.Oqu(f.lcZ(43,55,"Nav.Roles")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(72,L)),f.xp6(1),f.Oqu(f.lcZ(47,57,"Nav.Additional Details")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(73,L)),f.xp6(1),f.Oqu(f.lcZ(51,59,"Nav.Applications")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(74,L)),f.xp6(1),f.Oqu(f.lcZ(55,61,"Nav.External Logins")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(75,L)),f.xp6(1),f.hij(" ",f.lcZ(59,63,"Nav.Audits")," "),f.xp6(2),f.Q6J("ngIf",null==zt.licenseInfo?null:zt.licenseInfo.isStarterLicense()),f.xp6(1),f.Q6J("ngIf",zt.showSessionManagement),f.xp6(2),f.Q6J("ngIf",zt.user.isDeleted))},dependencies:[m.lC,m.rH,m.Od,t.O5,e.YN,e.Kr,P.G,a.X$,T.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),Wt})();var J=p(7579),q=p(4004),re=p(3635),W=p(8675),G=p(5577),X=p(1005),E=p(2976),ne=p(9046),K=p(8176),le=p(4961),me=p(1481),Se=p(7185),ye=p(1060),ze=p(7696),Ee=p(8163),qe=p(5925),Te=p(7608),nt=p(799),at=p(365),wt=p(5698),lt=(()=>{return(Wt=lt||(lt={}))[Wt.None=0]="None",Wt[Wt.Add=1]="Add",Wt[Wt.AddAnother=2]="AddAnother",Wt[Wt.AddAndConfigure=3]="AddAndConfigure",lt;var Wt})(),mt=p(765),pt=p(146),Yt=p(4946),un=p(4234);const Nt=["claimsComponent"],Mt=["addUserModal"];function Y(Wt,Pn){1&Wt&&(f.TgZ(0,"h2",37),f._UZ(1,"span",38),f.TgZ(2,"span",24),f._uU(3),f.ALo(4,"translate"),f.qZA(),f.TgZ(5,"span")(6,"a",39),f._uU(7),f.ALo(8,"translate"),f.qZA()()()),2&Wt&&(f.xp6(3),f.Oqu(f.lcZ(4,2,"Users.Password.DemoTitle")),f.xp6(4),f.hij(" ",f.lcZ(8,4,"Users.Password.DemoLink")," "))}function Q(Wt,Pn){if(1&Wt&&(f.TgZ(0,"div")(1,"div",33),f.YNc(2,Y,9,6,"h2",34),f.TgZ(3,"app-form-row",15),f._UZ(4,"input",35),f.TgZ(5,"ul",36)(6,"li"),f._uU(7),f.ALo(8,"translate"),f.qZA(),f.TgZ(9,"li"),f._uU(10),f.ALo(11,"translate"),f.qZA(),f.TgZ(12,"li"),f._uU(13),f.ALo(14,"translate"),f.qZA(),f.TgZ(15,"li"),f._uU(16),f.ALo(17,"translate"),f.qZA(),f.TgZ(18,"li"),f._uU(19),f.ALo(20,"translate"),f.qZA()()()()()),2&Wt){const kt=f.oxw();f.xp6(2),f.Q6J("ngIf",kt.isDemo),f.xp6(1),f.Q6J("id","Password")("label","Users.Password.Title")("isLast",!0),f.xp6(4),f.Oqu(f.lcZ(8,9,"Users.Password.Requirements.1")),f.xp6(3),f.Oqu(f.lcZ(11,11,"Users.Password.Requirements.2")),f.xp6(3),f.Oqu(f.lcZ(14,13,"Users.Password.Requirements.3")),f.xp6(3),f.Oqu(f.lcZ(17,15,"Users.Password.Requirements.4")),f.xp6(3),f.Oqu(f.lcZ(20,17,"Users.Password.Requirements.5"))}}function ce(Wt,Pn){1&Wt&&f._UZ(0,"span",40)}function We(Wt,Pn){1&Wt&&f._UZ(0,"span",40)}function Je(Wt,Pn){1&Wt&&f._UZ(0,"span",40)}const Oe=function(){return{animated:!1,backdrop:"static"}};let i=(()=>{class Wt{constructor(kt,zt,Sn,Ln,zn,Be,et,ft,Lt,pn,hn){this.userService=kt,this.claimTypesService=zt,this.errorService=Sn,this.translate=Ln,this.router=zn,this.fb=Be,this.toastr=et,this.localize=ft,this.securityService=Lt,this.healthCheckService=pn,this.configService=hn,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.onSubmitted=new f.vpe,this.inFlight=!1,this.addButtonClick=lt,this.addClicked=lt.None}keydown(kt){"Enter"===kt.key&&"addUserSubmit"!==kt.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.createForms(),this.configService.getConfig().pipe((0,wt.q)(1)).subscribe(kt=>{null!==kt.addUserPassword&&""!==kt.addUserPassword&&(this.canCreatePassword=!0===kt.addUserPassword||"true"===kt.addUserPassword||kt.isDemo),this.isDemo=kt.isDemo||this.securityService.licenseType===mt.o.Demo||this.securityService.licenseType===mt.o.Starter,this.isDemo&&(this.canCreatePassword=!0)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(kt=>{this.claimTypes=kt},kt=>{this.errorService.handleError(kt)})}addAnotherUser(){this.addAnother=!0,this.addClicked=lt.AddAnother,this.addUser()}addUser(kt){let zt;this.addClicked===lt.None&&(this.addClicked=kt?lt.AddAndConfigure:lt.Add),zt=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(zt,{claims:[]});for(const Sn of this.claimsComponent.requiredClaims){if(null===Sn.value)continue;let Ln=Sn.value;"DateTime"===Sn.format&&(Ln=Sn.value),"Int"===Sn.format&&(Ln=Ln.toString()),zt.claims.push({claimTypeId:Sn.typeId,value:Ln,type:Sn.type})}!1===this.canCreatePassword&&(zt.password=null),this.inFlight=!0,this.userService.addUser(zt).subscribe(Sn=>{this.inFlight=!1,this.addClicked=lt.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const Ln=this.translate.instant("Notifications.AccountCreated"),zn=this.translate.instant("Users.Singular")+" "+zt.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(Ln,zn),kt&&Sn.headers.get("location")?this.addUserAndConfigure(Sn.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},Sn=>{this.inFlight=!1,this.addClicked=lt.None,this.addAnother=!1,this.errorService.handleError(Sn)})}addUserAndConfigure(kt){const zt=kt.lastIndexOf("/"),Sn=kt.substring(zt+1),Ln=[this.localize.translateRoute("/users"),Sn];this.router.navigate(Ln)}createForms(){this.addUserForm=this.fb.group({username:["",[e.kI.required,(0,K.Fd)()]],email:["",at.J],firstName:["",e.kI.required],lastName:["",e.kI.required],password:["",e.kI.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(f.Y36(le.K),f.Y36(pt.M),f.Y36(w.T),f.Y36(a.sK),f.Y36(m.F0),f.Y36(e.QS),f.Y36(Se._W),f.Y36(T.An),f.Y36(ye.I),f.Y36(Yt.G),f.Y36(_.E))},Wt.\u0275cmp=f.Xpm({type:Wt,selectors:[["app-add-user"]],viewQuery:function(kt,zt){if(1&kt&&(f.Gf(Nt,7),f.Gf(Mt,7)),2&kt){let Sn;f.iGM(Sn=f.CRH())&&(zt.claimsComponent=Sn.first),f.iGM(Sn=f.CRH())&&(zt.addUserModal=Sn.first)}},hostBindings:function(kt,zt){1&kt&&f.NdJ("keydown",function(Ln){return zt.keydown(Ln)},!1,f.evT)},outputs:{onSubmitted:"onSubmitted"},decls:49,vars:39,consts:[["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addUserModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],["claimsComponent",""],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"disabled","click"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(kt,zt){if(1&kt&&(f.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),f._uU(6),f.ALo(7,"translate"),f.qZA(),f.TgZ(8,"button",6),f.NdJ("click",function(){return zt.hide()}),f._UZ(9,"span",7),f.TgZ(10,"span",8),f._uU(11),f.ALo(12,"translate"),f.qZA()()(),f.TgZ(13,"div",9)(14,"form",10)(15,"app-form-row",11),f._UZ(16,"input",12),f.qZA(),f.TgZ(17,"app-form-row",11),f._UZ(18,"input",13),f.qZA(),f.TgZ(19,"app-form-row",11),f._UZ(20,"input",14),f.qZA(),f.TgZ(21,"app-form-row",15),f._UZ(22,"input",16),f.qZA()(),f._UZ(23,"app-required-claims-form",17,18),f.TgZ(25,"form",19),f.YNc(26,Q,21,19,"div",20),f.qZA()(),f._UZ(27,"div",21),f.TgZ(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),f.NdJ("click",function(){return zt.addUser()}),f._uU(33),f.ALo(34,"translate"),f.YNc(35,ce,1,0,"span",27),f.qZA()(),f.TgZ(36,"span",28)(37,"button",29),f.NdJ("click",function(){return zt.addUser(!0)}),f._uU(38),f.ALo(39,"translate"),f.YNc(40,We,1,0,"span",27),f.qZA()(),f.TgZ(41,"span",30)(42,"button",31),f.NdJ("click",function(){return zt.addAnotherUser()}),f._uU(43),f.ALo(44,"translate"),f.YNc(45,Je,1,0,"span",27),f.qZA()()(),f.TgZ(46,"button",32),f.NdJ("click",function(){return zt.hide()}),f._uU(47),f.ALo(48,"translate"),f.qZA()()()()()()),2&kt){const Sn=f.MAs(24);f.Q6J("config",f.DdM(38,Oe)),f.xp6(6),f.Oqu(f.lcZ(7,26,"Users.NewUser")),f.xp6(5),f.Oqu(f.lcZ(12,28,"Common.Close")),f.xp6(3),f.Q6J("formGroup",zt.addUserForm),f.xp6(1),f.Q6J("id","FirstName")("label","Users.FirstName"),f.xp6(2),f.Q6J("id","LastName")("label","Users.LastName"),f.xp6(2),f.Q6J("id","Username")("label","Users.Username"),f.xp6(2),f.Q6J("id","Email")("label","Users.Email")("isLast",!zt.canCreatePassword),f.xp6(2),f.Q6J("claimTypes",zt.claimTypes),f.xp6(2),f.Q6J("formGroup",zt.addUserForm),f.xp6(1),f.Q6J("ngIf",zt.canCreatePassword),f.xp6(6),f.Q6J("disabled",!zt.addUserForm.valid||!Sn.isFormValid()||zt.inFlight),f.xp6(1),f.hij(" ",f.lcZ(34,30,"Common.Save")," "),f.xp6(2),f.Q6J("ngIf",zt.inFlight&&zt.addClicked===zt.addButtonClick.Add),f.xp6(2),f.Q6J("disabled",zt.addAnother||!zt.addUserForm.valid||!Sn.isFormValid()||zt.inFlight),f.xp6(1),f.hij(" ",f.lcZ(39,32,"Common.SaveAndConfigure")," "),f.xp6(2),f.Q6J("ngIf",zt.inFlight&&zt.addClicked===zt.addButtonClick.AddAndConfigure),f.xp6(2),f.Q6J("disabled",!zt.addUserForm.valid||!Sn.isFormValid()||zt.inFlight),f.xp6(1),f.hij(" ",f.lcZ(44,34,"Common.SaveAndAdd")," "),f.xp6(2),f.Q6J("ngIf",zt.inFlight&&zt.addClicked===zt.addButtonClick.AddAnother),f.xp6(2),f.Oqu(f.lcZ(48,36,"Common.Cancel"))}},dependencies:[t.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,C.oB,Te.L,un.x,a.X$],encapsulation:2}),Wt})();const we=["addUserModal"];function $e(Wt,Pn){if(1&Wt){const kt=f.EpF();f.TgZ(0,"app-add-user",29,30),f.NdJ("onSubmitted",function(Sn){f.CHM(kt);const Ln=f.oxw();return f.KtG(Ln.onSubmitted(Sn))}),f.qZA()}}const Ye=function(Wt,Pn){return{"tw-alert":Wt,"tw-alert-warning":Pn}},Fe=function(Wt){return{limit:Wt,type:"users",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}};function Tt(Wt,Pn){if(1&Wt&&(f.TgZ(0,"div",31),f._UZ(1,"span",32),f.ALo(2,"translate"),f.qZA()),2&Wt){const kt=f.oxw();f.Q6J("ngClass",f.WLB(5,Ye,kt.limitReached,kt.overLimit)),f.xp6(1),f.Q6J("innerHTML",f.xi3(2,2,"Common.QuotaLimit",f.VKq(8,Fe,kt.licenseInfo.maxUsers)),f.oJD)}}function vt(Wt,Pn){1&Wt&&(f.TgZ(0,"span"),f._UZ(1,"span",33),f._uU(2),f.ALo(3,"translate"),f.qZA()),2&Wt&&(f.xp6(2),f.hij(" ",f.lcZ(3,1,"Auditing.ShowFilters")," "))}function Ge(Wt,Pn){1&Wt&&(f.TgZ(0,"span"),f._UZ(1,"span",34),f._uU(2),f.ALo(3,"translate"),f.qZA()),2&Wt&&(f.xp6(2),f.hij(" ",f.lcZ(3,1,"Auditing.HideFilters")," "))}function de(Wt,Pn){if(1&Wt){const kt=f.EpF();f.TgZ(0,"div",38)(1,"label",39),f._uU(2),f.ALo(3,"translate"),f.qZA(),f.TgZ(4,"select",40),f.NdJ("ngModelChange",function(Sn){f.CHM(kt);const Ln=f.oxw(2);return f.KtG(Ln.pageSize=Sn)})("change",function(){f.CHM(kt);const Sn=f.oxw(2);return f.KtG(Sn.setPageLength(+Sn.pageSize))}),f.TgZ(5,"option",41),f._uU(6),f.ALo(7,"translate"),f.qZA(),f.TgZ(8,"option",42),f._uU(9),f.ALo(10,"translate"),f.qZA(),f.TgZ(11,"option",43),f._uU(12),f.ALo(13,"translate"),f.qZA()()()}if(2&Wt){const kt=f.oxw(2);f.xp6(2),f.AsE("",kt.pageSize," ",f.lcZ(3,6,"Nav.PerPage"),""),f.xp6(2),f.Q6J("ngModel",kt.pageSize),f.xp6(2),f.hij("25 ",f.lcZ(7,8,"Nav.PerPage"),""),f.xp6(3),f.hij("50 ",f.lcZ(10,10,"Nav.PerPage"),""),f.xp6(3),f.hij("100 ",f.lcZ(13,12,"Nav.PerPage"),"")}}function ee(Wt,Pn){if(1&Wt){const kt=f.EpF();f.ynx(0,44),f.TgZ(1,"button",45),f.NdJ("click",function(){f.CHM(kt);const Sn=f.oxw(2);return f.KtG(Sn.addModal.show())}),f._uU(2),f.ALo(3,"translate"),f.qZA(),f.BQk()}if(2&Wt){const kt=f.oxw(2);f.xp6(1),f.Q6J("disabled",kt.limitReached),f.xp6(1),f.hij(" ",f.lcZ(3,2,"Users.AddUser")," ")}}function U(Wt,Pn){if(1&Wt&&(f.TgZ(0,"app-action-bar"),f.ynx(1,35),f.YNc(2,de,14,14,"div",36),f.BQk(),f.YNc(3,ee,4,4,"ng-container",37),f.qZA()),2&Wt){const kt=f.oxw();f.xp6(2),f.Q6J("ngIf",(null==kt.pagedResult?null:kt.pagedResult.results.length)>0),f.xp6(1),f.Q6J("ngIf",!kt.isUserManagerReadOnly)}}function te(Wt,Pn){1&Wt&&f._UZ(0,"app-simple-loader")}function Re(Wt,Pn){1&Wt&&(f.TgZ(0,"div",46)(1,"div"),f._uU(2),f.ALo(3,"translate"),f.qZA()()),2&Wt&&(f.xp6(2),f.Oqu(f.lcZ(3,1,"Users.NoUsersFound")))}function ot(Wt,Pn){1&Wt&&(f.TgZ(0,"span",67)(1,"span",7),f._uU(2),f.ALo(3,"translate"),f.qZA()()),2&Wt&&(f.xp6(2),f.Oqu(f.lcZ(3,1,"Users.Filter.Deleted")))}function ut(Wt,Pn){1&Wt&&(f.TgZ(0,"span",68)(1,"span",7),f._uU(2),f.ALo(3,"translate"),f.qZA()()),2&Wt&&(f.xp6(2),f.Oqu(f.lcZ(3,1,"Users.Filter.Blocked")))}function Dt(Wt,Pn){1&Wt&&(f.TgZ(0,"span",69),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&Wt&&(f.xp6(1),f.hij(" ",f.lcZ(2,1,"Users.Filter.Deleted")," "))}function Qt(Wt,Pn){1&Wt&&(f.TgZ(0,"span",70),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&Wt&&(f.xp6(1),f.hij(" ",f.lcZ(2,1,"Users.Filter.Blocked")," "))}function mn(Wt,Pn){1&Wt&&(f.TgZ(0,"span",7),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&Wt&&(f.xp6(1),f.Oqu(f.lcZ(2,1,"Common.Edit")))}function nn(Wt,Pn){1&Wt&&(f.TgZ(0,"span",7),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&Wt&&(f.xp6(1),f.Oqu(f.lcZ(2,1,"Common.View")))}const _n=function(Wt,Pn){return{"fad fa-pencil":Wt,"fas fa-eye":Pn}};function sn(Wt,Pn){if(1&Wt){const kt=f.EpF();f.TgZ(0,"tr",54)(1,"td",55),f.NdJ("click",function(){const Ln=f.CHM(kt).$implicit,zn=f.oxw(2);return f.KtG(zn.viewOrEditUser(Ln))}),f.YNc(2,ot,4,3,"span",56),f.YNc(3,ut,4,3,"span",57),f.TgZ(4,"b",58),f._uU(5),f.qZA()(),f.TgZ(6,"td",59),f.NdJ("click",function(){const Ln=f.CHM(kt).$implicit,zn=f.oxw(2);return f.KtG(zn.viewOrEditUser(Ln))}),f._uU(7),f.qZA(),f.TgZ(8,"td",60),f.NdJ("click",function(){const Ln=f.CHM(kt).$implicit,zn=f.oxw(2);return f.KtG(zn.viewOrEditUser(Ln))}),f._uU(9),f.qZA(),f.TgZ(10,"td",61),f.NdJ("click",function(){const Ln=f.CHM(kt).$implicit,zn=f.oxw(2);return f.KtG(zn.viewOrEditUser(Ln))}),f.YNc(11,Dt,3,3,"span",62),f.YNc(12,Qt,3,3,"span",63),f.qZA(),f.TgZ(13,"td",61),f.NdJ("click",function(){const Ln=f.CHM(kt).$implicit,zn=f.oxw(2);return f.KtG(zn.viewOrEditUser(Ln))}),f.TgZ(14,"button",64),f.NdJ("click",function(){const Ln=f.CHM(kt).$implicit,zn=f.oxw(2);return f.KtG(zn.viewOrEditUser(Ln))}),f._UZ(15,"span",65),f.TgZ(16,"span",7),f._uU(17),f.ALo(18,"translate"),f.qZA(),f.YNc(19,mn,3,3,"span",66),f.YNc(20,nn,3,3,"span",66),f.qZA()()()}if(2&Wt){const kt=Pn.$implicit,zt=f.oxw(2);f.ekj("inactive",kt.isBlocked||kt.isDeleted||zt.overLimit),f.xp6(2),f.Q6J("ngIf",kt.isDeleted),f.xp6(1),f.Q6J("ngIf",kt.isBlocked&&!kt.isDeleted),f.xp6(2),f.hij(" ",kt.username," "),f.xp6(2),f.AsE(" ",kt.firstName," ",kt.lastName," "),f.xp6(2),f.hij(" ",kt.email," "),f.xp6(2),f.Q6J("ngIf",kt.isDeleted),f.xp6(1),f.Q6J("ngIf",kt.isBlocked&&!kt.isDeleted),f.xp6(3),f.Q6J("ngClass",f.WLB(16,_n,!zt.isUserManagerReadOnly&&!zt.overLimit,zt.isUserManagerReadOnly||zt.overLimit)),f.xp6(2),f.Oqu(f.lcZ(18,14,"Common.Edit")),f.xp6(2),f.Q6J("ngIf",!zt.isUserManagerReadOnly&&!zt.overLimit),f.xp6(1),f.Q6J("ngIf",zt.isUserManagerReadOnly||zt.overLimit)}}function gt(Wt,Pn){if(1&Wt&&(f.TgZ(0,"table",47)(1,"thead")(2,"tr")(3,"th",48),f._uU(4),f.ALo(5,"translate"),f.qZA(),f.TgZ(6,"th",49),f._uU(7),f.ALo(8,"translate"),f.qZA(),f.TgZ(9,"th",50),f._uU(10),f.ALo(11,"translate"),f.qZA(),f.TgZ(12,"th",51)(13,"span",7),f._uU(14),f.ALo(15,"translate"),f.qZA()(),f.TgZ(16,"th",51)(17,"span",7),f._uU(18),f.ALo(19,"translate"),f.qZA()()()(),f.TgZ(20,"tbody",52),f.YNc(21,sn,21,19,"tr",53),f.qZA()()),2&Wt){const kt=f.oxw();f.xp6(4),f.hij(" ",f.lcZ(5,6,"Users.Username")," "),f.xp6(3),f.hij(" ",f.lcZ(8,8,"Users.FullName")," "),f.xp6(3),f.hij(" ",f.lcZ(11,10,"Users.Email")," "),f.xp6(4),f.Oqu(f.lcZ(15,12,"Common.Status")),f.xp6(4),f.Oqu(f.lcZ(19,14,"Common.Actions")),f.xp6(3),f.Q6J("ngForOf",kt.pagedResult.results)}}function dn(Wt,Pn){if(1&Wt){const kt=f.EpF();f.TgZ(0,"app-pager",71),f.NdJ("onGoToPage",function(Sn){f.CHM(kt);const Ln=f.oxw();return f.KtG(Ln.goToPage(Sn))}),f.qZA()}if(2&Wt){const kt=f.oxw();f.Q6J("totalResults",null==kt.pagedResult?null:kt.pagedResult.totalCount)("currentPage",kt.page)("lastPage",null==kt.pagedResult?null:kt.pagedResult.pageCount)}}let It=(()=>{class Wt extends ne.bk{constructor(kt,zt,Sn,Ln,zn,Be,et,ft,Lt){super(et,zn,!0),this.router=kt,this.userService=zt,this.errorService=Sn,this.titleService=Ln,this.localize=Be,this.securityService=ft,this.licenseService=Lt,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new J.x,this.advancedFilterStream=new J.x,this.pageStream=new J.x,this.pageSizeStream=new J.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${E.de.SITE_TITLE}`),this.isLoading=!0;const kt=this.pageStream.pipe((0,q.U)(Be=>(this.page=Be,{searchTerm:this.term,page:Be,pageSize:this.pageSize,filters:this.activeFilters}))),zt=this.pageSizeStream.pipe((0,q.U)(Be=>(this.pageSize=Be,{searchTerm:this.term,page:this.page,pageSize:Be,filters:this.activeFilters}))),Sn=this.filterStream.pipe((0,q.U)(Be=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:Be}))),Ln=this.advancedFilterStream.pipe((0,q.U)(Be=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:Be})));kt.pipe((0,re.b)(zt),(0,re.b)(this.searchSource),(0,re.b)(Sn),(0,re.b)(Ln),(0,re.b)(this.enterKeySource),(0,W.O)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,G.z)(Be=>(this.isLoading=!0,this.userService.getUsersLightweight(Be.searchTerm,Be.page,Be.pageSize,Be.filters,Be.advancedFilters).pipe((0,X.g)(200))))).subscribe({next:Be=>{this.pagedResult=Be,this.isLoading=!1},error:Be=>{500===Be.status?this.handleInternalServerError():this.errorService.handleError(Be),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,g.P)()).subscribe({next:Be=>{this.licenseInfo=Be}})}mapSearchTerm(kt){return this.term=kt,{searchTerm:kt,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}editUser(kt){const zt=this.localize.translateRoute("/users");this.router.navigate([zt,kt.subject])}viewUser(kt){const zt=this.localize.translateRoute("/users/view");this.router.navigate([zt,kt.subject])}viewOrEditUser(kt){this.isUserManagerReadOnly||this.overLimit?this.viewUser(kt):this.editUser(kt)}goToPage(kt){this.pageStream.next(kt)}setPageLength(kt){this.page=1,this.pageSizeStream.next(kt)}filter(kt){if(this.activeFilters.includes(kt)){const zt=this.activeFilters.indexOf(kt);this.activeFilters.splice(zt,1)}else this.activeFilters.push(kt);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(kt){if(this.activeAdvancedFilters.includes(kt)){const zt=this.activeAdvancedFilters.indexOf(kt);this.activeAdvancedFilters.splice(zt,1)}else this.activeAdvancedFilters.push(kt);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(kt){return this.activeFilters.includes(kt)}onSubmitted(kt){kt&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}get isUserManagerReadOnly(){return(0,K.ub)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(f.Y36(m.F0),f.Y36(le.K),f.Y36(w.T),f.Y36(me.Dx),f.Y36(a.sK),f.Y36(T.An),f.Y36(Se._W),f.Y36(ye.I),f.Y36(R.E))},Wt.\u0275cmp=f.Xpm({type:Wt,selectors:[["ng-component"]],viewQuery:function(kt,zt){if(1&kt&&f.Gf(we,5),2&kt){let Sn;f.iGM(Sn=f.CRH())&&(zt.addModal=Sn.first)}},features:[f.qOj],decls:46,vars:37,consts:[["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","placeholder","ngModelChange","keyup"],["searchUserName",""],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"ngClass","click"],["id","blockedFilter",3,"ngClass","click"],["id","deletedFilter",3,"ngClass","click"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["addUserModal",""],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right","",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["right",""],["id","addUserBtn",1,"tw-btn-success",3,"disabled","click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(kt,zt){1&kt&&(f.YNc(0,$e,2,0,"app-add-user",0),f.TgZ(1,"div",1),f.YNc(2,Tt,3,10,"div",2),f.TgZ(3,"div",3)(4,"div",4)(5,"label",5),f._UZ(6,"span",6),f.TgZ(7,"span",7),f._uU(8),f.ALo(9,"translate"),f.qZA()(),f.TgZ(10,"input",8,9),f.NdJ("ngModelChange",function(Ln){return zt.searchTerm=Ln})("keyup",function(Ln){return zt.search(Ln)}),f.ALo(12,"translate"),f.qZA()(),f.TgZ(13,"button",10),f.NdJ("click",function(){return zt.showAdvancedFilters=!zt.showAdvancedFilters}),f.YNc(14,vt,4,3,"span",11),f.YNc(15,Ge,4,3,"span",11),f.qZA(),f.TgZ(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"app-form-row",16)(21,"app-form-toggle",17)(22,"input",18),f.NdJ("click",function(){return zt.advancedFilter("claims")}),f.qZA()()()()(),f.TgZ(23,"div",19)(24,"p",20),f._uU(25),f.ALo(26,"translate"),f.qZA(),f.TgZ(27,"ul",21)(28,"li",22)(29,"button",23),f.NdJ("click",function(){return zt.filter("active")}),f._uU(30),f.ALo(31,"translate"),f.qZA()(),f.TgZ(32,"li",22)(33,"button",24),f.NdJ("click",function(){return zt.filter("blocked")}),f._uU(34),f.ALo(35,"translate"),f.qZA()(),f.TgZ(36,"li")(37,"button",25),f.NdJ("click",function(){return zt.filter("deleted")}),f._uU(38),f.ALo(39,"translate"),f.qZA()()()()(),f._UZ(40,"hr"),f.qZA()(),f.YNc(41,U,4,2,"app-action-bar",11),f.YNc(42,te,1,0,"app-simple-loader",11),f.YNc(43,Re,4,3,"div",26),f.YNc(44,gt,22,16,"table",27),f.YNc(45,dn,1,3,"app-pager",28),f.qZA()),2&kt&&(f.Q6J("ngIf",!zt.isUserManagerReadOnly),f.xp6(2),f.Q6J("ngIf",zt.limitReached),f.xp6(6),f.Oqu(f.lcZ(9,25,"Common.Search")),f.xp6(2),f.s9C("placeholder",f.lcZ(12,27,"Users.SearchPlaceholder")),f.Q6J("ngModel",zt.searchTerm),f.xp6(4),f.Q6J("ngIf",!zt.showAdvancedFilters),f.xp6(1),f.Q6J("ngIf",zt.showAdvancedFilters),f.xp6(1),f.Q6J("hidden",!zt.showAdvancedFilters),f.xp6(4),f.Q6J("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),f.xp6(1),f.Q6J("id","includeClaims"),f.xp6(4),f.Oqu(f.lcZ(26,29,"Auditing.Showing")),f.xp6(4),f.Q6J("ngClass",zt.isShowing("active")?"tw-btn":"tw-btn-link"),f.xp6(1),f.hij(" ",f.lcZ(31,31,"Users.Filter.Active")," "),f.xp6(3),f.Q6J("ngClass",zt.isShowing("blocked")?"tw-btn":"tw-btn-link"),f.xp6(1),f.hij(" ",f.lcZ(35,33,"Users.Filter.Blocked")," "),f.xp6(3),f.Q6J("ngClass",zt.isShowing("deleted")?"tw-btn":"tw-btn-link"),f.xp6(1),f.hij(" ",f.lcZ(39,35,"Users.Filter.Deleted")," "),f.xp6(3),f.Q6J("ngIf",!zt.isLoading),f.xp6(1),f.Q6J("ngIf",zt.isLoading),f.xp6(1),f.Q6J("ngIf",(null==zt.pagedResult?null:zt.pagedResult.results.length)<1&&!zt.isLoading),f.xp6(1),f.Q6J("ngIf",(null==zt.pagedResult?null:zt.pagedResult.results.length)>0&&!zt.isLoading),f.xp6(1),f.Q6J("ngIf",(null==zt.pagedResult?null:zt.pagedResult.results.length)>0&&!zt.isLoading))},dependencies:[t.mk,t.sg,t.O5,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.On,ze.P,Ee.K,qe.w,Te.L,nt.O,i,a.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),Wt})();const Xt=function(){return["active"]};function fn(Wt,Pn){1&Wt&&(f.TgZ(0,"ul",10),f.ALo(1,"translate"),f.TgZ(2,"li",11)(3,"button",12),f._uU(4),f.ALo(5,"translate"),f.qZA()(),f.TgZ(6,"li",11)(7,"button",13),f._uU(8),f.ALo(9,"translate"),f.qZA()()()),2&Wt&&(f.uIk("aria-label",f.lcZ(1,5,"Nav.SubMenu")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(11,Xt)),f.xp6(1),f.Oqu(f.lcZ(5,7,"Nav.Users")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(12,Xt)),f.xp6(1),f.Oqu(f.lcZ(9,9,"Nav.SessionManagement")))}let An=(()=>{class Wt{constructor(kt,zt,Sn){this.r=kt,this.route=zt,this.configService=Sn}ngOnInit(){this.configService.getConfig().subscribe(kt=>{this.showSessionManagement=kt.featureFlagOptions.sessionManagementEnabled})}mobRoute(kt){this.r.navigate([kt],{relativeTo:this.route})}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(f.Y36(m.F0),f.Y36(m.gz),f.Y36(_.E))},Wt.\u0275cmp=f.Xpm({type:Wt,selectors:[["app-users-nav"]],decls:21,vars:17,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["class","tabs tw-hidden md:tw-flex","role","tablist",4,"ngIf"],["id","userRoutes"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(kt,zt){1&kt&&(f.TgZ(0,"app-title-bar",0),f.ALo(1,"translate"),f.ynx(2,1),f.TgZ(3,"div",2)(4,"label",3),f._uU(5),f.ALo(6,"translate"),f.qZA(),f.TgZ(7,"div",4)(8,"select",5),f.NdJ("change",function(Ln){return zt.mobRoute(Ln.target.value)}),f.TgZ(9,"option",6),f._uU(10),f.ALo(11,"translate"),f.qZA(),f.TgZ(12,"option",6),f._uU(13),f.ALo(14,"translate"),f.qZA(),f.TgZ(15,"option",7),f._uU(16),f.ALo(17,"translate"),f.qZA()()()(),f.YNc(18,fn,10,13,"ul",8),f.BQk(),f.qZA(),f.TgZ(19,"div",9),f._UZ(20,"router-outlet"),f.qZA()),2&kt&&(f.Q6J("hasTabs",!0)("title",f.lcZ(1,7,"Nav.Users")),f.xp6(5),f.Oqu(f.lcZ(6,9,"Nav.SubMenu")),f.xp6(5),f.hij("",f.lcZ(11,11,"Nav.SubMenu"),"..."),f.xp6(3),f.Oqu(f.lcZ(14,13,"Nav.Users")),f.xp6(3),f.Oqu(f.lcZ(17,15,"Nav.SessionManagement")),f.xp6(2),f.Q6J("ngIf",zt.showSessionManagement))},dependencies:[m.lC,m.rH,m.Od,t.O5,e.YN,e.Kr,P.G,a.X$],encapsulation:2}),Wt})();function kn(Wt,Pn){1&Wt&&(f.TgZ(0,"span",25),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&Wt&&(f.xp6(1),f.hij(" ",f.lcZ(2,1,"Users.Filter.Blocked")," "))}function Gn(Wt,Pn){1&Wt&&(f.TgZ(0,"span",26)(1,"span",27),f._uU(2),f.ALo(3,"translate"),f.qZA(),f._UZ(4,"span",28),f.qZA()),2&Wt&&(f.xp6(2),f.Oqu(f.lcZ(3,1,"StarterMode.RequiresUpgrade")))}function ti(Wt,Pn){1&Wt&&(f.TgZ(0,"div",29)(1,"p"),f._uU(2),f.ALo(3,"translate"),f.ALo(4,"translate"),f.qZA()()),2&Wt&&(f.xp6(2),f.AsE("",f.lcZ(3,2,"Users.Delete.DeletedUser")," ",f.lcZ(4,4,"Users.Delete.AuditingPurposes"),""))}const ii=function(Wt,Pn){return{title:Wt,link:Pn}},$t=function(Wt){return[Wt]},Qn=function(){return["active"]};let Nn=(()=>{class Wt{constructor(kt,zt,Sn,Ln){this.route=kt,this.router=zt,this.errorService=Sn,this.licenseService=Ln}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(kt=>{this.user=kt.user},kt=>{this.errorService.handleError(kt)}),this.licenseService.getLicenseInfo().pipe((0,g.P)()).subscribe({next:kt=>{this.licenseInfo=kt}})}mobRoute(kt){this.router.navigate([kt],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(f.Y36(m.gz),f.Y36(m.F0),f.Y36(w.T),f.Y36(R.E))},Wt.\u0275cmp=f.Xpm({type:Wt,selectors:[["ng-component"]],decls:63,vars:73,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(kt,zt){1&kt&&(f.TgZ(0,"app-title-bar",0),f.ALo(1,"translate"),f.ALo(2,"localize"),f.ynx(3,1),f.YNc(4,kn,3,3,"span",2),f.BQk(),f.ynx(5,3),f.TgZ(6,"div",4)(7,"label",5),f._uU(8),f.ALo(9,"translate"),f.qZA(),f.TgZ(10,"div",6)(11,"select",7),f.NdJ("change",function(Ln){return zt.mobRoute(Ln.target.value)}),f.TgZ(12,"option",8),f._uU(13),f.ALo(14,"translate"),f.qZA(),f.TgZ(15,"option",8),f._uU(16),f.ALo(17,"translate"),f.qZA(),f.TgZ(18,"option",9),f._uU(19),f.ALo(20,"translate"),f.qZA(),f.TgZ(21,"option",10),f._uU(22),f.ALo(23,"translate"),f.qZA(),f.TgZ(24,"option",11),f._uU(25),f.ALo(26,"translate"),f.qZA(),f.TgZ(27,"option",12),f._uU(28),f.ALo(29,"translate"),f.qZA(),f.TgZ(30,"option",13),f._uU(31),f.ALo(32,"translate"),f.qZA()()()(),f.TgZ(33,"ul",14),f.ALo(34,"translate"),f.TgZ(35,"li",15)(36,"button",16),f._uU(37),f.ALo(38,"translate"),f.qZA()(),f.TgZ(39,"li",15)(40,"button",17),f._uU(41),f.ALo(42,"translate"),f.qZA()(),f.TgZ(43,"li",15)(44,"button",18),f._uU(45),f.ALo(46,"translate"),f.qZA()(),f.TgZ(47,"li",15)(48,"button",19),f._uU(49),f.ALo(50,"translate"),f.qZA()(),f.TgZ(51,"li",15)(52,"button",20),f._uU(53),f.ALo(54,"translate"),f.qZA()(),f.TgZ(55,"li",15)(56,"button",21),f._uU(57),f.ALo(58,"translate"),f.YNc(59,Gn,5,3,"span",22),f.qZA()()(),f.BQk(),f.qZA(),f.TgZ(60,"div",23),f.YNc(61,ti,5,6,"div",24),f._UZ(62,"router-outlet"),f.qZA()),2&kt&&(f.Q6J("title",zt.user.firstName+" "+zt.user.lastName)("crumbs",f.VKq(65,$t,f.WLB(62,ii,f.lcZ(1,28,"Nav.Users"),f.lcZ(2,30,"/users"))))("hasTabs",!0)("isReadOnly",!0),f.xp6(4),f.Q6J("ngIf",zt.user.isBlocked),f.xp6(4),f.Oqu(f.lcZ(9,32,"Nav.SubMenu")),f.xp6(5),f.hij("",f.lcZ(14,34,"Nav.SubMenu"),"..."),f.xp6(3),f.Oqu(f.lcZ(17,36,"Nav.Details")),f.xp6(3),f.Oqu(f.lcZ(20,38,"Nav.Roles")),f.xp6(3),f.Oqu(f.lcZ(23,40,"Nav.Additional Details")),f.xp6(3),f.Oqu(f.lcZ(26,42,"Nav.Applications")),f.xp6(3),f.Oqu(f.lcZ(29,44,"Nav.External Logins")),f.xp6(3),f.Oqu(f.lcZ(32,46,"Nav.Audits")),f.xp6(2),f.uIk("aria-label",f.lcZ(34,48,"Nav.SubMenu")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(67,Qn)),f.xp6(1),f.Oqu(f.lcZ(38,50,"Nav.Details")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(68,Qn)),f.xp6(1),f.Oqu(f.lcZ(42,52,"Nav.Roles")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(69,Qn)),f.xp6(1),f.Oqu(f.lcZ(46,54,"Nav.Additional Details")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(70,Qn)),f.xp6(1),f.Oqu(f.lcZ(50,56,"Nav.Applications")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(71,Qn)),f.xp6(1),f.Oqu(f.lcZ(54,58,"Nav.External Logins")),f.xp6(3),f.Q6J("routerLinkActive",f.DdM(72,Qn)),f.xp6(1),f.hij(" ",f.lcZ(58,60,"Nav.Audits")," "),f.xp6(2),f.Q6J("ngIf",zt.licenseInfo.isStarterLicense()),f.xp6(2),f.Q6J("ngIf",zt.user.isDeleted))},dependencies:[m.lC,m.rH,m.Od,t.O5,P.G,a.X$,T.lO],encapsulation:2}),Wt})();var bt=p(1206),_t=p(6876),Ot=p(7364),Ze=p(8677),Ke=p(8783),it=p(5046);const yt=[{path:"users",component:An,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:It},{path:"sessions",component:_t.O,canActivate:[Ot.f]}],canActivate:[Ze.B,it.h],data:{permissions:[bt.y[bt.y.UserManager],bt.y[bt.y.UserManagerReadOnly],bt.y[bt.y.AllReadOnly],bt.y[bt.y.All]]}},{path:"users/:Id",component:V,loadChildren:()=>Promise.all([p.e(592),p.e(949)]).then(p.bind(p,949)).then(Wt=>Wt.EditUsersModule),resolve:{user:Ke.L},canActivate:[Ze.B,it.h],data:{permissions:[bt.y[bt.y.UserManager],bt.y[bt.y.All]]}},{path:"users/view/:Id",loadChildren:()=>Promise.all([p.e(592),p.e(71)]).then(p.bind(p,8071)).then(Wt=>Wt.ViewUserModule),component:Nn,canActivate:[Ze.B,it.h],resolve:{user:Ke.L},data:{permissions:[bt.y[bt.y.UserManager],bt.y[bt.y.UserManagerReadOnly],bt.y[bt.y.AllReadOnly],bt.y[bt.y.All]]}}];let Jt=(()=>{class Wt{}return Wt.\u0275fac=function(kt){return new(kt||Wt)},Wt.\u0275mod=f.oAB({type:Wt}),Wt.\u0275inj=f.cJS({imports:[m.Bz.forChild(yt),T.fQ.forChild(yt),m.Bz]}),Wt})();var on=p(5503),Bt=p(8265),Mn=p(85),Jn=p(4362),_i=p(5084),Cn=p(5785),Zn=p(4022),di=p(7770),Un=p(5971),Ui=p(9650),bi=p(5898),pi=p(8002),ci=p(4091);let Fi=(()=>{class Wt{}return Wt.\u0275fac=function(kt){return new(kt||Wt)},Wt.\u0275mod=f.oAB({type:Wt}),Wt.\u0275inj=f.cJS({providers:[Ke.L,Mn.e],imports:[Jt,t.ez,e.u5,e.UX,C.zk,on.D,a.aw,Bt.j,b.z8,T.fQ,Jn.l,_i.y,Cn.U,Zn.p,di.t,Un.s,Ui.I,bi.T,m.Bz,_t.O,pi.Z,ci.G]}),Wt})()},4901:(dt,Ce,p)=>{"use strict";p.d(Ce,{U:()=>t});let t=(()=>{class e{}return e.DocsLink="documentation/index.html",e.EnablingDynamicAuth="documentation/DynamicAuthentication/Enabling_Dynamic_Authentication.html",e.AdvOthDynamicAuth="documentation/DynamicAuthentication/Editing_a_Oidc_Dynamic_Provider.html#advanced-tab-other",e.ApiDocsLink="swagger",e.SupportLink="mailto:support@identityserver.com?subject=AdminUI",e})()},5373:(dt,Ce,p)=>{"use strict";p.d(Ce,{n:()=>t});let t=(()=>{class e{}return e.DefaultAdministratorUsername="info@rocksolidknowledge.com",e})()},5712:(dt,Ce,p)=>{"use strict";p.d(Ce,{G:()=>t});let t=(()=>{class e{}return e.Id="wizard-modal",e.TileId="wizard-title",e.DescriptionId="wizard-description",e})()},6417:(dt,Ce,p)=>{"use strict";p.r(Ce),p.d(Ce,{DynamicAuthModule:()=>Ne});var t=p(6895),e=p(4006),m=p(8185),T=p(2979),C=p(9383),b=p(388),g=p(9241),f=p(2320),w=p(1191),_=p(9679),R=p(8413),P=p(5150),a=p(9536),k=p(5503),L=p(8117),Z=p(4995),j=p(3883),N=p(9002),B=p(5302),V=p(3499),J=p(4022),q=p(4362),re=p(6980),W=p(7023),G=p(8265),X=p(1230),E=p(4380),ne=p(5898),K=p(9650),le=p(1274),me=p(8975),Se=p(6493),ye=p(8761),ze=p(1436),Ee=p(5971),qe=p(5084),Te=p(5785),nt=p(9858),at=p(9881),wt=p(4091),lt=p(3831),mt=p(618),pt=p(1842),Yt=p(529),un=p(4707),Nt=p(4782),Mt=p(4004),Y=p(262),Q=p(9646),ce=(()=>{return(F=ce||(ce={}))[F.Query=0]="Query",F[F.FormPost=1]="FormPost",F[F.Fragment=2]="Fragment",ce;var F})(),We=(()=>{return(F=We||(We={})).OIDC="oidc",F.SAML="saml2p",F.Enabled="enabled",F.Disabled="disabled",We;var F})(),Je=(()=>{return(F=Je||(Je={})).AuthCode="AuthCode",F.AuthCodePlusPkce="AuthCodePlusPkce",Je;var F})();class Oe{static AllowRemoveScope(Ae){return!this.RequiredScopes.includes(Ae)}}Oe.DiscoveryDocumentPath="/.well-known/openid-configuration",Oe.DiscoveryDocCachingDuration=6e4,Oe.FlowTypes=[Je.AuthCode,Je.AuthCodePlusPkce],Oe.RequiredScopes=["openid"],Oe.ScopeOptions=[...Oe.RequiredScopes,"profile","email"],Oe.MaxScopeLength=100,Oe.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"Idsrv.External",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}],Oe.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");',Oe.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });',Oe.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });',Oe.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc",Oe.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr",Oe.ResponseModeMap=new Map([["query",ce.Query],["form_post",ce.FormPost],["fragment",ce.Fragment]]),Oe.ResponseModeKey=F=>[...Oe.ResponseModeMap.entries()].filter(({1:D})=>D===F).map(([D])=>D)[0];var i=p(4650),we=p(8564);let $e=(()=>{class F{constructor(D,oe){this.http=D,this.cacheTime=0,this.discoveryDoc=new un.t(1),this.headers=oe.setHeaders()}get cacheTimeout(){return Oe.DiscoveryDocCachingDuration}getDiscoveryDocument(D,oe=!1){this.actionUrl=Oe.AdminUIOidcDiscoveryDocumentEndpoint;const ht=Date.now()-this.cacheTime>=this.cacheTimeout;if(!oe&&(!D||this.previousAuthority===D&&!ht&&this.discoveryDoc))return this.discoveryDoc.asObservable();let Gt=new Yt.LE;return Gt=Gt.append("authority",D),this.http.get(this.actionUrl,{headers:this.headers,params:Gt}).pipe((0,Nt.d)(1),(0,Mt.U)(xn=>(this.previousAuthority=D,this.cacheTime=Date.now(),this.discoveryDoc.next(xn),xn)),(0,Y.K)(xn=>(this.previousAuthority=D,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,Q.of)(null))))}isValid(D){return this.getDiscoveryDocument(D,!0).pipe((0,Mt.U)(oe=>!(!oe||!oe.issuer)))}supportedScopes(D){return this.getDiscoveryDocument(D).pipe((0,Mt.U)(oe=>oe?.scopes_supported??Oe.ScopeOptions))}validateMetadataUrl(D){this.actionUrl=Oe.AdminUISamlMetadataEndpoint;let oe=new Yt.LE;return oe=oe.append("metadataUrl",D),this.http.get(this.actionUrl,{headers:this.headers,params:oe}).pipe((0,Nt.d)(1),(0,Mt.U)(ht=>!0),(0,Y.K)(ht=>(0,Q.of)(!1)))}}return F.\u0275fac=function(D){return new(D||F)(i.LFG(Yt.eN),i.LFG(we.s))},F.\u0275prov=i.Yz7({token:F,factory:F.\u0275fac}),F})(),Ye=(()=>{class F{constructor(){this.dtoObject={},this.summaryModels=[]}reset(){this.dtoObject={},this.summaryModels=[]}addToDto(D){this.dtoObject={...this.dtoObject,...D}}getDto(){return this.dtoObject}addSummary(D,oe){const ht=this.summaryModels.findIndex(xn=>xn.stepName===D);-1===ht?this.summaryModels.push({stepName:D,stepData:oe}):this.summaryModels[ht].stepData=oe}getSummary(){return this.summaryModels}}return F.\u0275fac=function(D){return new(D||F)},F.\u0275prov=i.Yz7({token:F,factory:F.\u0275fac}),F})();var Xe=p(7579),Fe=p(590),Tt=p(3635),vt=p(8675),Ge=p(5577),de=p(1005),ee=p(2831),U=p(6205),te=p(8176),Re=p(9046),ot=p(2976),ut=p(5712),Dt=p(5188),Qt=p(4901),mn=p(4889),nn=p(1481),_n=p(1060),sn=p(7185),gt=p(2294),dn=p(8163),It=p(5925),Xt=p(7696),fn=p(1330),An=p(7608);let kn=(()=>{class F{constructor(D,oe){this.wizardDataService=D,this.fb=oe}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const D={};return D.clientSecret=this.clientSecretForm.get("clientSecret").value,D}toSummaryMap(){const D=new Map;return D.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),D}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(Ye),i.Y36(e.QS))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-client-secret-step"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i._UZ(1,"p",1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"form",2)(4,"app-form-row",3),i._UZ(5,"input",4),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),i.oJD),i.xp6(2),i.Q6J("formGroup",oe.clientSecretForm),i.xp6(1),i.Q6J("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,An.L,C.X$],encapsulation:2}),F})();var Gn=p(6482);function ti(){return e.kI.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function ii(){return e.kI.pattern(/^\/federation([/]{1}[\w-]{0,}){1,}$/)}function $t(F){if((0,te.le)(F.value))return{invalidUri:"Errors.ValidateAbsoluteUri.NullOrUndefined"};let Ae=(0,Gn.parse)(F.value);return(0,te.hr)(Ae.query)&&(0,te.hr)(Ae.fragment)?"absolute"!==Ae.reference?{invalidUri:"Errors.ValidateAbsoluteUri.MustBeAbsolute"}:(0,te.hr)(Ae.error)?null:(console.log("Error not null or empty"),{invalidUri:Ae.error}):{invalidUri:"Errors.ValidateAbsoluteUri.MustNotContainQueryFragmeant"}}function Qn(F,Ae){1&F&&(i.TgZ(0,"app-form-row",3),i._UZ(1,"input",11),i.qZA()),2&F&&i.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function Nn(F,Ae){if(1&F&&(i.TgZ(0,"option",12),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F){const D=Ae.$implicit;i.Q6J("value",D),i.xp6(1),i.Oqu(i.lcZ(2,2,"DynamicAuth.Flows."+D))}}let bt=(()=>{class F{constructor(D,oe,ht,Gt,xn,Yn){this.wizardDataService=D,this.fb=oe,this.configService=ht,this.translate=Gt,this.providerValidator=xn,this.toastr=Yn,this.failedToContactAuthority=!1,this.allowedFlows=Oe.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:D=>{this.isRskDynamicAuth=D.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var D=this.connectionForm.get("authority").value;this.providerValidator.isValid(D).subscribe(oe=>{oe||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let D={authority:["https://",[e.kI.required,e.kI.pattern("^https://.{1,}$")]],clientId:["",e.kI.required]};this.isRskDynamicAuth&&(D.callbackPath=["/oidc-scheme",[e.kI.required,ti()]]),D.flow=[Je.AuthCodePlusPkce,[e.kI.required]],this.connectionForm=this.fb.group(D)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const D={};return D.authority=this.connectionForm.get("authority").value,D.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(D.callbackPath=this.connectionForm.get("callbackPath").value),D.flow=this.connectionForm.get("flow").value,D}toSummaryMap(){const D=new Map;return D.set("authority",[this.connectionForm.get("authority").value]),D.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&D.set("callbackPath",[this.connectionForm.get("callbackPath").value]),D.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),D}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(Ye),i.Y36(e.QS),i.Y36(at.E),i.Y36(C.sK),i.Y36($e),i.Y36(sn._W))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-connection-step"]],inputs:{data:"data"},decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i._UZ(1,"p",1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"form",2)(4,"app-form-row",3)(5,"input",4),i.NdJ("focusout",function(){return oe.tryReachAuthority()}),i.qZA()(),i.TgZ(6,"app-form-row",3),i._UZ(7,"input",5),i.qZA(),i.YNc(8,Qn,2,3,"app-form-row",6),i.TgZ(9,"app-form-row",7)(10,"div",8)(11,"select",9),i.YNc(12,Nn,3,4,"option",10),i.qZA()()()()),2&D&&(i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),i.oJD),i.xp6(2),i.Q6J("formGroup",oe.connectionForm),i.xp6(1),i.Q6J("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),i.xp6(2),i.Q6J("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),i.xp6(2),i.Q6J("ngIf",oe.isRskDynamicAuth),i.xp6(1),i.Q6J("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),i.xp6(3),i.Q6J("ngForOf",oe.allowedFlows))},dependencies:[t.sg,t.O5,e._Y,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.JL,e.Q7,e.sg,e.u,An.L,C.X$],encapsulation:2}),F})();var _t=p(9751),Ot=p(3900),Ze=p(1651);function Ke(F,Ae){if(1&F&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"slice"),i.qZA()),2&F){const D=Ae.item;i.xp6(1),i.Oqu(D.length>20?i.Dn7(2,1,D,0,20)+"...":D)}}function it(F,Ae){1&F&&(i.TgZ(0,"div",16)(1,"div"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&F&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"DynamicAuth.NoScopesMessage")," "))}function yt(F,Ae){1&F&&(i.TgZ(0,"span",20),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Common.Reserved")," "))}function Jt(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"button",21),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw().$implicit,Gt=i.oxw(2);return i.KtG(Gt.removeScope(ht))}),i._UZ(1,"span",22),i.TgZ(2,"span",13),i._uU(3),i.ALo(4,"translate"),i.qZA()()}if(2&F){const D=i.oxw().$implicit;i.Q6J("id","btnRemove"+D),i.xp6(3),i.Oqu(i.lcZ(4,2,"Common.Remove.Title"))}}function on(F,Ae){if(1&F&&(i.TgZ(0,"tr")(1,"td",17)(2,"span"),i._uU(3),i.qZA()(),i.TgZ(4,"td"),i.YNc(5,yt,3,3,"span",18),i.qZA(),i.TgZ(6,"td"),i.YNc(7,Jt,5,4,"button",19),i.qZA()()),2&F){const D=Ae.$implicit,oe=i.oxw(2);i.xp6(3),i.Oqu(D),i.xp6(2),i.Q6J("ngIf",!oe.allowRemoveScope(D)),i.xp6(2),i.Q6J("ngIf",oe.allowRemoveScope(D))}}function Bt(F,Ae){if(1&F&&(i.TgZ(0,"div",9),i.YNc(1,it,4,3,"div",10),i.TgZ(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),i._uU(6),i.ALo(7,"translate"),i.qZA()(),i.TgZ(8,"th",14)(9,"span",13),i._uU(10),i.ALo(11,"translate"),i.qZA()(),i.TgZ(12,"th",14)(13,"span",13),i._uU(14),i.ALo(15,"translate"),i.qZA()()(),i.TgZ(16,"tbody"),i.YNc(17,on,8,3,"tr",15),i.qZA()()()),2&F){const D=i.oxw();i.Q6J("id","Scopes"),i.xp6(1),i.Q6J("ngIf",D.scopes.length<=0),i.xp6(5),i.Oqu(i.lcZ(7,6,"Common.Scope")),i.xp6(4),i.Oqu(i.lcZ(11,8,"Common.Reserved")),i.xp6(4),i.Oqu(i.lcZ(15,10,"Common.Actions")),i.xp6(3),i.Q6J("ngForOf",D.scopes)}}let Mn=(()=>{class F{constructor(D,oe,ht,Gt,xn){this.wizardDataService=D,this.toastrService=oe,this.translateService=ht,this.fb=Gt,this.providerValidator=xn,this.scopes=[...Oe.RequiredScopes],this.maxScopeLength=Oe.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new _t.y(D=>{let oe=this.scopesForm.get("newScope").value;D.next(oe)}).pipe((0,Ot.w)(D=>this.providerValidator.supportedScopes().pipe((0,Mt.U)(oe=>this.filterScopes(D,oe)))))}filterScopes(D,oe){const ht=!D;return oe.filter(Gt=>!this.scopes.includes(Gt)&&(ht||Gt.includes(D)))}addScope(){var D=this.scopesForm.get("newScope").value;if(""!==D)if(this.scopes.includes(D)){const oe=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(oe)}else if(D.indexOf(" ")>=0){const oe=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(oe)}else this.scopes.push(D);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(D){const oe=this.scopes.indexOf(D);if(-1!==oe)this.scopes.splice(oe,1);else{const ht=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(ht)}}allowRemoveScope(D){return Oe.AllowRemoveScope(D)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const D={};return D.scopes=this.scopes,D}toSummaryMap(){const D=new Map;return D.set("scopes",this.scopes),D}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(Ye),i.Y36(sn._W),i.Y36(C.sK),i.Y36(e.QS),i.Y36($e))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-scopes-step"]],inputs:{data:"data"},decls:14,vars:20,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],["customItemTemplate",""],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"id","click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(D,oe){if(1&D&&(i.TgZ(0,"div",0),i._UZ(1,"p",1),i.ALo(2,"translate"),i.qZA(),i.YNc(3,Ke,3,5,"ng-template",null,2,i.W1O),i.TgZ(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),i._UZ(8,"input",6),i.ALo(9,"translate"),i.TgZ(10,"button",7),i.NdJ("click",function(){return oe.addScope()}),i._uU(11),i.ALo(12,"translate"),i.qZA()()(),i.YNc(13,Bt,18,12,"div",8),i.qZA()),2&D){const ht=i.MAs(4);i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),i.oJD),i.xp6(4),i.Q6J("formGroup",oe.scopesForm),i.xp6(1),i.Q6J("id","NewScope")("hasLabel",!1)("isLast",!0),i.xp6(2),i.s9C("placeholder",i.lcZ(9,16,"DynamicAuth.Scopes.Placeholder")),i.Q6J("typeahead",oe.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",ht)("typeaheadMinLength",0)("maxlength",oe.maxScopeLength),i.xp6(3),i.hij(" ",i.lcZ(12,18,"Common.Add")," "),i.xp6(2),i.Q6J("ngIf",oe.scopes.length>0)}},dependencies:[t.sg,t.O5,e._Y,e.Fj,e.JJ,e.JL,e.nD,e.sg,e.u,w.Bp,An.L,Ze.T,t.OU,C.X$],encapsulation:2}),F})(),_i=(()=>{class F{constructor(D,oe){this.wizardDataService=D,this.fb=oe}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[e.kI.required,e.kI.pattern(/^[\d\w-]*$/)]],displayName:["",[e.kI.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const D={};return D.scheme=this.nameRoleForm.get("scheme").value,D.displayName=this.nameRoleForm.get("displayName").value,D}toSummaryMap(){const D=new Map;return D.set("scheme",[this.nameRoleForm.get("scheme").value]),D.set("displayName",[this.nameRoleForm.get("displayName").value]),D}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(Ye),i.Y36(e.QS))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-name-role-step"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i._UZ(1,"p",1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"form",2)(4,"app-form-row",3),i._UZ(5,"input",4),i.qZA(),i.TgZ(6,"app-form-row",5),i._UZ(7,"input",6),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),i.oJD),i.xp6(2),i.Q6J("formGroup",oe.nameRoleForm),i.xp6(1),i.Q6J("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),i.xp6(2),i.Q6J("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,An.L,C.X$],encapsulation:2}),F})();var Cn=p(799);function Zn(F,Ae){if(1&F&&(i.TgZ(0,"span",10),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F){const D=i.oxw().$implicit;i.xp6(1),i.hij(" ",i.lcZ(2,1,D.help)," ")}}function di(F,Ae){if(1&F&&(i.TgZ(0,"li",5)(1,"label",6),i._UZ(2,"input",7),i.TgZ(3,"span",8),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.YNc(6,Zn,3,3,"span",9),i.qZA()),2&F){const D=Ae.$implicit,oe=Ae.index,ht=i.oxw();i.xp6(1),i.hYB("for","",ht.id,"-item-",oe,""),i.xp6(1),i.hYB("id","",ht.id,"-item-",oe,""),i.Q6J("value",D.value),i.xp6(2),i.Oqu(i.lcZ(5,7,D.name)),i.xp6(2),i.Q6J("ngIf",D.help)}}function Un(F,Ae){if(1&F&&(i.TgZ(0,"li",5)(1,"label",6),i._UZ(2,"input",7),i.TgZ(3,"span",8),i._uU(4),i.ALo(5,"translate"),i.ALo(6,"translate"),i.qZA()()()),2&F){const D=i.oxw();i.xp6(1),i.MGl("for","",D.id,"-item-custom"),i.xp6(1),i.MGl("id","",D.id,"-item-custom"),i.Q6J("value",D.customRadioValue),i.xp6(2),i.AsE("",i.lcZ(5,5,"Common.Custom")," ",i.lcZ(6,7,D.label),"")}}function Ui(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"app-form-row",11)(1,"input",12),i.NdJ("ngModelChange",function(ht){i.CHM(D);const Gt=i.oxw();return i.KtG(Gt.valueChanged.emit(ht))}),i.ALo(2,"translate"),i.qZA()()}if(2&F){const D=i.oxw();i.MGl("id","",D.id,"-custom"),i.Q6J("label","Common.Custom")("isLast",D.isLast),i.xp6(1),i.MGl("id","",D.id,"-item-value"),i.s9C("placeholder",i.lcZ(2,6,D.placeholder)),i.Q6J("ngModel",D.value)}}let bi=(()=>{class F{constructor(D){this.fb=D,this.listItems=[],this.allowCustom=!1,this.valueChanged=new i.vpe,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const D=this.listItems.some(oe=>oe.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[D]}),this.radioForm.get("radioVal").valueChanges.subscribe(oe=>{this.valueChanged.emit(oe===this.customRadioValue?"":oe)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},decls:6,vars:12,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"id","ngModel","placeholder","ngModelChange"]],template:function(D,oe){1&D&&(i.TgZ(0,"app-form-row",0)(1,"ul",1),i.ALo(2,"translate"),i.YNc(3,di,7,9,"li",2),i.YNc(4,Un,7,9,"li",3),i.qZA()(),i.YNc(5,Ui,3,8,"app-form-row",4)),2&D&&(i.MGl("id","",oe.id,"-options"),i.Q6J("label",oe.label)("help",oe.help)("isLast",!oe.showCustom()&&oe.isLast)("formGroup",oe.radioForm),i.xp6(1),i.MGl("id","",oe.id,"-options-list"),i.uIk("aria-label",i.lcZ(2,10,oe.label)),i.xp6(2),i.Q6J("ngForOf",oe.listItems),i.xp6(1),i.Q6J("ngIf",oe.allowCustom),i.xp6(1),i.Q6J("ngIf",oe.showCustom()))},dependencies:[e.Fj,e._,e.JJ,e.JL,e.On,e.sg,e.u,t.sg,t.O5,An.L,C.X$],encapsulation:2}),F})();function pi(F,Ae){if(1&F&&(i.TgZ(0,"app-form-row",7)(1,"app-form-toggle",8),i._UZ(2,"input",9),i.qZA()()),2&F){const D=i.oxw(2);i.Q6J("id","DifferentScheme")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help")("isLast",!D.diffSignOut),i.xp6(1),i.Q6J("id","DifferentScheme")("isTraffic",!0)("isAlt",!1)}}function ci(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"app-radio-list-input",10),i.NdJ("valueChanged",function(ht){i.CHM(D);const Gt=i.oxw(2);return i.KtG(Gt.signInSchemeForm.get("outScheme").setValue(ht))}),i.qZA()}if(2&F){const D=i.oxw(2);i.Q6J("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help")("listItems",D.options)("allowCustom",!0)("value",D.signInSchemeForm.get("outScheme").value)("isLast",!0)}}function Fi(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"form",3)(1,"app-radio-list-input",4),i.NdJ("valueChanged",function(ht){i.CHM(D);const Gt=i.oxw();return i.KtG(Gt.signInSchemeForm.get("scheme").setValue(ht))}),i.qZA(),i.YNc(2,pi,3,7,"app-form-row",5),i.YNc(3,ci,1,6,"app-radio-list-input",6),i.qZA()}if(2&F){const D=i.oxw();i.Q6J("formGroup",D.signInSchemeForm),i.xp6(1),i.Q6J("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",D.options)("allowCustom",!0)("value",D.signInSchemeForm.get("scheme").value)("isLast",!1),i.xp6(1),i.Q6J("ngIf",D.isRskDynamicAuth),i.xp6(1),i.Q6J("ngIf",D.diffSignOut)}}let Wt=(()=>{class F{constructor(D,oe,ht){this.wizardDataService=D,this.fb=oe,this.configService=ht,this.isRskDynamicAuth=!1,this.options=Oe.SignInSchemeOptions,this.snippet=Oe.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().pipe((0,Fe.P)()).subscribe({next:D=>{this.isRskDynamicAuth=D.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk,this.isRskDynamicAuth?(this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,e.kI.required],diffSignOut:[!1],outScheme:[this.options[0].value]}),this.signInSchemeForm.get("diffSignOut").valueChanges.subscribe(oe=>{this.signInSchemeForm.get("outScheme").setValidators(oe?[e.kI.required]:[])})):this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,e.kI.required]})}})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}get diffSignOut(){return this.isRskDynamicAuth&&this.signInSchemeForm.get("diffSignOut").value}toStepDto(){const D={};return D.signInScheme=this.signInSchemeForm.get("scheme").value,this.diffSignOut&&(D.signOutScheme=this.signInSchemeForm.get("outScheme").value),D}toSummaryMap(){const D=new Map;return D.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),this.diffSignOut&&D.set("signOutScheme",[this.signInSchemeForm.get("outScheme").value]),D}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(Ye),i.Y36(e.QS),i.Y36(at.E))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},decls:4,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","Scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged"],[3,"id","label","help","isLast",4,"ngIf"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","DifferentScheme","formControlName","diffSignOut","type","checkbox",1,"tw-form-switch__input"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i._UZ(1,"p",1),i.ALo(2,"translate"),i.qZA(),i.YNc(3,Fi,4,9,"form",2)),2&D&&(i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,2,"DynamicAuth.Wizard.SignInSchemeStep.Title"),i.oJD),i.xp6(2),i.Q6J("ngIf",oe.signInSchemeForm))},dependencies:[t.O5,e._Y,e.Wl,e.JJ,e.JL,e.sg,e.u,An.L,Cn.O,bi,C.X$],encapsulation:2}),F})();var Pn=p(7892),kt=p(9326),zt=p(826);function Sn(F,Ae){if(1&F&&(i._UZ(0,"span",8),i.ALo(1,"translate")),2&F){const D=i.oxw();i.Q6J("innerHTML",i.lcZ(1,1,D.isRskDynamicAuth?"Errors.PathValidation":"DynamicAuth.FederationPathWarning"),i.oJD)}}let Ln=(()=>{class F{constructor(D,oe,ht){this.wizardDataService=D,this.fb=oe,this.configService=ht}ngOnInit(){this.configService.getConfig().pipe((0,Fe.P)()).subscribe({next:D=>{this.isRskDynamicAuth=D.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk,this.buildForm()}})}ngOnDestroy(){}buildForm(){const D=this.isRskDynamicAuth?ti():ii();let oe=this.wizardDataService.getDto().scheme;(0,te.hr)(oe)&&(oe="{scheme}"),this.serviceProviderForm=this.fb.group({entityId:["",[e.kI.required]],callbackPath:[this.isRskDynamicAuth?`/signin/dynamic/${oe}`:`/federation/${oe}/signin-saml`,[e.kI.required,D]]})}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const D={};return D.entityId=this.serviceProviderForm.get("entityId").value,D.callbackPath=this.serviceProviderForm.get("callbackPath").value,D}toSummaryMap(){const D=new Map;return D.set("entityId",[this.serviceProviderForm.get("entityId").value]),D.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),D}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(Ye),i.Y36(e.QS),i.Y36(at.E))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-service-provider-step"]],inputs:{data:"data"},decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i._UZ(1,"p",1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"form",2)(4,"app-form-row",3),i._UZ(5,"input",4),i.qZA(),i.TgZ(6,"app-form-row",5),i._UZ(7,"input",6),i.YNc(8,Sn,2,3,"span",7),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),i.oJD),i.xp6(2),i.Q6J("formGroup",oe.serviceProviderForm),i.xp6(1),i.Q6J("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),i.xp6(2),i.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),i.xp6(2),i.Q6J("ngIf",!oe.validCallbackPath()))},dependencies:[t.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,An.L,C.X$],encapsulation:2}),F})();var zn=p(9655),Be=p(2951);const et=["fileInput"];let ft=(()=>{class F{constructor(D,oe,ht,Gt,xn){this.wizardDataService=D,this.fb=oe,this.certService=ht,this.toastr=Gt,this.translate=xn,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new Be.I(""),this.fileContent=void 0}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.buildForm()}ngOnDestroy(){}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}handleFileInput(D){this.selectedFile=D.item(0),this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const D=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==D}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new Be.I(""),this.fileContent=void 0;const D=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,D,{next:oe=>{this.fileName=new Be.I(this.selectedFile?.name),this.fileContent=oe,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:oe=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new Be.I(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.validCertificateForm=!1}toStepDto(){const D={};return D.certFile=this.fileContent,D.certPassword=this.certForm.get("certPassword").value,D}toSummaryMap(){const D=new Map;return D.set("certFile",[this.selectedFile?.name]),D.set("certPassword",[this.certForm.get("certPassword").value]),D}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(Ye),i.Y36(e.QS),i.Y36(L.S),i.Y36(sn._W),i.Y36(C.sK))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-signing-step"]],viewQuery:function(D,oe){if(1&D&&i.Gf(et,5),2&D){let ht;i.iGM(ht=i.CRH())&&(oe.fileInputNative=ht.first)}},inputs:{data:"data"},decls:18,vars:18,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],["fileInput","","selectedFile",""],[3,"id","label","input"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"disabled","click"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i._UZ(1,"p",1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"form",2)(4,"app-form-row",3)(5,"div",4)(6,"input",5,6),i.NdJ("change",function(Gt){return oe.handleFileInput(Gt.target.files)}),i.qZA()()(),i.TgZ(9,"app-form-row",7),i.NdJ("input",function(){return oe.requestCertValidation()}),i._UZ(10,"input",8),i.qZA(),i.TgZ(11,"app-form-row",9)(12,"button",10),i.NdJ("click",function(){return oe.validateForm()}),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.TgZ(15,"button",11),i.NdJ("click",function(){return oe.clearCertificateForm()}),i._uU(16),i.ALo(17,"translate"),i.qZA()()()),2&D&&(i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,12,"DynamicAuth.Wizard.SAML.SigningStep.Title"),i.oJD),i.xp6(2),i.Q6J("formGroup",oe.certForm),i.xp6(1),i.Q6J("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),i.xp6(5),i.Q6J("id","CertPassword")("label","DynamicAuth.CertPassword.Label"),i.xp6(2),i.Q6J("isLast",!0),i.xp6(1),i.Q6J("disabled",oe.disableTestBtn()),i.xp6(1),i.Oqu(i.lcZ(14,14,"Common.ValidateCert")),i.xp6(2),i.Q6J("disabled",oe.disableClearBtn()),i.xp6(1),i.Oqu(i.lcZ(17,16,"Common.Clear")))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,An.L,C.X$],encapsulation:2}),F})();var Lt=p(9490);let pn=(()=>{class F{constructor(D,oe,ht,Gt,xn){this.wizardDataService=D,this.fb=oe,this.providerValidator=ht,this.translate=Gt,this.toastr=xn,this.metadataAddrStream=new Xe.x}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(D=>{this.providerValidator.validateMetadataUrl(D).subscribe(oe=>{oe?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const D=this.externalProviderForm.get("metadataAddress");D.invalid||this.metadataAddrStream.next(D.value)}showReachableError(){const D=this.externalProviderForm.get("metadataAddress");return!(0,te.hr)(D.value)&&D.errors?.unreachableUrl}buildForm(){let D={metadataAddress:["https://",[e.kI.required,e.kI.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(D)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const D={};return D.metadataAddress=this.externalProviderForm.get("metadataAddress").value,D}toSummaryMap(){const D=new Map;return D.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),D}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(Ye),i.Y36(e.QS),i.Y36($e),i.Y36(C.sK),i.Y36(Lt.o))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-external-provider-step"]],inputs:{data:"data"},decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"disabled","click"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i._UZ(1,"p",1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"form",2)(4,"app-form-row",3)(5,"div",4),i._UZ(6,"input",5),i.TgZ(7,"button",6),i.NdJ("click",function(){return oe.tryMetadataAddr()}),i.TgZ(8,"span"),i._uU(9),i.ALo(10,"translate"),i.qZA()()()()()),2&D&&(i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),i.oJD),i.xp6(2),i.Q6J("formGroup",oe.externalProviderForm),i.xp6(1),i.Q6J("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),i.xp6(3),i.Q6J("disabled",!oe.canNext()),i.xp6(2),i.Oqu(i.lcZ(10,10,"Common.ValidateMetadata")))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,An.L,C.X$],encapsulation:2}),F})();class hn extends Pn.A{constructor(Ae){super();var D=[new zt.H(_i,{stepName:"NameRoleStepComponent"}),new zt.H(bt,{stepName:"ConnectionStepComponent"}),new zt.H(Mn,{stepName:"ScopesStepComponent"}),new zt.H(kn,{stepName:"ClientSecretStepComponent"})];Ae&&D.push(new zt.H(Wt,{stepName:"SignInSchemeStepComponent"}));var oe=[new zt.H(_i,{stepName:"NameRoleStepComponent"}),new zt.H(Ln,{stepName:"ServiceProviderStepComponent"}),new zt.H(ft,{stepName:"SigningStepComponent"}),new zt.H(pn,{stepName:"ExternalProviderStepComponent"}),new zt.H(Wt,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(fn.Q.AddOidcDynamicAuth,D),this.nameComponentMap.set(fn.Q.AddSamlDynamicAuth,oe),this.nameTitleMap.set(fn.Q.AddDynamicAuth,new kt.K("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(fn.Q.AddOidcDynamicAuth,new kt.K("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(fn.Q.AddSamlDynamicAuth,new kt.K("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}var In=p(9141),Rn=p(1503);let xi=(()=>{class F{canNext(){return!1}hosted(){}}return F.\u0275fac=function(D){return new(D||F)},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-empty-step"]],decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"div"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&D&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Common.Wizards.Empty")))},dependencies:[C.X$],encapsulation:2}),F})();class fi extends Pn.A{getWizard(Ae){return[new zt.H(xi)]}getWizardTitle(Ae){return new kt.K("Empty Provider",`No step for wizard name: ${Ae}`)}}var qn=p(5221);function or(F,Ae){}function Yi(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"button",17),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.nextTab())}),i._uU(1),i.ALo(2,"translate"),i.qZA()}if(2&F){const D=i.oxw();i.Q6J("disabled",!D.canNext()),i.xp6(1),i.Oqu(i.lcZ(2,2,"Common.Next"))}}function hr(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"button",18),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.submit())}),i._uU(1),i.ALo(2,"translate"),i.qZA()}2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Common.Save")))}function Ei(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"button",19),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.previousTab())}),i._uU(1),i.ALo(2,"translate"),i.qZA()}2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Common.Back")))}function gr(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"button",19),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.cancelWizard())}),i._uU(1),i.ALo(2,"translate"),i.qZA()}2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Common.Back")))}let Mi=(()=>{class F extends In.G{constructor(D,oe,ht,Gt,xn,Yn){super(),this.errorService=D,this.toastr=oe,this.translate=ht,this.dynamicAuthenticationService=Gt,this.wizardDataService=Yn,this.wizardProvider=new fi,this.components=new Map,xn.getConfig().subscribe({next:Ii=>{this.wizardProvider=new hn(Ii.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk)},error:Ii=>{this.errorService.handleError(Ii)}}),this.wizardDataService.reset()}nextTab(){this.components.get(this.index).instance.onNext(),++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const D=this.wizardDataService.getSummary();this.displaySummaryComponent(D)}displaySummaryComponent(D){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(Rn.q)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.setInput("askIfEnabled",!0),this.summaryComponentRef.instance.summary=D,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,Fe.P)()).subscribe(oe=>{this.index=D.findIndex(ht=>ht.stepName===oe),this.displayComponentAtCurrentIndex()}),this.updateProgress()}submit(){const D=(0,ee.ky)(this.getModel());this.dynamicAuthenticationService.createDynamicAuth(D).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${D.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated")),this.wizardDataService.reset()},error:oe=>{this.errorService.handleError(oe)}})}getModel(){const D=this.wizardName,oe=this.wizardDataService.getDto(),ht=this.summaryComponentRef.instance.isEnabled();var Gt="";if(this.wizardName===fn.Q.AddOidcDynamicAuth&&(Gt=JSON.stringify({authority:oe.authority,clientId:oe.clientId,callbackPath:oe.callbackPath,usePkce:oe.flow==Je.AuthCodePlusPkce,scope:oe.scopes,clientSecret:oe.clientSecret,signInScheme:oe.signInScheme})),this.wizardName===fn.Q.AddSamlDynamicAuth){var xn={spEntityId:oe.entityId,callbackPath:oe.callbackPath,signAuthenticationRequests:!(0,te.le)(oe.certFile)&&!(0,te.le)(oe.certPassword),signingCertBase64:oe.certFile,signingCertPassword:oe.certPassword,signInScheme:oe.signInScheme,idpMetadataAddress:oe.metadataAddress};Gt=JSON.stringify(xn)}return{type:U.hH.fromWizardType(D),scheme:oe.scheme,displayName:oe.displayName,enabled:ht,nonEditable:!1,options:Gt}}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(mn.T),i.Y36(sn._W),i.Y36(C.sK),i.Y36(mt.x),i.Y36(at.E),i.Y36(Ye))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-wizard-host"]],features:[i._Bn([]),i.qOj],decls:24,vars:17,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"h5",1),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"button",2),i.NdJ("click",function(){return oe.hideWizard()}),i._UZ(5,"span",3),i.TgZ(6,"span",4),i._uU(7),i.ALo(8,"translate"),i.qZA()()(),i.TgZ(9,"div",5),i._UZ(10,"div",6),i.qZA(),i.TgZ(11,"div",7),i.YNc(12,or,0,0,"ng-template",8),i.qZA(),i._UZ(13,"div",9),i.TgZ(14,"div",10)(15,"div",11)(16,"div",12),i.YNc(17,Yi,3,4,"button",13),i.YNc(18,hr,3,3,"button",14),i.YNc(19,Ei,3,3,"button",15),i.YNc(20,gr,3,3,"button",15),i.qZA(),i.TgZ(21,"button",16),i.NdJ("click",function(){return oe.cancelWizard()}),i._uU(22),i.ALo(23,"translate"),i.qZA()()()),2&D&&(i.xp6(1),i.Q6J("id",oe.titleId),i.xp6(1),i.Oqu(i.lcZ(3,11,oe.wizardTitles.setupTitle)),i.xp6(5),i.Oqu(i.lcZ(8,13,"Common.Close")),i.xp6(3),i.Udp("width",oe.progressPercent+"%"),i.uIk("aria-valuenow",oe.progressPercent),i.xp6(7),i.Q6J("ngIf",oe.index<(null==oe.wizardSteps?null:oe.wizardSteps.length)),i.xp6(1),i.Q6J("ngIf",oe.index==(null==oe.wizardSteps?null:oe.wizardSteps.length)),i.xp6(1),i.Q6J("ngIf",oe.index>0),i.xp6(1),i.Q6J("ngIf",oe.index<=0),i.xp6(2),i.Oqu(i.lcZ(23,15,"Common.Cancel")))},dependencies:[t.O5,qn.S,C.X$],encapsulation:2}),F})();function Hi(F,Ae){1&F&&i.GkF(0)}function Nr(F,Ae){1&F&&i.GkF(0)}function cs(F,Ae){1&F&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function is(F,Ae){1&F&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function us(F,Ae){1&F&&(i._UZ(0,"p",25),i.ALo(1,"translate")),2&F&&i.Q6J("innerHTML",i.lcZ(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),i.oJD)}function qr(F,Ae){1&F&&(i._UZ(0,"p",25),i.ALo(1,"translate")),2&F&&i.Q6J("innerHTML",i.lcZ(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),i.oJD)}function _r(F,Ae){1&F&&(i.TgZ(0,"span",37),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Clients.Selected")))}const rs=function(F,Ae){return{"tw-bg-green-200":F,"hover:tw-shadow-md md:tw-pr-16":Ae}},Rs=function(F,Ae){return{"tw-bg-green-500":F,"tw-bg-grey-200":Ae}},Cs=function(F,Ae){return{"tw-text-white":F,"tw-text-grey-400 group-hover:tw-text-grey-700":Ae}},Sr=function(F,Ae,D){return{"tw-text-green-800":F,"tw-text-navy-500":Ae,"tw-text-grey-300":D}},rr=function(F,Ae,D){return{"tw-text-green-600":F,"tw-text-grey-600":Ae,"tw-text-grey-600":D}},Ri=function(F){return{"tw-text-green-300":F}};function ds(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"li",26)(1,"input",27),i.NdJ("click",function(){const ht=i.CHM(D),Gt=ht.disabled,xn=ht.type,Yn=i.oxw(2);return i.KtG(!Gt&&Yn.setActive(xn))}),i.qZA(),i.TgZ(2,"label",28),i.NdJ("click",function(){const ht=i.CHM(D),Gt=ht.disabled,xn=ht.type,Yn=i.oxw(2);return i.KtG(!Gt&&Yn.setActive(xn))}),i.TgZ(3,"div",29),i._UZ(4,"span",30),i.YNc(5,_r,3,3,"span",31),i.qZA(),i.TgZ(6,"div",32)(7,"span",33),i._uU(8),i.qZA(),i.TgZ(9,"span",34),i._uU(10),i.qZA()(),i.TgZ(11,"div",35),i._UZ(12,"span",36),i.qZA()()()}if(2&F){const D=Ae.id,oe=Ae.btnId,ht=Ae.title,Gt=Ae.summary,xn=Ae.icon,Yn=Ae.value,Ii=Ae.selected,Ur=Ae.disabled,ar=i.oxw(2);i.s9C("id",D),i.xp6(1),i.s9C("id",oe),i.s9C("value",Yn),i.Q6J("ngModel",ar.activeType),i.xp6(1),i.s9C("for",oe),i.Q6J("ngClass",i.WLB(17,rs,Ii,!Ur)),i.xp6(1),i.Q6J("ngClass",i.WLB(20,Rs,Ii,!Ii)),i.xp6(1),i.Q6J("ngClass",i.WLB(23,Cs,Ii,!Ii)),i.xp6(1),i.Q6J("ngIf",Ii),i.xp6(2),i.Q6J("ngClass",i.kEZ(26,Sr,Ii,!Ii,Ur)),i.xp6(1),i.hij(" ",ht," "),i.xp6(1),i.Q6J("ngClass",i.kEZ(30,rr,Ii,!Ii,Ur)),i.xp6(1),i.hij(" ",Gt," "),i.xp6(2),i.Gre("",xn," tw-text-black tw-text-grey-300 tw-text-3xl trans"),i.Q6J("ngClass",i.VKq(34,Ri,Ii))}}const Xn=function(F,Ae,D,oe,ht){return{id:"oidcBtn",btnId:"oidcTestBtn",title:F,summary:Ae,icon:"fab fa-openid",value:D,selected:oe,type:ht}},_s=function(F,Ae,D,oe,ht){return{id:"samlBtn",btnId:"samlTestBtn",title:F,summary:Ae,icon:"fad fa-code",value:D,selected:oe,type:ht}};function Wn(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"div",1)(1,"div",2)(2,"h5",3),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"button",4),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.hide())}),i.ALo(6,"translate"),i._UZ(7,"span",5),i.qZA()(),i.TgZ(8,"div",6),i._UZ(9,"div",7,8),i.qZA(),i.TgZ(11,"div",9)(12,"div",10)(13,"ul",11),i.YNc(14,Hi,1,0,"ng-container",12),i.ALo(15,"translate"),i.ALo(16,"translate"),i.YNc(17,Nr,1,0,"ng-container",12),i.ALo(18,"translate"),i.ALo(19,"translate"),i.qZA()(),i.TgZ(20,"div",13)(21,"h2",14),i._UZ(22,"span",15),i.YNc(23,cs,3,3,"span",16),i.YNc(24,is,3,3,"span",16),i.qZA(),i.YNc(25,us,2,3,"p",17),i.YNc(26,qr,2,3,"p",17),i.qZA(),i.YNc(27,ds,13,36,"ng-template",null,18,i.W1O),i.qZA(),i._UZ(29,"div",19),i.TgZ(30,"div",20)(31,"div",21)(32,"div",22)(33,"button",23),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.choosePage())}),i._uU(34),i.ALo(35,"translate"),i.qZA()(),i.TgZ(36,"button",24),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.hide())}),i._uU(37),i.ALo(38,"translate"),i.qZA()()()()}if(2&F){const D=i.MAs(28),oe=i.oxw();i.xp6(2),i.Q6J("id",oe.titleId),i.xp6(1),i.Oqu(i.lcZ(4,14,"DynamicAuth.Wizard.Title")),i.xp6(2),i.uIk("aria-label",i.lcZ(6,16,"Common.Close")),i.xp6(9),i.Q6J("ngTemplateOutlet",D)("ngTemplateOutletContext",i.qbA(30,Xn,i.lcZ(15,18,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name"),i.lcZ(16,20,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title"),oe.wizardTypes.AddOidcDynamicAuth,oe.activeType===oe.wizardTypes.AddOidcDynamicAuth,oe.wizardTypes.AddOidcDynamicAuth)),i.xp6(3),i.Q6J("ngTemplateOutlet",D)("ngTemplateOutletContext",i.qbA(36,_s,i.lcZ(18,22,"DynamicAuth.Wizard.TypeSelectStep.SAML.Name"),i.lcZ(19,24,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title"),oe.wizardTypes.AddSamlDynamicAuth,oe.activeType===oe.wizardTypes.AddSamlDynamicAuth,oe.wizardTypes.AddSamlDynamicAuth)),i.xp6(6),i.Q6J("ngIf",oe.activeType===oe.wizardTypes.AddOidcDynamicAuth),i.xp6(1),i.Q6J("ngIf",oe.activeType===oe.wizardTypes.AddSamlDynamicAuth),i.xp6(1),i.Q6J("ngIf",oe.activeType===oe.wizardTypes.AddOidcDynamicAuth),i.xp6(1),i.Q6J("ngIf",oe.activeType===oe.wizardTypes.AddSamlDynamicAuth),i.xp6(7),i.Q6J("disabled",oe.activeType===oe.wizardTypes.Home),i.xp6(1),i.Oqu(i.lcZ(35,26,"Common.Start")),i.xp6(3),i.Oqu(i.lcZ(38,28,"Common.Cancel"))}}function pr(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"div",1)(1,"app-dynamic-auth-wizard-host",38),i.NdJ("wizardCancel",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.onCancel())})("finish",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.onFinish())})("hide",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.hide())}),i.qZA()()}if(2&F){const D=i.oxw();i.xp6(1),i.Q6J("wizardName",D.pageType)}}let xr=(()=>{class F{constructor(D){this.modalService=D,this.finish=new i.vpe,this.titleId=ut.G.TileId,this.pageType=fn.Q.AddDynamicAuth,this.activeType=fn.Q.AddOidcDynamicAuth,this.showWizard=!1,this.wizardTypes=fn.Q}ngOnInit(){}ngOnDestroy(){this.hide()}getDescription(){return this.activeType==fn.Q.AddOidcDynamicAuth?"DynamicAuth.Wizard.TypeSelectStep.OidcHelp":this.activeType==fn.Q.AddSamlDynamicAuth?"DynamicAuth.Wizard.TypeSelectStep.SamlHelp":""}choosePage(){this.pageType=this.activeType,this.showWizard=!0}setActive(D){this.activeType=D}onCancel(){this.pageType=fn.Q.AddDynamicAuth,this.activeType=fn.Q.AddOidcDynamicAuth,this.showWizard=!1}onFinish(){this.finish.emit(),this.hide()}hide(){this.modalService.hide(ut.G.Id),this.modalService.onHidden.pipe((0,Fe.P)()).subscribe(()=>{this.onCancel()})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(b.tT))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["class","",4,"ngIf"],[1,""],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar","aria-valuenow","2",1,"modal-progress-bar",2,"width","2%"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["commonTypeButton",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextModal",1,"tw-btn-success",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[3,"innerHTML"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4",3,"id"],["type","radio",1,"sr-only",3,"id","value","ngModel","click"],[1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","trans",3,"for","ngClass","click"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","trans",3,"ngClass"],[1,"fas","fa-check","tw-text-xl","trans",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],[1,"tw-block","tw-font-semibold","trans",3,"ngClass"],[1,"tw-block","tw-text-xs","trans",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","trans","md:tw-flex"],[3,"ngClass"],[1,"sr-only"],[3,"wizardName","wizardCancel","finish","hide"]],template:function(D,oe){1&D&&(i.YNc(0,Wn,39,42,"div",0),i.YNc(1,pr,2,1,"div",0)),2&D&&(i.Q6J("ngIf",oe.pageType===oe.wizardTypes.AddDynamicAuth),i.xp6(1),i.Q6J("ngIf",oe.showWizard))},dependencies:[t.mk,t.O5,t.tP,e.Fj,e._,e.JJ,e.On,Mi,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();function Yr(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"app-dynamic-auth-wizard",7),i.NdJ("finish",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.reload())}),i.qZA()}}const Pr=function(){return{href:"https://www.identityserver.com/documentation/dynamic-authentication-providers/quickstarts/entityframework/"}};function vr(F,Ae){1&F&&(i.TgZ(0,"div",8)(1,"div",9),i._UZ(2,"span",10),i.ALo(3,"translate"),i.qZA()()),2&F&&(i.xp6(2),i.Q6J("innerHTML",i.xi3(3,1,"Errors.DynamicAuthentication.SchemaHealth",i.DdM(4,Pr)),i.oJD))}function ss(F,Ae){1&F&&(i.TgZ(0,"span"),i._UZ(1,"span",28),i._uU(2),i.ALo(3,"translate"),i.qZA()),2&F&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"Auditing.ShowFilters")," "))}function sr(F,Ae){1&F&&(i.TgZ(0,"span"),i._UZ(1,"span",29),i._uU(2),i.ALo(3,"translate"),i.qZA()),2&F&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"Auditing.HideFilters")," "))}function yr(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"li",24)(1,"button",30),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw(2);return i.KtG(ht.filter(ht.DynamicAuthFilters.Enabled))}),i._uU(2),i.ALo(3,"translate"),i.qZA()()}if(2&F){const D=i.oxw(2);i.xp6(1),i.Q6J("ngClass",D.isShowing(D.DynamicAuthFilters.Enabled)?"tw-btn":"tw-btn-link"),i.xp6(1),i.hij(" ",i.lcZ(3,2,"DynamicAuth.Filters.Enabled")," ")}}function os(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"li")(1,"button",31),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw(2);return i.KtG(ht.filter(ht.DynamicAuthFilters.Disabled))}),i._uU(2),i.ALo(3,"translate"),i.qZA()()}if(2&F){const D=i.oxw(2);i.xp6(1),i.Q6J("ngClass",D.isShowing(D.DynamicAuthFilters.Disabled)?"tw-btn":"tw-btn-link"),i.xp6(1),i.hij(" ",i.lcZ(3,2,"DynamicAuth.Filters.Disabled")," ")}}function Cr(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"div",36)(1,"label",37),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"select",38),i.NdJ("ngModelChange",function(ht){i.CHM(D);const Gt=i.oxw(3);return i.KtG(Gt.pageSize=ht)})("change",function(){i.CHM(D);const ht=i.oxw(3);return i.KtG(ht.setPageLength(+ht.pageSize))}),i.TgZ(5,"option",39),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"option",40),i._uU(9),i.ALo(10,"translate"),i.qZA(),i.TgZ(11,"option",41),i._uU(12),i.ALo(13,"translate"),i.qZA()()()}if(2&F){const D=i.oxw(3);i.xp6(2),i.AsE("",D.pageSize," ",i.lcZ(3,6,"Nav.PerPage"),""),i.xp6(2),i.Q6J("ngModel",D.pageSize),i.xp6(2),i.hij("25 ",i.lcZ(7,8,"Nav.PerPage"),""),i.xp6(3),i.hij("50 ",i.lcZ(10,10,"Nav.PerPage"),""),i.xp6(3),i.hij("100 ",i.lcZ(13,12,"Nav.PerPage"),"")}}function Ji(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"app-action-bar"),i.ynx(1,32),i.YNc(2,Cr,14,14,"div",33),i.BQk(),i.ynx(3,34),i.TgZ(4,"button",35),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw(2),Gt=i.MAs(8);return i.KtG(ht.showWizard(Gt))}),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.BQk(),i.qZA()}if(2&F){const D=i.oxw(2);i.xp6(2),i.Q6J("ngIf",(null==D.pagedResult?null:D.pagedResult.results.length)>0),i.xp6(3),i.hij(" ",i.lcZ(6,2,"Common.Add")," ")}}function jr(F,Ae){1&F&&i._UZ(0,"app-simple-loader")}function hs(F,Ae){1&F&&(i.TgZ(0,"div",45)(1,"div"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&F&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"DynamicAuth.List.None")))}function Ds(F,Ae){1&F&&(i.TgZ(0,"span",60)(1,"span",3),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&F&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"Common.Disabled")))}function Rr(F,Ae){1&F&&(i.TgZ(0,"span",61),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Common.Disabled")," "))}function bs(F,Ae){1&F&&(i.TgZ(0,"span",62),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Common.Reserved")," "))}const Vi=function(F,Ae){return{"fad fa-pencil":F,"fas fa-eye":Ae}};function ws(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"tr",51)(1,"td",52),i.NdJ("click",function(){const Gt=i.CHM(D).$implicit,xn=i.oxw(4);return i.KtG(xn.viewOrEditDynamicAuth(Gt))}),i.YNc(2,Ds,4,3,"span",53),i.TgZ(3,"b"),i._uU(4),i.qZA()(),i.TgZ(5,"td",54),i.NdJ("click",function(){const Gt=i.CHM(D).$implicit,xn=i.oxw(4);return i.KtG(xn.viewOrEditDynamicAuth(Gt))}),i._uU(6),i.qZA(),i.TgZ(7,"td",54),i.NdJ("click",function(){const Gt=i.CHM(D).$implicit,xn=i.oxw(4);return i.KtG(xn.viewOrEditDynamicAuth(Gt))}),i.TgZ(8,"code"),i._uU(9),i.qZA()(),i.TgZ(10,"td",55),i.NdJ("click",function(){const Gt=i.CHM(D).$implicit,xn=i.oxw(4);return i.KtG(xn.viewOrEditDynamicAuth(Gt))}),i.YNc(11,Rr,3,3,"span",56),i.YNc(12,bs,3,3,"span",57),i.qZA(),i.TgZ(13,"td",55),i.NdJ("click",function(){const Gt=i.CHM(D).$implicit,xn=i.oxw(4);return i.KtG(xn.viewOrEditDynamicAuth(Gt))}),i.TgZ(14,"button",58),i.NdJ("click",function(){const Gt=i.CHM(D).$implicit,xn=i.oxw(4);return i.KtG(xn.viewOrEditDynamicAuth(Gt))}),i._UZ(15,"span",59),i.TgZ(16,"span",3),i._uU(17),i.ALo(18,"translate"),i.qZA()()()()}if(2&F){const D=Ae.$implicit,oe=i.oxw(4);i.ekj("inactive",!D.enabled||(null==D?null:D.nonEditable)),i.s9C("id",D.scheme),i.xp6(2),i.Q6J("ngIf",!D.enabled),i.xp6(1),i.ekj("tw-text-blue-500",!(null!=D&&D.nonEditable)),i.xp6(1),i.hij(" ",null==D?null:D.scheme," "),i.xp6(2),i.hij(" ",null==D?null:D.displayName," "),i.xp6(3),i.Oqu(oe.typeStr(null==D?null:D.type)),i.xp6(2),i.Q6J("ngIf",!D.enabled),i.xp6(1),i.Q6J("ngIf",null==D?null:D.nonEditable),i.xp6(3),i.Q6J("ngClass",i.WLB(15,Vi,!oe.isReadOnly&&!D.nonEditable,oe.isReadOnly||D.nonEditable)),i.xp6(2),i.Oqu(i.lcZ(18,13,"Common.Edit"))}}function no(F,Ae){if(1&F&&(i.TgZ(0,"table",46)(1,"thead")(2,"tr")(3,"th",47),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"th",48),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"th",48),i._uU(10),i.ALo(11,"translate"),i.qZA(),i.TgZ(12,"th",49)(13,"span",3),i._uU(14),i.ALo(15,"translate"),i.qZA()(),i.TgZ(16,"th",49)(17,"span",3),i._uU(18),i.ALo(19,"translate"),i.qZA()()()(),i.TgZ(20,"tbody"),i.YNc(21,ws,19,18,"tr",50),i.qZA()()),2&F){const D=i.oxw(3);i.xp6(4),i.hij(" ",i.lcZ(5,6,"Common.Scheme")," "),i.xp6(3),i.hij(" ",i.lcZ(8,8,"Common.Name")," "),i.xp6(3),i.hij(" ",i.lcZ(11,10,"Common.Type")," "),i.xp6(4),i.Oqu(i.lcZ(15,12,"Common.Status")),i.xp6(4),i.Oqu(i.lcZ(19,14,"Common.Actions")),i.xp6(3),i.Q6J("ngForOf",D.dynamicAuths)}}function Vr(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"app-pager",63),i.NdJ("onGoToPage",function(ht){i.CHM(D);const Gt=i.oxw(3);return i.KtG(Gt.goToPage(ht))}),i.qZA()}if(2&F){const D=i.oxw(3);i.Q6J("totalResults",null==D.pagedResult?null:D.pagedResult.totalCount)("currentPage",D.page)("lastPage",null==D.pagedResult?null:D.pagedResult.pageCount)}}function Xr(F,Ae){if(1&F&&(i.ynx(0),i.YNc(1,hs,4,3,"div",42),i.YNc(2,no,22,16,"table",43),i.YNc(3,Vr,1,3,"app-pager",44),i.BQk()),2&F){const D=i.oxw(2);i.xp6(1),i.Q6J("ngIf",(null==D.dynamicAuths?null:D.dynamicAuths.length)<1),i.xp6(1),i.Q6J("ngIf",(null==D.dynamicAuths?null:D.dynamicAuths.length)>0),i.xp6(1),i.Q6J("ngIf",(null==D.pagedResult?null:D.pagedResult.results.length)>0&&!D.isLoading)}}function ks(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"label",14),i._UZ(4,"span",15),i.TgZ(5,"span",3),i._uU(6),i.ALo(7,"translate"),i.qZA()(),i.TgZ(8,"input",16),i.NdJ("ngModelChange",function(ht){i.CHM(D);const Gt=i.oxw();return i.KtG(Gt.searchTerm=ht)})("keyup",function(ht){i.CHM(D);const Gt=i.oxw();return i.KtG(Gt.search(ht))}),i.ALo(9,"translate"),i.qZA()(),i.TgZ(10,"button",17),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.showAdvancedFilters=!ht.showAdvancedFilters)}),i.YNc(11,ss,4,3,"span",18),i.YNc(12,sr,4,3,"span",18),i.qZA(),i.TgZ(13,"div",19)(14,"div",20)(15,"div",21)(16,"p",22),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.TgZ(19,"ul",23)(20,"li",24)(21,"button",25),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.filter(ht.DynamicAuthFilters.OIDC))}),i._uU(22),i.ALo(23,"translate"),i.qZA()(),i.TgZ(24,"li",24)(25,"button",26),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.filter(ht.DynamicAuthFilters.SAML))}),i._uU(26),i.ALo(27,"translate"),i.qZA()(),i.YNc(28,yr,4,4,"li",27),i.YNc(29,os,4,4,"li",18),i.qZA()()(),i._UZ(30,"hr"),i.qZA()(),i.YNc(31,Ji,7,4,"app-action-bar",18),i.YNc(32,jr,1,0,"app-simple-loader",18),i.YNc(33,Xr,4,3,"ng-container",18),i.qZA()}if(2&F){const D=i.oxw();i.xp6(6),i.Oqu(i.lcZ(7,16,"Common.Search")),i.xp6(2),i.s9C("placeholder",i.lcZ(9,18,"DynamicAuth.SearchPlaceholder")),i.Q6J("ngModel",D.searchTerm),i.xp6(3),i.Q6J("ngIf",!D.showAdvancedFilters),i.xp6(1),i.Q6J("ngIf",D.showAdvancedFilters),i.xp6(1),i.Q6J("hidden",!D.showAdvancedFilters),i.xp6(4),i.Oqu(i.lcZ(18,20,"Auditing.Showing")),i.xp6(4),i.Q6J("ngClass",D.isShowing(D.DynamicAuthFilters.OIDC)?"tw-btn":"tw-btn-link"),i.xp6(1),i.hij(" ",i.lcZ(23,22,"DynamicAuth.Filters.OIDC")," "),i.xp6(3),i.Q6J("ngClass",D.isShowing(D.DynamicAuthFilters.SAML)?"tw-btn":"tw-btn-link"),i.xp6(1),i.hij(" ",i.lcZ(27,24,"DynamicAuth.Filters.SAML")," "),i.xp6(2),i.Q6J("ngIf",!D.isRskDynamicAuth),i.xp6(1),i.Q6J("ngIf",!D.isRskDynamicAuth),i.xp6(2),i.Q6J("ngIf",!D.isLoading&&!D.isReadOnly),i.xp6(1),i.Q6J("ngIf",D.isLoading),i.xp6(1),i.Q6J("ngIf",!D.isLoading)}}let Is=(()=>{class F extends Re.bk{constructor(D,oe,ht,Gt,xn,Yn,Ii,Ur,ar,mr){super(Yn,Ii,!0),this.configService=D,this.errorService=oe,this.titleService=ht,this.dynamicAuthenticationService=Gt,this.securityService=xn,this.router=Ur,this.localize=ar,this.modalService=mr,this.activeFilters=[],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.schemaHealthy=!0,this.isRskDynamicAuth=!1,this.dynamicAuths=[],this.filterStream=new Xe.x,this.pageStream=new Xe.x,this.pageSizeStream=new Xe.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}get DynamicAuthFilters(){return We}get isReadOnly(){return(0,te.gR)(this.securityService.userPermissions)}get LinkConstants(){return Qt.U}typeStr(D){return U.hH[D]}showWizard(D){this.modalService.show(D,{id:ut.G.Id,ariaLabelledBy:ut.G.TileId,ariaDescribedby:ut.G.DescriptionId,backdrop:"static"})}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(D){return this.term=D,{searchTerm:D,page:1,pageSize:this.pageSize}}ngOnInit(){const D=this.translate.instant("Nav.DynamicAuth")+" - "+ot.de.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(D),this.configService.getConfig().subscribe({next:oe=>{this.isRskDynamicAuth=oe.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk},error:oe=>{this.errorService.handleError(oe)}}),this.dynamicAuthenticationService.schemaHealthy().pipe((0,Fe.P)()).subscribe({next:oe=>{this.schemaHealthy=oe,this.schemaHealthy&&this.triggerPageLoad()},error:oe=>{this.toastr.error(this.translate.instant("Errors.DynamicAuthentication.SchemeHealthHttp",{status:oe.status}))}})}triggerPageLoad(){const D=this.filterStream.pipe((0,Mt.U)(Gt=>(this.activeFilters=Gt,{filters:Gt,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),oe=this.pageStream.pipe((0,Mt.U)(Gt=>(this.page=Gt,{filters:this.activeFilters,searchTerm:this.term,page:Gt,pageSize:this.pageSize}))),ht=this.pageSizeStream.pipe((0,Mt.U)(Gt=>(this.pageSize=Gt,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:Gt})));oe.pipe((0,Tt.b)(ht),(0,Tt.b)(this.searchSource),(0,Tt.b)(D),(0,Tt.b)(this.enterKeySource),(0,vt.O)({filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,Ge.z)(Gt=>{this.isLoading=!0;const xn=Gt.filters.join(" ");return this.dynamicAuthenticationService.get(Gt.searchTerm,Gt.page,Gt.pageSize,xn).pipe((0,de.g)(200))})).subscribe({next:Gt=>{this.pagedResult=Gt,this.dynamicAuths=this.pagedResult.results.map(xn=>(0,ee.Zn)(xn)).sort((xn,Yn)=>Number(Yn.nonEditable)-Number(xn.nonEditable)),this.isLoading=!1},error:Gt=>{500===Gt.status?this.handleInternalServerError():this.errorService.handleError(Gt),this.isLoading=!1}})}filter(D){if(this.activeFilters.includes(D)){const oe=this.activeFilters.indexOf(D);this.activeFilters.splice(oe,1)}else this.activeFilters.push(D);this.filterStream.next(this.activeFilters)}isShowing(D){return this.activeFilters.includes(D)}goToPage(D){this.pageStream.next(D)}setPageLength(D){this.page=1,this.pageSizeStream.next(D)}viewOrEditDynamicAuth(D){const ht=this.localize.translateRoute(`${this.isReadOnly||D.nonEditable?"/dynamic-auth/view":"/dynamic-auth"}/${D.scheme}`);this.router.navigateByUrl(ht)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(at.E),i.Y36(mn.T),i.Y36(nn.Dx),i.Y36(mt.x),i.Y36(_n.I),i.Y36(sn._W),i.Y36(C.sK),i.Y36(m.F0),i.Y36(T.An),i.Y36(b.tT))},F.\u0275cmp=i.Xpm({type:F,selectors:[["ng-component"]],features:[i.qOj],decls:11,vars:9,consts:[[3,"title"],["type","button","target","_blank","ctx","",1,"tw-btn-link","tw-btn","group-hover:tw-text-blue-500","tw-pl-0",3,"href"],[1,"far","fa-question-circle"],[1,"sr-only"],["idpWizardModal",""],["id","schemaUnhealthy","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthList","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthWizardModal",3,"finish"],["id","schemaUnhealthy",1,"tw-container","tw-mx-auto"],[1,"tw-alert-warning","tw-mb-4"],[3,"innerHTML"],["id","dynamicAuthList",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","idpTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],["id","idpTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","placeholder","ngModelChange","keyup"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","oidcFilter",3,"ngClass","click"],["id","samlFilter",3,"ngClass","click"],["class","mr-2",4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","enabledFilter",3,"ngClass","click"],["id","disabledFilter",3,"ngClass","click"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(D,oe){1&D&&(i.TgZ(0,"app-title-bar",0),i.ALo(1,"translate"),i.TgZ(2,"a",1),i._UZ(3,"span",2),i.TgZ(4,"span",3),i._uU(5),i.ALo(6,"translate"),i.qZA()()(),i.YNc(7,Yr,1,0,"ng-template",null,4,i.W1O),i.YNc(9,vr,4,5,"div",5),i.YNc(10,ks,34,26,"div",6)),2&D&&(i.Q6J("title",i.lcZ(1,5,oe.isRskDynamicAuth?"DynamicAuth.Title.RSK":"DynamicAuth.Title.Duende")),i.xp6(2),i.Q6J("href",oe.LinkConstants.EnablingDynamicAuth,i.LSH),i.xp6(3),i.Oqu(i.lcZ(6,7,"Common.Help")),i.xp6(4),i.Q6J("ngIf",!oe.schemaHealthy),i.xp6(1),i.Q6J("ngIf",oe.schemaHealthy))},dependencies:[t.mk,t.sg,t.O5,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.On,gt.G,dn.K,It.w,Xt.P,xr,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();var zr=p(2329),Wi=p(9465),Gr=p(2830),as=p(6252);function ao(F,Ae){1&F&&(i.TgZ(0,"app-form-row",14)(1,"app-form-toggle",15),i._UZ(2,"input",16),i.qZA()()),2&F&&(i.Q6J("id","Enabled")("label","Common.Enabled"),i.xp6(1),i.Q6J("id","Enabled")("isTraffic",!0)("isAlt",!1))}const Zi=function(F){return[F]};function br(F,Ae){if(1&F&&(i.TgZ(0,"div",9),i.YNc(1,ao,3,5,"app-form-row",10),i.TgZ(2,"app-form-row",11),i._UZ(3,"app-readonly",12),i.ALo(4,"readOnlyValue"),i.qZA(),i.TgZ(5,"app-form-row",11),i._UZ(6,"input",13),i.qZA()()),2&F){const D=i.oxw(2);i.xp6(1),i.Q6J("ngIf",!D.isRskDynamicAuth),i.xp6(1),i.Q6J("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(11,Zi,i.lcZ(4,9,D.dynamicAuth.scheme))),i.xp6(2),i.Q6J("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function Er(F,Ae){1&F&&(i.TgZ(0,"app-form-row",11),i._UZ(1,"input",24),i.qZA()),2&F&&i.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function si(F,Ae){if(1&F&&(i.TgZ(0,"option",25),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F){const D=Ae.$implicit;i.Q6J("value",D),i.xp6(1),i.Oqu(i.lcZ(2,2,"DynamicAuth.Flows."+D))}}function Ps(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"div",17)(1,"app-form-row",11)(2,"input",18),i.NdJ("focusout",function(){i.CHM(D);const ht=i.oxw(2);return i.KtG(ht.tryReachAuthority())}),i.qZA()(),i.TgZ(3,"app-form-row",11),i._UZ(4,"input",19),i.qZA(),i.YNc(5,Er,2,3,"app-form-row",20),i.TgZ(6,"app-form-row",11)(7,"div",21)(8,"select",22),i.YNc(9,si,3,4,"option",23),i.qZA()()()()}if(2&F){const D=i.oxw(2);i.xp6(1),i.Q6J("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),i.xp6(2),i.Q6J("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),i.xp6(2),i.Q6J("ngIf",D.isRskDynamicAuth),i.xp6(1),i.Q6J("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),i.xp6(3),i.Q6J("ngForOf",D.allowedFlows)}}function lr(F,Ae){1&F&&(i.TgZ(0,"app-form-row",30)(1,"app-form-toggle",15),i._UZ(2,"input",31),i.qZA()()),2&F&&(i.Q6J("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),i.xp6(1),i.Q6J("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function Hr(F,Ae){1&F&&(i.TgZ(0,"app-form-row",11)(1,"app-row-bar",27),i._UZ(2,"input",32),i.ALo(3,"translate"),i.qZA()()),2&F&&(i.Q6J("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),i.xp6(2),i.s9C("placeholder",i.lcZ(3,4,"DynamicAuth.SignOutScheme.Placeholder")))}function io(F,Ae){if(1&F&&(i.TgZ(0,"div",26)(1,"app-form-row",11)(2,"app-row-bar",27),i._UZ(3,"input",28),i.ALo(4,"translate"),i.qZA()(),i.YNc(5,lr,3,6,"app-form-row",29),i.YNc(6,Hr,4,6,"app-form-row",20),i.qZA()),2&F){const D=i.oxw(2);i.xp6(1),i.Q6J("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),i.xp6(2),i.s9C("placeholder",i.lcZ(4,6,"DynamicAuth.SignInScheme.Placeholder")),i.xp6(2),i.Q6J("ngIf",D.isRskDynamicAuth||D.dynamicAuth.type==D.dynamicAuthTypes.SAML),i.xp6(1),i.Q6J("ngIf",(D.isRskDynamicAuth||D.dynamicAuth.type==D.dynamicAuthTypes.SAML)&&D.formGroup.get("signInSchemeForm.differentSignOut").value)}}function ki(F,Ae){if(1&F&&(i.TgZ(0,"div")(1,"app-form-row",33),i._UZ(2,"app-lifetime-picker",34),i.qZA()()),2&F){const D=i.oxw(2);i.xp6(1),i.Q6J("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),i.xp6(1),i.Q6J("buttons",D.defaultToleranceTimes)}}function wr(F,Ae){if(1&F&&(i.TgZ(0,"div",35)(1,"app-form-row",33)(2,"div",36),i._UZ(3,"app-readonly",12),i.TgZ(4,"button",37),i.ALo(5,"translate"),i._UZ(6,"span",38),i.TgZ(7,"span",39),i._uU(8),i.ALo(9,"translate"),i.qZA()()()()()),2&F){const D=i.oxw(2);i.xp6(1),i.Q6J("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),i.xp6(2),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(12,Zi,D.displaySecret)),i.xp6(1),i.Q6J("tooltip",i.lcZ(5,8,"DynamicAuth.UpdateClientSecret.Title")),i.xp6(4),i.Oqu(i.lcZ(9,10,"Common.Edit"))}}function Lr(F,Ae){if(1&F&&(i.TgZ(0,"form",3),i.YNc(1,br,7,13,"div",4),i.YNc(2,Ps,10,11,"div",5),i.YNc(3,io,7,8,"div",6),i.YNc(4,ki,3,5,"div",7),i.YNc(5,wr,10,14,"div",8),i.qZA()),2&F){const D=i.oxw();i.Q6J("formGroup",D.formGroup),i.xp6(1),i.Q6J("ngIf",D.formGroup.get("detailsForm")),i.xp6(1),i.Q6J("ngIf",D.formGroup.get("connectionForm")&&D.dynamicAuth.type==D.dynamicAuthTypes.OIDC),i.xp6(1),i.Q6J("ngIf",D.formGroup.get("signInSchemeForm")&&(D.isRskDynamicAuth||D.dynamicAuth.type==D.dynamicAuthTypes.SAML)),i.xp6(1),i.Q6J("ngIf",D.formGroup.get("timeComparisonTolerance")&&(D.isRskDynamicAuth||D.dynamicAuth.type==D.dynamicAuthTypes.SAML)),i.xp6(1),i.Q6J("ngIf",D.formGroup.get("secretForm")&&D.dynamicAuth.type==D.dynamicAuthTypes.OIDC)}}const Dr=function(){return{animated:!1,backdrop:"static"}};function yn(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"div",40)(1,"form",3)(2,"div",41)(3,"div",42)(4,"div",43)(5,"h5",44),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"button",45),i._UZ(9,"span",46),i.TgZ(10,"span",39),i._uU(11),i.ALo(12,"translate"),i.qZA()()(),i.TgZ(13,"div",47)(14,"p",48),i._uU(15),i.ALo(16,"translate"),i.qZA(),i._UZ(17,"input",49),i.qZA(),i._UZ(18,"div",50),i.TgZ(19,"div",51)(20,"div",52)(21,"div",53)(22,"button",54),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.addNewClientSecretToFormGroup())}),i._uU(23),i.ALo(24,"translate"),i.qZA()(),i.TgZ(25,"button",55),i._uU(26),i.ALo(27,"translate"),i.qZA()()()()()()()}if(2&F){const D=i.oxw();i.Q6J("config",i.DdM(17,Dr)),i.xp6(1),i.Q6J("formGroup",D.formClientSecret),i.xp6(5),i.Oqu(i.lcZ(7,7,"DynamicAuth.UpdateClientSecret.Title")),i.xp6(5),i.Oqu(i.lcZ(12,9,"Common.Close")),i.xp6(4),i.hij("",i.lcZ(16,11,"DynamicAuth.UpdateClientSecret.Description"),":"),i.xp6(8),i.hij(" ",i.lcZ(24,13,"DynamicAuth.UpdateClientSecret.Confirm")," "),i.xp6(3),i.Oqu(i.lcZ(27,15,"DynamicAuth.UpdateClientSecret.No"))}}let oi=(()=>{class F{constructor(D,oe,ht,Gt,xn,Yn,Ii){this.fb=D,this.errorService=oe,this.dynamicAuthCacheService=ht,this.configService=Gt,this.providerValidator=xn,this.translate=Yn,this.toastr=Ii,this.dynamicAuthTypes=U.hH,this.isDeleting=!1,this.allowedFlows=Oe.FlowTypes,this.samlSignInSchemeCodeFrag=Oe.SamlSignInSchemeCodeFrag,this.samlSignOutSchemeCodeFrag=Oe.SamlSignOutSchemeCodeFrag,this.failedToContactAuthority=!1}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:zr.f.Minutes},{duration:5,unit:zr.f.Minutes},{duration:10,unit:zr.f.Minutes}],this.configService.getConfig().subscribe({next:D=>{this.isRskDynamicAuth=D.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk},error:D=>{this.errorService.handleError(D)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{switch(this.dynamicAuth=D,this.dynamicAuth.type){case U.hH.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case U.hH.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[e.kI.required]]})}buildOidcForms(){this.oidcOptions=(0,ee.A3)(this.dynamicAuth.options),this.displaySecret=new Be.I(this.oidcOptions.clientSecret);let D={authority:[this.oidcOptions.authority,[e.kI.required,e.kI.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[e.kI.required]],flow:[this.oidcOptions.usePkce?Je.AuthCodePlusPkce:Je.AuthCode,[e.kI.required]]};this.isRskDynamicAuth&&(D.callbackPath=[this.oidcOptions.callbackPath,[e.kI.required,ti()]]);let oe={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(D),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(oe.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[e.kI.required]],differentSignOut:[!(0,te.hr)(this.oidcOptions.signOutScheme),[]],signOutScheme:[this.oidcOptions.signOutScheme,[]]}),oe.signInSchemeForm.get("differentSignOut").valueChanges.subscribe(ht=>{ht&&oe.signInSchemeForm.get("signOutScheme").setValidators([e.kI.required])})),this.formGroup=this.fb.group(oe)}buildSamlForms(){this.samlOptions=(0,ee.ZP)(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[e.kI.required]],differentSignOut:[!(0,te.hr)(this.samlOptions.signOutScheme),[]],signOutScheme:[this.samlOptions.signOutScheme,[]]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){let D=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(D).subscribe(oe=>{oe||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:D=>{let ht,oe={...this.dynamicAuth};oe=this.updateDetails(oe),this.dynamicAuth.type===U.hH.OIDC?(ht={...this.oidcOptions},ht=this.updateConnection(ht),ht=this.updateSignInScheme(ht),ht=this.updateSecret(ht)):this.dynamicAuth.type===U.hH.SAML&&(ht={...this.samlOptions},ht=this.updateSignInScheme(ht),ht=this.updateTimeComparisonTolerance(ht)),oe.options=JSON.stringify(ht),this.dynamicAuthCacheService.unsavedCache.next(oe)}}),this.dynamicAuth.type===U.hH.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(D=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(D){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...D,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(D){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);let oe={...D,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==Je.AuthCodePlusPkce};return this.isRskDynamicAuth&&(oe.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),oe}updateSignInScheme(D){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==U.hH.OIDC)return D;this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid);let oe={signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:void 0};if(this.dynamicAuth.type===U.hH.SAML||this.isRskDynamicAuth){let ht=this.formGroup.get("signInSchemeForm.differentSignOut").value,Gt=this.formGroup.get("signInSchemeForm.signOutScheme").value;oe.signOutScheme=ht?Gt:null}return{...D,...oe}}updateSecret(D){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid);let oe=this.formGroup.get("secretForm.clientSecret").value;return this.displaySecret=new Be.I(oe),{...D,clientSecret:oe}}updateTimeComparisonTolerance(D){let oe=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",oe.valid),{...D,timeComparisonTolerance:oe.value}}setTimeComparisonTolerance(D){this.formGroup.controls.timeComparisonTolerance.setValue(D)}checkTimeComparisonToleranceSelected(D){return D==this.formGroup.get("timeComparisonTolerance").value}addNewClientSecretToFormGroup(){let D=this.formClientSecret.get("newClientSecret").value;this.formGroup.controls.secretForm.setValue({clientSecret:D}),this.formClientSecret.controls.newClientSecret.setValue(null)}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(mn.T),i.Y36(lt.C),i.Y36(at.E),i.Y36($e),i.Y36(C.sK),i.Y36(sn._W))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-edit-details"]],decls:3,vars:2,consts:[["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],["bsModal","","id","updateClientSecretModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],["formGroupName","secretForm",4,"ngIf"],["formGroupName","detailsForm"],[3,"id","label",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","left","",1,"tw-form-control",3,"placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],["formGroupName","secretForm"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["id","changeClientSecret","type","button","data-toggle","modal","data-target","#updateClientSecretModal","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","editClientSecret",3,"tooltip"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],[1,"sr-only"],["bsModal","","id","updateClientSecretModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-body","tw-text-left","scrollbars"],[1,"tw-mb-4"],["type","text","name","newClientSecret","id","newClientSecret","formControlName","newClientSecret",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","updateSecretBtn","data-dismiss","modal",1,"tw-btn-success",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,Lr,6,6,"form",1),i.qZA(),i.YNc(2,yn,28,18,"div",2)),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth&&(oe.oidcOptions||oe.samlOptions)),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth&&oe.oidcOptions))},dependencies:[t.sg,t.O5,e._Y,e.YN,e.Kr,e.Fj,e.Wl,e.EJ,e.JJ,e.JL,e.Q7,e.sg,e.u,e.x0,f.i9,b.oB,Wi.U,An.L,Cn.O,Ze.T,Gr.f,as.b,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();function ps(F,Ae){1&F&&(i.TgZ(0,"div")(1,"app-form-row",3),i._UZ(2,"input",7),i.qZA()()),2&F&&(i.xp6(1),i.Q6J("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0))}function hi(F,Ae){if(1&F&&(i.TgZ(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),i._UZ(3,"input",5),i.qZA()(),i.YNc(4,ps,3,4,"div",6),i.qZA()),2&F){const D=i.oxw();i.Q6J("formGroup",D.idpAdvancedForm),i.xp6(1),i.Q6J("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!D.idpAdvancedForm.get("allowIdpInitiatedSso").value),i.xp6(1),i.Q6J("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),i.xp6(2),i.Q6J("ngIf",D.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}let Xi=(()=>{class F{constructor(D,oe,ht){this.fb=D,this.errorService=oe,this.dynamicAuthCacheService=ht}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.samlOptions=(0,ee.ZP)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:D=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);var oe={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value};const ht={...this.dynamicAuth,options:JSON.stringify(oe)};this.dynamicAuthCacheService.unsavedCache.next(ht)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[e.kI.required]]})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(mn.T),i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-edit-idp-advanced"]],decls:2,vars:1,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,hi,5,9,"form",1),i.qZA()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth&&oe.idpAdvancedForm))},dependencies:[t.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,e.Q7,e.sg,e.u,An.L,Cn.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();function Ie(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),i._UZ(3,"input",5),i.qZA()(),i.TgZ(4,"app-form-row",6)(5,"div",7),i._UZ(6,"input",8),i.TgZ(7,"button",9),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.tryMetadataAddr())}),i.TgZ(8,"span"),i._uU(9),i.ALo(10,"translate"),i.qZA()()()()()}if(2&F){const D=i.oxw();i.Q6J("formGroup",D.idpDetailsForm),i.xp6(1),i.Q6J("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),i.xp6(1),i.Q6J("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),i.xp6(2),i.Q6J("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),i.xp6(5),i.Oqu(i.lcZ(10,12,"Common.ValidateMetadata"))}}let ve=(()=>{class F{constructor(D,oe,ht,Gt,xn,Yn){this.fb=D,this.errorService=oe,this.dynamicAuthCacheService=ht,this.providerValidator=Gt,this.translate=xn,this.toastr=Yn,this.metadataAddrStream=new un.t(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.samlOptions=(0,ee.ZP)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,te.hr)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:D=>{this.errorService.handleError(D)}}),this.metadataAddrStream.subscribe(D=>{this.providerValidator.validateMetadataUrl(D).subscribe(oe=>{oe?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:D=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var D={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[e.kI.required,e.kI.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(D)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var D={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const oe={...this.dynamicAuth,options:JSON.stringify(D)};this.dynamicAuthCacheService.unsavedCache.next(oe)}tryMetadataAddr(){const D=this.idpDetailsForm.get("idpMetadataAddress");D.invalid||this.metadataAddrStream.next(D.value)}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(mn.T),i.Y36(lt.C),i.Y36($e),i.Y36(C.sK),i.Y36(Lt.o))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-edit-idp-details"]],decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,Ie,11,14,"form",1),i.qZA()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth&&oe.idpDetailsForm))},dependencies:[t.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,e.Q7,e.sg,e.u,An.L,Cn.O,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();var ie=p(6478),rt=p(7073);const rn=["AdvancedTabs"];let Fn=(()=>{class F{constructor(){}ngOnInit(){}}return F.\u0275fac=function(D){return new(D||F)},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(D,oe){if(1&D&&i.Gf(rn,7),2&D){let ht;i.iGM(ht=i.CRH())&&(oe.advancedTabs=ht.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-custom-tabs",1),i._UZ(2,"app-custom-tab",2)(3,"app-custom-tab",2),i.qZA()(),i.TgZ(4,"div",3),i._UZ(5,"router-outlet"),i.qZA()),2&D&&(i.xp6(1),i.Q6J("pillMode",!0),i.xp6(1),i.Q6J("tabTitle","Nav.Details")("tabValue","details"),i.xp6(1),i.Q6J("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[m.lC,ie.v,rt.x],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();function ji(F,Ae){if(1&F&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"slice"),i.qZA()),2&F){const D=Ae.item;i.xp6(1),i.Oqu(D.length>20?i.Dn7(2,1,D,0,20)+"...":D)}}function Ir(F,Ae){1&F&&(i.TgZ(0,"div",11)(1,"div"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&F&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"DynamicAuth.NoScopesMessage")," "))}function Or(F,Ae){1&F&&(i.TgZ(0,"span",21),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Common.Reserved")," "))}function er(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw().$implicit,Gt=i.oxw(3);return i.KtG(Gt.removeScope(ht))}),i._UZ(1,"span",23),i.TgZ(2,"span",15),i._uU(3),i.ALo(4,"translate"),i.qZA()()}2&F&&(i.xp6(3),i.Oqu(i.lcZ(4,1,"Common.Delete.Title")))}function vi(F,Ae){if(1&F&&(i.TgZ(0,"tr")(1,"td",18)(2,"span"),i._uU(3),i.qZA()(),i.TgZ(4,"td"),i.YNc(5,Or,3,3,"span",19),i.qZA(),i.TgZ(6,"td"),i.YNc(7,er,5,3,"button",20),i.qZA()()),2&F){const D=Ae.$implicit,oe=i.oxw(3);i.xp6(3),i.Oqu(D),i.xp6(2),i.Q6J("ngIf",!oe.allowRemoveScope(D)),i.xp6(2),i.Q6J("ngIf",oe.allowRemoveScope(D))}}function Me(F,Ae){if(1&F&&(i.TgZ(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"th",16)(7,"span",15),i._uU(8),i.ALo(9,"translate"),i.qZA()(),i.TgZ(10,"th",16)(11,"span",15),i._uU(12),i.ALo(13,"translate"),i.qZA()()(),i.TgZ(14,"tbody"),i.YNc(15,vi,8,3,"tr",17),i.qZA()()),2&F){const D=i.oxw(2);i.xp6(4),i.Oqu(i.lcZ(5,4,"Common.Scope")),i.xp6(4),i.Oqu(i.lcZ(9,6,"Common.Reserved")),i.xp6(4),i.Oqu(i.lcZ(13,8,"Common.Actions")),i.xp6(3),i.Q6J("ngForOf",D.currentScopes())}}function je(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),i._UZ(3,"input",6),i.ALo(4,"translate"),i.TgZ(5,"button",7),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.addScope())}),i._uU(6),i.ALo(7,"translate"),i.qZA()()(),i.TgZ(8,"div",8),i.YNc(9,Ir,4,3,"div",9),i.YNc(10,Me,16,10,"table",10),i.qZA()()}if(2&F){const D=i.oxw(),oe=i.MAs(1);i.Q6J("formGroup",D.scopesForm),i.xp6(1),i.Q6J("id","NewScope")("hasLabel",!1)("isLast",!0),i.xp6(2),i.s9C("placeholder",i.lcZ(4,15,"DynamicAuth.Scopes.Placeholder")),i.Q6J("typeahead",D.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",oe)("typeaheadMinLength",0)("maxlength",D.maxScopeLength),i.xp6(3),i.hij(" ",i.lcZ(7,17,"Common.Add")," "),i.xp6(2),i.Q6J("id","Scopes"),i.xp6(1),i.Q6J("ngIf",D.currentScopes().length<=0),i.xp6(1),i.Q6J("ngIf",D.currentScopes().length>0)}}let Et=(()=>{class F{constructor(D,oe,ht,Gt,xn,Yn){this.fb=D,this.errorService=oe,this.toastr=ht,this.translateService=Gt,this.dynamicAuthChachService=xn,this.providerValidator=Yn,this.newScope="",this.dynamicAuthTypes=U.hH,this.isDeleting=!1,this.maxScopeLength=Oe.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.oidcOptions=(0,ee.A3)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}}),this.options=new _t.y(D=>{let oe=this.scopesForm.get("newScope").value;D.next(oe)}).pipe((0,Ot.w)(D=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,Mt.U)(oe=>this.filterScopes(D,oe)))))}filterScopes(D,oe){const ht=!D;return oe.filter(Gt=>!this.currentScopes().includes(Gt)&&(ht||Gt.includes(D)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:D=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const oe={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},ht={...this.dynamicAuth,options:JSON.stringify(oe)};this.dynamicAuthChachService.unsavedCache.next(ht)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const D=this.scopesForm.controls.newScope.value,oe=this.scopesForm.controls.scopes.value;""!==D?D.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):oe.includes(D)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...oe,D]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(D){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(ht=>ht!==D))}currentScopes(){const D=this.scopesForm.controls.scopes;return D?D.value:[]}allowRemoveScope(D){return Oe.AllowRemoveScope(D)}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(mn.T),i.Y36(sn._W),i.Y36(C.sK),i.Y36(lt.C),i.Y36($e))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-edit-scopes"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(D,oe){1&D&&(i.YNc(0,ji,3,5,"ng-template",null,0,i.W1O),i.TgZ(2,"div",1),i.YNc(3,je,11,19,"form",2),i.qZA()),2&D&&(i.xp6(3),i.Q6J("ngIf",oe.dynamicAuth))},dependencies:[t.sg,t.O5,e._Y,e.Fj,e.JJ,e.JL,e.nD,e.sg,e.u,An.L,Ze.T,w.Bp,t.OU,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();var Rt=p(9841);function jt(F,Ae){1&F&&(i._UZ(0,"span",12),i.ALo(1,"translate")),2&F&&i.Q6J("innerHTML",i.lcZ(1,1,"DynamicAuth.FederationPathWarning"),i.oJD)}function Ht(F,Ae){1&F&&(i._UZ(0,"span",13),i.ALo(1,"translate")),2&F&&i.Q6J("innerHTML",i.lcZ(1,1,"DynamicAuth.FederationPathWarning"),i.oJD)}function gn(F,Ae){1&F&&(i._UZ(0,"span",14),i.ALo(1,"translate")),2&F&&i.Q6J("innerHTML",i.lcZ(1,1,"DynamicAuth.FederationPathWarning"),i.oJD)}function Tn(F,Ae){if(1&F&&(i.TgZ(0,"form",2)(1,"app-form-row",3),i._UZ(2,"input",4),i.qZA(),i.TgZ(3,"app-form-row",3),i._UZ(4,"input",5),i.YNc(5,jt,2,3,"span",6),i.qZA(),i.TgZ(6,"app-form-row",3),i._UZ(7,"input",7),i.YNc(8,Ht,2,3,"span",8),i.qZA(),i.TgZ(9,"app-form-row",9),i._UZ(10,"input",10),i.YNc(11,gn,2,3,"span",11),i.qZA()()),2&F){const D=i.oxw();i.Q6J("formGroup",D.spDetailsForm),i.xp6(1),i.Q6J("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),i.xp6(2),i.Q6J("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),i.xp6(2),i.Q6J("ngIf",!D.validMetadataPath()),i.xp6(1),i.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),i.xp6(2),i.Q6J("ngIf",!D.validCallbackPath()),i.xp6(1),i.Q6J("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),i.xp6(2),i.Q6J("ngIf",!D.validSignedOutPath())}}let ai=(()=>{class F{constructor(D,oe,ht,Gt){this.fb=D,this.errorService=oe,this.dynamicAuthCacheService=ht,this.configService=Gt}ngOnInit(){(0,Rt.a)([this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()),this.configService.getConfig().pipe((0,Fe.P)())]).subscribe({next:([D,oe])=>{this.dynamicAuth=D,this.samlOptions=(0,ee.ZP)(this.dynamicAuth.options),this.isRskDynamicAuth=oe.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk,this.buildForm(),this.subscribeToValueChanges()}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:D=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var oe={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const ht={...this.dynamicAuth,options:JSON.stringify(oe)};this.dynamicAuthCacheService.unsavedCache.next(ht)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){const D=this.isRskDynamicAuth?ti():ii();this.spDetailsForm=this.fb.group({spEntityId:[this.samlOptions.spEntityId,[e.kI.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[e.kI.required,D]],callbackPath:[this.samlOptions.callbackPath,[e.kI.required,D]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[D]]})}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return!!this.isRskDynamicAuth||this.spDetailsForm.get("signedOutCallbackPath").valid}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(mn.T),i.Y36(lt.C),i.Y36(at.E))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-edit-sp-details"]],decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,Tn,12,17,"form",1),i.qZA()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth&&oe.spDetailsForm))},dependencies:[t.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,An.L,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();var jn=p(964);function ur(F,Ae){if(1&F&&(i.TgZ(0,"form",7)(1,"app-form-row",16)(2,"app-form-toggle",23),i._UZ(3,"input",24),i.qZA()()()),2&F){const D=i.oxw();i.Q6J("formGroup",D.spRequestForm),i.xp6(1),i.Q6J("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),i.xp6(1),i.Q6J("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function Kr(F,Ae){1&F&&(i.TgZ(0,"button",25),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Clients.Saml.AddCert")," "))}function dr(F,Ae){1&F&&(i.TgZ(0,"button",26),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Clients.Saml.ReplaceCertificate")," "))}const zi=function(){return{animated:!1,backdrop:"static"}};let ri=(()=>{class F{constructor(D,oe,ht,Gt,xn,Yn,Ii){this.fb=D,this.errorService=oe,this.dynamicAuthCacheService=ht,this.toastr=Gt,this.translate=xn,this.certService=Yn,this.dynamicAuthService=Ii,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Be.I("")}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.samlOptions=(0,ee.ZP)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:D=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var oe={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const ht={...this.dynamicAuth,options:JSON.stringify(oe)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(ht)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(D){this.selectedFile=D.item(0)}updateSigningCert(){this.fileName=new Be.I("");const D=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,D,{next:oe=>{this.fileName=new Be.I(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,oe,D).subscribe(ht=>{this.certificateDescription=[ht],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(ht)})},error:oe=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},D=>{this.errorService.handleError(D)})}updateSigninCertInCache(D){var oe={...this.samlOptions,signingCertificateDto:D};const ht={...this.dynamicAuth,options:JSON.stringify(oe)};this.dynamicAuthCacheService.unsavedCache.next(ht)}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(mn.T),i.Y36(lt.C),i.Y36(sn._W),i.Y36(C.sK),i.Y36(L.S),i.Y36(mt.x))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-edit-sp-request"]],decls:31,vars:26,consts:[["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"certificates","showSingle","deleteCertDisabled","delete"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button","data-toggle","modal","data-target","#addCertificateModal",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button","data-toggle","modal","data-target","#addCertificateModal",4,"ngIf"],["bsModal","","id","addCertificateModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[3,"formGroup"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-left","scrollbars"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],["fileInput","","selectedFile",""],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isLast"],["id","updateCertBtn","data-dismiss","modal",1,"tw-btn-success",3,"click"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button","data-toggle","modal","data-target","#addCertificateModal",1,"tw-btn-success"],["id","replaceCertButton","type","button","data-toggle","modal","data-target","#addCertificateModal",1,"tw-btn-success","tw-mr-4"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,ur,4,7,"form",1),i.TgZ(2,"app-saml-cert-list",2),i.NdJ("delete",function(){return oe.removeSigningCert()}),i.ynx(3,3),i.YNc(4,Kr,3,3,"button",4),i.YNc(5,dr,3,3,"button",5),i.BQk(),i.qZA(),i.TgZ(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"h5",11),i._uU(12),i.ALo(13,"translate"),i.qZA(),i.TgZ(14,"button",12),i._UZ(15,"span",13),i.TgZ(16,"span",14),i._uU(17),i.ALo(18,"translate"),i.qZA()()(),i.TgZ(19,"div",15)(20,"app-form-row",16)(21,"div",17)(22,"input",18,19),i.NdJ("change",function(Gt){return oe.handleFileInput(Gt.target.files)}),i.qZA()()(),i.TgZ(25,"app-form-row",16),i._UZ(26,"input",20),i.qZA(),i.TgZ(27,"app-form-row",21)(28,"button",22),i.NdJ("click",function(){return oe.updateSigningCert()}),i._uU(29),i.ALo(30,"translate"),i.qZA()()()()()()()()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth&&oe.spRequestForm),i.xp6(1),i.Q6J("certificates",oe.certificateDescription)("showSingle",!0)("deleteCertDisabled",oe.canDeleteCert),i.xp6(2),i.Q6J("ngIf",oe.certificateDescription.length<1),i.xp6(1),i.Q6J("ngIf",oe.certificateDescription.length>0),i.xp6(1),i.Q6J("config",i.DdM(25,zi)),i.xp6(1),i.Q6J("formGroup",oe.certForm),i.xp6(5),i.Oqu(i.lcZ(13,19,"DynamicAuth.UpdateSigningCertificate.Title")),i.xp6(5),i.Oqu(i.lcZ(18,21,"Common.Close")),i.xp6(3),i.Q6J("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),i.xp6(5),i.Q6J("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help"),i.xp6(2),i.Q6J("id","updateCertBtn")("isLast",!0),i.xp6(2),i.Oqu(i.lcZ(30,23,"Common.Update")))},dependencies:[t.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,e.sg,e.u,b.oB,An.L,Cn.O,jn.z,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();function fo(F,Ae){if(1&F&&(i.TgZ(0,"form",7)(1,"app-form-row",16)(2,"app-form-toggle",23),i._UZ(3,"input",24),i.qZA()(),i.TgZ(4,"app-form-row",16)(5,"app-form-toggle",23),i._UZ(6,"input",25),i.qZA()()()),2&F){const D=i.oxw();i.Q6J("formGroup",D.spResponseForm),i.xp6(1),i.Q6J("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),i.xp6(1),i.Q6J("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),i.xp6(2),i.Q6J("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),i.xp6(1),i.Q6J("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function Ks(F,Ae){1&F&&(i.TgZ(0,"button",26),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Clients.Saml.AddCert")," "))}function fe(F,Ae){1&F&&(i.TgZ(0,"button",27),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"Clients.Saml.ReplaceCertificate")," "))}const Le=function(){return{animated:!1,backdrop:"static"}};let be=(()=>{class F{constructor(D,oe,ht,Gt,xn,Yn,Ii){this.fb=D,this.errorService=oe,this.dynamicAuthCacheService=ht,this.toastr=Gt,this.translate=xn,this.certService=Yn,this.dynamicAuthService=Ii,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Be.I("")}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.samlOptions=(0,ee.ZP)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:D=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var oe={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const ht={...this.dynamicAuth,options:JSON.stringify(oe)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(ht)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(D){this.selectedFile=D.item(0)}updateEncryptionCert(){this.fileName=new Be.I("");const D=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,D,{next:oe=>{this.fileName=new Be.I(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,oe,D).subscribe(ht=>{this.certificateDescription=[ht],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(ht)})},error:oe=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},D=>{this.errorService.handleError(D)})}updateEncryptionCertInCache(D){var oe={...this.samlOptions,encryptionCertificateDto:D};const ht={...this.dynamicAuth,options:JSON.stringify(oe)};this.dynamicAuthCacheService.unsavedCache.next(ht)}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(mn.T),i.Y36(lt.C),i.Y36(sn._W),i.Y36(C.sK),i.Y36(L.S),i.Y36(mt.x))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-edit-sp-response"]],decls:31,vars:26,consts:[["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"certificates","showSingle","deleteCertDisabled","delete"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button","data-toggle","modal","data-target","#addCertificateModal",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button","data-toggle","modal","data-target","#addCertificateModal",4,"ngIf"],["bsModal","","id","addCertificateModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[3,"formGroup"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-left","scrollbars"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],["fileInput","","selectedFile",""],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isLast"],["id","updateCertBtn","data-dismiss","modal",1,"tw-btn-success",3,"click"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button","data-toggle","modal","data-target","#addCertificateModal",1,"tw-btn-success"],["id","replaceCertButton","type","button","data-toggle","modal","data-target","#addCertificateModal",1,"tw-btn-success","tw-mr-4"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,fo,7,13,"form",1),i.TgZ(2,"app-saml-cert-list",2),i.NdJ("delete",function(){return oe.removeEncryptionCert()}),i.ynx(3,3),i.YNc(4,Ks,3,3,"button",4),i.YNc(5,fe,3,3,"button",5),i.BQk(),i.qZA(),i.TgZ(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"h5",11),i._uU(12),i.ALo(13,"translate"),i.qZA(),i.TgZ(14,"button",12),i._UZ(15,"span",13),i.TgZ(16,"span",14),i._uU(17),i.ALo(18,"translate"),i.qZA()()(),i.TgZ(19,"div",15)(20,"app-form-row",16)(21,"div",17)(22,"input",18,19),i.NdJ("change",function(Gt){return oe.handleFileInput(Gt.target.files)}),i.qZA()()(),i.TgZ(25,"app-form-row",16),i._UZ(26,"input",20),i.qZA(),i.TgZ(27,"app-form-row",21)(28,"button",22),i.NdJ("click",function(){return oe.updateEncryptionCert()}),i._uU(29),i.ALo(30,"translate"),i.qZA()()()()()()()()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth&&oe.spResponseForm),i.xp6(1),i.Q6J("certificates",oe.certificateDescription)("showSingle",!0)("deleteCertDisabled",oe.canDeleteCert),i.xp6(2),i.Q6J("ngIf",oe.certificateDescription.length<1),i.xp6(1),i.Q6J("ngIf",oe.certificateDescription.length>0),i.xp6(1),i.Q6J("config",i.DdM(25,Le)),i.xp6(1),i.Q6J("formGroup",oe.certForm),i.xp6(5),i.Oqu(i.lcZ(13,19,"DynamicAuth.UpdateEncryptionCertificate.Title")),i.xp6(5),i.Oqu(i.lcZ(18,21,"Common.Close")),i.xp6(3),i.Q6J("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),i.xp6(5),i.Q6J("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help"),i.xp6(2),i.Q6J("id","updateCertBtn")("isLast",!0),i.xp6(2),i.Oqu(i.lcZ(30,23,"Common.Update")))},dependencies:[t.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,e.sg,e.u,b.oB,An.L,Cn.O,jn.z,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();const tt=["AdvancedTabs"];let St=(()=>{class F{constructor(){}ngOnInit(){}}return F.\u0275fac=function(D){return new(D||F)},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(D,oe){if(1&D&&i.Gf(tt,7),2&D){let ht;i.iGM(ht=i.CRH())&&(oe.advancedTabs=ht.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-custom-tabs",1),i._UZ(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),i.qZA()(),i.TgZ(5,"div",3),i._UZ(6,"router-outlet"),i.qZA()),2&D&&(i.xp6(1),i.Q6J("pillMode",!0),i.xp6(1),i.Q6J("tabTitle","Nav.Details")("tabValue","details"),i.xp6(1),i.Q6J("tabTitle","Nav.Request")("tabValue","request"),i.xp6(1),i.Q6J("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[m.lC,ie.v,rt.x],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();var en=p(3570),an=p(9658),qt=p(1216);function Bi(F,Ae){1&F&&i._UZ(0,"app-custom-tab",2),2&F&&i.Q6J("tabTitle","Nav.Scopes")("tabValue","scopes")}function wi(F,Ae){1&F&&i._UZ(0,"app-custom-tab",2),2&F&&i.Q6J("tabTitle","Nav.Advanced")("tabValue","advanced")}function yi(F,Ae){1&F&&i._UZ(0,"app-custom-tab",2),2&F&&i.Q6J("tabTitle","Nav.SP")("tabValue","sp")}function vn(F,Ae){1&F&&i._UZ(0,"app-custom-tab",2),2&F&&i.Q6J("tabTitle","Nav.IdP")("tabValue","idp")}const mi=function(F,Ae){return{title:F,link:Ae}},Pi=function(F){return[F]},fr=function(){return{backdrop:"static",keyboard:"false"}};let es=(()=>{class F{constructor(D,oe,ht,Gt,xn,Yn,Ii,Ur,ar,mr){this.r=D,this.route=oe,this.localize=ht,this.titleService=Gt,this.translate=xn,this.toastr=Yn,this.errorService=Ii,this.dynamicAuthService=Ur,this.dynamicAuthCachService=ar,this.dialogService=mr,this.dynamicAuthTypes=U.hH,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:D=>{this.dynamicAuth=D;const oe=this.translate.instant("DynamicAuth.Title.Generic")+" "+this.dynamicAuth.displayName+" - "+ot.de.SITE_TITLE;if(this.titleService.setTitle(oe),this.checkSubmitEnabled(),this.dynamicAuth.type==U.hH.OIDC&&this.isFirstCall){var ht=(0,ee.A3)(this.dynamicAuth.options);this.oldSecret=ht.clientSecret,this.isFirstCall=!1}},error:D=>{this.errorService.handleError(D)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}canDeactivate(){return!(this.dynamicAuthCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(D=>{D&&this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const D=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===D.length||D.some(oe=>!oe)}mobRoute(D){this.r.navigate([D],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==U.hH.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth((0,ee.ky)(this.dynamicAuth)).subscribe({next:D=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next((0,ee.Zn)(D)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:D=>{this.errorService.handleError(D)}}))}deleteDynamicAuth(D){this.dynamicAuthService.deleteDynamicAuth(D).subscribe({next:oe=>{const ht=this.localize.translateRoute("/dynamic-auth");this.r.navigate([ht]),this.toastr.success(`${D} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:oe=>{this.errorService.handleError(oe)}})}setOidcClientSecret(){var D=(0,ee.A3)(this.dynamicAuth.options);this.oldSecret==D.clientSecret&&(D.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(D)}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(m.F0),i.Y36(m.gz),i.Y36(T.An),i.Y36(nn.Dx),i.Y36(C.sK),i.Y36(sn._W),i.Y36(mn.T),i.Y36(mt.x),i.Y36(lt.C),i.Y36(en.x))},F.\u0275cmp=i.Xpm({type:F,selectors:[["ng-component"]],decls:53,vars:46,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["id","deleteBtn","type","button","data-toggle","modal","data-target","#deleteDynamicAuthModal",1,"tw-btn-danger","tw-mb-3"],["bsModal","","id","deleteDynamicAuthModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(D,oe){1&D&&(i.TgZ(0,"app-title-bar",0),i.ALo(1,"translate"),i.ALo(2,"localize"),i.ynx(3,1),i.TgZ(4,"app-custom-tabs"),i._UZ(5,"app-custom-tab",2),i.YNc(6,Bi,1,2,"app-custom-tab",3),i.YNc(7,wi,1,2,"app-custom-tab",3),i.YNc(8,yi,1,2,"app-custom-tab",3),i.YNc(9,vn,1,2,"app-custom-tab",3),i.qZA(),i.BQk(),i.qZA(),i.TgZ(10,"div",4),i._UZ(11,"router-outlet"),i.qZA(),i.TgZ(12,"app-button-bar")(13,"button",5),i.NdJ("click",function(){return oe.saveDynamicAuth()}),i.TgZ(14,"span"),i._uU(15),i.ALo(16,"translate"),i.qZA()(),i.ynx(17,6),i.TgZ(18,"button",7),i._uU(19),i.ALo(20,"translate"),i.qZA(),i.BQk(),i.qZA(),i.TgZ(21,"div",8)(22,"div",9)(23,"div",10)(24,"div",11)(25,"h5",12),i._uU(26),i.ALo(27,"translate"),i.qZA(),i.TgZ(28,"button",13),i._UZ(29,"span",14),i.TgZ(30,"span",15),i._uU(31),i.ALo(32,"translate"),i.qZA()()(),i.TgZ(33,"div",16)(34,"p",17),i._uU(35),i.ALo(36,"translate"),i.TgZ(37,"strong"),i._uU(38),i.qZA(),i._uU(39,"?"),i.qZA(),i._UZ(40,"p",18),i.ALo(41,"translate"),i.qZA(),i._UZ(42,"div",19),i.TgZ(43,"div",20)(44,"div",21)(45,"div",22)(46,"button",23),i.NdJ("click",function(){return oe.deleteDynamicAuth(oe.dynamicAuth.scheme)}),i._uU(47),i.ALo(48,"translate"),i.qZA()(),i.TgZ(49,"button",24),i._uU(50),i.ALo(51,"translate"),i.qZA()()()()()(),i._UZ(52,"app-can-deactivate")),2&D&&(i.Q6J("title",oe.dynamicAuth.displayName)("crumbs",i.VKq(43,Pi,i.WLB(40,mi,i.lcZ(1,20,"Nav.DynamicAuth"),i.lcZ(2,22,"/dynamic-auth"))))("hasTabs",!0),i.xp6(5),i.Q6J("tabTitle","Nav.Details")("tabValue","details"),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.OIDC),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.OIDC),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.SAML),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.SAML),i.xp6(4),i.Q6J("disabled",oe.saveDisabled),i.xp6(2),i.Oqu(i.lcZ(16,24,"Common.SaveAll")),i.xp6(4),i.Oqu(i.lcZ(20,26,"Common.Delete.Title")),i.xp6(2),i.Q6J("config",i.DdM(45,fr)),i.xp6(5),i.Oqu(i.lcZ(27,28,"Common.Delete.Confirm")),i.xp6(5),i.Oqu(i.lcZ(32,30,"Common.Close")),i.xp6(4),i.hij("",i.lcZ(36,32,"Common.Delete.AreYouSureSimple")," "),i.xp6(3),i.Oqu(oe.dynamicAuth.displayName),i.xp6(2),i.Q6J("innerHTML",i.lcZ(41,34,"Common.Delete.Warning"),i.oJD),i.xp6(7),i.hij(" ",i.lcZ(48,36,"Common.Delete.Title")," "),i.xp6(3),i.Oqu(i.lcZ(51,38,"Common.Delete.No")))},dependencies:[m.lC,t.O5,ie.v,rt.x,b.oB,an.J,gt.G,qt.N,C.X$,T.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();var Gi=p(7235);const Br=function(F){return[F]};function kr(F,Ae){if(1&F&&(i.TgZ(0,"app-form-row",4),i._UZ(1,"app-readonly",3),i.qZA()),2&F){const D=i.oxw(2);i.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(5,Br,D.optionsDictionary.callbackPath))}}function Tr(F,Ae){if(1&F&&(i.TgZ(0,"div",8)(1,"app-form-row",4),i._UZ(2,"app-readonly",3),i.qZA(),i.TgZ(3,"app-form-row",4),i._UZ(4,"app-readonly",3),i.qZA(),i.YNc(5,kr,2,7,"app-form-row",9),i.TgZ(6,"app-form-row",4),i._UZ(7,"app-readonly",3),i.qZA()()),2&F){const D=i.oxw();i.xp6(1),i.Q6J("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(16,Br,D.optionsDictionary.authority)),i.xp6(1),i.Q6J("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(18,Br,D.optionsDictionary.clientId)),i.xp6(1),i.Q6J("ngIf",D.isRskDynamicAuth),i.xp6(1),i.Q6J("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(20,Br,D.optionsDictionary.flow))}}function Ts(F,Ae){if(1&F&&(i.TgZ(0,"div",10)(1,"app-form-row",11),i._UZ(2,"app-readonly",3),i.qZA(),i.TgZ(3,"app-form-row",4),i._UZ(4,"app-readonly",3),i.qZA(),i.TgZ(5,"app-form-row",12),i._UZ(6,"app-readonly",3),i.qZA()()),2&F){const D=i.oxw();i.xp6(1),i.Q6J("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(16,Br,D.optionsDictionary.signInScheme)),i.xp6(1),i.Q6J("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(18,Br,D.optionsDictionary.signOutScheme)),i.xp6(1),i.Q6J("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.LifetimePicker)("values",i.VKq(20,Br,D.optionsDictionary.timeComparisonTolerance))}}function $s(F,Ae){if(1&F&&(i.TgZ(0,"div",13)(1,"app-form-row",12),i._UZ(2,"app-readonly",3),i.qZA()()),2&F){const D=i.oxw();i.xp6(1),i.Q6J("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(6,Br,D.optionsDictionary.clientSecret))}}let Ro=(()=>{class F{constructor(D,oe,ht,Gt){this.errorService=D,this.dynamicAuthChachService=oe,this.configService=ht,this.translate=Gt,this.dynamicAuthTypes=U.hH,this.snippet=Oe.SamlSignInSchemeCodeFrag}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.configService.getConfig().subscribe({next:D=>{this.isRskDynamicAuth=D.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk},error:D=>{this.errorService.handleError(D)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{switch(this.dynamicAuthType=D.type,this.dynamicAuthDictionary=new Gi.$(D),this.dynamicAuthType){case U.hH.OIDC:this.setOidcOptions(D.options);break;case U.hH.SAML:this.setSamlOptions(D.options)}},error:D=>{this.errorService.handleError(D)}})}setOidcOptions(D){let oe={...(0,ee.A3)(D)};oe.flow=this.translate.instant("DynamicAuth.Flows."+(oe.usePkce?Je.AuthCodePlusPkce:Je.AuthCode)),this.optionsDictionary=new Gi.$(oe)}setSamlOptions(D){const oe=(0,ee.ZP)(D);this.optionsDictionary=new Gi.$(oe)}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(mn.T),i.Y36(lt.C),i.Y36(at.E),i.Y36(C.sK))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-view-details"]],decls:11,vars:23,consts:[["id","viewDynamicAuthDetails"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label","help"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"div",1)(2,"app-form-row",2),i._UZ(3,"app-readonly",3),i.qZA(),i.TgZ(4,"app-form-row",4),i._UZ(5,"app-readonly",3),i.qZA(),i.TgZ(6,"app-form-row",4),i._UZ(7,"app-readonly",3),i.qZA()(),i.YNc(8,Tr,8,22,"div",5),i.YNc(9,Ts,7,22,"div",6),i.YNc(10,$s,3,8,"div",7),i.qZA()),2&D&&(i.xp6(2),i.Q6J("id","Enabled")("label","Common.Enabled"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(17,Br,oe.dynamicAuthDictionary.enabled)),i.xp6(1),i.Q6J("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(19,Br,oe.dynamicAuthDictionary.scheme)),i.xp6(1),i.Q6J("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(21,Br,oe.dynamicAuthDictionary.displayName)),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuthType==oe.dynamicAuthTypes.OIDC),i.xp6(1),i.Q6J("ngIf",oe.isRskDynamicAuth||oe.dynamicAuthType==oe.dynamicAuthTypes.SAML),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuthType==oe.dynamicAuthTypes.OIDC))},dependencies:[t.O5,An.L,Gr.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();const vs=function(F){return[F]};let Gs=(()=>{class F{constructor(D){this.dynamicAuthCacheService=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{var oe=(0,ee.ZP)(D.options);this.idpAdvancedDictionary=new Gi.$({allowIdpInitiatedSso:oe.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:oe.idPInitiatedSsoCompletionPath})}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-view-idp-advanced"]],decls:5,vars:15,consts:[["id","viewIdpAdvanced"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.TgZ(3,"app-form-row",3),i._UZ(4,"app-readonly",2),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(11,vs,oe.idpAdvancedDictionary.allowIdpInitiatedSso)),i.xp6(1),i.Q6J("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(13,vs,oe.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[An.L,Gr.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();const lo=function(F){return[F]};let Jo=(()=>{class F{constructor(D){this.dynamicAuthCacheService=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{var oe=(0,ee.ZP)(D.options);this.idpDetailsDictionary=new Gi.$({requireValidMetadataSignature:oe.requireValidMetadataSignature,idpMetadataAddr:oe.idpMetadataAddress})}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-view-idp-details"]],decls:5,vars:15,consts:[["id","viewIdpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.TgZ(3,"app-form-row",3),i._UZ(4,"app-readonly",2),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(11,lo,oe.idpDetailsDictionary.requireValidMetadataSignature)),i.xp6(1),i.Q6J("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(13,lo,oe.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[An.L,Gr.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();const Os=["AdvancedTabs"];let fs=(()=>{class F{constructor(){}ngOnInit(){}}return F.\u0275fac=function(D){return new(D||F)},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(D,oe){if(1&D&&i.Gf(Os,7),2&D){let ht;i.iGM(ht=i.CRH())&&(oe.advancedTabs=ht.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-custom-tabs",1),i._UZ(2,"app-custom-tab",2)(3,"app-custom-tab",2),i.qZA()(),i.TgZ(4,"div",3),i._UZ(5,"router-outlet"),i.qZA()),2&D&&(i.xp6(1),i.Q6J("pillMode",!0),i.xp6(1),i.Q6J("tabTitle","Nav.Details")("tabValue","details"),i.xp6(1),i.Q6J("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[m.lC,ie.v,rt.x],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();function mo(F,Ae){if(1&F&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"slice"),i.qZA()),2&F){const D=Ae.item;i.xp6(1),i.Oqu(D.length>20?i.Dn7(2,1,D,0,20)+"...":D)}}function ls(F,Ae){1&F&&(i.TgZ(0,"div",5)(1,"div"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&F&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"UserDetails.NoClaimsMessage")," "))}function As(F,Ae){if(1&F&&(i.TgZ(0,"tr")(1,"td",11)(2,"span",12),i._uU(3),i.qZA()()()),2&F){const D=Ae.$implicit;i.xp6(3),i.Oqu(D)}}function go(F,Ae){if(1&F&&(i.TgZ(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),i._uU(4),i.ALo(5,"translate"),i.qZA()()(),i.TgZ(6,"tbody"),i.YNc(7,As,4,1,"tr",10),i.qZA()()),2&F){const D=i.oxw();i.xp6(4),i.Oqu(i.lcZ(5,2,"Common.Scope")),i.xp6(3),i.Q6J("ngForOf",D.oidcOptions.scope)}}let Wo=(()=>{class F{constructor(D,oe){this.errorService=D,this.dynamicAuthChachService=oe,this.newScope="",this.dynamicAuthTypes=U.hH,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.oidcOptions=(0,ee.A3)(this.dynamicAuth.options)},error:D=>{this.errorService.handleError(D)}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(mn.T),i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-view-scopes"]],decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(D,oe){1&D&&(i.YNc(0,mo,3,5,"ng-template",null,0,i.W1O),i.TgZ(2,"div",1)(3,"div",2),i.YNc(4,ls,4,3,"div",3),i.YNc(5,go,8,4,"table",4),i.qZA()()),2&D&&(i.xp6(3),i.Q6J("id","Scopes"),i.xp6(1),i.Q6J("ngIf",oe.oidcOptions.scope.length<=0),i.xp6(1),i.Q6J("ngIf",oe.oidcOptions.scope.length>0))},dependencies:[t.sg,t.O5,t.OU,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();const Ss=function(F){return[F]};let Mr=(()=>{class F{constructor(D){this.dynamicAuthCacheService=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{var oe=(0,ee.ZP)(D.options);this.spDetailsDictionary=new Gi.$({entityId:oe.spEntityId,metaDataAddr:oe.spMetadataAddress,callbackPath:oe.callbackPath,signOutCallbackPath:oe.signedOutCallbackPath})}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-view-sp-details"]],decls:9,vars:29,consts:[["id","viewSpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.TgZ(3,"app-form-row",1),i._UZ(4,"app-readonly",2),i.qZA(),i.TgZ(5,"app-form-row",1),i._UZ(6,"app-readonly",2),i.qZA(),i.TgZ(7,"app-form-row",3),i._UZ(8,"app-readonly",2),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(21,Ss,oe.spDetailsDictionary.entityId)),i.xp6(1),i.Q6J("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(23,Ss,oe.spDetailsDictionary.metaDataAddr)),i.xp6(1),i.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(25,Ss,oe.spDetailsDictionary.callbackPath)),i.xp6(1),i.Q6J("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(27,Ss,oe.spDetailsDictionary.signOutCallbackPath)))},dependencies:[An.L,Gr.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();const qo=function(F){return[F]};let Qs=(()=>{class F{constructor(D){this.dynamicAuthCacheService=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{var oe=(0,ee.ZP)(D.options);this.spRequestDictionary=new Gi.$({signAuthenticationRequests:oe.signAuthenticationRequests}),this.certificateDescription=oe.signingCertificateDto?[oe.signingCertificateDto]:[]}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-view-sp-request"]],decls:4,vars:10,consts:[["id","viewSpRequest"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i._UZ(3,"app-saml-cert-list",3),i.qZA()),2&D&&(i.xp6(1),i.Q6J("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(8,qo,oe.spRequestDictionary.signAuthenticationRequests)),i.xp6(1),i.Q6J("certificates",oe.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[An.L,jn.z,Gr.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();const qs=function(F){return[F]};let zs=(()=>{class F{constructor(D){this.dynamicAuthCacheService=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{var oe=(0,ee.ZP)(D.options);this.spResponseDictionary=new Gi.$({requireSignedAssertions:oe.requireSignedAssertions,requireEncryptedAssertions:oe.requireEncryptedAssertions}),this.certificateDescription=oe.encryptionCertificateDto?[oe.encryptionCertificateDto]:[]}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-view-sp-response"]],decls:6,vars:17,consts:[["id","viewSpResponse"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.TgZ(3,"app-form-row",1),i._UZ(4,"app-readonly",2),i.qZA(),i._UZ(5,"app-saml-cert-list",3),i.qZA()),2&D&&(i.xp6(1),i.Q6J("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(13,qs,oe.spResponseDictionary.requireSignedAssertions)),i.xp6(1),i.Q6J("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(15,qs,oe.spResponseDictionary.requireEncryptedAssertions)),i.xp6(1),i.Q6J("certificates",oe.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[An.L,jn.z,Gr.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();const ia=["AdvancedTabs"];let co=(()=>{class F{constructor(){}ngOnInit(){}}return F.\u0275fac=function(D){return new(D||F)},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(D,oe){if(1&D&&i.Gf(ia,7),2&D){let ht;i.iGM(ht=i.CRH())&&(oe.advancedTabs=ht.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-custom-tabs",1),i._UZ(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),i.qZA()(),i.TgZ(5,"div",3),i._UZ(6,"router-outlet"),i.qZA()),2&D&&(i.xp6(1),i.Q6J("pillMode",!0),i.xp6(1),i.Q6J("tabTitle","Nav.Details")("tabValue","details"),i.xp6(1),i.Q6J("tabTitle","Nav.Request")("tabValue","request"),i.xp6(1),i.Q6J("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[m.lC,ie.v,rt.x],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();function jo(F,Ae){1&F&&(i.TgZ(0,"option",19),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Nav.Scopes")))}function _o(F,Ae){1&F&&(i.TgZ(0,"option",20),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Nav.Advanced")))}function gi(F,Ae){1&F&&(i.TgZ(0,"option",21),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Nav.SP")))}function ro(F,Ae){1&F&&(i.TgZ(0,"option",22),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Nav.IdP")))}const Ys=function(){return["active"]};function De(F,Ae){1&F&&(i.TgZ(0,"button",23),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.Q6J("routerLinkActive",i.DdM(4,Ys)),i.xp6(1),i.Oqu(i.lcZ(2,2,"Nav.Scopes")))}function $(F,Ae){1&F&&(i.TgZ(0,"button",24),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.Q6J("routerLinkActive",i.DdM(4,Ys)),i.xp6(1),i.Oqu(i.lcZ(2,2,"Nav.Advanced")))}function xe(F,Ae){1&F&&(i.TgZ(0,"button",25),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.Q6J("routerLinkActive",i.DdM(4,Ys)),i.xp6(1),i.Oqu(i.lcZ(2,2,"Nav.SP")))}function Ve(F,Ae){1&F&&(i.TgZ(0,"button",26),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F&&(i.Q6J("routerLinkActive",i.DdM(4,Ys)),i.xp6(1),i.Oqu(i.lcZ(2,2,"Nav.IdP")))}const Ct=function(F,Ae){return{title:F,link:Ae}},Ut=function(F){return[F]};let Pt=(()=>{class F{constructor(D,oe,ht,Gt,xn,Yn){this.r=D,this.route=oe,this.titleService=ht,this.translate=Gt,this.errorService=xn,this.dynamicAuthCachService=Yn,this.dynamicAuthTypes=U.hH}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D;const oe=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+ot.de.SITE_TITLE;this.titleService.setTitle(oe)},error:D=>{this.errorService.handleError(D)}})}mobRoute(D){this.r.navigate([D],{relativeTo:this.route})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(m.F0),i.Y36(m.gz),i.Y36(nn.Dx),i.Y36(C.sK),i.Y36(mn.T),i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["ng-component"]],decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","viewDynamicAuth",1,"tw-container","tw-mx-auto"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(D,oe){1&D&&(i.TgZ(0,"app-title-bar",0),i.ALo(1,"translate"),i.ALo(2,"localize"),i.ynx(3,1),i.TgZ(4,"div",2)(5,"label",3),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"div",4)(9,"select",5),i.NdJ("change",function(Gt){return oe.mobRoute(Gt.target.value)}),i.TgZ(10,"option",6),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.YNc(13,jo,3,3,"option",7),i.YNc(14,_o,3,3,"option",8),i.YNc(15,gi,3,3,"option",9),i.YNc(16,ro,3,3,"option",10),i.qZA()()(),i.TgZ(17,"ul",11),i.ALo(18,"translate"),i.TgZ(19,"li",12)(20,"button",13),i._uU(21),i.ALo(22,"translate"),i.qZA()(),i.TgZ(23,"li",12),i.YNc(24,De,3,5,"button",14),i.qZA(),i.TgZ(25,"li",12),i.YNc(26,$,3,5,"button",15),i.qZA(),i.TgZ(27,"li",12),i.YNc(28,xe,3,5,"button",16),i.qZA(),i.TgZ(29,"li",12),i.YNc(30,Ve,3,5,"button",17),i.qZA()(),i.BQk(),i.qZA(),i.TgZ(31,"div",18),i._UZ(32,"router-outlet"),i.qZA()),2&D&&(i.Q6J("title",oe.dynamicAuth.displayName)("crumbs",i.VKq(33,Ut,i.WLB(30,Ct,i.lcZ(1,18,"Nav.DynamicAuth"),i.lcZ(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",oe.dynamicAuth.nonEditable),i.xp6(6),i.Oqu(i.lcZ(7,22,"Nav.SubMenu")),i.xp6(5),i.Oqu(i.lcZ(12,24,"Nav.Details")),i.xp6(2),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.OIDC),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.OIDC),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.SAML),i.xp6(1),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.SAML),i.xp6(1),i.uIk("aria-label",i.lcZ(18,26,"Nav.SubMenu")),i.xp6(3),i.Q6J("routerLinkActive",i.DdM(35,Ys)),i.xp6(1),i.Oqu(i.lcZ(22,28,"Nav.Details")),i.xp6(3),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.OIDC),i.xp6(2),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.OIDC),i.xp6(2),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.SAML),i.xp6(2),i.Q6J("ngIf",oe.dynamicAuth.type==oe.dynamicAuthTypes.SAML))},dependencies:[m.lC,m.rH,m.Od,t.O5,e.YN,e.Kr,gt.G,C.X$,T.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),F})();var Kt=p(1206),ge=p(9512),st=p(8677),ue=p(8024),Ue=p(8308),Zt=p(5046);function ln(F,Ae){1&F&&(i.TgZ(0,"app-form-row",3)(1,"app-form-toggle",4),i._UZ(2,"input",7),i.qZA()()),2&F&&(i.Q6J("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),i.xp6(1),i.Q6J("id","MapInboundClaims")("isTraffic",!0)("isAlt",!1))}function Vn(F,Ae){if(1&F&&(i.TgZ(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),i._UZ(3,"input",5),i.qZA()(),i.YNc(4,ln,3,7,"app-form-row",6),i.qZA()),2&F){const D=i.oxw();i.Q6J("formGroup",D.form),i.xp6(1),i.Q6J("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!D.isRskDynamicAuth),i.xp6(1),i.Q6J("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),i.xp6(2),i.Q6J("ngIf",D.isRskDynamicAuth)}}let Di=(()=>{class F{constructor(D,oe,ht,Gt){this.fb=D,this.configService=oe,this.dynamicAuthCache=ht,this.errorService=Gt}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.configService.getConfig().pipe((0,Fe.P)()).subscribe({next:D=>{this.isRskDynamicAuth=D.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk}}),this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.oidcOptions=(0,ee.A3)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}buildForm(){let D={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(D.mapInboundClaims=[this.oidcOptions.mapInboundClaims,[]]),this.form=this.fb.group(D)}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:D=>{let oe={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.form.get("getClaimsFromUserInfoEndpoint").value};this.isRskDynamicAuth&&(oe.mapInboundClaims=this.form.get("mapInboundClaims").value),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(oe)}),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid)}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(at.E),i.Y36(lt.C),i.Y36(mn.T))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-claims-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthClaims"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","MapInboundClaims","formControlName","mapInboundClaims","type","checkbox",1,"tw-form-switch__input"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,Vn,5,9,"form",1),i.qZA()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.form))},dependencies:[t.O5,e._Y,e.Wl,e.JJ,e.JL,e.sg,e.u,An.L,Cn.O],encapsulation:2}),F})();function ts(F,Ae){if(1&F&&(i.TgZ(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),i._UZ(3,"input",5),i.qZA()(),i.TgZ(4,"app-form-row",6)(5,"app-form-toggle",4),i._UZ(6,"input",7),i.qZA()()()),2&F){const D=i.oxw();i.Q6J("formGroup",D.form),i.xp6(1),i.Q6J("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),i.xp6(1),i.Q6J("id","SaveTokens")("isTraffic",!0)("isAlt",!1),i.xp6(2),i.Q6J("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),i.xp6(1),i.Q6J("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1)}}let Jr=(()=>{class F{constructor(D,oe,ht){this.fb=D,this.dynamicAuthCache=oe,this.errorService=ht}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.oidcOptions=(0,ee.A3)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}buildForm(){this.form=this.fb.group({saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:D=>{let oe={...this.oidcOptions,saveTokens:this.form.get("saveTokens").value,useTokenLifetime:this.form.get("useTokenLifetime").value};this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(oe)}),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid)}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(lt.C),i.Y36(mn.T))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-tokens-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthTokens"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,ts,7,14,"form",1),i.qZA()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.form))},dependencies:[t.O5,e._Y,e.Wl,e.JJ,e.JL,e.sg,e.u,An.L,Cn.O],encapsulation:2}),F})();function vo(F,Ae){if(1&F&&(i.TgZ(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),i._UZ(3,"input",5),i.qZA()(),i.TgZ(4,"app-form-row",6),i._UZ(5,"app-lifetime-picker",7),i.qZA()()),2&F){const D=i.oxw();i.Q6J("formGroup",D.form),i.xp6(1),i.Q6J("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),i.xp6(1),i.Q6J("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1),i.xp6(2),i.Q6J("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),i.xp6(1),i.Q6J("buttons",D.metadataRefreshIntervalButtons)}}let ko=(()=>{class F{constructor(D,oe,ht){this.fb=D,this.dynamicAuthCache=oe,this.errorService=ht,this.setButtonModels()}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.oidcOptions=(0,ee.A3)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}buildForm(){this.form=this.fb.group({refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound],metadataRefreshInterval:[this.oidcOptions.metadataRefreshInterval,[e.kI.min(300)]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:D=>{let oe={...this.oidcOptions,refreshMetadataOnIssuerKeyNotFound:this.form.get("refreshOnIssuerKeyNotFound").value,metadataRefreshInterval:this.form.get("metadataRefreshInterval").value};this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(oe)}),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid)}})}setButtonModels(){this.metadataRefreshIntervalButtons=[{duration:1,unit:zr.f.Hour},{duration:12,unit:zr.f.Hours},{duration:1,unit:zr.f.Day}]}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(lt.C),i.Y36(mn.T))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-metadata-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthMetadata"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","MetadataRefreshInterval","formControlName","metadataRefreshInterval",3,"buttons"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,vo,6,12,"form",1),i.qZA()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.form))},dependencies:[t.O5,e._Y,e.Wl,e.JJ,e.JL,e.sg,e.u,Wi.U,An.L,Cn.O],encapsulation:2}),F})();function xs(F,Ae){if(1&F&&(i.TgZ(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),i._UZ(3,"input",5),i.qZA()(),i.TgZ(4,"app-form-row",6)(5,"app-form-toggle",4),i._UZ(6,"input",7),i.qZA()()()),2&F){const D=i.oxw();i.Q6J("formGroup",D.form),i.xp6(1),i.Q6J("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),i.xp6(1),i.Q6J("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1),i.xp6(2),i.Q6J("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),i.xp6(1),i.Q6J("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1)}}let yo=(()=>{class F{constructor(D,oe,ht){this.fb=D,this.dynamicAuthCache=oe,this.errorService=ht}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.oidcOptions=(0,ee.A3)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}buildForm(){this.form=this.fb.group({skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:D=>{let oe={...this.oidcOptions,skipUnrecognizedRequests:this.form.get("skipUnrecognizedRequests").value,disableTelemetry:this.form.get("disableTelemetry").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(oe)})}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(lt.C),i.Y36(mn.T))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-other-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthOther"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,xs,7,14,"form",1),i.qZA()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.form))},dependencies:[t.O5,e._Y,e.Wl,e.JJ,e.JL,e.sg,e.u,An.L,Cn.O],encapsulation:2}),F})();function Xs(F,Ae){1&F&&i._UZ(0,"app-custom-tab",2),2&F&&i.Q6J("tabTitle","Common.Request")("tabValue","request")}function uo(F,Ae){1&F&&i._UZ(0,"app-custom-tab",2),2&F&&i.Q6J("tabTitle","Common.SignOut")("tabValue","signOut")}function Vs(F,Ae){1&F&&i._UZ(0,"app-custom-tab",2),2&F&&i.Q6J("tabTitle","Common.Metadata")("tabValue","metadata")}function So(F,Ae){1&F&&i._UZ(0,"app-custom-tab",2),2&F&&i.Q6J("tabTitle","Common.Tokens")("tabValue","tokens")}function ra(F,Ae){1&F&&i._UZ(0,"app-custom-tab",2),2&F&&i.Q6J("tabTitle","Common.Other")("tabValue","other")}let Po=(()=>{class F{constructor(D){this.configService=D}ngOnInit(){this.configService.getConfig().subscribe({next:D=>{this.isRskDynamicAuth=D.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(at.E))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-advanced"]],decls:9,vars:9,consts:[[3,"pillMode","hidden"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue"],["id","dynamicAuthAdvanced"]],template:function(D,oe){1&D&&(i.TgZ(0,"app-custom-tabs",0),i.YNc(1,Xs,1,2,"app-custom-tab",1),i._UZ(2,"app-custom-tab",2),i.YNc(3,uo,1,2,"app-custom-tab",1),i.YNc(4,Vs,1,2,"app-custom-tab",1),i.YNc(5,So,1,2,"app-custom-tab",1),i.YNc(6,ra,1,2,"app-custom-tab",1),i.qZA(),i.TgZ(7,"div",3),i._UZ(8,"router-outlet"),i.qZA()),2&D&&(i.Q6J("pillMode",!0)("hidden",!oe.isRskDynamicAuth),i.xp6(1),i.Q6J("ngIf",oe.isRskDynamicAuth),i.xp6(1),i.Q6J("tabTitle","Common.Claims")("tabValue","claims"),i.xp6(1),i.Q6J("ngIf",oe.isRskDynamicAuth),i.xp6(1),i.Q6J("ngIf",oe.isRskDynamicAuth),i.xp6(1),i.Q6J("ngIf",oe.isRskDynamicAuth),i.xp6(1),i.Q6J("ngIf",oe.isRskDynamicAuth))},dependencies:[m.lC,t.O5,ie.v,rt.x],encapsulation:2}),F})();function Ga(F,Ae){if(1&F&&(i.TgZ(0,"form",2)(1,"app-form-row",3),i._UZ(2,"input",4),i.qZA(),i.TgZ(3,"app-form-row",3),i._UZ(4,"input",5),i.qZA(),i.TgZ(5,"app-form-row",6),i._UZ(6,"input",7),i.qZA()()),2&F){const D=i.oxw();i.Q6J("formGroup",D.form),i.xp6(1),i.Q6J("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),i.xp6(2),i.Q6J("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),i.xp6(2),i.Q6J("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0)}}let Lo=(()=>{class F{constructor(D,oe,ht){this.fb=D,this.dynamicAuthCache=oe,this.errorService=ht}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.oidcOptions=(0,ee.A3)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}buildForm(){this.form=this.fb.group({remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[e.kI.required,ti()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[e.kI.required,ti()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[e.kI.required,ti()]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:D=>{let oe={...this.oidcOptions,remoteSignOutPath:this.form.get("remoteSignOutPath").value,signedOutRedirectUri:this.form.get("signedOutRedirectUri").value,signedOutCallbackPath:this.form.get("signedOutCallbackPath").value};this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(oe)}),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid)}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(lt.C),i.Y36(mn.T))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-signout-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthSignOut"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],[3,"id","label","isLast"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,Ga,7,8,"form",1),i.qZA()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.form))},dependencies:[t.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,An.L],encapsulation:2}),F})();const Ki=function(F){return[F]};function Ls(F,Ae){if(1&F&&(i.TgZ(0,"app-form-row",1),i._UZ(1,"app-readonly",2),i.qZA()),2&F){const D=i.oxw();i.Q6J("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",D.ReadOnlyFieldType.Single)("values",i.VKq(6,Ki,D.optionsDictionary.mapInboundClaims))}}let al=(()=>{class F{constructor(D,oe){this.configService=D,this.dynamicAuthCache=oe}get ReadOnlyFieldType(){return zn.O}ngOnInit(){(0,Rt.a)([this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()),this.configService.getConfig().pipe((0,Fe.P)())]).subscribe({next:([D,oe])=>{this.optionsDictionary=new Gi.$((0,ee.A3)(D.options)),this.isRskDynamicAuth=oe.featureFlagOptions.dynamicAuthenticationFlag==Dt.u.Rsk}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(at.E),i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-claims-view-details"]],decls:4,vars:9,consts:[["id","viewDynamicAuthClaims"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.YNc(3,Ls,2,8,"app-form-row",3),i.qZA()),2&D&&(i.xp6(1),i.Q6J("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!oe.isRskDynamicAuth),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(7,Ki,oe.optionsDictionary.getClaimsFromUserInfoEndpoint)),i.xp6(1),i.Q6J("ngIf",oe.isRskDynamicAuth))},dependencies:[t.O5,An.L,Gr.f],encapsulation:2}),F})();const ka=function(F){return[F]};let Qa=(()=>{class F{constructor(D){this.dynamicAuthCache=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.optionsDictionary=new Gi.$((0,ee.A3)(D.options))}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-signout-view-details"]],decls:7,vars:19,consts:[["id","viewDynamicAuthSignOut"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","isLast"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.TgZ(3,"app-form-row",1),i._UZ(4,"app-readonly",2),i.qZA(),i.TgZ(5,"app-form-row",3),i._UZ(6,"app-readonly",2),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(13,ka,oe.optionsDictionary.remoteSignOutPath)),i.xp6(1),i.Q6J("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(15,ka,oe.optionsDictionary.signedOutRedirectUri)),i.xp6(1),i.Q6J("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(17,ka,oe.optionsDictionary.signedOutCallbackPath)))},dependencies:[An.L,Gr.f],encapsulation:2}),F})();const ll=function(F){return[F]};let gc=(()=>{class F{constructor(D){this.dynamicAuthCache=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.optionsDictionary=new Gi.$((0,ee.A3)(D.options))}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-metadata-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthMetadata"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.TgZ(3,"app-form-row",3),i._UZ(4,"app-readonly",2),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(11,ll,oe.optionsDictionary.refreshOnIssuerKeyNotFound)),i.xp6(1),i.Q6J("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(13,ll,oe.optionsDictionary.metadataRefreshInterval)))},dependencies:[An.L,Gr.f],encapsulation:2}),F})();const ga=function(F){return[F]};let sa=(()=>{class F{constructor(D){this.dynamicAuthCache=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.optionsDictionary=new Gi.$((0,ee.A3)(D.options))}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-tokens-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthTokens"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.TgZ(3,"app-form-row",3),i._UZ(4,"app-readonly",2),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(11,ga,oe.optionsDictionary.saveTokens)),i.xp6(1),i.Q6J("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(13,ga,oe.optionsDictionary.useTokenLifetime)))},dependencies:[An.L,Gr.f],encapsulation:2}),F})();const Co=function(F){return[F]};let _c=(()=>{class F{constructor(D){this.dynamicAuthCache=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.optionsDictionary=new Gi.$((0,ee.A3)(D.options))}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-other-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.TgZ(3,"app-form-row",3),i._UZ(4,"app-readonly",2),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(11,Co,oe.optionsDictionary.skipUnrecognizedRequests)),i.xp6(1),i.Q6J("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(13,Co,oe.optionsDictionary.disableTelemetry)))},dependencies:[An.L,Gr.f],encapsulation:2}),F})();var ms=p(9712),Ko=p(6592);function xo(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"div",6)(1,"div",7),i._UZ(2,"input",8),i.TgZ(3,"button",9),i.NdJ("click",function(){i.CHM(D);const ht=i.oxw();return i.KtG(ht.onAdd())}),i._UZ(4,"span",10),i.TgZ(5,"span",11),i._uU(6),i.ALo(7,"translate"),i.qZA()()()()}if(2&F){const D=i.oxw();i.xp6(2),i.s9C("id",D.id+"-newValue-input"),i.xp6(1),i.s9C("id",D.id+"-newValue-button"),i.Q6J("disabled",D.addDisabled),i.xp6(3),i.Oqu(i.lcZ(7,4,"Common.Add"))}}function Ll(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"app-pill-list",12),i.NdJ("onDelete",function(ht){i.CHM(D);const Gt=i.oxw();return i.KtG(Gt.onDelete(ht))}),i.qZA()}if(2&F){const D=i.oxw();i.Q6J("readonly",D.reserved)("id",D.id)("values",D.value)}}function Bl(F,Ae){if(1&F&&(i.TgZ(0,"span",13),i._uU(1),i.qZA()),2&F){const D=i.oxw();i.xp6(1),i.Oqu(D.valueLimitMsg)}}function Hs(F,Ae){if(1&F&&(i.TgZ(0,"span",14),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&F){const D=Ae.$implicit;i.xp6(1),i.AsE("",D.key,": ",i.lcZ(2,2,D.value),"")}}let Eo=(()=>{class F{constructor(D,oe){this.fb=D,this.tranlate=oe,this.id=(0,te.qs)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.valueLimit=50,this.validators=[],this.onChange=ht=>{},this.onTouched=()=>{}}get newValue(){return this.form.get("newValue")?.value}set newValue(D){this.form.get("newValue").setValue(D)}get errors(){let D=this.form.get("newValue");return D.dirty?D?.errors??[]:[]}get valueLimitMsg(){return this.tranlate.instant("Errors.PillListLimitReached",[this.value.length,this.valueLimit])}ngOnInit(){this.form=this.fb.group({newValue:["",this.validators]})}writeValue(D){this.value=D}registerOnChange(D){this.onChange=D}registerOnTouched(D){this.onTouched=D}setDisabledState(D){this.disabled=D}validate(D){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newValue)||this.value.includes(this.newValue)||this.form.get("newValue").invalid}onAdd(){!this.newValue||(this.value.push(this.newValue),this.onChange(this.value),this.newValue="",this.form.markAsPristine())}onDelete(D){this.value.splice(D,1),this.onChange(this.value)}isNullOrEmpty(D){return!D||null!==D.match(/^ *$/)}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(C.sK))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-freetext-list-input"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved",valueLimit:"valueLimit",validators:"validators"},features:[i._Bn([{provide:e.JU,useExisting:(0,i.Gpc)(()=>F),multi:!0},{provide:e.Cf,useExisting:(0,i.Gpc)(()=>F),multi:!0}])],decls:8,vars:7,consts:[[3,"formGroup"],["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list","tw-mb-5"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],["class","tw-alert-danger tw-mb-4","role","alert",4,"ngFor","ngForOf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","formControlName","newValue",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id"],[1,"tw-btn","tw-rounded-l-none",3,"id","disabled","click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"readonly","id","values","onDelete"],["id","too-many-values"],["role","alert",1,"tw-alert-danger","tw-mb-4"]],template:function(D,oe){1&D&&(i.TgZ(0,"form",0),i.YNc(1,xo,8,6,"div",1),i.TgZ(2,"div",2),i.YNc(3,Ll,1,3,"app-pill-list",3),i.YNc(4,Bl,2,1,"span",4),i.qZA(),i.TgZ(5,"div"),i.YNc(6,Hs,3,4,"span",5),i.ALo(7,"keyvalue"),i.qZA()()),2&D&&(i.Q6J("formGroup",oe.form),i.xp6(1),i.Q6J("ngIf",!oe.reserved),i.xp6(2),i.Q6J("ngIf",oe.value.length<=oe.valueLimit||!oe.reserved),i.xp6(1),i.Q6J("ngIf",oe.value.length>oe.valueLimit&&oe.reserved),i.xp6(2),i.Q6J("ngForOf",i.lcZ(7,5,oe.errors)))},dependencies:[t.sg,t.O5,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,Ko.j,t.Nd,C.X$],encapsulation:2}),F})();function Pa(F,Ae){if(1&F&&(i.TgZ(0,"li",21)(1,"label",22),i._UZ(2,"input",23),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"translate"),i.qZA()()()),2&F){const D=Ae.$implicit,oe=i.oxw(2);i.Q6J("id",D.value+"-prompt"),i.xp6(1),i.Q6J("for",D.value+"-checkbox"),i.xp6(1),i.Q6J("id",D.value+"-checkbox")("formControlName",D.value),i.uIk("disabled",oe.promptDisabled(D.value)),i.xp6(2),i.Oqu(i.lcZ(5,6,D.displayName))}}function _a(F,Ae){1&F&&i._UZ(0,"app-freetext-list-input",24)}function He(F,Ae){if(1&F){const D=i.EpF();i.TgZ(0,"form",2)(1,"app-form-row",3)(2,"app-row-bar",4)(3,"app-state-toggle",5),i.NdJ("newValue",function(ht){i.CHM(D);const Gt=i.oxw();return i.KtG(Gt.updateResponseMode(ht))}),i.qZA(),i.TgZ(4,"a",6),i._UZ(5,"span",7),i.TgZ(6,"span",8),i._uU(7),i.ALo(8,"translate"),i.qZA()()()(),i.TgZ(9,"app-form-row",3)(10,"ul",9),i.YNc(11,Pa,6,8,"li",10),i.TgZ(12,"li",11)(13,"label",12),i._UZ(14,"input",13),i.TgZ(15,"span"),i._uU(16),i.ALo(17,"translate"),i.qZA()()()(),i._UZ(18,"br"),i.YNc(19,_a,1,0,"app-freetext-list-input",14),i.TgZ(20,"p",15)(21,"span",16),i._uU(22,"Preview:"),i.qZA(),i.TgZ(23,"span",17)(24,"span",18),i._uU(25),i.qZA()()()(),i.TgZ(26,"app-form-row",19),i._UZ(27,"app-freetext-list-input",20),i.qZA()()}if(2&F){const D=i.oxw();i.Q6J("formGroup",D.form),i.xp6(1),i.Q6J("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),i.xp6(2),i.Q6J("id","ResponseMode")("options",D.responseModeOptions)("value",D.form.get("responseMode").value),i.xp6(1),i.Q6J("href",D.LinkConstants.AdvOthDynamicAuth,i.LSH),i.xp6(3),i.Oqu(i.lcZ(8,22,"Common.Help")),i.xp6(2),i.Q6J("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),i.xp6(2),i.Q6J("ngForOf",D.promptOptions),i.xp6(3),i.uIk("disabled",D.promptDisabled("")),i.xp6(2),i.Oqu(i.lcZ(17,24,"DynamicAuth.Prompt.Values.Other")),i.xp6(3),i.Q6J("ngIf",D.form.get("useOther").value&&!D.promptDisabled("other")),i.xp6(6),i.hij(" '",D.generatePromptString(),"' "),i.xp6(1),i.Q6J("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),i.xp6(1),i.Q6J("validators",D.ResourceValidators)}}class o{constructor(Ae,D){this.displayName=Ae,this.value=D}}const v=function(F){return[F]},I=[{path:"dynamic-auth",component:Is,canActivate:[st.B,Zt.h,ge.n,Ue.u],data:{permissions:[Kt.y[Kt.y.IdentityServerManager],Kt.y[Kt.y.IdentityServerManagerReadOnly],Kt.y[Kt.y.AllReadOnly],Kt.y[Kt.y.All]]}},{path:"dynamic-auth/:Scheme",component:es,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:oi},{path:"scopes",component:Et},{path:"advanced",component:Po,children:[{path:"request",component:(()=>{class F{constructor(D,oe,ht){this.fb=D,this.dynamicAuthCache=oe,this.errorService=ht,this.responseModeOptions=Object.keys(ce).filter(Gt=>isNaN(Number(Gt))),this.promptOptions=[new o("DynamicAuth.Prompt.Values.None","none"),new o("DynamicAuth.Prompt.Values.Login","login"),new o("DynamicAuth.Prompt.Values.Consent","consent"),new o("DynamicAuth.Prompt.Values.SelectAccount","select_account")]}get ReadOnlyFieldType(){return zn.O}get LinkConstants(){return Qt.U}get ResourceValidators(){return[$t]}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.dynamicAuth=D,this.oidcOptions=(0,ee.A3)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:D=>{this.errorService.handleError(D)}})}buildForm(){let D=Oe.ResponseModeMap.get(this.oidcOptions.responseMode);const oe=this.promptOptions.map(Yn=>Yn.value),ht=(0,te.z3)(this.oidcOptions.prompt),Gt=ht.filter(Yn=>!oe.includes(Yn));let xn={responseMode:[ce[D],[]],resource:[(0,te.z3)(this.oidcOptions.resource),[]],useOther:[Gt.length>0,[]],otherPrompts:[Gt,[]]};for(let Yn of this.promptOptions)xn[Yn.value]=[ht?.includes(Yn.value)??!1,[]];this.form=this.fb.group(xn)}subscribeToValueChanges(){this.formChange=this.form.valueChanges.subscribe({next:D=>{let oe=ce[this.form.get("responseMode").value],ht=Oe.ResponseModeKey(oe),Gt={...this.oidcOptions,responseMode:ht,prompt:this.generatePromptString(),resource:(0,te.YE)(this.form.get("resource").value)};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(Gt)})}})}generatePromptString(){let D=[];if(this.form.get("none").value)return"none";for(let oe of this.promptOptions)this.form.get(oe.value).value&&D.push(oe.value);return this.form.get("useOther").value&&this.form.get("otherPrompts").value.forEach(oe=>D.push(oe)),(0,te.YE)(D)}promptDisabled(D){const oe=this.form.get("none").value;return!("none"===D||!oe)||null}updateResponseMode(D){this.form.get("responseMode").setValue(D)}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(e.QS),i.Y36(lt.C),i.Y36(mn.T))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-request-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthRequest"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"id","options","value","newValue"],["type","button","target","_blank","right","",1,"tw-btn-link","tw-btn","tw-pt-0","group-hover:tw-text-blue-500",3,"href"],[1,"far","fa-question-circle","tw-w-15","tw-h-15"],[1,"sr-only"],[1,"tw-form-checks"],["class","tw-form-checks__item",3,"id",4,"ngFor","ngForOf"],["id","other-prompt",1,"tw-form-checks__item"],["for","other-checkbox",1,"tw-form-checks__label"],["id","other-checkbox","name","otherPrompt","type","checkbox","formControlName","useOther",1,"tw-form-checks__input"],["id","Prompt","formControlName","otherPrompts",4,"ngIf"],["id","promp-preview",1,"tw-form-text","tw-flex","tw-items-center"],[1,"tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-2"],[3,"id","label","help","isLast"],["id","Resource","formControlName","resource",3,"validators"],[1,"tw-form-checks__item",3,"id"],[1,"tw-form-checks__label",3,"for"],["name","noneCheckBox","type","checkbox",1,"tw-form-checks__input",3,"id","formControlName"],["id","Prompt","formControlName","otherPrompts"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0),i.YNc(1,He,28,26,"form",1),i.qZA()),2&D&&(i.xp6(1),i.Q6J("ngIf",oe.form))},dependencies:[t.sg,t.O5,e._Y,e.Wl,e.JJ,e.JL,e.sg,e.u,An.L,Ze.T,ms._,Eo,C.X$],encapsulation:2}),F})()},{path:"claims",component:Di},{path:"signOut",component:Lo},{path:"metadata",component:ko},{path:"tokens",component:Jr},{path:"other",component:yo}]},{path:"sp",component:St,children:[{path:"details",component:ai},{path:"request",component:ri},{path:"response",component:be}]},{path:"idp",component:Fn,children:[{path:"details",component:ve},{path:"advanced",component:Xi}]}],resolve:{dynamicAuth:pt.w},canDeactivate:[ue.I],canActivate:[st.B,Zt.h,ge.n,Ue.u],data:{permissions:[Kt.y[Kt.y.IdentityServerManager],Kt.y[Kt.y.All]]}},{path:"dynamic-auth/view/:Scheme",component:Pt,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Ro},{path:"scopes",component:Wo},{path:"advanced",component:Po,children:[{path:"request",component:(()=>{class F{constructor(D){this.dynamicAuthCache=D}get ReadOnlyFieldType(){return zn.O}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Fe.P)()).subscribe({next:D=>{this.optionsDictionary=new Gi.$((0,ee.A3)(D.options))}})}}return F.\u0275fac=function(D){return new(D||F)(i.Y36(lt.C))},F.\u0275cmp=i.Xpm({type:F,selectors:[["app-dynamic-auth-request-view-details"]],decls:7,vars:22,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(D,oe){1&D&&(i.TgZ(0,"div",0)(1,"app-form-row",1),i._UZ(2,"app-readonly",2),i.qZA(),i.TgZ(3,"app-form-row",1),i._UZ(4,"app-readonly",2),i.qZA(),i.TgZ(5,"app-form-row",3),i._UZ(6,"app-readonly",2),i.qZA()()),2&D&&(i.xp6(1),i.Q6J("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(16,v,oe.optionsDictionary.responseMode)),i.xp6(1),i.Q6J("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(18,v,oe.optionsDictionary.prompt)),i.xp6(1),i.Q6J("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),i.xp6(1),i.Q6J("fieldType",oe.ReadOnlyFieldType.Single)("values",i.VKq(20,v,oe.optionsDictionary.resource)))},dependencies:[An.L,Gr.f],encapsulation:2}),F})()},{path:"claims",component:al},{path:"signOut",component:Qa},{path:"metadata",component:gc},{path:"tokens",component:sa},{path:"other",component:_c}]},{path:"sp",component:co,children:[{path:"details",component:Mr},{path:"request",component:Qs},{path:"response",component:zs}]},{path:"idp",component:fs,children:[{path:"details",component:Jo},{path:"advanced",component:Gs}]}],resolve:{dynamicAuth:pt.w},canActivate:[st.B,Zt.h,ge.n,Ue.u],data:{permissions:[Kt.y[Kt.y.IdentityServerManager],Kt.y[Kt.y.IdentityServerManagerReadOnly],Kt.y[Kt.y.AllReadOnly],Kt.y[Kt.y.All]]}}];let H=(()=>{class F{}return F.\u0275fac=function(D){return new(D||F)},F.\u0275mod=i.oAB({type:F}),F.\u0275inj=i.cJS({imports:[m.Bz.forChild(I),T.fQ.forChild(I),m.Bz]}),F})();var se=p(2147);let he=(()=>{class F{}return F.\u0275fac=function(D){return new(D||F)},F.\u0275mod=i.oAB({type:F}),F.\u0275inj=i.cJS({imports:[t.ez,e.u5,e.UX,K.I,C.aw,se.l]}),F})(),Ne=(()=>{class F{}return F.\u0275fac=function(D){return new(D||F)},F.\u0275mod=i.oAB({type:F}),F.\u0275inj=i.cJS({providers:[pt.w,Z.U,V.K,P.N,a.S,B.L,j.i,N.T,L.S,mt.x,lt.C,at.E,$e,Ye],imports:[H,t.ez,m.Bz,e.u5,k.D,e.UX,g.P4,X.M,f.z8,b.zk,ye.W,G.j,C.aw,W._,T.fQ,q.l,le.T,_.F,qe.y,J.p,Ee.s,re.K,E.t,K.I,me.d,ze.W,ne.T,Se.l,R.P,Te.U,w.H3,nt.V,wt.G,he]}),F})()},2831:(dt,Ce,p)=>{"use strict";p.d(Ce,{A3:()=>T,ZP:()=>C,Zn:()=>e,ky:()=>m});var t=p(6205);function e(g){return{...g,type:t.hH[g.type]}}function m(g){return{...g,type:t.hH[g.type]}}function T(g){return JSON.parse(g)}function C(g){return JSON.parse(g)}},6205:(dt,Ce,p)=>{"use strict";p.d(Ce,{hH:()=>e});var g,t=p(1330),e=(()=>{return(g=e||(e={}))[g.OIDC=0]="OIDC",g[g.SAML=1]="SAML",e;var g})();(g=e||(e={})).fromWizardType=function f(w){switch(w){case t.Q.AddOidcDynamicAuth:return g.OIDC;case t.Q.AddSamlDynamicAuth:return g.SAML}}},1842:(dt,Ce,p)=>{"use strict";p.d(Ce,{w:()=>_});var t=p(4004),e=p(262),m=p(515),T=p(4879),C=p(2831),b=p(4650),g=p(618),f=p(3831),w=p(4889);let _=(()=>{class R{constructor(a,k,L){this.dynamicAuthService=a,this.changeCachingService=k,this.errorService=L}resolve(a,k){return this.dynamicAuthService.getDynamicAuth(a.params.Scheme).pipe((0,t.U)(Z=>{let j;return Z&&(j=(0,C.Zn)(Z),this.changeCachingService.unsavedCache.next(j)),j}),(0,e.K)((Z,j)=>(404===Z.status?this.errorService.resourceNotFound(T._.dynamicAuth):this.errorService.handleError(Z),(0,m.c)())))}}return R.\u0275fac=function(a){return new(a||R)(b.LFG(g.x),b.LFG(f.C),b.LFG(w.T))},R.\u0275prov=b.Yz7({token:R,factory:R.\u0275fac}),R})()},618:(dt,Ce,p)=>{"use strict";p.d(Ce,{x:()=>b});var t=p(529),e=p(4004),m=p(8176),T=p(4650),C=p(8564);let b=(()=>{class g{constructor(w,_){this.http=w,this.actionUrl="DynamicAuthentication",this.headers=_.setHeaders()}get(w,_,R,P){let a=new t.LE;return(0,m.hr)(w)||(a=a.append("scheme",w)),_&&(a=a.append("page",_)),R&&(a=a.append("pageSize",R)),(0,m.hr)(P)||(a=a.append("filters",P)),this.http.get(this.actionUrl,{headers:this.headers,params:a})}createDynamicAuth(w){return this.http.post(this.actionUrl,w,{headers:this.headers})}getDynamicAuth(w){return this.http.get(`${this.actionUrl}/${w}`,{headers:this.headers})}updateDynamicAuth(w){return this.http.put(`${this.actionUrl}/${w.scheme}`,w,{headers:this.headers})}deleteDynamicAuth(w){return this.http.delete(`${this.actionUrl}/${w}`,{headers:this.headers})}replaceSigningCert(w,_,R){return this.http.put(`${this.actionUrl}/${w}/saml/sp/signing-certificate`,{certBase64:_,certPassword:R},{headers:this.headers})}removeSigningCert(w){return this.http.delete(`${this.actionUrl}/${w}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(w,_,R){return this.http.put(`${this.actionUrl}/${w}/saml/sp/encryption-certificate`,{certBase64:_,certPassword:R},{headers:this.headers})}removeEncryptionCert(w){return this.http.delete(`${this.actionUrl}/${w}/saml/sp/encryption-certificate`,{headers:this.headers})}schemaHealthy(){return this.http.get(`${this.actionUrl}/validate`,{headers:this.headers}).pipe((0,e.U)(_=>_.isValid??!1))}}return g.\u0275fac=function(w){return new(w||g)(T.LFG(t.eN),T.LFG(C.s))},g.\u0275prov=T.Yz7({token:g,factory:g.\u0275fac}),g})()},6876:(dt,Ce,p)=>{"use strict";p.d(Ce,{O:()=>We});var t=p(4006),e=p(8185),m=p(1837),T=p(529),C=p(8176),b=p(4650),g=p(8564);let f=(()=>{class Je{constructor(i,we){this.http=i,this.headersService=we,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(i,we,$e,Ye,Xe,Fe,Tt){let vt=new T.LE;return null!=i&&(vt=vt.append("query",i)),(0,C.hr)(Ye)||(vt=vt.append("sort",Ye)),we&&(vt=vt.append("created",we)),$e&&(vt=vt.append("expires",$e)),Xe&&(vt=vt.append("page",String(Xe))),Fe&&(vt=vt.append("pageSize",String(Fe))),Tt&&(vt=vt.append("filterExpired",String(Tt))),vt}getSessions(i,we,$e,Ye,Xe,Fe,Tt){const vt=this.buildParams(i,we,$e,Ye,Xe,Fe,Tt);return this.http.get(this.actionUrl,{headers:this.headers,params:vt})}deleteSession(i){return this.http.delete(`${this.actionUrl}/${i}`,{headers:this.headers})}}return Je.\u0275fac=function(i){return new(i||Je)(b.LFG(T.eN),b.LFG(g.s))},Je.\u0275prov=b.Yz7({token:Je,factory:Je.\u0275fac}),Je})();var w=p(6895),_=p(9383),R=p(5785),P=p(5503),a=p(7579),k=p(727),L=p(5971),Z=p(590),j=p(8675),N=p(5577),B=p(5898),V=p(4380),J=p(2808),q=p(572),re=p(8975),W=p(5259),G=p(1923),X=p(4837);class E{constructor(Oe,i,we,$e,Ye,Xe){this.query=Oe,this.page=i,this.pageSize=we,this.sortCriteria=$e,this.fromDate=Ye,this.toDate=Xe}}class ne{constructor(Oe){this.query=Oe.query,this.page=Oe.page,this.pageSize=Oe.pageSize,this.sortCriteria=Oe.sortCriteria,this.fromDate=Oe.fromDate?.toString(),this.toDate=Oe.toDate?.toString()}}var K=(()=>{return(Je=K||(K={})).ByUser="user",Je.ByUserDescending="-user",Je.ByScheme="scheme",Je.BySchemeDescending="-scheme",Je.ByCreated="created",Je.ByCreatedDescending="-created",Je.ByExpires="expires",Je.ByExpiresDescending="-expires",Je.ByRenewed="renewed",Je.ByRenewedDescending="-renewed",K;var Je})(),le=p(4456),me=p(2979),Se=p(8285),ye=p(6219),ze=p(1060),Ee=p(4889),qe=p(4100),Te=p(7696),nt=p(5925),at=p(4225),wt=p(965);function lt(Je,Oe){1&Je&&(b.TgZ(0,"span",33),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&Je&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"Auditing.FromDateWarning")," "))}function mt(Je,Oe){1&Je&&(b.TgZ(0,"span",34),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&Je&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"Auditing.ToDateBehindWarning")," "))}function pt(Je,Oe){1&Je&&(b.TgZ(0,"div",31)(1,"div",35)(2,"div",36)(3,"div",37),b._UZ(4,"input",38,39),b.ALo(6,"translate"),b.ALo(7,"translate"),b.qZA()()()()),2&Je&&(b.xp6(4),b.uIk("placeholder",b.lcZ(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",b.lcZ(7,4,"Auditing.AddFilterTerm")))}function Yt(Je,Oe){1&Je&&(b.TgZ(0,"p",40),b._UZ(1,"span",41),b._uU(2),b.ALo(3,"translate"),b.qZA()),2&Je&&(b.xp6(2),b.hij(" ",b.lcZ(3,1,"Auditing.UpdateWarning")," "))}function un(Je,Oe){1&Je&&b._UZ(0,"app-simple-loader")}function Nt(Je,Oe){1&Je&&(b.TgZ(0,"div",42)(1,"div"),b._uU(2),b.ALo(3,"translate"),b.qZA()()),2&Je&&(b.xp6(2),b.Oqu(b.lcZ(3,1,"SessionManagement.NoSessionsFound")))}function Mt(Je,Oe){if(1&Je&&b._UZ(0,"app-data-table-column",48),2&Je){const i=b.oxw(2);b.Q6J("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",i.sortingEnum.None)}}function Y(Je,Oe){if(1&Je&&(b.TgZ(0,"app-data-table",43),b.YNc(1,Mt,1,5,"app-data-table-column",44),b._UZ(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),b.qZA()),2&Je){const i=b.oxw();b.Q6J("rows",i.pagedResult.results)("actions",i.dataTableActions),b.xp6(1),b.Q6J("ngIf",!i.resourceOnly()),b.xp6(1),b.Q6J("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),b.xp6(1),b.Q6J("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",i.dateColumn(i.DatePipeNames.prettyDateTime)),b.xp6(1),b.Q6J("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",i.dateColumn(i.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",i.sortingEnum.Descending),b.xp6(1),b.Q6J("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",i.dateColumn(i.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function Q(Je,Oe){if(1&Je){const i=b.EpF();b.TgZ(0,"app-pager",49),b.NdJ("onGoToPage",function($e){b.CHM(i);const Ye=b.oxw();return b.KtG(Ye.goToPage($e))}),b.qZA()}if(2&Je){const i=b.oxw();b.Q6J("totalResults",null==i.pagedResult?null:i.pagedResult.totalCount)("currentPage",i.filterForm.get("page").value)("lastPage",null==i.pagedResult?null:i.pagedResult.pageCount)}}const ce=function(Je){return[Je]};let We=(()=>{class Je{constructor(i,we,$e,Ye,Xe,Fe,Tt,vt,Ge,de){this.sessionManagementService=i,this.localizeRouter=we,this.router=$e,this.fb=Ye,this.activatedRoute=Xe,this.dataTableService=Fe,this.modalService=Tt,this.securityService=vt,this.errorService=Ge,this.systemClock=de,this.isLoading=!1,this.sortingEnum=X.JN,this.filterHasChanged=!1,this.sessionStream=new a.x,this.dateColumn=(ee,U)=>new J.X(ee,U),this.DatePipeNames=le.T,this.dataTableActions=[q.Xz.Delete],this.deleteModalId="SessionManagement",this.modelActions=W.n,this.deleteModalType=G.w.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new k.w0}resourceOnly(){return!(0,C.hr)(this.resourceName)}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,C.ub)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[q.Xz.Delete],this.activatedRoute.parent.url.pipe((0,Z.P)()).subscribe({next:i=>{this.resourceName=i[1]?.path??"",this.initDataSource()},error:i=>this.errorService.handleError(i)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(i=>{this.sortResults(i)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(i=>{this.openDeleteModal(this.pagedResult.results[i])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,j.O)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,N.z)(we=>(this.isLoading=!0,this.sessionManagementService.getSessions(we.query||"",we.fromDate?.toString(),we.toDate?.toString(),we.sortCriteria||"-when",we.page,we.pageSize,this.resourceOnly())))).subscribe(we=>{this.isLoading=!1,this.pagedResult={totalCount:we.totalCount,pageSize:we.pageSize,currentPage:we.currentPage,pageCount:we.pageCount,results:we.results.map($e=>new X.op($e,this.translatedRoute))}})}applyForm(i){i&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const we=this.filterForm.value;this.filterForm.patchValue({fromDate:we.fromDate,toDate:we.toDate}),this.sessionStream.next(we),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new ne(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(i){this.filterForm.patchValue({page:i}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:K.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(i){this.sessionToDelete=i,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:i=>{this.errorService.handleError(i)}})}sortResults(i){const we=this.activatedRoute.snapshot.queryParams,$e=(0,C.hr)(we?.fromDate)?this.systemClock.now().minus({month:1}):m.ou.fromISO(we.fromDate),Ye=(0,C.hr)(we?.toDate)?this.systemClock.now().plus({month:1}):m.ou.fromISO(we.toDate),Xe=new E(we.query,we.page,we.pageSize,this.getSortFromColumnName(i.prop,we.sortCriteria),$e,Ye),Fe=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:Xe.sortCriteria}),this.sessionStream.next(Xe),this.filterHasChanged=Fe,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new ne(Xe)}),this.dataTableService.sortCompletedEvent.next(i.prop)}getSortFromColumnName(i,we){switch(i){case"user":return we===K.ByUserDescending?K.ByUser:K.ByUserDescending;case"expires":return we===K.ByExpiresDescending?K.ByExpires:K.ByExpiresDescending;default:return K.ByExpiresDescending}}setupFilterForm(i){const we=(0,C.hr)(i?.fromDate)?this.systemClock.now().minus({month:1}):m.ou.fromISO(i.fromDate),$e=(0,C.hr)(i?.toDate)?this.systemClock.now().plus({month:1}):m.ou.fromISO(i.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[we,[C.eC]],toDate:[$e],query:[this.resourceName||""],page:[i?.page||1],pageSize:[i?.pageSize>1e3?1e3:i?.pageSize||25],sortCriteria:[i?.sortCriteria||K.ByExpiresDescending]},{validators:C.sY}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}}return Je.\u0275fac=function(i){return new(i||Je)(b.Y36(f),b.Y36(me.An),b.Y36(e.F0),b.Y36(t.qu),b.Y36(e.gz),b.Y36(Se.n),b.Y36(ye.Z),b.Y36(ze.I),b.Y36(Ee.T),b.Y36(qe.N))},Je.\u0275cmp=b.Xpm({type:Je,selectors:[["app-sessionmanagement"]],standalone:!0,features:[b._Bn([f]),b.jDz],decls:56,vars:42,consts:[["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/4"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],["pageLength",""],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["sortCriteria",""],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"title","modalId","actions","modalType","onCancel","onDelete"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],["filterValue",""],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(i,we){if(1&i&&(b.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),b._uU(7),b.ALo(8,"translate"),b.qZA(),b.TgZ(9,"div"),b._UZ(10,"app-date-time",7),b.YNc(11,lt,3,3,"span",8),b.qZA()()(),b.TgZ(12,"div",4)(13,"div",5)(14,"label",9),b._uU(15),b.ALo(16,"translate"),b.qZA(),b.TgZ(17,"div"),b._UZ(18,"app-date-time",10),b.YNc(19,mt,3,3,"span",11),b.qZA()()(),b.TgZ(20,"div",12)(21,"div",5)(22,"label",13),b._uU(23),b.ALo(24,"translate"),b.qZA(),b.TgZ(25,"div",14)(26,"select",15,16)(28,"option",17),b._uU(29,"25 "),b.qZA(),b.TgZ(30,"option",17),b._uU(31,"50"),b.qZA(),b.TgZ(32,"option",17),b._uU(33,"100"),b.qZA()()()()()(),b.YNc(34,pt,8,6,"div",18),b.TgZ(35,"div",19),b._UZ(36,"input",20,21),b.TgZ(38,"button",22),b.NdJ("click",function(){return we.applyForm(!0)}),b._uU(39),b.ALo(40,"translate"),b.qZA(),b.TgZ(41,"button",23),b.NdJ("click",function(){return we.resetForm()}),b._uU(42),b.ALo(43,"translate"),b.qZA(),b.YNc(44,Yt,4,3,"p",24),b.qZA()()(),b.YNc(45,un,1,0,"app-simple-loader",25),b.YNc(46,Nt,4,3,"div",26),b.YNc(47,Y,6,19,"app-data-table",27),b.YNc(48,Q,1,3,"app-pager",28),b.qZA(),b.TgZ(49,"app-custom-modal",29),b.NdJ("onCancel",function(){return we.closeDeleteModal()})("onDelete",function(){return we.removeSession()}),b.TgZ(50,"div",30)(51,"p",31),b._uU(52),b.ALo(53,"translate"),b.qZA(),b._UZ(54,"p",32),b.ALo(55,"translate"),b.qZA()()),2&i){let $e;b.xp6(1),b.Q6J("formGroup",we.filterForm),b.xp6(6),b.Oqu(b.lcZ(8,26,"SessionManagement.Created")),b.xp6(3),b.Q6J("displayType","date"),b.xp6(1),b.Q6J("ngIf",we.filterForm.get("fromDate").hasError("dateInFuture")),b.xp6(4),b.Oqu(b.lcZ(16,28,"SessionManagement.Expires")),b.xp6(3),b.Q6J("displayType","date"),b.xp6(1),b.Q6J("ngIf",we.filterForm.hasError("fromDateIsAfterToDate")),b.xp6(4),b.Oqu(b.lcZ(24,30,"Auditing.ResultsPerPage")),b.xp6(5),b.Q6J("value",25),b.xp6(2),b.Q6J("value",50),b.xp6(2),b.Q6J("value",100),b.xp6(2),b.Q6J("ngIf",!we.resourceOnly()),b.xp6(4),b.Q6J("disabled",(null==we.filterForm?null:we.filterForm.errors)||(null==($e=we.filterForm.get("fromDate"))?null:$e.hasError("dateInFuture"))),b.xp6(1),b.hij(" ",b.lcZ(40,32,"Auditing.ExecuteAndDisplay")," "),b.xp6(3),b.hij(" ",b.lcZ(43,34,"Auditing.Reset")," "),b.xp6(2),b.Q6J("ngIf",we.filterHasChanged),b.xp6(1),b.Q6J("ngIf",we.isLoading),b.xp6(1),b.Q6J("ngIf",(null==we.pagedResult?null:we.pagedResult.results.length)<1&&!we.isLoading),b.xp6(1),b.Q6J("ngIf",(null==we.pagedResult?null:we.pagedResult.results.length)>0),b.xp6(1),b.Q6J("ngIf",(null==we.pagedResult?null:we.pagedResult.results.length)>0&&!we.isLoading),b.xp6(1),b.Q6J("title","Settings.Keys.DeleteKey")("modalId",we.deleteModalId)("actions",b.VKq(40,ce,we.modelActions.Delete))("modalType",we.deleteModalType),b.xp6(3),b.Oqu(b.lcZ(53,36,"Common.Delete.AreYouSureSimple")),b.xp6(2),b.Q6J("innerHTML",b.lcZ(55,38,"Common.Delete.Warning"),b.oJD)}},dependencies:[w.ez,w.O5,_.aw,_.X$,e.Bz,R.U,Te.P,P.D,L.s,nt.w,t.UX,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t.JJ,t.JL,t.sg,t.u,B.T,at.j,V.t,q.Qj,J.E,re.d,wt.R],encapsulation:2}),Je})()},4837:(dt,Ce,p)=>{"use strict";p.d(Ce,{JN:()=>t,op:()=>e});var t=(()=>{return(T=t||(t={}))[T.None=0]="None",T[T.Ascending=1]="Ascending",T[T.Descending=2]="Descending",t;var T})();class e{constructor(C,b){this.sort=t.None,this.sessionId=C.sessionId,this.scheme=C.scheme,this.created=C.created,this.expires=C.expires,this.renewed=C.renewed,this.user=C.user.name??C.user.identifier,this.link={identifier:C.user.identifier,routeForLink:b}}get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}}},8229:(dt,Ce,p)=>{"use strict";p.d(Ce,{k:()=>g});var t=p(590),e=p(4004),m=p(4650),T=p(7047),C=p(8185),b=p(2979);let g=(()=>{class f{constructor(_,R,P){this.licenseService=_,this.router=R,this.localizeRouter=P}canActivate(_,R){return this.licenseService.getLicenseInfo().pipe((0,t.P)(),(0,e.U)(P=>{if(P.isStarterLicense())return!0;{const a=this.localizeRouter.translateRoute("/home");this.router.navigate([a])}}))}}return f.\u0275fac=function(_){return new(_||f)(m.LFG(T.E),m.LFG(C.F0),m.LFG(b.An))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})()},5046:(dt,Ce,p)=>{"use strict";p.d(Ce,{h:()=>g});var t=p(590),e=p(4004),m=p(4650),T=p(7047),C=p(8185),b=p(2979);let g=(()=>{class f{constructor(_,R,P){this.licenseService=_,this.router=R,this.localizeRouter=P}canActivate(_,R){return this.licenseService.getLicenseInfo().pipe((0,t.P)(),(0,e.U)(P=>{if(!P.isExpectingStarterConsent())return!0;{const a=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([a])}}))}}return f.\u0275fac=function(_){return new(_||f)(m.LFG(T.E),m.LFG(C.F0),m.LFG(b.An))},f.\u0275prov=m.Yz7({token:f,factory:f.\u0275fac}),f})()},8308:(dt,Ce,p)=>{"use strict";p.d(Ce,{u:()=>f});var t=p(590),e=p(4004),m=p(6887),T=p(4650),C=p(7047),b=p(8185),g=p(2979);let f=(()=>{class w{constructor(R,P,a){this.licenseService=R,this.router=P,this.localizeRouter=a,this.featureMap=new Map([["dynamic-auth",m.w.DynamicAuthentication],["auditing",m.w.Auditing],["clientaudits",m.w.Auditing],["useraudits",m.w.Auditing]])}canActivate(R,P){return this.licenseService.getLicenseInfo().pipe((0,t.P)(),(0,e.U)(a=>{if(!a.isStarterLicense())return!0;{const k=this.localizeRouter.translateRoute("/starter-mode/teaser");let L=m.w.None,Z=P.url;for(let j of this.featureMap.entries())if(Z.includes(j[0])){L=j[1];break}this.router.navigate([k],{queryParams:{feature:L}})}}))}}return w.\u0275fac=function(R){return new(R||w)(T.LFG(C.E),T.LFG(b.F0),T.LFG(g.An))},w.\u0275prov=T.Yz7({token:w,factory:w.\u0275fac}),w})()},5232:(dt,Ce,p)=>{"use strict";p.r(Ce),p.d(Ce,{StarterModeModule:()=>Se});var t=p(8185),e=p(2979),m=p(6887),T=p(4650),C=p(9383),b=p(2294),g=p(1216);let f=(()=>{class ye{constructor(Ee,qe,Te){this.route=Ee,this.translate=qe,this.router=Te,this.featureMap=new Map([[m.w.DynamicAuthentication,this.translate.instant("DynamicAuth.Title")],[m.w.Auditing,this.translate.instant("Auditing.Title")],[m.w.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[m.w.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe(Ee=>{this.generateDescription()})}generateDescription(){const Ee=+this.route.snapshot.queryParamMap.get("feature");if(Ee in m.w&&Ee!=m.w.None){const Te=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get(Ee),this.preFeatureDescription=Te[0],this.postFeatureDescription=Te[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}}return ye.\u0275fac=function(Ee){return new(Ee||ye)(T.Y36(t.gz),T.Y36(C.sK),T.Y36(t.F0))},ye.\u0275cmp=T.Xpm({type:ye,selectors:[["ng-component"]],decls:40,vars:33,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn","tw-mr-3","tw-mb-3"]],template:function(Ee,qe){1&Ee&&(T._UZ(0,"app-title-bar",0),T.ALo(1,"translate"),T.TgZ(2,"div",1)(3,"div",2)(4,"p",3),T._uU(5),T.TgZ(6,"strong"),T._uU(7),T.qZA(),T._uU(8),T.qZA(),T.TgZ(9,"ul",4)(10,"li"),T._uU(11),T.ALo(12,"translate"),T.qZA(),T.TgZ(13,"li"),T._uU(14),T.ALo(15,"translate"),T.qZA(),T.TgZ(16,"li"),T._uU(17),T.ALo(18,"translate"),T.qZA(),T.TgZ(19,"li"),T._uU(20),T.ALo(21,"translate"),T.qZA(),T.TgZ(22,"li"),T._uU(23),T.ALo(24,"translate"),T.qZA(),T.TgZ(25,"li"),T._uU(26),T.ALo(27,"translate"),T.qZA(),T.TgZ(28,"li"),T._uU(29),T.ALo(30,"translate"),T.qZA()()()(),T.TgZ(31,"app-button-bar")(32,"a",5)(33,"span"),T._uU(34),T.ALo(35,"translate"),T.qZA()(),T.TgZ(36,"a",6)(37,"span"),T._uU(38),T.ALo(39,"translate"),T.qZA()()()),2&Ee&&(T.Q6J("title",T.lcZ(1,13,"StarterMode.Teaser.Title")),T.xp6(5),T.hij("",qe.preFeatureDescription," "),T.xp6(2),T.Oqu(qe.featureDescription),T.xp6(1),T.hij(" ",qe.postFeatureDescription,""),T.xp6(3),T.Oqu(T.lcZ(12,15,"StarterMode.Teaser.Features.Authentication")),T.xp6(3),T.Oqu(T.lcZ(15,17,"StarterMode.Teaser.Features.UsersAndClients")),T.xp6(3),T.Oqu(T.lcZ(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),T.xp6(3),T.Oqu(T.lcZ(21,21,"StarterMode.Teaser.Features.Audits")),T.xp6(3),T.Oqu(T.lcZ(24,23,"StarterMode.Teaser.Features.Access")),T.xp6(3),T.Oqu(T.lcZ(27,25,"StarterMode.Teaser.Features.Import")),T.xp6(3),T.Oqu(T.lcZ(30,27,"StarterMode.Teaser.Features.DynamicAuth")),T.xp6(5),T.Oqu(T.lcZ(35,29,"StarterMode.UpgradeAdminUI")),T.xp6(4),T.Oqu(T.lcZ(39,31,"StarterMode.ExtendDemo")))},dependencies:[b.G,g.N,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),ye})();var w=p(590),_=p(1206),R=p(6548),P=p(529),a=p(8564);let k=(()=>{class ye{constructor(Ee,qe){this.http=Ee,this.headersService=qe,this.headers=new P.WM,this.actionUrl="StarterMode",this.headers=qe.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}}return ye.\u0275fac=function(Ee){return new(Ee||ye)(T.LFG(P.eN),T.LFG(a.s))},ye.\u0275prov=T.Yz7({token:ye,factory:ye.\u0275fac}),ye})();var L=p(7185),Z=p(1228),j=p(6895),N=p(388);function B(ye,ze){1&ye&&(T.TgZ(0,"div",25)(1,"p",26)(2,"span"),T._uU(3),T.ALo(4,"translate"),T.qZA()()()),2&ye&&(T.xp6(3),T.Oqu(T.lcZ(4,1,"StarterMode.Consent.NonAdminUser")))}const V=function(){return{animated:!1,backdrop:"static"}};let J=(()=>{class ye{constructor(Ee,qe,Te,nt,at){this.translate=Ee,this.permissionService=qe,this.starterModeConsentService=Te,this.toastr=nt,this.authService=at}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,w.P)()).subscribe(Ee=>{Ee.permissions.includes(_.y.All)&&(this.isAdmin=!0)})}giveConsentToStarterMode(){!this.isAdmin||this.starterModeConsentService.storeConsent().pipe((0,w.P)()).subscribe({next:()=>{this.authService.logoff()},error:Ee=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}}return ye.\u0275fac=function(Ee){return new(Ee||ye)(T.Y36(C.sK),T.Y36(R.$),T.Y36(k),T.Y36(L._W),T.Y36(Z.e))},ye.\u0275cmp=T.Xpm({type:ye,selectors:[["ng-component"]],decls:71,vars:58,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","confirmStarterModeBtn","data-toggle","modal","data-target","#updateClientSecretModal",1,"tw-btn","tw-mr-3","tw-mb-3",3,"disabled"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn-link","tw-mr-3","tw-mb-3"],["bsModal","","id","updateClientSecretModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","reconfirmStarter","data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(Ee,qe){1&Ee&&(T._UZ(0,"app-title-bar",0),T.ALo(1,"translate"),T.TgZ(2,"div",1),T.YNc(3,B,5,3,"div",2),T.TgZ(4,"div",3)(5,"p"),T._uU(6),T.ALo(7,"translate"),T.qZA(),T.TgZ(8,"ul",4)(9,"li"),T._uU(10),T.ALo(11,"translate"),T.qZA(),T.TgZ(12,"li"),T._uU(13),T.ALo(14,"translate"),T.qZA(),T.TgZ(15,"li"),T._uU(16),T.ALo(17,"translate"),T.qZA(),T.TgZ(18,"li"),T._uU(19),T.ALo(20,"translate"),T.qZA(),T.TgZ(21,"li"),T._uU(22),T.ALo(23,"translate"),T.qZA(),T.TgZ(24,"li"),T._uU(25),T.ALo(26,"translate"),T.qZA(),T.TgZ(27,"li"),T._uU(28),T.ALo(29,"translate"),T.qZA()()()(),T.TgZ(30,"app-button-bar")(31,"a",5)(32,"span"),T._uU(33),T.ALo(34,"translate"),T.qZA()(),T.TgZ(35,"button",6)(36,"span"),T._uU(37),T.ALo(38,"translate"),T.qZA()(),T.TgZ(39,"a",7)(40,"span"),T._uU(41),T.ALo(42,"translate"),T.qZA()()(),T.TgZ(43,"div",8)(44,"div",9)(45,"div",10)(46,"div",11)(47,"h5",12),T._uU(48),T.ALo(49,"translate"),T.qZA(),T.TgZ(50,"button",13),T._UZ(51,"span",14),T.TgZ(52,"span",15),T._uU(53),T.ALo(54,"translate"),T.qZA()()(),T.TgZ(55,"div",16)(56,"p",17),T._uU(57),T.ALo(58,"translate"),T.qZA(),T._UZ(59,"p",18),T.ALo(60,"translate"),T.qZA(),T._UZ(61,"div",19),T.TgZ(62,"div",20)(63,"div",21)(64,"div",22)(65,"button",23),T.NdJ("click",function(){return qe.giveConsentToStarterMode()}),T._uU(66),T.ALo(67,"translate"),T.qZA()(),T.TgZ(68,"button",24),T._uU(69),T.ALo(70,"translate"),T.qZA()()()()()()),2&Ee&&(T.Q6J("title",T.lcZ(1,21,"StarterMode.Consent.Title")),T.xp6(3),T.Q6J("ngIf",!qe.isAdmin),T.xp6(3),T.Oqu(T.lcZ(7,23,"StarterMode.Consent.Description")),T.xp6(4),T.Oqu(T.lcZ(11,25,"StarterMode.Consent.Features.Authentication")),T.xp6(3),T.Oqu(T.lcZ(14,27,"StarterMode.Consent.Features.Users")),T.xp6(3),T.Oqu(T.lcZ(17,29,"StarterMode.Consent.Features.Clients")),T.xp6(3),T.Oqu(T.lcZ(20,31,"StarterMode.Consent.Features.ClientFlows")),T.xp6(3),T.Oqu(T.lcZ(23,33,"StarterMode.Consent.Features.Import")),T.xp6(3),T.Oqu(T.lcZ(26,35,"StarterMode.Consent.Features.Audits")),T.xp6(3),T.Oqu(T.lcZ(29,37,"StarterMode.Consent.Features.DynamicAuth")),T.xp6(5),T.Oqu(T.lcZ(34,39,"StarterMode.UpgradeAdminUI")),T.xp6(2),T.Q6J("disabled",!qe.isAdmin),T.xp6(2),T.Oqu(T.lcZ(38,41,"StarterMode.ConfirmStarterMode")),T.xp6(4),T.Oqu(T.lcZ(42,43,"StarterMode.ExtendDemo")),T.xp6(2),T.Q6J("config",T.DdM(57,V)),T.xp6(5),T.Oqu(T.lcZ(49,45,"StarterMode.ConfirmationModal.Title")),T.xp6(5),T.Oqu(T.lcZ(54,47,"Common.Close")),T.xp6(4),T.Oqu(T.lcZ(58,49,"StarterMode.ConfirmationModal.Description")),T.xp6(2),T.Q6J("innerHTML",T.lcZ(60,51,"StarterMode.ConfirmationModal.Warning"),T.oJD),T.xp6(7),T.hij(" ",T.lcZ(67,53,"Common.Confirm")," "),T.xp6(3),T.Oqu(T.lcZ(70,55,"Common.Cancel")))},dependencies:[j.O5,b.G,N.oB,g.N,C.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),ye})();var q=p(8229),re=p(8677),W=p(4004),G=p(7047);let X=(()=>{class ye{constructor(Ee,qe,Te){this.licenseService=Ee,this.router=qe,this.localizeRouter=Te}canActivate(Ee,qe){return this.licenseService.getLicenseInfo().pipe((0,w.P)(),(0,W.U)(Te=>{if(Te.isExpectingStarterConsent())return!0;{const nt=this.localizeRouter.translateRoute("/home");this.router.navigate([nt])}}))}}return ye.\u0275fac=function(Ee){return new(Ee||ye)(T.LFG(G.E),T.LFG(t.F0),T.LFG(e.An))},ye.\u0275prov=T.Yz7({token:ye,factory:ye.\u0275fac}),ye})();var E=p(5046);const ne=[{path:"starter-mode/teaser",component:f,canActivate:[re.B,E.h,q.k]},{path:"starter-mode/consent",component:J,canActivate:[re.B,X]}];let K=(()=>{class ye{}return ye.\u0275fac=function(Ee){return new(Ee||ye)},ye.\u0275mod=T.oAB({type:ye}),ye.\u0275inj=T.cJS({providers:[q.k],imports:[t.Bz.forChild(ne),e.fQ.forChild(ne),t.Bz]}),ye})();var le=p(5084),me=p(6980);let Se=(()=>{class ye{}return ye.\u0275fac=function(Ee){return new(Ee||ye)},ye.\u0275mod=T.oAB({type:ye}),ye.\u0275inj=T.cJS({providers:[k,X],imports:[t.Bz,K,C.aw,le.y,N.zk,me.K]}),ye})()},7235:(dt,Ce,p)=>{"use strict";p.d(Ce,{$:()=>e});var t=p(2951);class e{constructor(T){Object.keys(T).forEach(b=>{let g=T[b];"boolean"==typeof T[b]&&(g=g?"Yes":"No"),T[b]instanceof Date&&(g=g?"Yes":"No"),T[b]instanceof Array&&(g=T[b].join(", ").trimEnd()),this[b]=new t.I(g)})}}},9748:(dt,Ce,p)=>{"use strict";p.d(Ce,{S:()=>e});var e,t=p(2329);!function(m){const T=new Map([[t.f.Minute,60],[t.f.Minutes,60],[t.f.Hour,3600],[t.f.Hours,3600],[t.f.Day,86400],[t.f.Days,86400],[t.f.Week,604800],[t.f.Weeks,604800],[t.f.Month,2629743],[t.f.Months,2629743],[t.f.Year,31556926],[t.f.Years,31556926],[t.f.Unlimited,null]]);m.getUnitMap=function C(){return T}}(e||(e={}))},9655:(dt,Ce,p)=>{"use strict";p.d(Ce,{O:()=>t});var t=(()=>{return(e=t||(t={}))[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.CommaSeparated=2]="CommaSeparated",e[e.LifetimePicker=3]="LifetimePicker",t;var e})()},2951:(dt,Ce,p)=>{"use strict";p.d(Ce,{I:()=>t});class t{constructor(m,T){this.MainText=m,this.HelpText=T??null}}},9848:(dt,Ce,p)=>{"use strict";p.d(Ce,{B:()=>t});var t=(()=>{return(e=t||(t={})).Unknown="Unknown",e.ServerSide="ServerSide",e.Machine="Machine",e.CIBAMachine="CIBAMachine",e.Native="Native",e.Device="Device",e.Saml="Saml",e.WsFed="WsFed",e.BrowserBased="BrowserBased",e.LegacyClientSide="LegacyClientSide",e.ServerSidePKCE="ServerSidePKCE",e.NativePKCE="NativePKCE",t;var e})()},2329:(dt,Ce,p)=>{"use strict";p.d(Ce,{f:()=>t});var t=(()=>{return(e=t||(t={})).Minute="Minute",e.Minutes="Minutes",e.Hour="Hour",e.Hours="Hours",e.Day="Day",e.Days="Days",e.Week="Week",e.Weeks="Weeks",e.Month="Month",e.Months="Months",e.Year="Year",e.Years="Years",e.Unlimited="Unlimited",t;var e})()},6887:(dt,Ce,p)=>{"use strict";p.d(Ce,{w:()=>t});var t=(()=>{return(e=t||(t={}))[e.None=0]="None",e[e.DynamicAuthentication=1]="DynamicAuthentication",e[e.Auditing=2]="Auditing",e[e.ImportExportClients=3]="ImportExportClients",e[e.ExtraClientFlows=4]="ExtraClientFlows",t;var e})()},1330:(dt,Ce,p)=>{"use strict";p.d(Ce,{Q:()=>t});var t=(()=>{return(e=t||(t={})).Home="Home",e.SinglePageApplication="SinglePageApplication",e.WebApplication="WebApplication",e.NativeApplication="NativeApplication",e.RobotApplication="RobotApplication",e.CIBARobotApplication="CIBARobotApplication",e.DeviceApplication="DeviceApplication",e.SamlApplication="SamlApplication",e.WsFedApplication="WsFedApplication",e.LegacySinglePageApplication="LegacySinglePageApplication",e.PKCEWebApplication="PKCEWebApplication",e.PKCENativeApplication="PKCENativeApplication",e.ImportWizard="ImportWizard",e.AddDynamicAuth="AddDynamicAuth",e.AddOidcDynamicAuth="AddOidcDynamicAuth",e.AddSamlDynamicAuth="AddSamlDynamicAuth",t;var e})()},160:(dt,Ce,p)=>{"use strict";p.d(Ce,{s:()=>t});var t=(()=>{return(e=t||(t={}))[e.NotHandled=0]="NotHandled",e[e.Toast=1]="Toast",e[e.Navigate=2]="Navigate",t;var e})()},765:(dt,Ce,p)=>{"use strict";p.d(Ce,{o:()=>t});var t=(()=>{return(e=t||(t={}))[e.None=0]="None",e.Production="Production",e.NonProduction="Non-Production",e.Demo="Demo",e.Starter="Starter",t;var e})()},4879:(dt,Ce,p)=>{"use strict";p.d(Ce,{_:()=>t});var t=(()=>{return(e=t||(t={}))[e.user=0]="user",e[e.role=1]="role",e[e.claimType=2]="claimType",e[e.client=3]="client",e[e.identityResource=4]="identityResource",e[e.protectedResource=5]="protectedResource",e[e.serviceProvider=6]="serviceProvider",e[e.relyingParty=7]="relyingParty",e[e.dynamicAuth=8]="dynamicAuth",t;var e})()},8895:(dt,Ce,p)=>{"use strict";p.d(Ce,{q:()=>t});let t=(()=>{class e{}return e.Implicit="implicit",e.Hybrid="hybrid",e.AuthorizationCode="authorization_code",e.ClientCredentials="client_credentials",e.ResourceOwnerPassword="password",e.Device="urn:ietf:params:oauth:grant-type:device_code",e.CIBA="urn:openid:params:grant-type:ciba",e})()},5259:(dt,Ce,p)=>{"use strict";p.d(Ce,{n:()=>t});var t=(()=>{return(e=t||(t={})).Save="Save",e.SaveAndReAdd="SaveAndReAdd",e.Delete="Delete",t;var e})()},1923:(dt,Ce,p)=>{"use strict";p.d(Ce,{w:()=>t});var t=(()=>{return(e=t||(t={})).Default="Default",e.Warning="Warning",t;var e})()},1206:(dt,Ce,p)=>{"use strict";p.d(Ce,{y:()=>t});var t=(()=>{return(e=t||(t={})).None="None",e.UserManager="UserManager",e.UserManagerReadOnly="UserManagerReadOnly",e.IdentityServerManager="IdentityServerManager",e.IdentityServerManagerReadOnly="IdentityServerManagerReadOnly",e.Auditer="Auditer",e.AllReadOnly="AllReadOnly",e.All="All",t;var e})()},9272:(dt,Ce,p)=>{"use strict";p.d(Ce,{s:()=>t});class t{constructor(){this.enabled=!0,this.name="",this.displayName="",this.description="",this.required=!1,this.emphasize=!1,this.userClaims=[],this.showInDiscoveryDocument=!0,this.isFinalInstanceOnResource=!0,this.shared=!1,this.properties=[]}}},6068:(dt,Ce,p)=>{"use strict";p.d(Ce,{u:()=>e});var t=p(2976);class e{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new t.NA).SharedSecret}}},6502:(dt,Ce,p)=>{"use strict";p.d(Ce,{i:()=>m});var t=p(2329),e=p(9748);class m{constructor(C){this.unitMap=e.S.getUnitMap(),this.formatSeconds(C)}formatSeconds(C){return this.years=Math.floor(C/this.unitMap.get(t.f.Years)),C-=this.years*this.unitMap.get(t.f.Years),this.months=Math.floor(C/this.unitMap.get(t.f.Month)),C-=this.months*this.unitMap.get(t.f.Month),this.weeks=Math.floor(C/this.unitMap.get(t.f.Weeks)),C-=this.weeks*this.unitMap.get(t.f.Weeks),this.days=Math.floor(C/this.unitMap.get(t.f.Days)),C-=this.days*this.unitMap.get(t.f.Days),this.hours=Math.floor(C/this.unitMap.get(t.f.Hours)),C-=this.hours*this.unitMap.get(t.f.Hours),this.minutes=Math.floor(C/this.unitMap.get(t.f.Minute)),C-=this.minutes*this.unitMap.get(t.f.Minute),this.seconds=C,this}}},5188:(dt,Ce,p)=>{"use strict";p.d(Ce,{O:()=>e,u:()=>t});var t=(()=>{return(m=t||(t={}))[m.Disabled=0]="Disabled",m[m.Duende=1]="Duende",m[m.Rsk=2]="Rsk",t;var m})();class e{constructor(){this.defaultUserValidation=!0,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=t.Disabled}}},7393:(dt,Ce,p)=>{"use strict";p.d(Ce,{w:()=>t});class t{constructor(){this.SigningCertificates=[]}}},3111:(dt,Ce,p)=>{"use strict";p.d(Ce,{CP:()=>b,JR:()=>e,vZ:()=>m,yr:()=>t});class t{}var e=(()=>{return(g=e||(e={})).Client="Client",g.ClaimType="ClaimType",g.IdentityResource="IdentityResource",g.ProtectedResource="ProtectedResource",e;var g})(),m=(()=>{return(g=m||(m={})).New="New",g.Duplicate="Duplicate",g.Conflicted="Conflicted",m;var g})(),b=(()=>{return(g=b||(b={})).Importing="Importing",g.Existing="Existing",b;var g})()},5669:(dt,Ce,p)=>{"use strict";p.d(Ce,{m:()=>e});var t=p(3111);let e=(()=>{class m{static getSummaryDisplayType(C){switch(C){case t.JR.Client:return this.client;case t.JR.IdentityResource:case t.JR.ProtectedResource:return this.resource;case t.JR.ClaimType:return this.claimType}}}return m.client="Client",m.resource="Resource",m.protectedResource="ProtectedResource",m.claimType="ClaimType",m})()},7892:(dt,Ce,p)=>{"use strict";p.d(Ce,{A:()=>t});class t{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(m){return this.nameComponentMap.get(m)}getWizardTitle(m){return this.nameTitleMap.get(m)}}},9326:(dt,Ce,p)=>{"use strict";p.d(Ce,{K:()=>t});class t{constructor(m,T){this.setupTitle=m,this.summaryTitle=T}}},826:(dt,Ce,p)=>{"use strict";p.d(Ce,{H:()=>t});class t{constructor(m,T){this.component=m,this.data=T,T||(T={})}}},4456:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>t});var t=(()=>{return(e=t||(t={})).standardDate="standardDate",e.standardDateTime="standardDateTime",e.prettyDateTime="prettyDateTime",t;var e})()},3110:(dt,Ce,p)=>{"use strict";p.d(Ce,{C9:()=>T,Xm:()=>m,g9:()=>C});var t=p(8176),e=p(4650);let m=(()=>{class b{transform(f){return(0,t.X1)(f,"ccc LLL dd yyyy, T")}}return b.\u0275fac=function(f){return new(f||b)},b.\u0275pipe=e.Yjl({name:"prettyDateTime",type:b,pure:!0}),b})(),T=(()=>{class b{transform(f){return(0,t.X1)(f,"LLL dd yyyy T")}}return b.\u0275fac=function(f){return new(f||b)},b.\u0275pipe=e.Yjl({name:"standardDateTime",type:b,pure:!0}),b})(),C=(()=>{class b{transform(f){return(0,t.X1)(f,"LLL dd yyyy")}}return b.\u0275fac=function(f){return new(f||b)},b.\u0275pipe=e.Yjl({name:"standardDate",type:b,pure:!0}),b})()},5503:(dt,Ce,p)=>{"use strict";p.d(Ce,{D:()=>T});var t=p(6895),e=p(9383),m=p(4650);let T=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[t.ez,e.aw]}),C})()},6252:(dt,Ce,p)=>{"use strict";p.d(Ce,{b:()=>m});var t=p(2951),e=p(4650);let m=(()=>{class T{transform(b,g){return new t.I(b)}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=e.Yjl({name:"readOnlyValue",type:T,pure:!0}),T})()},8853:(dt,Ce,p)=>{"use strict";p.d(Ce,{r:()=>e});var t=p(4650);let e=(()=>{class m{constructor(){this.map=new Map,this.map.set("description","Common.Description"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("signOutScheme","DynamicAuth.SignOutScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(C,b){return this.map.get(C)}}return m.\u0275fac=function(C){return new(C||m)},m.\u0275pipe=t.Yjl({name:"keyToString",type:m,pure:!0}),m})()},7111:(dt,Ce,p)=>{"use strict";p.d(Ce,{n:()=>m});var t=p(4650),e=p(1060);let m=(()=>{class T{constructor(b){this.securityService=b}notAllowedToEditClaim(b){return!this.securityService.allView&&this.isPolicyClaim(b)}isPolicyClaim(b){if(void 0!==b){const g=this.securityService.policyClaims;for(let f=0;f<g.length;f++)if(g[f].type===b.type&&g[f].value===b.value)return!0;return!1}}}return T.\u0275fac=function(b){return new(b||T)(t.LFG(e.I))},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac}),T})()},9455:(dt,Ce,p)=>{"use strict";p.d(Ce,{t:()=>T});var t=p(1135);class e{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var m=p(4650);let T=(()=>{class C{constructor(){this.viewConfig=new e,this.viewConfig$=new t.X(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},1228:(dt,Ce,p)=>{"use strict";p.d(Ce,{e:()=>C});var t=p(8176),e=p(4650),m=p(529),T=p(9455);let C=(()=>{class b{constructor(f,w){this.http=f,this.appComponentViewService=w,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const _=(0,t.SV)();this.actionUrl="auth",this.authUrl=`${_}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}}return b.\u0275fac=function(f){return new(f||b)(e.LFG(m.eN),e.LFG(T.t))},b.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},1058:(dt,Ce,p)=>{"use strict";p.d(Ce,{U:()=>e});var t=p(4650);let e=(()=>{class m{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const C=this.storage.getItem(this.countKey);let b=C?Number(C):0;return b=isNaN(b)?0:b,b}set retryCount(C){(C=isNaN(C)?0:C)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,C.toString())}}return m.\u0275fac=function(C){return new(C||m)},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},3212:(dt,Ce,p)=>{"use strict";p.d(Ce,{_:()=>T});var t=p(529),e=p(8176),m=p(4650);let T=(()=>{class C{buildParams(g,f,w,_,R,P,a){let k=new t.LE;return k=this.addStringParam(k,"auditAction",g?.auditAction),k=this.addStringParam(k,"subject",g?.subject),k=this.addStringParam(k,"resource",g?.resourceName),k=this.addStringParam(k,"source",g?.source),k=this.addAnyParam(k,"success",a),k=this.addStringParam(k,"sort",P),k=this.addStringParam(k,"to",w),k=this.addStringParam(k,"from",f),k=this.addAnyParam(k,"page",_),k=this.addAnyParam(k,"pageSize",R),k}addAnyParam(g,f,w){return(0,e.le)(w)?g:g.append(f,String(w))}addStringParam(g,f,w){return(0,e.hr)(w)?g:g.append(f,w)}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac}),C})()},3831:(dt,Ce,p)=>{"use strict";p.d(Ce,{C:()=>m});var t=p(1135),e=p(4650);let m=(()=>{class T{constructor(){this.unsavedCache=new t.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},8117:(dt,Ce,p)=>{"use strict";p.d(Ce,{S:()=>_a});var t=p(5861);class e{}var m=p(6801);function C(He,o,c){var v;return He instanceof Object&&null!==(v=He[o])&&void 0!==v?v:c}function b(He,o=0,c=He.byteLength-o,v=!1){let S="";for(const I of new Uint8Array(He,o,c)){const H=I.toString(16).toUpperCase();1===H.length&&(S+="0"),S+=H,v&&(S+=" ")}return S.trim()}function g(He,o,c,v){return o instanceof ArrayBuffer?o.byteLength?c<0?(He.error="Wrong parameter: inputOffset less than zero",!1):v<0?(He.error="Wrong parameter: inputLength less than zero",!1):!(o.byteLength-c-v<0&&(He.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(He.error="Wrong parameter: inputBuffer has zero length",!1):(He.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function f(He,o){let c=0;if(1===He.length)return He[0];for(let v=He.length-1;v>=0;v--)c+=He[He.length-1-v]*Math.pow(2,o*v);return c}function w(He,o,c=-1){const v=c;let S=He,I=0,H=Math.pow(2,o);for(let se=1;se<8;se++){if(He<H){let he;if(v<0)he=new ArrayBuffer(se),I=se;else{if(v<se)return new ArrayBuffer(0);he=new ArrayBuffer(v),I=v}const Ne=new Uint8Array(he);for(let F=se-1;F>=0;F--){const Ae=Math.pow(2,F*o);Ne[I-F-1]=Math.floor(S/Ae),S-=Ne[I-F-1]*Ae}return he}H*=Math.pow(2,o)}return new ArrayBuffer(0)}function _(...He){let o=0,c=0;for(const I of He)o+=I.byteLength;const v=new ArrayBuffer(o),S=new Uint8Array(v);for(const I of He)S.set(new Uint8Array(I),c),c+=I.byteLength;return v}function R(...He){let o=0,c=0;for(const I of He)o+=I.length;const v=new ArrayBuffer(o),S=new Uint8Array(v);for(const I of He)S.set(I,c),c+=I.length;return S}function P(){const He=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const he=0===He[0]&&0==(128&He[1]);(255===He[0]&&128&He[1]||he)&&this.warnings.push("Needlessly long format")}const o=new ArrayBuffer(this.valueHex.byteLength),c=new Uint8Array(o);for(let se=0;se<this.valueHex.byteLength;se++)c[se]=0;c[0]=128&He[0];const v=f(c,8),S=new ArrayBuffer(this.valueHex.byteLength),I=new Uint8Array(S);for(let se=0;se<this.valueHex.byteLength;se++)I[se]=He[se];return I[0]&=127,f(I,8)-v}function a(He){const o=He<0?-1*He:He;let c=128;for(let v=1;v<8;v++){if(o<=c){if(He<0){const se=w(c-o,8,v);return new Uint8Array(se)[0]|=128,se}let S=w(o,8,v),I=new Uint8Array(S);if(128&I[0]){const H=S.slice(0),se=new Uint8Array(H);S=new ArrayBuffer(S.byteLength+1),I=new Uint8Array(S);for(let he=0;he<H.byteLength;he++)I[he+1]=se[he];I[0]=0}return S}c*=Math.pow(2,8)}return new ArrayBuffer(0)}function k(He,o){if(He.byteLength!==o.byteLength)return!1;const c=new Uint8Array(He),v=new Uint8Array(o);for(let S=0;S<c.length;S++)if(c[S]!==v[S])return!1;return!0}function L(He,o){const c=He.toString(10);if(o<c.length)return"";const v=o-c.length,S=new Array(v);for(let H=0;H<v;H++)S[H]="0";return S.join("").concat(c)}const Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function N(He,o=!1,c=!1,v=!1){let S=0,I=0,H=0,se="";const he=o?j:Z;if(v){let Ne=0;for(let F=0;F<He.length;F++)if(0!==He.charCodeAt(F)){Ne=F;break}He=He.slice(Ne)}for(;S<He.length;){const Ne=He.charCodeAt(S++);S>=He.length&&(I=1);const F=He.charCodeAt(S++);S>=He.length&&(H=1);const Ae=He.charCodeAt(S++),D=Ne>>2,oe=(3&Ne)<<4|F>>4;let ht=(15&F)<<2|Ae>>6,Gt=63&Ae;1===I?ht=Gt=64:1===H&&(Gt=64),se+=c?64===ht?`${he.charAt(D)}${he.charAt(oe)}`:64===Gt?`${he.charAt(D)}${he.charAt(oe)}${he.charAt(ht)}`:`${he.charAt(D)}${he.charAt(oe)}${he.charAt(ht)}${he.charAt(Gt)}`:`${he.charAt(D)}${he.charAt(oe)}${he.charAt(ht)}${he.charAt(Gt)}`}return se}function B(He,o=!1,c=!1){const v=o?j:Z;function S(he){for(let Ne=0;Ne<64;Ne++)if(v.charAt(Ne)===he)return Ne;return 64}function I(he){return 64===he?0:he}let H=0,se="";for(;H<He.length;){const he=S(He.charAt(H++)),Ne=H>=He.length?0:S(He.charAt(H++)),F=H>=He.length?0:S(He.charAt(H++)),Ae=H>=He.length?0:S(He.charAt(H++)),D=I(he)<<2|I(Ne)>>4,oe=(15&I(Ne))<<4|I(F)>>2,ht=(3&I(F))<<6|I(Ae);se+=String.fromCharCode(D),64!==F&&(se+=String.fromCharCode(oe)),64!==Ae&&(se+=String.fromCharCode(ht))}if(c){let Ne=-1;for(let F=se.length-1;F>=0;F--)if(0!==se.charCodeAt(F)){Ne=F;break}se=-1!==Ne?se.slice(0,Ne+1):""}return se}function V(He){let o="";const c=new Uint8Array(He);for(const v of c)o+=String.fromCharCode(v);return o}function J(He){const o=He.length,c=new ArrayBuffer(o),v=new Uint8Array(c);for(let S=0;S<o;S++)v[S]=He.charCodeAt(S);return c}const q=Math.log(2);function re(He){const o=Math.log(He)/q,c=Math.floor(o),v=Math.round(o);return c===v?c:v}function W(He,o){for(const c of o)delete He[c]}function G(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function X(He){let o=0,c=0;for(let S=0;S<He.length;S++)o+=He[S].byteLength;const v=new Uint8Array(o);for(let S=0;S<He.length;S++){const I=He[S];v.set(new Uint8Array(I),c),c+=I.byteLength}return v.buffer}function E(He,o,c,v){return o instanceof Uint8Array?o.byteLength?c<0?(He.error="Wrong parameter: inputOffset less than zero",!1):v<0?(He.error="Wrong parameter: inputLength less than zero",!1):!(o.byteLength-c-v<0&&(He.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(He.error="Wrong parameter: inputBuffer has zero length",!1):(He.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class ne{constructor(){this.items=[]}write(o){this.items.push(o)}final(){return X(this.items)}}const K=[new Uint8Array([1])],le="0123456789",me="name",Se="valueHexView",mt=new ArrayBuffer(0),pt=new Uint8Array(0),Yt="EndOfContent",un="OCTET STRING",Nt="BIT STRING";function Mt(He){var o;return(o=class extends He{constructor(...v){var S;super(...v);const I=v[0]||{};this.isHexOnly=null!==(S=I.isHexOnly)&&void 0!==S&&S,this.valueHexView=I.valueHex?m.vJ.toUint8Array(I.valueHex):pt}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(v){this.valueHexView=new Uint8Array(v)}fromBER(v,S,I){const H=v instanceof ArrayBuffer?new Uint8Array(v):v;if(!E(this,H,S,I))return-1;const se=S+I;return this.valueHexView=H.subarray(S,se),this.valueHexView.length?(this.blockLength=I,se):(this.warnings.push("Zero buffer length"),S)}toBER(v=!1){return this.isHexOnly?v?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",mt)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:m.ep.ToHex(this.valueHexView)}}}).NAME="hexBlock",o}let Y=(()=>{class He{constructor({blockLength:c=0,error:v="",warnings:S=[],valueBeforeDecode:I=pt}={}){this.blockLength=c,this.error=v,this.warnings=S,this.valueBeforeDecodeView=m.vJ.toUint8Array(I)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(c){this.valueBeforeDecodeView=new Uint8Array(c)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:m.ep.ToHex(this.valueBeforeDecodeView)}}}return He.NAME="baseBlock",He})(),Q=(()=>{class He extends Y{fromBER(c,v,S){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(c,v){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return He.NAME="valueBlock",He})(),ce=(()=>{class He extends(Mt(Y)){constructor({idBlock:c={}}={}){var v,S,I,H;super(),c?(this.isHexOnly=null!==(v=c.isHexOnly)&&void 0!==v&&v,this.valueHexView=c.valueHex?m.vJ.toUint8Array(c.valueHex):pt,this.tagClass=null!==(S=c.tagClass)&&void 0!==S?S:-1,this.tagNumber=null!==(I=c.tagNumber)&&void 0!==I?I:-1,this.isConstructed=null!==(H=c.isConstructed)&&void 0!==H&&H):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(c=!1){let v=0;switch(this.tagClass){case 1:v|=0;break;case 2:v|=64;break;case 3:v|=128;break;case 4:v|=192;break;default:return this.error="Unknown tag class",mt}if(this.isConstructed&&(v|=32),this.tagNumber<31&&!this.isHexOnly){const I=new Uint8Array(1);if(!c){let H=this.tagNumber;H&=31,v|=H,I[0]=v}return I.buffer}if(!this.isHexOnly){const I=w(this.tagNumber,7),H=new Uint8Array(I),se=I.byteLength,he=new Uint8Array(se+1);if(he[0]=31|v,!c){for(let Ne=0;Ne<se-1;Ne++)he[Ne+1]=128|H[Ne];he[se]=H[se-1]}return he.buffer}const S=new Uint8Array(this.valueHexView.byteLength+1);if(S[0]=31|v,!c){const I=this.valueHexView;for(let H=0;H<I.length-1;H++)S[H+1]=128|I[H];S[this.valueHexView.byteLength]=I[I.length-1]}return S.buffer}fromBER(c,v,S){const I=m.vJ.toUint8Array(c);if(!E(this,I,v,S))return-1;const H=I.subarray(v,v+S);if(0===H.length)return this.error="Zero buffer length",-1;switch(192&H[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&H[0]),this.isHexOnly=!1;const he=31&H[0];if(31!==he)this.tagNumber=he,this.blockLength=1;else{let Ne=1,F=this.valueHexView=new Uint8Array(255),Ae=255;for(;128&H[Ne];){if(F[Ne-1]=127&H[Ne],Ne++,Ne>=H.length)return this.error="End of input reached before message was fully decoded",-1;if(Ne===Ae){Ae+=255;const oe=new Uint8Array(Ae);for(let ht=0;ht<F.length;ht++)oe[ht]=F[ht];F=this.valueHexView=new Uint8Array(Ae)}}this.blockLength=Ne+1,F[Ne-1]=127&H[Ne];const D=new Uint8Array(Ne);for(let oe=0;oe<Ne;oe++)D[oe]=F[oe];F=this.valueHexView=new Uint8Array(Ne),F.set(D),this.blockLength<=9?this.tagNumber=f(F,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return v+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return He.NAME="identificationBlock",He})(),We=(()=>{class He extends Y{constructor({lenBlock:c={}}={}){var v,S,I;super(),this.isIndefiniteForm=null!==(v=c.isIndefiniteForm)&&void 0!==v&&v,this.longFormUsed=null!==(S=c.longFormUsed)&&void 0!==S&&S,this.length=null!==(I=c.length)&&void 0!==I?I:0}fromBER(c,v,S){const I=m.vJ.toUint8Array(c);if(!E(this,I,v,S))return-1;const H=I.subarray(v,v+S);if(0===H.length)return this.error="Zero buffer length",-1;if(255===H[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===H[0],this.isIndefiniteForm)return this.blockLength=1,v+this.blockLength;if(this.longFormUsed=!!(128&H[0]),!1===this.longFormUsed)return this.length=H[0],this.blockLength=1,v+this.blockLength;const se=127&H[0];if(se>8)return this.error="Too big integer",-1;if(se+1>H.length)return this.error="End of input reached before message was fully decoded",-1;const he=v+1,Ne=I.subarray(he,he+se);return 0===Ne[se-1]&&this.warnings.push("Needlessly long encoded length"),this.length=f(Ne,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=se+1,v+this.blockLength}toBER(c=!1){let v,S;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return v=new ArrayBuffer(1),!1===c&&(S=new Uint8Array(v),S[0]=128),v;if(this.longFormUsed){const I=w(this.length,8);if(I.byteLength>127)return this.error="Too big length",mt;if(v=new ArrayBuffer(I.byteLength+1),c)return v;const H=new Uint8Array(I);S=new Uint8Array(v),S[0]=128|I.byteLength;for(let se=0;se<I.byteLength;se++)S[se+1]=H[se];return v}return v=new ArrayBuffer(1),!1===c&&(S=new Uint8Array(v),S[0]=this.length),v}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return He.NAME="lengthBlock",He})();const Je={};let Oe=(()=>{class He extends Y{constructor({name:c="",optional:v=!1,primitiveSchema:S,...I}={},H){super(I),this.name=c,this.optional=v,S&&(this.primitiveSchema=S),this.idBlock=new ce(I),this.lenBlock=new We(I),this.valueBlock=H?new H(I):new Q(I)}fromBER(c,v,S){const I=this.valueBlock.fromBER(c,v,this.lenBlock.isIndefiniteForm?S:this.lenBlock.length);return-1===I?(this.error=this.valueBlock.error,I):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),I)}toBER(c,v){const S=v||new ne;v||i(this);const I=this.idBlock.toBER(c);if(S.write(I),this.lenBlock.isIndefiniteForm)S.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(c,S),S.write(new ArrayBuffer(2));else{const H=this.valueBlock.toBER(c);this.lenBlock.length=H.byteLength;const se=this.lenBlock.toBER(c);S.write(se),S.write(H)}return v?mt:S.final()}toJSON(){const c={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(c.primitiveSchema=this.primitiveSchema.toJSON()),c}toString(c="ascii"){return"ascii"===c?this.onAsciiEncoding():m.ep.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${m.ep.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(c){return this===c||c instanceof this.constructor&&k(this.toBER(),c.toBER())}}return He.NAME="BaseBlock",He})();function i(He){if(He instanceof Je.Constructed)for(const o of He.valueBlock.value)i(o)&&(He.lenBlock.isIndefiniteForm=!0);return!!He.lenBlock.isIndefiniteForm}let we=(()=>{class He extends Oe{constructor({value:c="",...v}={},S){super(v,S),c&&this.fromString(c)}getValue(){return this.valueBlock.value}setValue(c){this.valueBlock.value=c}fromBER(c,v,S){const I=this.valueBlock.fromBER(c,v,this.lenBlock.isIndefiniteForm?S:this.lenBlock.length);return-1===I?(this.error=this.valueBlock.error,I):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),I)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return He.NAME="BaseStringBlock",He})(),$e=(()=>{class He extends(Mt(Q)){constructor({isHexOnly:c=!0,...v}={}){super(v),this.isHexOnly=c}}return He.NAME="PrimitiveValueBlock",He})();class Xe extends Oe{constructor(o={}){super(o,$e),this.idBlock.isConstructed=!1}}function Tt(He,o=0,c=He.length){const v=o;let S=new Oe({},Q);const I=new Y;if(!E(I,He,o,c))return S.error=I.error,{offset:-1,result:S};if(!He.subarray(o,o+c).length)return S.error="Zero buffer length",{offset:-1,result:S};let se=S.idBlock.fromBER(He,o,c);if(S.idBlock.warnings.length&&S.warnings.concat(S.idBlock.warnings),-1===se)return S.error=S.idBlock.error,{offset:-1,result:S};if(se=S.lenBlock.fromBER(He,o=se,c-=S.idBlock.blockLength),S.lenBlock.warnings.length&&S.warnings.concat(S.lenBlock.warnings),-1===se)return S.error=S.lenBlock.error,{offset:-1,result:S};if(o=se,c-=S.lenBlock.blockLength,!S.idBlock.isConstructed&&S.lenBlock.isIndefiniteForm)return S.error="Indefinite length form used for primitive encoding form",{offset:-1,result:S};let he=Oe;if(1===S.idBlock.tagClass){if(S.idBlock.tagNumber>=37&&!1===S.idBlock.isHexOnly)return S.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:S};switch(S.idBlock.tagNumber){case 0:if(S.idBlock.isConstructed&&S.lenBlock.length>0)return S.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:S};he=Je.EndOfContent;break;case 1:he=Je.Boolean;break;case 2:he=Je.Integer;break;case 3:he=Je.BitString;break;case 4:he=Je.OctetString;break;case 5:he=Je.Null;break;case 6:he=Je.ObjectIdentifier;break;case 10:he=Je.Enumerated;break;case 12:he=Je.Utf8String;break;case 13:he=Je.RelativeObjectIdentifier;break;case 14:he=Je.TIME;break;case 15:return S.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:S};case 16:he=Je.Sequence;break;case 17:he=Je.Set;break;case 18:he=Je.NumericString;break;case 19:he=Je.PrintableString;break;case 20:he=Je.TeletexString;break;case 21:he=Je.VideotexString;break;case 22:he=Je.IA5String;break;case 23:he=Je.UTCTime;break;case 24:he=Je.GeneralizedTime;break;case 25:he=Je.GraphicString;break;case 26:he=Je.VisibleString;break;case 27:he=Je.GeneralString;break;case 28:he=Je.UniversalString;break;case 29:he=Je.CharacterString;break;case 30:he=Je.BmpString;break;case 31:he=Je.DATE;break;case 32:he=Je.TimeOfDay;break;case 33:he=Je.DateTime;break;case 34:he=Je.Duration;break;default:{const Ne=S.idBlock.isConstructed?new Je.Constructed:new Je.Primitive;Ne.idBlock=S.idBlock,Ne.lenBlock=S.lenBlock,Ne.warnings=S.warnings,S=Ne}}}else he=S.idBlock.isConstructed?Je.Constructed:Je.Primitive;return S=function Fe(He,o){if(He instanceof o)return He;const c=new o;return c.idBlock=He.idBlock,c.lenBlock=He.lenBlock,c.warnings=He.warnings,c.valueBeforeDecodeView=He.valueBeforeDecodeView,c}(S,he),se=S.fromBER(He,o,S.lenBlock.isIndefiniteForm?c:S.lenBlock.length),S.valueBeforeDecodeView=He.subarray(v,v+S.blockLength),{offset:se,result:S}}function vt(He){if(!He.byteLength){const o=new Oe({},Q);return o.error="Input buffer has zero length",{offset:-1,result:o}}return Tt(m.vJ.toUint8Array(He).slice(),0,He.byteLength)}function Ge(He,o){return He?1:o}Je.Primitive=Xe,Xe.NAME="PRIMITIVE";let de=(()=>{class He extends Q{constructor({value:c=[],isIndefiniteForm:v=!1,...S}={}){super(S),this.value=c,this.isIndefiniteForm=v}fromBER(c,v,S){const I=m.vJ.toUint8Array(c);if(!E(this,I,v,S))return-1;if(this.valueBeforeDecodeView=I.subarray(v,v+S),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),v;let H=v;for(;Ge(this.isIndefiniteForm,S)>0;){const se=Tt(I,H,S);if(-1===se.offset)return this.error=se.result.error,this.warnings.concat(se.result.warnings),-1;if(H=se.offset,this.blockLength+=se.result.blockLength,S-=se.result.blockLength,this.value.push(se.result),this.isIndefiniteForm&&se.result.constructor.NAME===Yt)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Yt?this.value.pop():this.warnings.push("No EndOfContent block encoded")),H}toBER(c,v){const S=v||new ne;for(let I=0;I<this.value.length;I++)this.value[I].toBER(c,S);return v?mt:S.final()}toJSON(){const c={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const v of this.value)c.value.push(v.toJSON());return c}}return He.NAME="ConstructedValueBlock",He})();class U extends Oe{constructor(o={}){super(o,de),this.idBlock.isConstructed=!0}fromBER(o,c,v){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const S=this.valueBlock.fromBER(o,c,this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),S)}onAsciiEncoding(){const o=[];for(const v of this.valueBlock.value)o.push(v.toString("ascii").split("\n").map(S=>`  ${S}`).join("\n"));const c=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return o.length?`${c} :\n${o.join("\n")}`:`${c} :`}}Je.Constructed=U,U.NAME="CONSTRUCTED";let te=(()=>{class He extends Q{fromBER(c,v,S){return v}toBER(c){return mt}}return He.override="EndOfContentValueBlock",He})();class ot extends Oe{constructor(o={}){super(o,te),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}Je.EndOfContent=ot,ot.NAME=Yt;class Dt extends Oe{constructor(o={}){super(o,Q),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(o,c,v){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=v,c+v>o.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):c+v}toBER(o,c){const v=new ArrayBuffer(2);if(!o){const S=new Uint8Array(v);S[0]=5,S[1]=0}return c&&c.write(v),v}onAsciiEncoding(){return`${this.constructor.NAME}`}}Je.Null=Dt,Dt.NAME="NULL";let Qt=(()=>{class He extends(Mt(Q)){constructor({value:c,...v}={}){super(v),this.valueHexView=v.valueHex?m.vJ.toUint8Array(v.valueHex):new Uint8Array(1),c&&(this.value=c)}get value(){for(const c of this.valueHexView)if(c>0)return!0;return!1}set value(c){this.valueHexView[0]=c?255:0}fromBER(c,v,S){const I=m.vJ.toUint8Array(c);return E(this,I,v,S)?(this.valueHexView=I.subarray(v,v+S),S>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,P.call(this),this.blockLength=S,v+S):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return He.NAME="BooleanValueBlock",He})();class nn extends Oe{constructor(o={}){super(o,Qt),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(o){this.valueBlock.value=o}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Je.Boolean=nn,nn.NAME="BOOLEAN";let _n=(()=>{class He extends(Mt(de)){constructor({isConstructed:c=!1,...v}={}){super(v),this.isConstructed=c}fromBER(c,v,S){let I=0;if(this.isConstructed){if(this.isHexOnly=!1,I=de.prototype.fromBER.call(this,c,v,S),-1===I)return I;for(let H=0;H<this.value.length;H++){const se=this.value[H].constructor.NAME;if(se===Yt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(se!==un)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,I=super.fromBER(c,v,S),this.blockLength=S;return I}toBER(c,v){return this.isConstructed?de.prototype.toBER.call(this,c,v):c?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return He.NAME="OctetStringValueBlock",He})();class gt extends Oe{constructor({idBlock:o={},lenBlock:c={},...v}={}){var S,I;null!==(S=v.isConstructed)&&void 0!==S||(v.isConstructed=!(null===(I=v.value)||void 0===I||!I.length)),super({idBlock:{isConstructed:v.isConstructed,...o},lenBlock:{...c,isIndefiniteForm:!!v.isIndefiniteForm},...v},_n),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(o,c,v){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===v)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),c;if(!this.valueBlock.isConstructed){const I=(o instanceof ArrayBuffer?new Uint8Array(o):o).subarray(c,c+v);try{if(I.byteLength){const H=Tt(I,0,I.byteLength);-1!==H.offset&&H.offset===v&&(this.valueBlock.value=[H.result])}}catch{}}return super.fromBER(o,c,v)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?U.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${m.ep.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const o=[];for(const c of this.valueBlock.value)c instanceof gt&&o.push(c.valueBlock.valueHexView);return m.vJ.concat(o)}}Je.OctetString=gt,gt.NAME=un;let dn=(()=>{class He extends(Mt(de)){constructor({unusedBits:c=0,isConstructed:v=!1,...S}={}){super(S),this.unusedBits=c,this.isConstructed=v,this.blockLength=this.valueHexView.byteLength}fromBER(c,v,S){if(!S)return v;let I=-1;if(this.isConstructed){if(I=de.prototype.fromBER.call(this,c,v,S),-1===I)return I;for(const he of this.value){const Ne=he.constructor.NAME;if(Ne===Yt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(Ne!==Nt)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const F=he.valueBlock;if(this.unusedBits>0&&F.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=F.unusedBits}return I}const H=m.vJ.toUint8Array(c);if(!E(this,H,v,S))return-1;const se=H.subarray(v,v+S);if(this.unusedBits=se[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const he=se.subarray(1);try{if(he.byteLength){const Ne=Tt(he,0,he.byteLength);-1!==Ne.offset&&Ne.offset===S-1&&(this.value=[Ne.result])}}catch{}}return this.valueHexView=se.subarray(1),this.blockLength=se.length,v+S}toBER(c,v){if(this.isConstructed)return de.prototype.toBER.call(this,c,v);if(c)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return mt;const S=new Uint8Array(this.valueHexView.length+1);return S[0]=this.unusedBits,S.set(this.valueHexView,1),S.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return He.NAME="BitStringValueBlock",He})();var fn;class Xt extends Oe{constructor({idBlock:o={},lenBlock:c={},...v}={}){var S,I;null!==(S=v.isConstructed)&&void 0!==S||(v.isConstructed=!(null===(I=v.value)||void 0===I||!I.length)),super({idBlock:{isConstructed:v.isConstructed,...o},lenBlock:{...c,isIndefiniteForm:!!v.isIndefiniteForm},...v},dn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(o,c,v){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(o,c,v)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return U.prototype.onAsciiEncoding.call(this);{const o=[],c=this.valueBlock.valueHexView;for(const S of c)o.push(S.toString(2).padStart(8,"0"));const v=o.join("");return`${this.constructor.NAME} : ${v.substring(0,v.length-this.valueBlock.unusedBits)}`}}}function An(He,o){const c=new Uint8Array([0]),v=new Uint8Array(He),S=new Uint8Array(o);let I=v.slice(0);const H=I.length-1,se=S.slice(0),he=se.length-1;let Ne=0,Ae=0;for(let D=he<H?H:he;D>=0;D--,Ae++)Ne=1==Ae<se.length?I[H-Ae]+se[he-Ae]+c[0]:I[H-Ae]+c[0],c[0]=Ne/10,1==Ae>=I.length?I=R(new Uint8Array([Ne%10]),I):I[H-Ae]=Ne%10;return c[0]>0&&(I=R(c,I)),I}function kn(He){if(He>=K.length)for(let o=K.length;o<=He;o++){const c=new Uint8Array([0]);let v=K[o-1].slice(0);for(let S=v.length-1;S>=0;S--){const I=new Uint8Array([(v[S]<<1)+c[0]]);c[0]=I[0]/10,v[S]=I[0]%10}c[0]>0&&(v=R(c,v)),K.push(v)}return K[He]}function Gn(He,o){let c=0;const v=new Uint8Array(He),S=new Uint8Array(o),I=v.slice(0),H=I.length-1,se=S.slice(0),he=se.length-1;let Ne,F=0;for(let Ae=he;Ae>=0;Ae--,F++)Ne=I[H-F]-se[he-F]-c,1==Ne<0?(c=1,I[H-F]=Ne+10):(c=0,I[H-F]=Ne);if(c>0)for(let Ae=H-he+1;Ae>=0;Ae--,F++){if(Ne=I[H-F]-c,!(Ne<0)){c=0,I[H-F]=Ne;break}c=1,I[H-F]=Ne+10}return I.slice()}Je.BitString=Xt,Xt.NAME=Nt;class ti extends(Mt(Q)){constructor({value:o,...c}={}){super(c),this._valueDec=0,c.valueHex&&this.setValueHex(),void 0!==o&&(this.valueDec=o)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=P.call(this)))}set valueDec(o){this._valueDec=o,this.isHexOnly=!1,this.valueHexView=new Uint8Array(a(o))}get valueDec(){return this._valueDec}fromDER(o,c,v,S=0){const I=this.fromBER(o,c,v);if(-1===I)return I;const H=this.valueHexView;return 0===H[0]&&0!=(128&H[1])?this.valueHexView=H.subarray(1):0!==S&&H.length<S&&(S-H.length>1&&(S=H.length+1),this.valueHexView=H.subarray(S-H.length)),I}toDER(o=!1){const c=this.valueHexView;switch(!0){case 0!=(128&c[0]):{const v=new Uint8Array(this.valueHexView.length+1);v[0]=0,v.set(c,1),this.valueHexView=v}break;case 0===c[0]&&0==(128&c[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(o)}fromBER(o,c,v){const S=super.fromBER(o,c,v);return-1===S||this.setValueHex(),S}toBER(o){return o?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const o=8*this.valueHexView.length-1;let S,c=new Uint8Array(8*this.valueHexView.length/3),v=0;const I=this.valueHexView;let H="",se=!1;for(let he=I.byteLength-1;he>=0;he--){S=I[he];for(let Ne=0;Ne<8;Ne++)1==(1&S)&&(v===o?(c=Gn(kn(v),c),H="-"):c=An(c,kn(v))),v++,S>>=1}for(let he=0;he<c.length;he++)c[he]&&(se=!0),se&&(H+=le.charAt(c[he]));return!1===se&&(H+=le.charAt(0)),H}}fn=ti,ti.NAME="IntegerValueBlock",Object.defineProperty(fn.prototype,"valueHex",{set:function(He){this.valueHexView=new Uint8Array(He),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class $t extends Oe{constructor(o={}){super(o,ti),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return G(),BigInt(this.valueBlock.toString())}static fromBigInt(o){G();const c=BigInt(o),v=new ne,S=c.toString(16).replace(/^-/,""),I=new Uint8Array(m.ep.FromHex(S));if(c<0){const se=new Uint8Array(I.length+(128&I[0]?1:0));se[0]|=128;const Ne=BigInt(`0x${m.ep.ToHex(se)}`)+c,F=m.vJ.toUint8Array(m.ep.FromHex(Ne.toString(16)));F[0]|=128,v.write(F)}else 128&I[0]&&v.write(new Uint8Array([0])),v.write(I);return new $t({valueHex:v.final()})}convertToDER(){const o=new $t({valueHex:this.valueBlock.valueHexView});return o.valueBlock.toDER(),o}convertFromDER(){return new $t({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Je.Integer=$t,$t.NAME="INTEGER";class Nn extends $t{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Je.Enumerated=Nn,Nn.NAME="ENUMERATED";let bt=(()=>{class He extends(Mt(Q)){constructor({valueDec:c=-1,isFirstSid:v=!1,...S}={}){super(S),this.valueDec=c,this.isFirstSid=v}fromBER(c,v,S){if(!S)return v;const I=m.vJ.toUint8Array(c);if(!E(this,I,v,S))return-1;const H=I.subarray(v,v+S);this.valueHexView=new Uint8Array(S);for(let he=0;he<S&&(this.valueHexView[he]=127&H[he],this.blockLength++,0!=(128&H[he]));he++);const se=new Uint8Array(this.blockLength);for(let he=0;he<this.blockLength;he++)se[he]=this.valueHexView[he];return this.valueHexView=se,0!=(128&H[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=f(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),v+this.blockLength)}set valueBigInt(c){G();let v=BigInt(c).toString(2);for(;v.length%7;)v="0"+v;const S=new Uint8Array(v.length/7);for(let I=0;I<S.length;I++)S[I]=parseInt(v.slice(7*I,7*I+7),2)+(I+1<S.length?128:0);this.fromBER(S.buffer,0,S.length)}toBER(c){if(this.isHexOnly){if(c)return new ArrayBuffer(this.valueHexView.byteLength);const I=this.valueHexView,H=new Uint8Array(this.blockLength);for(let se=0;se<this.blockLength-1;se++)H[se]=128|I[se];return H[this.blockLength-1]=I[this.blockLength-1],H.buffer}const v=w(this.valueDec,7);if(0===v.byteLength)return this.error="Error during encoding SID value",mt;const S=new Uint8Array(v.byteLength);if(!c){const I=new Uint8Array(v),H=v.byteLength-1;for(let se=0;se<H;se++)S[se]=128|I[se];S[H]=I[H]}return S}toString(){let c="";if(this.isHexOnly)c=m.ep.ToHex(this.valueHexView);else if(this.isFirstSid){let v=this.valueDec;this.valueDec<=39?c="0.":this.valueDec<=79?(c="1.",v-=40):(c="2.",v-=80),c+=v.toString()}else c=this.valueDec.toString();return c}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return He.NAME="sidBlock",He})(),_t=(()=>{class He extends Q{constructor({value:c="",...v}={}){super(v),this.value=[],c&&this.fromString(c)}fromBER(c,v,S){let I=v;for(;S>0;){const H=new bt;if(I=H.fromBER(c,I,S),-1===I)return this.blockLength=0,this.error=H.error,I;0===this.value.length&&(H.isFirstSid=!0),this.blockLength+=H.blockLength,S-=H.blockLength,this.value.push(H)}return I}toBER(c){const v=[];for(let S=0;S<this.value.length;S++){const I=this.value[S].toBER(c);if(0===I.byteLength)return this.error=this.value[S].error,mt;v.push(I)}return X(v)}fromString(c){this.value=[];let v=0,S=0,I="",H=!1;do{if(S=c.indexOf(".",v),I=-1===S?c.substring(v):c.substring(v,S),v=S+1,H){const se=this.value[0];let he=0;switch(se.valueDec){case 0:break;case 1:he=40;break;case 2:he=80;break;default:return void(this.value=[])}const Ne=parseInt(I,10);if(isNaN(Ne))return;se.valueDec=Ne+he,H=!1}else{const se=new bt;if(I>Number.MAX_SAFE_INTEGER){G();const he=BigInt(I);se.valueBigInt=he}else if(se.valueDec=parseInt(I,10),isNaN(se.valueDec))return;this.value.length||(se.isFirstSid=!0,H=!0),this.value.push(se)}}while(-1!==S)}toString(){let c="",v=!1;for(let S=0;S<this.value.length;S++){v=this.value[S].isHexOnly;let I=this.value[S].toString();0!==S&&(c=`${c}.`),v?(I=`{${I}}`,this.value[S].isFirstSid?c=`2.{${I} - 80}`:c+=I):c+=I}return c}toJSON(){const c={...super.toJSON(),value:this.toString(),sidArray:[]};for(let v=0;v<this.value.length;v++)c.sidArray.push(this.value[v].toJSON());return c}}return He.NAME="ObjectIdentifierValueBlock",He})();class Ze extends Oe{constructor(o={}){super(o,_t),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(o){this.valueBlock.fromString(o)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Je.ObjectIdentifier=Ze,Ze.NAME="OBJECT IDENTIFIER";let Ke=(()=>{class He extends(Mt(Y)){constructor({valueDec:c=0,...v}={}){super(v),this.valueDec=c}fromBER(c,v,S){if(0===S)return v;const I=m.vJ.toUint8Array(c);if(!E(this,I,v,S))return-1;const H=I.subarray(v,v+S);this.valueHexView=new Uint8Array(S);for(let he=0;he<S&&(this.valueHexView[he]=127&H[he],this.blockLength++,0!=(128&H[he]));he++);const se=new Uint8Array(this.blockLength);for(let he=0;he<this.blockLength;he++)se[he]=this.valueHexView[he];return this.valueHexView=se,0!=(128&H[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=f(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),v+this.blockLength)}toBER(c){if(this.isHexOnly){if(c)return new ArrayBuffer(this.valueHexView.byteLength);const I=this.valueHexView,H=new Uint8Array(this.blockLength);for(let se=0;se<this.blockLength-1;se++)H[se]=128|I[se];return H[this.blockLength-1]=I[this.blockLength-1],H.buffer}const v=w(this.valueDec,7);if(0===v.byteLength)return this.error="Error during encoding SID value",mt;const S=new Uint8Array(v.byteLength);if(!c){const I=new Uint8Array(v),H=v.byteLength-1;for(let se=0;se<H;se++)S[se]=128|I[se];S[H]=I[H]}return S.buffer}toString(){let c="";return c=this.isHexOnly?m.ep.ToHex(this.valueHexView):this.valueDec.toString(),c}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return He.NAME="relativeSidBlock",He})(),it=(()=>{class He extends Q{constructor({value:c="",...v}={}){super(v),this.value=[],c&&this.fromString(c)}fromBER(c,v,S){let I=v;for(;S>0;){const H=new Ke;if(I=H.fromBER(c,I,S),-1===I)return this.blockLength=0,this.error=H.error,I;this.blockLength+=H.blockLength,S-=H.blockLength,this.value.push(H)}return I}toBER(c,v){const S=[];for(let I=0;I<this.value.length;I++){const H=this.value[I].toBER(c);if(0===H.byteLength)return this.error=this.value[I].error,mt;S.push(H)}return X(S)}fromString(c){this.value=[];let v=0,S=0,I="";do{S=c.indexOf(".",v),I=-1===S?c.substring(v):c.substring(v,S),v=S+1;const H=new Ke;if(H.valueDec=parseInt(I,10),isNaN(H.valueDec))return!0;this.value.push(H)}while(-1!==S);return!0}toString(){let c="",v=!1;for(let S=0;S<this.value.length;S++){v=this.value[S].isHexOnly;let I=this.value[S].toString();0!==S&&(c=`${c}.`),v&&(I=`{${I}}`),c+=I}return c}toJSON(){const c={...super.toJSON(),value:this.toString(),sidArray:[]};for(let v=0;v<this.value.length;v++)c.sidArray.push(this.value[v].toJSON());return c}}return He.NAME="RelativeObjectIdentifierValueBlock",He})();class Jt extends Oe{constructor(o={}){super(o,it),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(o){this.valueBlock.fromString(o)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Je.RelativeObjectIdentifier=Jt,Jt.NAME="RelativeObjectIdentifier";class Bt extends U{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Je.Sequence=Bt,Bt.NAME="SEQUENCE";class Jn extends U{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}Je.Set=Jn,Jn.NAME="SET";let _i=(()=>{class He extends(Mt(Q)){constructor({...c}={}){super(c),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return He.NAME="StringValueBlock",He})(),Cn=(()=>{class He extends _i{}return He.NAME="SimpleStringValueBlock",He})(),Zn=(()=>{class He extends we{constructor({...c}={}){super(c,Cn)}fromBuffer(c){this.valueBlock.value=String.fromCharCode.apply(null,m.vJ.toUint8Array(c))}fromString(c){const v=c.length,S=this.valueBlock.valueHexView=new Uint8Array(v);for(let I=0;I<v;I++)S[I]=c.charCodeAt(I);this.valueBlock.value=c}}return He.NAME="SIMPLE STRING",He})(),di=(()=>{class He extends Zn{fromBuffer(c){this.valueBlock.valueHexView=m.vJ.toUint8Array(c);try{this.valueBlock.value=m.ep.ToUtf8String(c)}catch(v){this.warnings.push(`Error during "decodeURIComponent": ${v}, using raw string`),this.valueBlock.value=m.ep.ToBinary(c)}}fromString(c){this.valueBlock.valueHexView=new Uint8Array(m.ep.FromUtf8String(c)),this.valueBlock.value=c}}return He.NAME="Utf8StringValueBlock",He})();class Ui extends di{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}Je.Utf8String=Ui,Ui.NAME="UTF8String";let bi=(()=>{class He extends Zn{fromBuffer(c){this.valueBlock.value=m.ep.ToUtf16String(c),this.valueBlock.valueHexView=m.vJ.toUint8Array(c)}fromString(c){this.valueBlock.value=c,this.valueBlock.valueHexView=new Uint8Array(m.ep.FromUtf16String(c))}}return He.NAME="BmpStringValueBlock",He})();class ci extends bi{constructor({...o}={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}Je.BmpString=ci,ci.NAME="BMPString";let Fi=(()=>{class He extends Zn{fromBuffer(c){const v=ArrayBuffer.isView(c)?c.slice().buffer:c.slice(0),S=new Uint8Array(v);for(let I=0;I<S.length;I+=4)S[I]=S[I+3],S[I+1]=S[I+2],S[I+2]=0,S[I+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(v))}fromString(c){const v=c.length,S=this.valueBlock.valueHexView=new Uint8Array(4*v);for(let I=0;I<v;I++){const H=w(c.charCodeAt(I),8),se=new Uint8Array(H);if(se.length>4)continue;const he=4-se.length;for(let Ne=se.length-1;Ne>=0;Ne--)S[4*I+Ne+he]=se[Ne]}this.valueBlock.value=c}}return He.NAME="UniversalStringValueBlock",He})();class Pn extends Fi{constructor({...o}={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Je.UniversalString=Pn,Pn.NAME="UniversalString";class zt extends Zn{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Je.NumericString=zt,zt.NAME="NumericString";class Ln extends Zn{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Je.PrintableString=Ln,Ln.NAME="PrintableString";class Be extends Zn{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Je.TeletexString=Be,Be.NAME="TeletexString";class ft extends Zn{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Je.VideotexString=ft,ft.NAME="VideotexString";class pn extends Zn{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Je.IA5String=pn,pn.NAME="IA5String";class In extends Zn{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Je.GraphicString=In,In.NAME="GraphicString";class xi extends Zn{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}Je.VisibleString=xi,xi.NAME="VisibleString";class qn extends Zn{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}Je.GeneralString=qn,qn.NAME="GeneralString";class Yi extends Zn{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Je.CharacterString=Yi,Yi.NAME="CharacterString";class Ei extends xi{constructor({value:o,valueDate:c,...v}={}){if(super(v),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,o){this.fromString(o),this.valueBlock.valueHexView=new Uint8Array(o.length);for(let S=0;S<o.length;S++)this.valueBlock.valueHexView[S]=o.charCodeAt(S)}c&&(this.fromDate(c),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(o){this.fromString(String.fromCharCode.apply(null,m.vJ.toUint8Array(o)))}toBuffer(){const o=this.toString(),c=new ArrayBuffer(o.length),v=new Uint8Array(c);for(let S=0;S<o.length;S++)v[S]=o.charCodeAt(S);return c}fromDate(o){this.year=o.getUTCFullYear(),this.month=o.getUTCMonth()+1,this.day=o.getUTCDate(),this.hour=o.getUTCHours(),this.minute=o.getUTCMinutes(),this.second=o.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(o){const v=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(o);if(null===v)return void(this.error="Wrong input string for conversion");const S=parseInt(v[1],10);this.year=S>=50?1900+S:2e3+S,this.month=parseInt(v[2],10),this.day=parseInt(v[3],10),this.hour=parseInt(v[4],10),this.minute=parseInt(v[5],10),this.second=parseInt(v[6],10)}toString(o="iso"){if("iso"===o){const c=new Array(7);return c[0]=L(this.year<2e3?this.year-1900:this.year-2e3,2),c[1]=L(this.month,2),c[2]=L(this.day,2),c[3]=L(this.hour,2),c[4]=L(this.minute,2),c[5]=L(this.second,2),c[6]="Z",c.join("")}return super.toString(o)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Je.UTCTime=Ei,Ei.NAME="UTCTime";class Mi extends Ei{constructor(o={}){var c;super(o),null!==(c=this.millisecond)&&void 0!==c||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(o){super.fromDate(o),this.millisecond=o.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(o){let H,c=!1,v="",S="",I=0,se=0,he=0;if("Z"===o[o.length-1])v=o.substring(0,o.length-1),c=!0;else{const Ae=new Number(o[o.length-1]);if(isNaN(Ae.valueOf()))throw new Error("Wrong input string for conversion");v=o}if(c){if(-1!==v.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==v.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Ae=1,D=v.indexOf("+"),oe="";if(-1===D&&(D=v.indexOf("-"),Ae=-1),-1!==D){if(oe=v.substring(D+1),v=v.substring(0,D),2!==oe.length&&4!==oe.length)throw new Error("Wrong input string for conversion");let ht=parseInt(oe.substring(0,2),10);if(isNaN(ht.valueOf()))throw new Error("Wrong input string for conversion");if(se=Ae*ht,4===oe.length){if(ht=parseInt(oe.substring(2,4),10),isNaN(ht.valueOf()))throw new Error("Wrong input string for conversion");he=Ae*ht}}}let Ne=v.indexOf(".");if(-1===Ne&&(Ne=v.indexOf(",")),-1!==Ne){const Ae=new Number(`0${v.substring(Ne)}`);if(isNaN(Ae.valueOf()))throw new Error("Wrong input string for conversion");I=Ae.valueOf(),S=v.substring(0,Ne)}else S=v;switch(!0){case 8===S.length:if(H=/(\d{4})(\d{2})(\d{2})/gi,-1!==Ne)throw new Error("Wrong input string for conversion");break;case 10===S.length:if(H=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==Ne){let Ae=60*I;this.minute=Math.floor(Ae),Ae=60*(Ae-this.minute),this.second=Math.floor(Ae),Ae=1e3*(Ae-this.second),this.millisecond=Math.floor(Ae)}break;case 12===S.length:if(H=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==Ne){let Ae=60*I;this.second=Math.floor(Ae),Ae=1e3*(Ae-this.second),this.millisecond=Math.floor(Ae)}break;case 14===S.length:H=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==Ne&&(this.millisecond=Math.floor(1e3*I));break;default:throw new Error("Wrong input string for conversion")}const F=H.exec(S);if(null===F)throw new Error("Wrong input string for conversion");for(let Ae=1;Ae<F.length;Ae++)switch(Ae){case 1:this.year=parseInt(F[Ae],10);break;case 2:this.month=parseInt(F[Ae],10);break;case 3:this.day=parseInt(F[Ae],10);break;case 4:this.hour=parseInt(F[Ae],10)+se;break;case 5:this.minute=parseInt(F[Ae],10)+he;break;case 6:this.second=parseInt(F[Ae],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===c){const Ae=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Ae.getUTCFullYear(),this.month=Ae.getUTCMonth(),this.day=Ae.getUTCDay(),this.hour=Ae.getUTCHours(),this.minute=Ae.getUTCMinutes(),this.second=Ae.getUTCSeconds(),this.millisecond=Ae.getUTCMilliseconds()}}toString(o="iso"){if("iso"===o){const c=[];return c.push(L(this.year,4)),c.push(L(this.month,2)),c.push(L(this.day,2)),c.push(L(this.hour,2)),c.push(L(this.minute,2)),c.push(L(this.second,2)),0!==this.millisecond&&(c.push("."),c.push(L(this.millisecond,3))),c.push("Z"),c.join("")}return super.toString(o)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}Je.GeneralizedTime=Mi,Mi.NAME="GeneralizedTime";class Nr extends Ui{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Je.DATE=Nr,Nr.NAME="DATE";class is extends Ui{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Je.TimeOfDay=is,is.NAME="TimeOfDay";class qr extends Ui{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}Je.DateTime=qr,qr.NAME="DateTime";class rs extends Ui{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Je.Duration=rs,rs.NAME="Duration";class Cs extends Ui{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Je.TIME=Cs,Cs.NAME="TIME";class Sr{constructor({name:o="",optional:c=!1}={}){this.name=o,this.optional=c}}class rr extends Sr{constructor({value:o=[],...c}={}){super(c),this.value=o}}class Ri extends Sr{constructor({value:o=new Sr,local:c=!1,...v}={}){super(v),this.value=o,this.local=c}}class ds{constructor({data:o=pt}={}){this.dataView=m.vJ.toUint8Array(o)}get data(){return this.dataView.slice().buffer}set data(o){this.dataView=m.vJ.toUint8Array(o)}fromBER(o,c,v){const S=c+v;return this.dataView=m.vJ.toUint8Array(o).subarray(c,S),S}toBER(o){return this.dataView.slice().buffer}}function Xn(He,o,c){if(c instanceof rr){for(let I=0;I<c.value.length;I++)if(Xn(He,o,c.value[I]).verified)return{verified:!0,result:He};{const I={verified:!1,result:{error:"Wrong values for Choice type"}};return c.hasOwnProperty(me)&&(I.name=c.name),I}}if(c instanceof Sr)return c.hasOwnProperty(me)&&(He[c.name]=o),{verified:!0,result:He};if(!(He instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(o instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(c instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in c))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in c.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in c.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const v=c.idBlock.toBER(!1);if(0===v.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===c.idBlock.fromBER(v,0,v.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===c.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.tagClass!==o.idBlock.tagClass)return{verified:!1,result:He};if(!1===c.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.tagNumber!==o.idBlock.tagNumber)return{verified:!1,result:He};if(!1===c.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.isConstructed!==o.idBlock.isConstructed)return{verified:!1,result:He};if(!("isHexOnly"in c.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.isHexOnly!==o.idBlock.isHexOnly)return{verified:!1,result:He};if(c.idBlock.isHexOnly){if(!(Se in c.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const I=c.idBlock.valueHexView,H=o.idBlock.valueHexView;if(I.length!==H.length)return{verified:!1,result:He};for(let se=0;se<I.length;se++)if(I[se]!==H[1])return{verified:!1,result:He}}if(c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&(He[c.name]=o)),c instanceof Je.Constructed){let I=0,H={verified:!1,result:{error:"Unknown error"}},se=c.valueBlock.value.length;if(se>0&&c.valueBlock.value[0]instanceof Ri&&(se=o.valueBlock.value.length),0===se)return{verified:!0,result:He};if(0===o.valueBlock.value.length&&0!==c.valueBlock.value.length){let he=!0;for(let Ne=0;Ne<c.valueBlock.value.length;Ne++)he=he&&(c.valueBlock.value[Ne].optional||!1);return he?{verified:!0,result:He}:(c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&delete He[c.name]),He.error="Inconsistent object length",{verified:!1,result:He})}for(let he=0;he<se;he++)if(he-I>=o.valueBlock.value.length){if(!1===c.valueBlock.value[he].optional){const Ne={verified:!1,result:He};return He.error="Inconsistent length between ASN.1 data and schema",c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&(delete He[c.name],Ne.name=c.name)),Ne}}else if(c.valueBlock.value[0]instanceof Ri){if(H=Xn(He,o.valueBlock.value[he],c.valueBlock.value[0].value),!1===H.verified){if(!c.valueBlock.value[0].optional)return c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&delete He[c.name]),H;I++}if(me in c.valueBlock.value[0]&&c.valueBlock.value[0].name.length>0){let Ne={};Ne="local"in c.valueBlock.value[0]&&c.valueBlock.value[0].local?o:He,typeof Ne[c.valueBlock.value[0].name]>"u"&&(Ne[c.valueBlock.value[0].name]=[]),Ne[c.valueBlock.value[0].name].push(o.valueBlock.value[he])}}else if(H=Xn(He,o.valueBlock.value[he-I],c.valueBlock.value[he]),!1===H.verified){if(!c.valueBlock.value[he].optional)return c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&delete He[c.name]),H;I++}if(!1===H.verified){const he={verified:!1,result:He};return c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&(delete He[c.name],he.name=c.name)),he}return{verified:!0,result:He}}if(c.primitiveSchema&&Se in o.valueBlock){const I=Tt(o.valueBlock.valueHexView);if(-1===I.offset){const H={verified:!1,result:I.result};return c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&(delete He[c.name],H.name=c.name)),H}return Xn(He,I.result,c.primitiveSchema)}return{verified:!0,result:He}}class Wn{constructor(o={}){this.algorithmId=C(o,"algorithmId",Wn.defaultValues("algorithmId")),"algorithmParams"in o&&(this.algorithmParams=C(o,"algorithmParams",Wn.defaultValues("algorithmParams"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"algorithmId":return"";case"algorithmParams":return new Sr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${o}`)}}static compareWithDefault(o,c){switch(o){case"algorithmId":return""===c;case"algorithmParams":return c instanceof Sr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",optional:c.optional||!1,value:[new Ze({name:c.algorithmIdentifier||""}),new Sr({name:c.algorithmParams||"",optional:!0})]})}fromSchema(o){W(o,["algorithm","params"]);const c=Xn(o,o,Wn.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=c.result.algorithm.valueBlock.toString(),"params"in c.result&&(this.algorithmParams=c.result.params)}toSchema(){const o=[];return o.push(new Ze({value:this.algorithmId})),"algorithmParams"in this&&!(this.algorithmParams instanceof Sr)&&o.push(this.algorithmParams),new Bt({value:o})}toJSON(){const o={algorithmId:this.algorithmId};return"algorithmParams"in this&&!(this.algorithmParams instanceof Sr)&&(o.algorithmParams=this.algorithmParams.toJSON()),o}isEqual(o){return o instanceof Wn&&this.algorithmId===o.algorithmId&&("algorithmParams"in this?"algorithmParams"in o&&JSON.stringify(this.algorithmParams)===JSON.stringify(o.algorithmParams):!("algorithmParams"in o))}}let pr=(()=>{class He{static register(c,v,S){this.namedCurves[c.toLowerCase()]=this.namedCurves[v]={name:c,id:v,size:S}}static find(c){return this.namedCurves[c.toLowerCase()]||null}}return He.namedCurves={},He})();pr.register("P-256","1.2.840.10045.3.1.7",32),pr.register("P-384","1.3.132.0.34",48),pr.register("P-521","1.3.132.0.35",66),pr.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),pr.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),pr.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);class xr{constructor(o={}){this.x=C(o,"x",xr.defaultValues("x")),this.y=C(o,"y",xr.defaultValues("y")),this.namedCurve=C(o,"namedCurve",xr.defaultValues("namedCurve")),"schema"in o&&this.fromSchema(o.schema),"json"in o&&this.fromJSON(o.json)}static defaultValues(o){switch(o){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${o}`)}}static compareWithDefault(o,c){switch(o){case"x":case"y":return k(c,xr.defaultValues(o));case"namedCurve":return""===c;default:throw new Error(`Invalid member name for ECCPublicKey class: ${o}`)}}static schema(o={}){return new ds}fromSchema(o){if(!(o instanceof ArrayBuffer))throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(o)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const v=pr.find(this.namedCurve);if(!v)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const S=v.size;if(o.byteLength!==2*S+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=o.slice(1,S+1),this.y=o.slice(1+S,2*S+1)}toSchema(){return new ds({data:_(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const o=pr.find(this.namedCurve);return{crv:o?o.name:this.namedCurve,x:N(V(this.x),!0,!0,!1),y:N(V(this.y),!0,!0,!1)}}fromJSON(o){let c=0;if(!("crv"in o))throw new Error('Absent mandatory parameter "crv"');{const v=pr.find(o.crv);v&&(this.namedCurve=v.id,c=v.size)}if(!("x"in o))throw new Error('Absent mandatory parameter "x"');{const v=J(B(o.x,!0));if(v.byteLength<c){this.x=new ArrayBuffer(c);const S=new Uint8Array(this.x),I=new Uint8Array(v);S.set(I,1)}else this.x=v.slice(0,c)}if(!("y"in o))throw new Error('Absent mandatory parameter "y"');{const v=J(B(o.y,!0));if(v.byteLength<c){this.y=new ArrayBuffer(c);const S=new Uint8Array(this.y),I=new Uint8Array(v);S.set(I,1)}else this.y=v.slice(0,c)}}}class Yr{constructor(o={}){this.modulus=C(o,"modulus",Yr.defaultValues("modulus")),this.publicExponent=C(o,"publicExponent",Yr.defaultValues("publicExponent")),"schema"in o&&this.fromSchema(o.schema),"json"in o&&this.fromJSON(o.json)}static defaultValues(o){switch(o){case"modulus":case"publicExponent":return new $t;default:throw new Error(`Invalid member name for RSAPublicKey class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new $t({name:c.modulus||""}),new $t({name:c.publicExponent||""})]})}fromSchema(o){W(o,["modulus","publicExponent"]);const c=Xn(o,o,Yr.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=c.result.modulus.convertFromDER(256),this.publicExponent=c.result.publicExponent}toSchema(){return new Bt({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:N(V(this.modulus.valueBlock.valueHex),!0,!0,!0),e:N(V(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(o){if(!("n"in o))throw new Error('Absent mandatory parameter "n"');{const c=J(B(o.n,!0));this.modulus=new $t({valueHex:c.slice(0,Math.pow(2,re(c.byteLength)))})}if(!("e"in o))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new $t({valueHex:J(B(o.e,!0)).slice(0,3)})}}class Zr{constructor(o={}){this.algorithm=C(o,"algorithm",Zr.defaultValues("algorithm")),this.subjectPublicKey=C(o,"subjectPublicKey",Zr.defaultValues("subjectPublicKey")),"parsedKey"in o&&(this.parsedKey=C(o,"parsedKey",Zr.defaultValues("parsedKey"))),"schema"in o&&this.fromSchema(o.schema),"json"in o&&this.fromJSON(o.json)}static defaultValues(o){switch(o){case"algorithm":return new Wn;case"subjectPublicKey":return new Xt;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[Wn.schema(c.algorithm||{}),new Xt({name:c.subjectPublicKey||""})]})}fromSchema(o){W(o,["algorithm","subjectPublicKey"]);const c=Xn(o,o,Zr.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new Wn({schema:c.result.algorithm}),this.subjectPublicKey=c.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Ze.blockName())try{this.parsedKey=new xr({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch{}break;case"1.2.840.113549.1.1.1":{const v=vt(this.subjectPublicKey.valueBlock.valueHex);if(-1!==v.offset)try{this.parsedKey=new Yr({schema:v.result})}catch{}}}}toSchema(){return new Bt({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!("parsedKey"in this))return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const o={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":o.kty="EC";break;case"1.2.840.113549.1.1.1":o.kty="RSA"}const c=this.parsedKey.toJSON();for(const v of Object.keys(c))o[v]=c[v];return o}fromJSON(o){if("kty"in o){switch(o.kty.toUpperCase()){case"EC":this.parsedKey=new xr({json:o}),this.algorithm=new Wn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Ze({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Yr({json:o}),this.algorithm=new Wn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Dt});break;default:throw new Error(`Invalid value for "kty" parameter: ${o.kty}`)}this.subjectPublicKey=new Xt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(o){let c=Promise.resolve();const v=this;if(typeof o>"u")return Promise.reject("Need to provide publicKey input parameter");const S=ws();return typeof S>"u"?Promise.reject("Unable to create WebCrypto object"):(c=c.then(()=>S.exportKey("spki",o)),c=c.then(I=>{const H=vt(I);try{v.fromSchema(H.result)}catch{return Promise.reject("Error during initializing object from schema")}},I=>Promise.reject(`Error during exporting public key: ${I}`)),c)}}class Pr{constructor(o={}){this.type=C(o,"type",Pr.defaultValues("type")),this.values=C(o,"values",Pr.defaultValues("values")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${o}`)}}static compareWithDefault(o,c){switch(o){case"type":return""===c;case"values":return 0===c.length;default:throw new Error(`Invalid member name for Attribute class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.type||""}),new Jn({name:c.setName||"",value:[new Ri({name:c.values||"",value:new Sr})]})]})}fromSchema(o){W(o,["type","values"]);const c=Xn(o,o,Pr.schema({names:{type:"type",values:"values"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=c.result.type.valueBlock.toString(),this.values=c.result.values}toSchema(){return new Bt({value:[new Ze({value:this.type}),new Jn({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,o=>o.toJSON())}}}class vr{constructor(o={}){this.version=C(o,"version",vr.defaultValues("version")),this.privateKey=C(o,"privateKey",vr.defaultValues("privateKey")),"namedCurve"in o&&(this.namedCurve=C(o,"namedCurve",vr.defaultValues("namedCurve"))),"publicKey"in o&&(this.publicKey=C(o,"publicKey",vr.defaultValues("publicKey"))),"schema"in o&&this.fromSchema(o.schema),"json"in o&&this.fromJSON(o.json)}static defaultValues(o){switch(o){case"version":return 1;case"privateKey":return new gt;case"namedCurve":return"";case"publicKey":return new xr;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${o}`)}}static compareWithDefault(o,c){switch(o){case"version":return c===vr.defaultValues(o);case"privateKey":return c.isEqual(vr.defaultValues(o));case"namedCurve":return""===c;case"publicKey":return xr.compareWithDefault("namedCurve",c.namedCurve)&&xr.compareWithDefault("x",c.x)&&xr.compareWithDefault("y",c.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new $t({name:c.version||""}),new gt({name:c.privateKey||""}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ze({name:c.namedCurve||""})]}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Xt({name:c.publicKey||""})]})]})}fromSchema(o){W(o,["version","privateKey","namedCurve","publicKey"]);const c=Xn(o,o,vr.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=c.result.version.valueBlock.valueDec,this.privateKey=c.result.privateKey,"namedCurve"in c.result&&(this.namedCurve=c.result.namedCurve.valueBlock.toString()),"publicKey"in c.result){const v={schema:c.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(v.namedCurve=this.namedCurve),this.publicKey=new xr(v)}}toSchema(){const o=[new $t({value:this.version}),this.privateKey];return"namedCurve"in this&&o.push(new U({idBlock:{tagClass:3,tagNumber:0},value:[new Ze({value:this.namedCurve})]})),"publicKey"in this&&o.push(new U({idBlock:{tagClass:3,tagNumber:1},value:[new Xt({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new Bt({value:o})}toJSON(){if(!("namedCurve"in this)||vr.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let o="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":o="P-256";break;case"1.3.132.0.34":o="P-384";break;case"1.3.132.0.35":o="P-521"}const c={crv:o,d:N(V(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const v=this.publicKey.toJSON();c.x=v.x,c.y=v.y}return c}fromJSON(o){let c=0;if(!("crv"in o))throw new Error('Absent mandatory parameter "crv"');switch(o.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",c=32;break;case"P-384":this.namedCurve="1.3.132.0.34",c=48;break;case"P-521":this.namedCurve="1.3.132.0.35",c=66}if(!("d"in o))throw new Error('Absent mandatory parameter "d"');{const v=J(B(o.d,!0));if(v.byteLength<c){const S=new ArrayBuffer(c),I=new Uint8Array(S),H=new Uint8Array(v);I.set(H,1),this.privateKey=new gt({valueHex:S})}else this.privateKey=new gt({valueHex:v.slice(0,c)})}"x"in o&&"y"in o&&(this.publicKey=new xr({json:o}))}}class ss{constructor(o={}){this.prime=C(o,"prime",ss.defaultValues("prime")),this.exponent=C(o,"exponent",ss.defaultValues("exponent")),this.coefficient=C(o,"coefficient",ss.defaultValues("coefficient")),"schema"in o&&this.fromSchema(o.schema),"json"in o&&this.fromJSON(o.json)}static defaultValues(o){switch(o){case"prime":case"exponent":case"coefficient":return new $t;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new $t({name:c.prime||""}),new $t({name:c.exponent||""}),new $t({name:c.coefficient||""})]})}fromSchema(o){W(o,["prime","exponent","coefficient"]);const c=Xn(o,o,ss.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=c.result.prime.convertFromDER(),this.exponent=c.result.exponent.convertFromDER(),this.coefficient=c.result.coefficient.convertFromDER()}toSchema(){return new Bt({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:N(V(this.prime.valueBlock.valueHex),!0,!0),d:N(V(this.exponent.valueBlock.valueHex),!0,!0),t:N(V(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(o){if(!("r"in o))throw new Error('Absent mandatory parameter "r"');if(this.prime=new $t({valueHex:J(B(o.r,!0))}),!("d"in o))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new $t({valueHex:J(B(o.d,!0))}),!("t"in o))throw new Error('Absent mandatory parameter "t"');this.coefficient=new $t({valueHex:J(B(o.t,!0))})}}class sr{constructor(o={}){this.version=C(o,"version",sr.defaultValues("version")),this.modulus=C(o,"modulus",sr.defaultValues("modulus")),this.publicExponent=C(o,"publicExponent",sr.defaultValues("publicExponent")),this.privateExponent=C(o,"privateExponent",sr.defaultValues("privateExponent")),this.prime1=C(o,"prime1",sr.defaultValues("prime1")),this.prime2=C(o,"prime2",sr.defaultValues("prime2")),this.exponent1=C(o,"exponent1",sr.defaultValues("exponent1")),this.exponent2=C(o,"exponent2",sr.defaultValues("exponent2")),this.coefficient=C(o,"coefficient",sr.defaultValues("coefficient")),"otherPrimeInfos"in o&&(this.otherPrimeInfos=C(o,"otherPrimeInfos",sr.defaultValues("otherPrimeInfos"))),"schema"in o&&this.fromSchema(o.schema),"json"in o&&this.fromJSON(o.json)}static defaultValues(o){switch(o){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new $t;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new $t({name:c.version||""}),new $t({name:c.modulus||""}),new $t({name:c.publicExponent||""}),new $t({name:c.privateExponent||""}),new $t({name:c.prime1||""}),new $t({name:c.prime2||""}),new $t({name:c.exponent1||""}),new $t({name:c.exponent2||""}),new $t({name:c.coefficient||""}),new Bt({optional:!0,value:[new Ri({name:c.otherPrimeInfosName||"",value:ss.schema(c.otherPrimeInfo||{})})]})]})}fromSchema(o){W(o,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const c=Xn(o,o,sr.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=c.result.version.valueBlock.valueDec,this.modulus=c.result.modulus.convertFromDER(256),this.publicExponent=c.result.publicExponent,this.privateExponent=c.result.privateExponent.convertFromDER(256),this.prime1=c.result.prime1.convertFromDER(128),this.prime2=c.result.prime2.convertFromDER(128),this.exponent1=c.result.exponent1.convertFromDER(128),this.exponent2=c.result.exponent2.convertFromDER(128),this.coefficient=c.result.coefficient.convertFromDER(128),"otherPrimeInfos"in c.result&&(this.otherPrimeInfos=Array.from(c.result.otherPrimeInfos,v=>new ss({schema:v})))}toSchema(){const o=[];return o.push(new $t({value:this.version})),o.push(this.modulus.convertToDER()),o.push(this.publicExponent),o.push(this.privateExponent.convertToDER()),o.push(this.prime1.convertToDER()),o.push(this.prime2.convertToDER()),o.push(this.exponent1.convertToDER()),o.push(this.exponent2.convertToDER()),o.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&o.push(new Bt({value:Array.from(this.otherPrimeInfos,c=>c.toSchema())})),new Bt({value:o})}toJSON(){const o={n:N(V(this.modulus.valueBlock.valueHex),!0,!0,!0),e:N(V(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:N(V(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:N(V(this.prime1.valueBlock.valueHex),!0,!0,!0),q:N(V(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:N(V(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:N(V(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:N(V(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(o.oth=Array.from(this.otherPrimeInfos,c=>c.toJSON())),o}fromJSON(o){if(!("n"in o))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new $t({valueHex:J(B(o.n,!0,!0))}),!("e"in o))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new $t({valueHex:J(B(o.e,!0,!0))}),!("d"in o))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new $t({valueHex:J(B(o.d,!0,!0))}),!("p"in o))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new $t({valueHex:J(B(o.p,!0,!0))}),!("q"in o))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new $t({valueHex:J(B(o.q,!0,!0))}),!("dp"in o))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new $t({valueHex:J(B(o.dp,!0,!0))}),!("dq"in o))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new $t({valueHex:J(B(o.dq,!0,!0))}),!("qi"in o))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new $t({valueHex:J(B(o.qi,!0,!0))}),"oth"in o&&(this.otherPrimeInfos=Array.from(o.oth,c=>new ss({json:c})))}}class yr{constructor(o={}){this.version=C(o,"version",yr.defaultValues("version")),this.privateKeyAlgorithm=C(o,"privateKeyAlgorithm",yr.defaultValues("privateKeyAlgorithm")),this.privateKey=C(o,"privateKey",yr.defaultValues("privateKey")),"attributes"in o&&(this.attributes=C(o,"attributes",yr.defaultValues("attributes"))),"parsedKey"in o&&(this.parsedKey=C(o,"parsedKey",yr.defaultValues("parsedKey"))),"schema"in o&&this.fromSchema(o.schema),"json"in o&&this.fromJSON(o.json)}static defaultValues(o){switch(o){case"version":return 0;case"privateKeyAlgorithm":return new Wn;case"privateKey":return new gt;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new $t({name:c.version||""}),Wn.schema(c.privateKeyAlgorithm||{}),new gt({name:c.privateKey||""}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ri({name:c.attributes||"",value:Pr.schema()})]})]})}fromSchema(o){W(o,["version","privateKeyAlgorithm","privateKey","attributes"]);const c=Xn(o,o,yr.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=c.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new Wn({schema:c.result.privateKeyAlgorithm}),this.privateKey=c.result.privateKey,"attributes"in c.result&&(this.attributes=Array.from(c.result.attributes,v=>new Pr({schema:v}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const v=vt(this.privateKey.valueBlock.valueHex);-1!==v.offset&&(this.parsedKey=new sr({schema:v.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Ze){const v=vt(this.privateKey.valueBlock.valueHex);-1!==v.offset&&(this.parsedKey=new vr({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:v.result}))}}}toSchema(){const o=[new $t({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&o.push(new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,c=>c.toSchema())})),new Bt({value:o})}toJSON(){if(!("parsedKey"in this)){const v={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(v.attributes=Array.from(this.attributes,S=>S.toJSON())),v}const o={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":o.kty="EC";break;case"1.2.840.113549.1.1.1":o.kty="RSA"}const c=this.parsedKey.toJSON();for(const v of Object.keys(c))o[v]=c[v];return o}fromJSON(o){if("kty"in o){switch(o.kty.toUpperCase()){case"EC":this.parsedKey=new vr({json:o}),this.privateKeyAlgorithm=new Wn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Ze({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new sr({json:o}),this.privateKeyAlgorithm=new Wn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Dt});break;default:throw new Error(`Invalid value for "kty" parameter: ${o.kty}`)}this.privateKey=new gt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}class os{constructor(o={}){if(this.contentType=C(o,"contentType",os.defaultValues("contentType")),this.contentEncryptionAlgorithm=C(o,"contentEncryptionAlgorithm",os.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in o&&(this.encryptedContent=o.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const c=new gt({idBlock:{isConstructed:!0},isConstructed:!0});let v=0,S=this.encryptedContent.valueBlock.valueHex.byteLength;for(;S>0;){const I=new Uint8Array(this.encryptedContent.valueBlock.valueHex,v,v+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-v:1024),H=new ArrayBuffer(I.length),se=new Uint8Array(H);for(let he=0;he<se.length;he++)se[he]=I[he];c.valueBlock.value.push(new gt({valueHex:H})),S-=I.length,v+=I.length}this.encryptedContent=c}"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"contentType":return"";case"contentEncryptionAlgorithm":return new Wn;case"encryptedContent":return new gt;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${o}`)}}static compareWithDefault(o,c){switch(o){case"contentType":return""===c;case"contentEncryptionAlgorithm":return""===c.algorithmId&&!("algorithmParams"in c);case"encryptedContent":return c.isEqual(os.defaultValues(o));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.contentType||""}),Wn.schema(c.contentEncryptionAlgorithm||{}),new rr({value:[new U({name:c.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ri({value:new gt})]}),new Xe({name:c.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(o){W(o,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const c=Xn(o,o,os.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=c.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new Wn({schema:c.result.contentEncryptionAlgorithm}),"encryptedContent"in c.result&&(this.encryptedContent=c.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const o={isIndefiniteForm:!1},c=[];if(c.push(new Ze({value:this.contentType})),c.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){o.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const v=this.encryptedContent;v.idBlock.tagClass=3,v.idBlock.tagNumber=0,v.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,c.push(v)}return new Bt({lenBlock:o,value:c})}toJSON(){const o={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(o.encryptedContent=this.encryptedContent.toJSON()),o}}class Cr{constructor(o={}){this.hashAlgorithm=C(o,"hashAlgorithm",Cr.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=C(o,"maskGenAlgorithm",Cr.defaultValues("maskGenAlgorithm")),this.saltLength=C(o,"saltLength",Cr.defaultValues("saltLength")),this.trailerField=C(o,"trailerField",Cr.defaultValues("trailerField")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"hashAlgorithm":return new Wn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Dt});case"maskGenAlgorithm":return new Wn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new Wn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Dt}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new U({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[Wn.schema(c.hashAlgorithm||{})]}),new U({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[Wn.schema(c.maskGenAlgorithm||{})]}),new U({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new $t({name:c.saltLength||""})]}),new U({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new $t({name:c.trailerField||""})]})]})}fromSchema(o){W(o,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const c=Xn(o,o,Cr.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in c.result&&(this.hashAlgorithm=new Wn({schema:c.result.hashAlgorithm})),"maskGenAlgorithm"in c.result&&(this.maskGenAlgorithm=new Wn({schema:c.result.maskGenAlgorithm})),"saltLength"in c.result&&(this.saltLength=c.result.saltLength.valueBlock.valueDec),"trailerField"in c.result&&(this.trailerField=c.result.trailerField.valueBlock.valueDec)}toSchema(){const o=[];return this.hashAlgorithm.isEqual(Cr.defaultValues("hashAlgorithm"))||o.push(new U({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(Cr.defaultValues("maskGenAlgorithm"))||o.push(new U({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==Cr.defaultValues("saltLength")&&o.push(new U({idBlock:{tagClass:3,tagNumber:2},value:[new $t({value:this.saltLength})]})),this.trailerField!==Cr.defaultValues("trailerField")&&o.push(new U({idBlock:{tagClass:3,tagNumber:3},value:[new $t({value:this.trailerField})]})),new Bt({value:o})}toJSON(){const o={};return this.hashAlgorithm.isEqual(Cr.defaultValues("hashAlgorithm"))||(o.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(Cr.defaultValues("maskGenAlgorithm"))||(o.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==Cr.defaultValues("saltLength")&&(o.saltLength=this.saltLength),this.trailerField!==Cr.defaultValues("trailerField")&&(o.trailerField=this.trailerField),o}}class Ji{constructor(o={}){this.salt=C(o,"salt",Ji.defaultValues("salt")),this.iterationCount=C(o,"iterationCount",Ji.defaultValues("iterationCount")),"keyLength"in o&&(this.keyLength=C(o,"keyLength",Ji.defaultValues("keyLength"))),"prf"in o&&(this.prf=C(o,"prf",Ji.defaultValues("prf"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new Wn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Dt});default:throw new Error(`Invalid member name for PBKDF2Params class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new rr({value:[new gt({name:c.saltPrimitive||""}),Wn.schema(c.saltConstructed||{})]}),new $t({name:c.iterationCount||""}),new $t({name:c.keyLength||"",optional:!0}),Wn.schema(c.prf||{names:{optional:!0}})]})}fromSchema(o){W(o,["salt","iterationCount","keyLength","prf"]);const c=Xn(o,o,Ji.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=c.result.salt,this.iterationCount=c.result.iterationCount.valueBlock.valueDec,"keyLength"in c.result&&(this.keyLength=c.result.keyLength.valueBlock.valueDec),"prf"in c.result&&(this.prf=new Wn({schema:c.result.prf}))}toSchema(){const o=[];return o.push(this.salt),o.push(new $t({value:this.iterationCount})),"keyLength"in this&&Ji.defaultValues("keyLength")!==this.keyLength&&o.push(new $t({value:this.keyLength})),"prf"in this&&!1===Ji.defaultValues("prf").isEqual(this.prf)&&o.push(this.prf.toSchema()),new Bt({value:o})}toJSON(){const o={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&Ji.defaultValues("keyLength")!==this.keyLength&&(o.keyLength=this.keyLength),"prf"in this&&!1===Ji.defaultValues("prf").isEqual(this.prf)&&(o.prf=this.prf.toJSON()),o}}class jr{constructor(o={}){this.keyDerivationFunc=C(o,"keyDerivationFunc",jr.defaultValues("keyDerivationFunc")),this.encryptionScheme=C(o,"encryptionScheme",jr.defaultValues("encryptionScheme")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"keyDerivationFunc":case"encryptionScheme":return new Wn;default:throw new Error(`Invalid member name for PBES2Params class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[Wn.schema(c.keyDerivationFunc||{}),Wn.schema(c.encryptionScheme||{})]})}fromSchema(o){W(o,["keyDerivationFunc","encryptionScheme"]);const c=Xn(o,o,jr.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new Wn({schema:c.result.keyDerivationFunc}),this.encryptionScheme=new Wn({schema:c.result.encryptionScheme})}toSchema(){return new Bt({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}function hs(He,o,c,v,S,I){let H,se;const he=[];switch(o.toUpperCase()){case"SHA-1":H=20,se=64;break;case"SHA-256":H=32,se=64;break;case"SHA-384":H=48,se=128;break;case"SHA-512":H=64,se=128;break;default:throw new Error("Unsupported hashing algorithm")}const Ne=new Uint8Array(v),F=new ArrayBuffer(2*v.byteLength+2),Ae=new Uint8Array(F);for(let Fr=0;Fr<Ne.length;Fr++)Ae[2*Fr]=0,Ae[2*Fr+1]=Ne[Fr];Ae[Ae.length-2]=0,Ae[Ae.length-1]=0,v=F.slice(0);const D=new ArrayBuffer(se),oe=new Uint8Array(D);for(let Fr=0;Fr<D.byteLength;Fr++)oe[Fr]=3;const ht=S.byteLength,Gt=se*Math.ceil(ht/se),xn=new ArrayBuffer(Gt),Yn=new Uint8Array(xn),Ii=new Uint8Array(S);for(let Fr=0;Fr<Gt;Fr++)Yn[Fr]=Ii[Fr%ht];const Ur=v.byteLength,ar=se*Math.ceil(Ur/se),mr=new ArrayBuffer(ar),Bs=new Uint8Array(mr),La=new Uint8Array(v);for(let Fr=0;Fr<ar;Fr++)Bs[Fr]=La[Fr%Ur];let va=new ArrayBuffer(xn.byteLength+mr.byteLength),cl=new Uint8Array(va);cl.set(Yn),cl.set(Bs,Yn.length);const au=Math.ceil((c>>3)/H);let Do=Promise.resolve(va);for(let Fr=0;Fr<=au;Fr++){Do=Do.then(oa=>{const Qr=new ArrayBuffer(D.byteLength+oa.byteLength),qa=new Uint8Array(Qr);return qa.set(oe),qa.set(cl,oe.length),Qr});for(let oa=0;oa<I;oa++)Do=Do.then(Qr=>He.digest({name:o},new Uint8Array(Qr)));Do=Do.then(oa=>{const Qr=new ArrayBuffer(se),qa=new Uint8Array(Qr);for(let Ba=0;Ba<Qr.byteLength;Ba++)qa[Ba]=oa[Ba%oa.length];const lu=Math.ceil(ht/se)+Math.ceil(Ur/se),ul=[];let aa=0,cu=se;for(let Ba=0;Ba<lu;Ba++){const vc=Array.from(new Uint8Array(va.slice(aa,aa+cu)));aa+=se,aa+se>va.byteLength&&(cu=va.byteLength-aa);let dl=511;for(let Yo=Qr.byteLength-1;Yo>=0;Yo--)dl>>=8,dl+=qa[Yo]+vc[Yo],vc[Yo]=255&dl;ul.push(...vc)}return va=new ArrayBuffer(ul.length),cl=new Uint8Array(va),cl.set(ul),he.push(...new Uint8Array(oa)),va})}return Do=Do.then(()=>{const Fr=new ArrayBuffer(c>>3);return new Uint8Array(Fr).set(new Uint8Array(he).slice(0,c>>3)),Fr}),Do}class Ds{constructor(o={}){this.crypto=C(o,"crypto",{}),this.subtle=C(o,"subtle",{}),this.name=C(o,"name","")}importKey(o,c,v,S,I){let H={};switch(c instanceof Uint8Array&&(c=c.buffer),o.toLowerCase()){case"raw":return this.subtle.importKey("raw",c,v,S,I);case"spki":{const se=vt(c);if(-1===se.offset)return Promise.reject("Incorrect keyData");const he=new Zr;try{he.fromSchema(se.result)}catch{return Promise.reject("Incorrect keyData")}switch(v.name.toUpperCase()){case"RSA-PSS":switch(v.hash.name.toUpperCase()){case"SHA-1":H.alg="PS1";break;case"SHA-256":H.alg="PS256";break;case"SHA-384":H.alg="PS384";break;case"SHA-512":H.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(I=["verify"],H.kty="RSA",H.ext=S,H.key_ops=I,"1.2.840.113549.1.1.1"!==he.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${he.algorithm.algorithmId}`);if(!("alg"in H))switch(v.hash.name.toUpperCase()){case"SHA-1":H.alg="RS1";break;case"SHA-256":H.alg="RS256";break;case"SHA-384":H.alg="RS384";break;case"SHA-512":H.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}const Ne=he.toJSON();for(const F of Object.keys(Ne))H[F]=Ne[F]}break;case"ECDSA":I=["verify"];case"ECDH":{if(H={kty:"EC",ext:S,key_ops:I},"1.2.840.10045.2.1"!==he.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${he.algorithm.algorithmId}`);const Ne=he.toJSON();for(const F of Object.keys(Ne))H[F]=Ne[F]}break;case"RSA-OAEP":{if(H.kty="RSA",H.ext=S,H.key_ops=I,"safari"===this.name.toLowerCase())H.alg="RSA-OAEP";else switch(v.hash.name.toUpperCase()){case"SHA-1":H.alg="RSA-OAEP";break;case"SHA-256":H.alg="RSA-OAEP-256";break;case"SHA-384":H.alg="RSA-OAEP-384";break;case"SHA-512":H.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}const Ne=he.toJSON();for(const F of Object.keys(Ne))H[F]=Ne[F]}break;case"RSAES-PKCS1-V1_5":{H.kty="RSA",H.ext=S,H.key_ops=I,H.alg="PS1";const Ne=he.toJSON();for(const F of Object.keys(Ne))H[F]=Ne[F]}break;default:return Promise.reject(`Incorrect algorithm name: ${v.name.toUpperCase()}`)}}break;case"pkcs8":{const se=new yr,he=vt(c);if(-1===he.offset)return Promise.reject("Incorrect keyData");try{se.fromSchema(he.result)}catch{return Promise.reject("Incorrect keyData")}if(!("parsedKey"in se))return Promise.reject("Incorrect keyData");switch(v.name.toUpperCase()){case"RSA-PSS":switch(v.hash.name.toUpperCase()){case"SHA-1":H.alg="PS1";break;case"SHA-256":H.alg="PS256";break;case"SHA-384":H.alg="PS384";break;case"SHA-512":H.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(I=["sign"],H.kty="RSA",H.ext=S,H.key_ops=I,"1.2.840.113549.1.1.1"!==se.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${se.privateKeyAlgorithm.algorithmId}`);if(!("alg"in H))switch(v.hash.name.toUpperCase()){case"SHA-1":H.alg="RS1";break;case"SHA-256":H.alg="RS256";break;case"SHA-384":H.alg="RS384";break;case"SHA-512":H.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}const Ne=se.toJSON();for(const F of Object.keys(Ne))H[F]=Ne[F]}break;case"ECDSA":I=["sign"];case"ECDH":{if(H={kty:"EC",ext:S,key_ops:I},"1.2.840.10045.2.1"!==se.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${se.privateKeyAlgorithm.algorithmId}`);const Ne=se.toJSON();for(const F of Object.keys(Ne))H[F]=Ne[F]}break;case"RSA-OAEP":{if(H.kty="RSA",H.ext=S,H.key_ops=I,"safari"===this.name.toLowerCase())H.alg="RSA-OAEP";else switch(v.hash.name.toUpperCase()){case"SHA-1":H.alg="RSA-OAEP";break;case"SHA-256":H.alg="RSA-OAEP-256";break;case"SHA-384":H.alg="RSA-OAEP-384";break;case"SHA-512":H.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}const Ne=se.toJSON();for(const F of Object.keys(Ne))H[F]=Ne[F]}break;case"RSAES-PKCS1-V1_5":{I=["decrypt"],H.kty="RSA",H.ext=S,H.key_ops=I,H.alg="PS1";const Ne=se.toJSON();for(const F of Object.keys(Ne))H[F]=Ne[F]}break;default:return Promise.reject(`Incorrect algorithm name: ${v.name.toUpperCase()}`)}}break;case"jwk":H=c;break;default:return Promise.reject(`Incorrect format: ${o}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",J(JSON.stringify(H)),v,S,I)).then(se=>se,()=>this.subtle.importKey("jwk",H,v,S,I)):this.subtle.importKey("jwk",H,v,S,I)}exportKey(o,c){let v=this.subtle.exportKey("jwk",c);switch("safari"===this.name.toLowerCase()&&(v=v.then(S=>S instanceof ArrayBuffer?JSON.parse(V(S)):S)),o.toLowerCase()){case"raw":return this.subtle.exportKey("raw",c);case"spki":v=v.then(S=>{const I=new Zr;try{I.fromJSON(S)}catch{return Promise.reject("Incorrect key data")}return I.toSchema().toBER(!1)});break;case"pkcs8":v=v.then(S=>{const I=new yr;try{I.fromJSON(S)}catch{return Promise.reject("Incorrect key data")}return I.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${o}`)}return v}convert(o,c,v,S,I,H){switch(o.toLowerCase()){case"raw":switch(c.toLowerCase()){case"raw":return Promise.resolve(v);case"spki":return Promise.resolve().then(()=>this.importKey("raw",v,S,I,H)).then(se=>this.exportKey("spki",se));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",v,S,I,H)).then(se=>this.exportKey("pkcs8",se));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",v,S,I,H)).then(se=>this.exportKey("jwk",se));default:return Promise.reject(`Incorrect outputFormat: ${c}`)}case"spki":switch(c.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",v,S,I,H)).then(se=>this.exportKey("raw",se));case"spki":return Promise.resolve(v);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",v,S,I,H)).then(se=>this.exportKey("jwk",se));default:return Promise.reject(`Incorrect outputFormat: ${c}`)}case"pkcs8":switch(c.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",v,S,I,H)).then(se=>this.exportKey("raw",se));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(v);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",v,S,I,H)).then(se=>this.exportKey("jwk",se));default:return Promise.reject(`Incorrect outputFormat: ${c}`)}case"jwk":switch(c.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",v,S,I,H)).then(se=>this.exportKey("raw",se));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",v,S,I,H)).then(se=>this.exportKey("spki",se));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",v,S,I,H)).then(se=>this.exportKey("pkcs8",se));case"jwk":return Promise.resolve(v);default:return Promise.reject(`Incorrect outputFormat: ${c}`)}default:return Promise.reject(`Incorrect inputFormat: ${o}`)}}encrypt(...o){return this.subtle.encrypt(...o)}decrypt(...o){return this.subtle.decrypt(...o)}sign(...o){return this.subtle.sign(...o)}verify(...o){return this.subtle.verify(...o)}digest(...o){return this.subtle.digest(...o)}generateKey(...o){return this.subtle.generateKey(...o)}deriveKey(...o){return this.subtle.deriveKey(...o)}deriveBits(...o){return this.subtle.deriveBits(...o)}wrapKey(...o){return this.subtle.wrapKey(...o)}unwrapKey(...o){return this.subtle.unwrapKey(...o)}getRandomValues(o){if(!("getRandomValues"in this.crypto))throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(o)}getAlgorithmByOID(o){switch(o){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(o){let c="";switch(o.name.toUpperCase()){case"RSAES-PKCS1-V1_5":c="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(o.hash.name.toUpperCase()){case"SHA-1":c="1.2.840.113549.1.1.5";break;case"SHA-256":c="1.2.840.113549.1.1.11";break;case"SHA-384":c="1.2.840.113549.1.1.12";break;case"SHA-512":c="1.2.840.113549.1.1.13"}break;case"RSA-PSS":c="1.2.840.113549.1.1.10";break;case"RSA-OAEP":c="1.2.840.113549.1.1.7";break;case"ECDSA":switch(o.hash.name.toUpperCase()){case"SHA-1":c="1.2.840.10045.4.1";break;case"SHA-256":c="1.2.840.10045.4.3.2";break;case"SHA-384":c="1.2.840.10045.4.3.3";break;case"SHA-512":c="1.2.840.10045.4.3.4"}break;case"ECDH":switch(o.kdf.toUpperCase()){case"SHA-1":c="1.3.133.16.840.63.0.2";break;case"SHA-256":c="1.3.132.1.11.1";break;case"SHA-384":c="1.3.132.1.11.2";break;case"SHA-512":c="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(o.length){case 128:c="2.16.840.1.101.3.4.1.2";break;case 192:c="2.16.840.1.101.3.4.1.22";break;case 256:c="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(o.length){case 128:c="2.16.840.1.101.3.4.1.6";break;case 192:c="2.16.840.1.101.3.4.1.26";break;case 256:c="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(o.length){case 128:c="2.16.840.1.101.3.4.1.4";break;case 192:c="2.16.840.1.101.3.4.1.24";break;case 256:c="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(o.length){case 128:c="2.16.840.1.101.3.4.1.5";break;case 192:c="2.16.840.1.101.3.4.1.25";break;case 256:c="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(o.hash.name.toUpperCase()){case"SHA-1":c="1.2.840.113549.2.7";break;case"SHA-256":c="1.2.840.113549.2.9";break;case"SHA-384":c="1.2.840.113549.2.10";break;case"SHA-512":c="1.2.840.113549.2.11"}break;case"DH":c="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":c="1.3.14.3.2.26";break;case"SHA-256":c="2.16.840.1.101.3.4.2.1";break;case"SHA-384":c="2.16.840.1.101.3.4.2.2";break;case"SHA-512":c="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":c="1.2.840.113549.1.5.12";break;case"P-256":c="1.2.840.10045.3.1.7";break;case"P-384":c="1.3.132.0.34";break;case"P-521":c="1.3.132.0.35"}return c}getAlgorithmParameters(o,c){let v={algorithm:{},usages:[]};switch(o.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(c.toLowerCase()){case"generatekey":v={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":v={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(c.toLowerCase()){case"sign":case"verify":v={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":v={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":v={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(c.toLowerCase()){case"encrypt":case"decrypt":v={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":v={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":v={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(c.toLowerCase()){case"generatekey":v={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":v={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":v={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(c.toLowerCase()){case"exportkey":case"importkey":case"generatekey":v={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":v={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(c.toLowerCase()){case"importkey":case"exportkey":case"generatekey":v={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":v={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(c.toLowerCase()){case"importkey":case"exportkey":case"generatekey":v={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":v={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(c.toLowerCase()){case"importkey":case"exportkey":case"generatekey":v={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":v={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(c.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":v={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(c.toLowerCase()){case"sign":case"verify":v={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":v={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==c.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};v={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==c.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};v={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return v}getHashAlgorithm(o){let c="";switch(o.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":c="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":c="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":c="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":c="SHA-512";break;case"1.2.840.113549.1.1.10":try{const v=new Cr({schema:o.algorithmParams});if("hashAlgorithm"in v){const S=this.getAlgorithmByOID(v.hashAlgorithm.algorithmId);if(!("name"in S))return"";c=S.name}else c="SHA-1"}catch{}}return c}encryptEncryptedContentInfo(o){if(!(o instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in o))return Promise.reject('Absent mandatory parameter "password"');if(!("contentEncryptionAlgorithm"in o))return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!("hmacHashAlgorithm"in o))return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!("iterationCount"in o))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("contentToEncrypt"in o))return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!("contentType"in o))return Promise.reject('Absent mandatory parameter "contentType"');const c=this.getOIDByAlgorithm(o.contentEncryptionAlgorithm);if(""===c)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const v=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===v)return Promise.reject("Can not find OID for PBKDF2");const S=this.getOIDByAlgorithm({name:"HMAC",hash:{name:o.hmacHashAlgorithm}});if(""===S)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${o.hmacHashAlgorithm}`);let I=Promise.resolve();const H=new ArrayBuffer(16),se=new Uint8Array(H);this.getRandomValues(se);const he=new ArrayBuffer(64),Ne=new Uint8Array(he);this.getRandomValues(Ne);const F=new Uint8Array(o.contentToEncrypt),Ae=new Ji({salt:new gt({valueHex:he}),iterationCount:o.iterationCount,prf:new Wn({algorithmId:S,algorithmParams:new Dt})});return I=I.then(()=>{const D=new Uint8Array(o.password);return this.importKey("raw",D,"PBKDF2",!1,["deriveKey"])},D=>Promise.reject(D)),I=I.then(D=>this.deriveKey({name:"PBKDF2",hash:{name:o.hmacHashAlgorithm},salt:Ne,iterations:o.iterationCount},D,o.contentEncryptionAlgorithm,!1,["encrypt"]),D=>Promise.reject(D)),I=I.then(D=>this.encrypt({name:o.contentEncryptionAlgorithm.name,iv:se},D,F),D=>Promise.reject(D)),I=I.then(D=>{const oe=new jr({keyDerivationFunc:new Wn({algorithmId:v,algorithmParams:Ae.toSchema()}),encryptionScheme:new Wn({algorithmId:c,algorithmParams:new gt({valueHex:H})})});return new os({contentType:o.contentType,contentEncryptionAlgorithm:new Wn({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:oe.toSchema()}),encryptedContent:new gt({valueHex:D})})},D=>Promise.reject(D)),I}decryptEncryptedContentInfo(o){if(!(o instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in o))return Promise.reject('Absent mandatory parameter "password"');if(!("encryptedContentInfo"in o))return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==o.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${o.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let v,S,c=Promise.resolve();try{v=new jr({schema:o.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{S=new Ji({schema:v.keyDerivationFunc.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const I=this.getAlgorithmByOID(v.encryptionScheme.algorithmId);if(!("name"in I))return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${v.encryptionScheme.algorithmId}`);const se=new Uint8Array(v.encryptionScheme.algorithmParams.valueBlock.valueHex),Ne=new Uint8Array(S.salt.valueBlock.valueHex),F=S.iterationCount;let Ae="SHA-1";if("prf"in S){const D=this.getAlgorithmByOID(S.prf.algorithmId);if(!("name"in D))return Promise.reject("Incorrect OID for HMAC hash algorithm");Ae=D.hash.name}return c=c.then(()=>this.importKey("raw",o.password,"PBKDF2",!1,["deriveKey"]),D=>Promise.reject(D)),c=c.then(D=>this.deriveKey({name:"PBKDF2",hash:{name:Ae},salt:Ne,iterations:F},D,I,!1,["decrypt"]),D=>Promise.reject(D)),c=c.then(D=>{let oe=new ArrayBuffer(0);if(!1===o.encryptedContentInfo.encryptedContent.idBlock.isConstructed)oe=o.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const ht of o.encryptedContentInfo.encryptedContent.valueBlock.value)oe=_(oe,ht.valueBlock.valueHex);return this.decrypt({name:I.name,iv:se},D,oe)},D=>Promise.reject(D)),c}stampDataWithPassword(o){if(!(o instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in o))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in o))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in o))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in o))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToStamp"in o))return Promise.reject('Absent mandatory parameter "contentToStamp"');let c;switch(o.hashAlgorithm.toLowerCase()){case"sha-1":c=160;break;case"sha-256":c=256;break;case"sha-384":c=384;break;case"sha-512":c=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${o.hashAlgorithm}`)}let v=Promise.resolve();const S={name:"HMAC",length:c,hash:{name:o.hashAlgorithm}};return v=v.then(()=>hs(this,o.hashAlgorithm,c,o.password,o.salt,o.iterationCount)),v=v.then(I=>this.importKey("raw",new Uint8Array(I),S,!1,["sign"])),v=v.then(I=>this.sign(S,I,new Uint8Array(o.contentToStamp)),I=>Promise.reject(I)),v}verifyDataStampedWithPassword(o){if(!(o instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in o))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in o))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in o))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in o))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToVerify"in o))return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!("signatureToVerify"in o))return Promise.reject('Absent mandatory parameter "signatureToVerify"');let c;switch(o.hashAlgorithm.toLowerCase()){case"sha-1":c=160;break;case"sha-256":c=256;break;case"sha-384":c=384;break;case"sha-512":c=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${o.hashAlgorithm}`)}let v=Promise.resolve();const S={name:"HMAC",length:c,hash:{name:o.hashAlgorithm}};return v=v.then(()=>hs(this,o.hashAlgorithm,c,o.password,o.salt,o.iterationCount)),v=v.then(I=>this.importKey("raw",new Uint8Array(I),S,!1,["verify"])),v=v.then(I=>this.verify(S,I,new Uint8Array(o.signatureToVerify),new Uint8Array(o.contentToVerify)),I=>Promise.reject(I)),v}getSignatureParameters(o,c="SHA-1"){if(""===this.getOIDByAlgorithm({name:c}))return Promise.reject(`Unsupported hash algorithm: ${c}`);const S=new Wn,I=this.getAlgorithmParameters(o.algorithm.name,"sign");switch(I.algorithm.hash.name=c,o.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":S.algorithmId=this.getOIDByAlgorithm(I.algorithm);break;case"RSA-PSS":{switch(c.toUpperCase()){case"SHA-256":I.algorithm.saltLength=32;break;case"SHA-384":I.algorithm.saltLength=48;break;case"SHA-512":I.algorithm.saltLength=64}const H={};if("SHA-1"!==c.toUpperCase()){const he=this.getOIDByAlgorithm({name:c});if(""===he)return Promise.reject(`Unsupported hash algorithm: ${c}`);H.hashAlgorithm=new Wn({algorithmId:he,algorithmParams:new Dt}),H.maskGenAlgorithm=new Wn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:H.hashAlgorithm.toSchema()})}20!==I.algorithm.saltLength&&(H.saltLength=I.algorithm.saltLength);const se=new Cr(H);S.algorithmId="1.2.840.113549.1.1.10",S.algorithmParams=se.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${o.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:S,parameters:I}))}signWithPrivateKey(o,c,v){return this.sign(v.algorithm,c,new Uint8Array(o)).then(S=>("ECDSA"===v.algorithm.name&&(S=function ks(He){if(He.byteLength%2!=0)return new ArrayBuffer(0);const o=He.byteLength/2,c=new ArrayBuffer(o);new Uint8Array(c).set(new Uint8Array(He,0,o));const S=new $t({valueHex:c}),I=new ArrayBuffer(o);new Uint8Array(I).set(new Uint8Array(He,o,o));const se=new $t({valueHex:I});return new Bt({value:[S.convertToDER(),se.convertToDER()]}).toBER(!1)}(S)),S),S=>Promise.reject(`Signing error: ${S}`))}fillPublicKeyParameters(o,c){const v={},S=this.getHashAlgorithm(c);if(""===S)return Promise.reject(`Unsupported signature algorithm: ${c.algorithmId}`);let I;I="1.2.840.113549.1.1.10"===c.algorithmId?c.algorithmId:o.algorithm.algorithmId;const H=this.getAlgorithmByOID(I);if("name"in H==="")return Promise.reject(`Unsupported public key algorithm: ${c.algorithmId}`);if(v.algorithm=this.getAlgorithmParameters(H.name,"importkey"),"hash"in v.algorithm.algorithm&&(v.algorithm.algorithm.hash.name=S),"ECDSA"===H.name){let se=!1;if("algorithmParams"in o.algorithm&&"idBlock"in o.algorithm.algorithmParams&&1===o.algorithm.algorithmParams.idBlock.tagClass&&6===o.algorithm.algorithmParams.idBlock.tagNumber&&(se=!0),!1===se)return Promise.reject("Incorrect type for ECDSA public key parameters");const he=this.getAlgorithmByOID(o.algorithm.algorithmParams.valueBlock.toString());if(!("name"in he))return Promise.reject(`Unsupported named curve algorithm: ${o.algorithm.algorithmParams.valueBlock.toString()}`);v.algorithm.algorithm.namedCurve=he.name}return v}getPublicKey(o,c,v=null){null===v&&(v=this.fillPublicKeyParameters(o,c));const I=o.toSchema().toBER(!1),H=new Uint8Array(I);return this.importKey("spki",H,v.algorithm.algorithm,!0,v.algorithm.usages)}verifyWithPublicKey(o,c,v,S,I=null){let H=Promise.resolve();if(null===I){if(""===(I=this.getHashAlgorithm(S)))return Promise.reject(`Unsupported signature algorithm: ${S.algorithmId}`);H=H.then(()=>this.getPublicKey(v,S))}else{const se={};let he;he="1.2.840.113549.1.1.10"===S.algorithmId?S.algorithmId:v.algorithm.algorithmId;const Ne=this.getAlgorithmByOID(he);if("name"in Ne==="")return Promise.reject(`Unsupported public key algorithm: ${S.algorithmId}`);if(se.algorithm=this.getAlgorithmParameters(Ne.name,"importkey"),"hash"in se.algorithm.algorithm&&(se.algorithm.algorithm.hash.name=I),"ECDSA"===Ne.name){let F=!1;if("algorithmParams"in v.algorithm&&"idBlock"in v.algorithm.algorithmParams&&1===v.algorithm.algorithmParams.idBlock.tagClass&&6===v.algorithm.algorithmParams.idBlock.tagNumber&&(F=!0),!1===F)return Promise.reject("Incorrect type for ECDSA public key parameters");const Ae=this.getAlgorithmByOID(v.algorithm.algorithmParams.valueBlock.toString());if(!("name"in Ae))return Promise.reject(`Unsupported named curve algorithm: ${v.algorithm.algorithmParams.valueBlock.toString()}`);se.algorithm.algorithm.namedCurve=Ae.name}H=H.then(()=>this.getPublicKey(v,null,se))}return H=H.then(se=>{const he=this.getAlgorithmParameters(se.algorithm.name,"verify");"hash"in he.algorithm&&(he.algorithm.hash.name=I);let Ne=c.valueBlock.valueHex;if("ECDSA"===se.algorithm.name&&(Ne=function zr(He){if(!(He instanceof Bt))return new ArrayBuffer(0);if(2!==He.valueBlock.value.length)return new ArrayBuffer(0);if(!(He.valueBlock.value[0]instanceof $t))return new ArrayBuffer(0);if(!(He.valueBlock.value[1]instanceof $t))return new ArrayBuffer(0);const o=He.valueBlock.value[0].convertFromDER(),c=He.valueBlock.value[1].convertFromDER();switch(!0){case o.valueBlock.valueHex.byteLength<c.valueBlock.valueHex.byteLength:{if(c.valueBlock.valueHex.byteLength-o.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const v=c.valueBlock.valueHex.byteLength,S=new Uint8Array(o.valueBlock.valueHex),I=new ArrayBuffer(v),H=new Uint8Array(I);return H.set(S,1),H[0]=0,_(I,c.valueBlock.valueHex)}case o.valueBlock.valueHex.byteLength>c.valueBlock.valueHex.byteLength:{if(o.valueBlock.valueHex.byteLength-c.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const v=o.valueBlock.valueHex.byteLength,S=new Uint8Array(c.valueBlock.valueHex),I=new ArrayBuffer(v),H=new Uint8Array(I);return H.set(S,1),H[0]=0,_(o.valueBlock.valueHex,I)}default:if(o.valueBlock.valueHex.byteLength%2){const v=o.valueBlock.valueHex.byteLength+1,S=new Uint8Array(o.valueBlock.valueHex),I=new ArrayBuffer(v),H=new Uint8Array(I);H.set(S,1),H[0]=0;const se=new Uint8Array(c.valueBlock.valueHex),he=new ArrayBuffer(v),Ne=new Uint8Array(he);return Ne.set(se,1),Ne[0]=0,_(I,he)}}return _(o.valueBlock.valueHex,c.valueBlock.valueHex)}(vt(Ne).result)),"RSA-PSS"===se.algorithm.name){let F;try{F=new Cr({schema:S.algorithmParams})}catch(D){return Promise.reject(D)}he.algorithm.saltLength="saltLength"in F?F.saltLength:20;let Ae="SHA-1";if("hashAlgorithm"in F){const D=this.getAlgorithmByOID(F.hashAlgorithm.algorithmId);if(!("name"in D))return Promise.reject(`Unrecognized hash algorithm: ${F.hashAlgorithm.algorithmId}`);Ae=D.name}he.algorithm.hash.name=Ae}return this.verify(he.algorithm,se,new Uint8Array(Ne),new Uint8Array(o))}),H}}let Rr={name:"none",crypto:null,subtle:null};function Vi(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let He;try{He=global[process.pid].pkijs.engine}catch{throw new Error('Please call "setEngine" before call to "getEngine"')}return He}return Rr}function ws(){const He=Vi();if(null!==He.subtle)return He.subtle}function Is(He){let o=!1,c="";const v=He.trim();for(let S=0;S<v.length;S++)32===v.charCodeAt(S)?!1===o&&(o=!0):(o&&(c+=" ",o=!1),c+=v[S]);return c.toLowerCase()}!function(){if(typeof self<"u"&&"crypto"in self){let o="webcrypto";const c=self.crypto;let v;if("webkitSubtle"in self.crypto){try{v=self.crypto.webkitSubtle}catch{v=self.crypto.subtle}o="safari"}"subtle"in self.crypto&&(v=self.crypto.subtle),Rr=typeof v>"u"?{name:o,crypto:c,subtle:null}:{name:o,crypto:c,subtle:new Ds({name:o,crypto:self.crypto,subtle:v})}}!function bs(He,o,c){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:He,crypto:o,subtle:c}}else Rr.name!==He&&(Rr={name:He,crypto:o,subtle:c})}(Rr.name,Rr.crypto,Rr.subtle)}();class Zi{constructor(o={}){this.type=C(o,"type",Zi.defaultValues("type")),this.value=C(o,"value",Zi.defaultValues("value")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.type||""}),new Sr({name:c.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(o){W(o,["type","typeValue"]);const c=Xn(o,o,Zi.schema({names:{type:"type",value:"typeValue"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=c.result.type.valueBlock.toString(),this.value=c.result.typeValue}toSchema(){return new Bt({value:[new Ze({value:this.type}),this.value]})}toJSON(){const o={type:this.type};return o.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,o}isEqual(o){const c=[Ui.blockName(),ci.blockName(),Pn.blockName(),zt.blockName(),Ln.blockName(),Be.blockName(),ft.blockName(),pn.blockName(),In.blockName(),xi.blockName(),qn.blockName(),Yi.blockName()];if(o.constructor.blockName()===Zi.blockName()){if(this.type!==o.type)return!1;let v=[!1,!1];const S=this.value.constructor.blockName();for(const I of c)S===I&&(v[0]=!0),o.value.constructor.blockName()===I&&(v[1]=!0);if(v[0]^v[1])return!1;if(v=v[0]&&v[1],v){const I=Is(this.value.valueBlock.value),H=Is(o.value.valueBlock.value);if(0!==I.localeCompare(H))return!1}else if(!1===k(this.value.valueBeforeDecode,o.value.valueBeforeDecode))return!1;return!0}return o instanceof ArrayBuffer&&k(this.value.valueBeforeDecode,o)}}class br{constructor(o={}){this.typesAndValues=C(o,"typesAndValues",br.defaultValues("typesAndValues")),this.valueBeforeDecode=C(o,"valueBeforeDecode",br.defaultValues("valueBeforeDecode")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${o}`)}}static compareWithDefault(o,c){switch(o){case"typesAndValues":return 0===c.length;case"valueBeforeDecode":return 0===c.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ri({name:c.repeatedSequence||"",value:new Jn({value:[new Ri({name:c.repeatedSet||"",value:Zi.schema(c.typeAndValue||{})})]})})]})}fromSchema(o){W(o,["RDN","typesAndValues"]);const c=Xn(o,o,br.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in c.result&&(this.typesAndValues=Array.from(c.result.typesAndValues,v=>new Zi({schema:v}))),this.valueBeforeDecode=c.result.RDN.valueBeforeDecode}toSchema(){return 0===this.valueBeforeDecode.byteLength?new Bt({value:[new Jn({value:Array.from(this.typesAndValues,c=>c.toSchema())})]}):vt(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,o=>o.toJSON())}}isEqual(o){if(o instanceof br){if(this.typesAndValues.length!==o.typesAndValues.length)return!1;for(const[c,v]of this.typesAndValues.entries())if(!1===v.isEqual(o.typesAndValues[c]))return!1;return!0}return o instanceof ArrayBuffer&&k(this.valueBeforeDecode,o)}}class Er{constructor(o={}){this.type=C(o,"type",Er.defaultValues("type")),this.value=C(o,"value",Er.defaultValues("value")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${o}`)}}static schema(o={},c=!1){const v=C(o,"names",{});return new rr({optional:c,value:[new Ei({name:v.utcTimeName||""}),new Mi({name:v.generalTimeName||""})]})}fromSchema(o){W(o,["utcTimeName","generalTimeName"]);const c=Xn(o,o,Er.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in c.result&&(this.type=0,this.value=c.result.utcTimeName.toDate()),"generalTimeName"in c.result&&(this.type=1,this.value=c.result.generalTimeName.toDate())}toSchema(){let o={};return 0===this.type&&(o=new Ei({valueDate:this.value})),1===this.type&&(o=new Mi({valueDate:this.value})),o}toJSON(){return{type:this.type,value:this.value}}}class si{constructor(o={}){this.attributes=C(o,"attributes",si.defaultValues("attributes")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("attributes"===o)return[];throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ri({name:c.attributes||"",value:Pr.schema()})]})}fromSchema(o){W(o,["attributes"]);const c=Xn(o,o,si.schema({names:{attributes:"attributes"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(c.result.attributes,v=>new Pr({schema:v}))}toSchema(){return new Bt({value:Array.from(this.attributes,o=>o.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,o=>o.toJSON())}}}class Ps{constructor(o={}){"notBefore"in o&&(this.notBefore=C(o,"notBefore",Ps.defaultValues("notBefore"))),"notAfter"in o&&(this.notAfter=C(o,"notAfter",Ps.defaultValues("notAfter"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Xe({name:c.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new Xe({name:c.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(o){W(o,["notBefore","notAfter"]);const c=Xn(o,o,Ps.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in c.result){const v=new Mi;v.fromBuffer(c.result.notBefore.valueBlock.valueHex),this.notBefore=v.toDate()}if("notAfter"in c.result){const v=new Mi({valueHex:c.result.notAfter.valueBlock.valueHex});v.fromBuffer(c.result.notAfter.valueBlock.valueHex),this.notAfter=v.toDate()}}toSchema(){const o=[];return"notBefore"in this&&o.push(new Xe({idBlock:{tagClass:3,tagNumber:0},valueHex:new Mi({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&o.push(new Xe({idBlock:{tagClass:3,tagNumber:1},valueHex:new Mi({valueDate:this.notAfter}).valueBlock.valueHex})),new Bt({value:o})}toJSON(){const o={};return"notBefore"in this&&(o.notBefore=this.notBefore),"notAfter"in this&&(o.notAfter=this.notAfter),o}}function lr(He={},o=!1){const c=C(He,"names",{});return new Bt({optional:o,value:[new U({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:c.country_name||"",value:[new rr({value:[new zt,new Ln]})]}),new U({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:c.administration_domain_name||"",value:[new rr({value:[new zt,new Ln]})]}),new Xe({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:c.network_address||"",isHexOnly:!0}),new Xe({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:c.terminal_identifier||"",isHexOnly:!0}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:c.private_domain_name||"",value:[new rr({value:[new zt,new Ln]})]}),new Xe({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:c.organization_name||"",isHexOnly:!0}),new Xe({optional:!0,name:c.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new U({optional:!0,name:c.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new Xe({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new Xe({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new Xe({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new Xe({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new U({optional:!0,name:c.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Ri({value:new Ln})]})]})}function Hr(He=!1){return new Bt({optional:He,value:[new Ln,new Ln]})}function io(He=!1){return new Jn({optional:He,value:[new Xe({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Sr]})]})}class ki{constructor(o={}){this.type=C(o,"type",ki.defaultValues("type")),this.value=C(o,"value",ki.defaultValues("value")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${o}`)}}static compareWithDefault(o,c){switch(o){case"type":return c===ki.defaultValues(o);case"value":return 0===Object.keys(c).length;default:throw new Error(`Invalid member name for GeneralName class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new rr({value:[new U({idBlock:{tagClass:3,tagNumber:0},name:c.blockName||"",value:[new Ze,new U({idBlock:{tagClass:3,tagNumber:0},value:[new Sr]})]}),new Xe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new Xe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new U({idBlock:{tagClass:3,tagNumber:3},name:c.blockName||"",value:[lr(c.builtInStandardAttributes||{},!1),Hr(!0),io(!0)]}),new U({idBlock:{tagClass:3,tagNumber:4},name:c.blockName||"",value:[br.schema(c.directoryName||{})]}),new U({idBlock:{tagClass:3,tagNumber:5},name:c.blockName||"",value:[new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new rr({value:[new Be,new Ln,new Pn,new Ui,new ci]})]}),new U({idBlock:{tagClass:3,tagNumber:1},value:[new rr({value:[new Be,new Ln,new Pn,new Ui,new ci]})]})]}),new Xe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new Xe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new Xe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(o){W(o,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const c=Xn(o,o,ki.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=c.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=c.result.blockName;break;case 1:case 2:case 6:{const v=c.result.blockName;v.idBlock.tagClass=1,v.idBlock.tagNumber=22;const S=v.toBER(!1);this.value=vt(S).result.valueBlock.value}break;case 4:this.value=new br({schema:c.result.directoryName});break;case 5:this.value=c.result.ediPartyName;break;case 7:this.value=new gt({valueHex:c.result.blockName.valueBlock.valueHex});break;case 8:{const v=c.result.blockName;v.idBlock.tagClass=1,v.idBlock.tagNumber=6;const S=v.toBER(!1);this.value=vt(S).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new U({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const o=new pn({value:this.value});return o.idBlock.tagClass=3,o.idBlock.tagNumber=this.type,o}case 4:return new U({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const o=this.value;return o.idBlock.tagClass=3,o.idBlock.tagNumber=this.type,o}case 8:{const o=new Ze({value:this.value});return o.idBlock.tagClass=3,o.idBlock.tagNumber=this.type,o}default:return ki.schema()}}toJSON(){const o={type:this.type,value:""};if("string"==typeof this.value)o.value=this.value;else try{o.value=this.value.toJSON()}catch{}return o}}class wr{constructor(o={}){this.altNames=C(o,"altNames",wr.defaultValues("altNames")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("altNames"===o)return[];throw new Error(`Invalid member name for AltName class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ri({name:c.altNames||"",value:ki.schema()})]})}fromSchema(o){W(o,["altNames"]);const c=Xn(o,o,wr.schema({names:{altNames:"altNames"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in c.result&&(this.altNames=Array.from(c.result.altNames,v=>new ki({schema:v})))}toSchema(){return new Bt({value:Array.from(this.altNames,o=>o.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,o=>o.toJSON())}}}class Lr{constructor(o={}){this.cA=C(o,"cA",!1),"pathLenConstraint"in o&&(this.pathLenConstraint=C(o,"pathLenConstraint",0)),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("cA"===o)return!1;throw new Error(`Invalid member name for BasicConstraints class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new nn({optional:!0,name:c.cA||""}),new $t({optional:!0,name:c.pathLenConstraint||""})]})}fromSchema(o){W(o,["cA","pathLenConstraint"]);const c=Xn(o,o,Lr.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in c.result&&(this.cA=c.result.cA.valueBlock.value),"pathLenConstraint"in c.result&&(this.pathLenConstraint=c.result.pathLenConstraint.valueBlock.isHexOnly?c.result.pathLenConstraint:c.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const o=[];return this.cA!==Lr.defaultValues("cA")&&o.push(new nn({value:this.cA})),"pathLenConstraint"in this&&o.push(this.pathLenConstraint instanceof $t?this.pathLenConstraint:new $t({value:this.pathLenConstraint})),new Bt({value:o})}toJSON(){const o={};return this.cA!==Lr.defaultValues("cA")&&(o.cA=this.cA),"pathLenConstraint"in this&&(o.pathLenConstraint=this.pathLenConstraint instanceof $t?this.pathLenConstraint.toJSON():this.pathLenConstraint),o}}class Dr{constructor(o={}){"distributionPoint"in o&&(this.distributionPoint=C(o,"distributionPoint",Dr.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=C(o,"onlyContainsUserCerts",Dr.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=C(o,"onlyContainsCACerts",Dr.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in o&&(this.onlySomeReasons=C(o,"onlySomeReasons",Dr.defaultValues("onlySomeReasons"))),this.indirectCRL=C(o,"indirectCRL",Dr.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=C(o,"onlyContainsAttributeCerts",Dr.defaultValues("onlyContainsAttributeCerts")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new rr({value:[new U({name:c.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ri({name:c.distributionPointNames||"",value:ki.schema()})]}),new U({name:c.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:br.schema().valueBlock.value})]})]}),new Xe({name:c.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new Xe({name:c.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new Xe({name:c.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new Xe({name:c.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new Xe({name:c.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(o){W(o,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const c=Xn(o,o,Dr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in c.result)switch(!0){case 0===c.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(c.result.distributionPointNames,v=>new ki({schema:v}));break;case 1===c.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new br({schema:new Bt({value:c.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in c.result){const v=new Uint8Array(c.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==v[0]}if("onlyContainsCACerts"in c.result){const v=new Uint8Array(c.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==v[0]}if("onlySomeReasons"in c.result){const v=new Uint8Array(c.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=v[0]}if("indirectCRL"in c.result){const v=new Uint8Array(c.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==v[0]}if("onlyContainsAttributeCerts"in c.result){const v=new Uint8Array(c.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==v[0]}}toSchema(){const o=[];if("distributionPoint"in this){let c;this.distributionPoint instanceof Array?c=new U({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,v=>v.toSchema())}):(c=this.distributionPoint.toSchema(),c.idBlock.tagClass=3,c.idBlock.tagNumber=1),o.push(new U({idBlock:{tagClass:3,tagNumber:0},value:[c]}))}if(this.onlyContainsUserCerts!==Dr.defaultValues("onlyContainsUserCerts")&&o.push(new Xe({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==Dr.defaultValues("onlyContainsCACerts")&&o.push(new Xe({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const c=new ArrayBuffer(1);new Uint8Array(c)[0]=this.onlySomeReasons,o.push(new Xe({idBlock:{tagClass:3,tagNumber:3},valueHex:c}))}return this.indirectCRL!==Dr.defaultValues("indirectCRL")&&o.push(new Xe({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==Dr.defaultValues("onlyContainsAttributeCerts")&&o.push(new Xe({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new Bt({value:o})}toJSON(){const o={};return"distributionPoint"in this&&(o.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,c=>c.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==Dr.defaultValues("onlyContainsUserCerts")&&(o.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==Dr.defaultValues("onlyContainsCACerts")&&(o.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(o.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==Dr.defaultValues("indirectCRL")&&(o.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==Dr.defaultValues("onlyContainsAttributeCerts")&&(o.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),o}}class yn{constructor(o={}){this.names=C(o,"names",yn.defaultValues("names")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("names"===o)return[];throw new Error(`Invalid member name for GeneralNames class: ${o}`)}static schema(o={},c=!1){const v=C(o,"names",{});return new Bt({optional:c,name:v.blockName||"",value:[new Ri({name:v.generalNames||"",value:ki.schema()})]})}fromSchema(o){W(o,["names","generalNames"]);const c=Xn(o,o,yn.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(c.result.generalNames,v=>new ki({schema:v}))}toSchema(){return new Bt({value:Array.from(this.names,o=>o.toSchema())})}toJSON(){return{names:Array.from(this.names,o=>o.toJSON())}}}class oi{constructor(o={}){this.base=C(o,"base",oi.defaultValues("base")),this.minimum=C(o,"minimum",oi.defaultValues("minimum")),"maximum"in o&&(this.maximum=C(o,"maximum",oi.defaultValues("maximum"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"base":return new ki;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[ki.schema(c.base||{}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new $t({name:c.minimum||""})]}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new $t({name:c.maximum||""})]})]})}fromSchema(o){W(o,["base","minimum","maximum"]);const c=Xn(o,o,oi.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new ki({schema:c.result.base}),"minimum"in c.result&&(this.minimum=c.result.minimum.valueBlock.isHexOnly?c.result.minimum:c.result.minimum.valueBlock.valueDec),"maximum"in c.result&&(this.maximum=c.result.maximum.valueBlock.isHexOnly?c.result.maximum:c.result.maximum.valueBlock.valueDec)}toSchema(){const o=[];if(o.push(this.base.toSchema()),0!==this.minimum){let c=0;c=this.minimum instanceof $t?this.minimum:new $t({value:this.minimum}),o.push(new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[c]}))}if("maximum"in this){let c=0;c=this.maximum instanceof $t?this.maximum:new $t({value:this.maximum}),o.push(new U({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[c]}))}return new Bt({value:o})}toJSON(){const o={base:this.base.toJSON()};return 0!==this.minimum&&(o.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),"maximum"in this&&(o.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),o}}class ps{constructor(o={}){"permittedSubtrees"in o&&(this.permittedSubtrees=C(o,"permittedSubtrees",ps.defaultValues("permittedSubtrees"))),"excludedSubtrees"in o&&(this.excludedSubtrees=C(o,"excludedSubtrees",ps.defaultValues("excludedSubtrees"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ri({name:c.permittedSubtrees||"",value:oi.schema()})]}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ri({name:c.excludedSubtrees||"",value:oi.schema()})]})]})}fromSchema(o){W(o,["permittedSubtrees","excludedSubtrees"]);const c=Xn(o,o,ps.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in c.result&&(this.permittedSubtrees=Array.from(c.result.permittedSubtrees,v=>new oi({schema:v}))),"excludedSubtrees"in c.result&&(this.excludedSubtrees=Array.from(c.result.excludedSubtrees,v=>new oi({schema:v})))}toSchema(){const o=[];return"permittedSubtrees"in this&&o.push(new U({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,c=>c.toSchema())})),"excludedSubtrees"in this&&o.push(new U({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,c=>c.toSchema())})),new Bt({value:o})}toJSON(){const o={};return"permittedSubtrees"in this&&(o.permittedSubtrees=Array.from(this.permittedSubtrees,c=>c.toJSON())),"excludedSubtrees"in this&&(o.excludedSubtrees=Array.from(this.excludedSubtrees,c=>c.toJSON())),o}}class hi{constructor(o={}){"distributionPoint"in o&&(this.distributionPoint=C(o,"distributionPoint",hi.defaultValues("distributionPoint"))),"reasons"in o&&(this.reasons=C(o,"reasons",hi.defaultValues("reasons"))),"cRLIssuer"in o&&(this.cRLIssuer=C(o,"cRLIssuer",hi.defaultValues("cRLIssuer"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new Xt;default:throw new Error(`Invalid member name for DistributionPoint class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new rr({value:[new U({name:c.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ri({name:c.distributionPointNames||"",value:ki.schema()})]}),new U({name:c.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:br.schema().valueBlock.value})]})]}),new Xe({name:c.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new U({name:c.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Ri({name:c.cRLIssuerNames||"",value:ki.schema()})]})]})}fromSchema(o){W(o,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const c=Xn(o,o,hi.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in c.result&&(0===c.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(c.result.distributionPointNames,v=>new ki({schema:v}))),1===c.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new br({schema:new Bt({value:c.result.distributionPoint.valueBlock.value})}))),"reasons"in c.result&&(this.reasons=new Xt({valueHex:c.result.reasons.valueBlock.valueHex})),"cRLIssuer"in c.result&&(this.cRLIssuer=Array.from(c.result.cRLIssuerNames,v=>new ki({schema:v})))}toSchema(){const o=[];if("distributionPoint"in this){let c;c=new U(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,v=>v.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),o.push(new U({idBlock:{tagClass:3,tagNumber:0},value:[c]}))}return"reasons"in this&&o.push(new Xe({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&o.push(new U({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,c=>c.toSchema())})),new Bt({value:o})}toJSON(){const o={};return"distributionPoint"in this&&(o.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,c=>c.toJSON()):this.distributionPoint.toJSON()),"reasons"in this&&(o.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(o.cRLIssuer=Array.from(this.cRLIssuer,c=>c.toJSON())),o}}class Xi{constructor(o={}){this.distributionPoints=C(o,"distributionPoints",Xi.defaultValues("distributionPoints")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("distributionPoints"===o)return[];throw new Error(`Invalid member name for CRLDistributionPoints class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ri({name:c.distributionPoints||"",value:hi.schema()})]})}fromSchema(o){W(o,["distributionPoints"]);const c=Xn(o,o,Xi.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(c.result.distributionPoints,v=>new hi({schema:v}))}toSchema(){return new Bt({value:Array.from(this.distributionPoints,o=>o.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,o=>o.toJSON())}}}class Ie{constructor(o={}){this.policyQualifierId=C(o,"policyQualifierId",Ie.defaultValues("policyQualifierId")),this.qualifier=C(o,"qualifier",Ie.defaultValues("qualifier")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"policyQualifierId":return"";case"qualifier":return new Sr;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.policyQualifierId||""}),new Sr({name:c.qualifier||""})]})}fromSchema(o){W(o,["policyQualifierId","qualifier"]);const c=Xn(o,o,Ie.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=c.result.policyQualifierId.valueBlock.toString(),this.qualifier=c.result.qualifier}toSchema(){return new Bt({value:[new Ze({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}class ve{constructor(o={}){this.policyIdentifier=C(o,"policyIdentifier",ve.defaultValues("policyIdentifier")),"policyQualifiers"in o&&(this.policyQualifiers=C(o,"policyQualifiers",ve.defaultValues("policyQualifiers"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.policyIdentifier||""}),new Bt({optional:!0,value:[new Ri({name:c.policyQualifiers||"",value:Ie.schema()})]})]})}fromSchema(o){W(o,["policyIdentifier","policyQualifiers"]);const c=Xn(o,o,ve.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=c.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in c.result&&(this.policyQualifiers=Array.from(c.result.policyQualifiers,v=>new Ie({schema:v})))}toSchema(){const o=[];return o.push(new Ze({value:this.policyIdentifier})),"policyQualifiers"in this&&o.push(new Bt({value:Array.from(this.policyQualifiers,c=>c.toSchema())})),new Bt({value:o})}toJSON(){const o={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(o.policyQualifiers=Array.from(this.policyQualifiers,c=>c.toJSON())),o}}class ie{constructor(o={}){this.certificatePolicies=C(o,"certificatePolicies",ie.defaultValues("certificatePolicies")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("certificatePolicies"===o)return[];throw new Error(`Invalid member name for CertificatePolicies class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ri({name:c.certificatePolicies||"",value:ve.schema()})]})}fromSchema(o){W(o,["certificatePolicies"]);const c=Xn(o,o,ie.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(c.result.certificatePolicies,v=>new ve({schema:v}))}toSchema(){return new Bt({value:Array.from(this.certificatePolicies,o=>o.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,o=>o.toJSON())}}}class rt{constructor(o={}){this.issuerDomainPolicy=C(o,"issuerDomainPolicy",rt.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=C(o,"subjectDomainPolicy",rt.defaultValues("subjectDomainPolicy")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.issuerDomainPolicy||""}),new Ze({name:c.subjectDomainPolicy||""})]})}fromSchema(o){W(o,["issuerDomainPolicy","subjectDomainPolicy"]);const c=Xn(o,o,rt.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=c.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=c.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new Bt({value:[new Ze({value:this.issuerDomainPolicy}),new Ze({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}class rn{constructor(o={}){this.mappings=C(o,"mappings",rn.defaultValues("mappings")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("mappings"===o)return[];throw new Error(`Invalid member name for PolicyMappings class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ri({name:c.mappings||"",value:rt.schema()})]})}fromSchema(o){W(o,["mappings"]);const c=Xn(o,o,rn.schema({names:{mappings:"mappings"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(c.result.mappings,v=>new rt({schema:v}))}toSchema(){return new Bt({value:Array.from(this.mappings,o=>o.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,o=>o.toJSON())}}}class Fn{constructor(o={}){"keyIdentifier"in o&&(this.keyIdentifier=C(o,"keyIdentifier",Fn.defaultValues("keyIdentifier"))),"authorityCertIssuer"in o&&(this.authorityCertIssuer=C(o,"authorityCertIssuer",Fn.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in o&&(this.authorityCertSerialNumber=C(o,"authorityCertSerialNumber",Fn.defaultValues("authorityCertSerialNumber"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"keyIdentifier":return new gt;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new $t;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Xe({name:c.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ri({name:c.authorityCertIssuer||"",value:ki.schema()})]}),new Xe({name:c.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(o){W(o,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const c=Xn(o,o,Fn.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in c.result&&(this.keyIdentifier=new gt({valueHex:c.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in c.result&&(this.authorityCertIssuer=Array.from(c.result.authorityCertIssuer,v=>new ki({schema:v}))),"authorityCertSerialNumber"in c.result&&(this.authorityCertSerialNumber=new $t({valueHex:c.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const o=[];return"keyIdentifier"in this&&o.push(new Xe({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&o.push(new U({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,c=>c.toSchema())})),"authorityCertSerialNumber"in this&&o.push(new Xe({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new Bt({value:o})}toJSON(){const o={};return"keyIdentifier"in this&&(o.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(o.authorityCertIssuer=Array.from(this.authorityCertIssuer,c=>c.toJSON())),"authorityCertSerialNumber"in this&&(o.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),o}}class ji{constructor(o={}){"requireExplicitPolicy"in o&&(this.requireExplicitPolicy=C(o,"requireExplicitPolicy",ji.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in o&&(this.inhibitPolicyMapping=C(o,"inhibitPolicyMapping",ji.defaultValues("inhibitPolicyMapping"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Xe({name:c.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new Xe({name:c.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(o){W(o,["requireExplicitPolicy","inhibitPolicyMapping"]);const c=Xn(o,o,ji.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in c.result){const v=c.result.requireExplicitPolicy;v.idBlock.tagClass=1,v.idBlock.tagNumber=2;const I=vt(v.toBER(!1));this.requireExplicitPolicy=I.result.valueBlock.valueDec}if("inhibitPolicyMapping"in c.result){const v=c.result.inhibitPolicyMapping;v.idBlock.tagClass=1,v.idBlock.tagNumber=2;const I=vt(v.toBER(!1));this.inhibitPolicyMapping=I.result.valueBlock.valueDec}}toSchema(){const o=[];if("requireExplicitPolicy"in this){const c=new $t({value:this.requireExplicitPolicy});c.idBlock.tagClass=3,c.idBlock.tagNumber=0,o.push(c)}if("inhibitPolicyMapping"in this){const c=new $t({value:this.inhibitPolicyMapping});c.idBlock.tagClass=3,c.idBlock.tagNumber=1,o.push(c)}return new Bt({value:o})}toJSON(){const o={};return"requireExplicitPolicy"in this&&(o.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(o.inhibitPolicyMapping=this.inhibitPolicyMapping),o}}class Ir{constructor(o={}){this.keyPurposes=C(o,"keyPurposes",Ir.defaultValues("keyPurposes")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("keyPurposes"===o)return[];throw new Error(`Invalid member name for ExtKeyUsage class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ri({name:c.keyPurposes||"",value:new Ze})]})}fromSchema(o){W(o,["keyPurposes"]);const c=Xn(o,o,Ir.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(c.result.keyPurposes,v=>v.valueBlock.toString())}toSchema(){return new Bt({value:Array.from(this.keyPurposes,o=>new Ze({value:o}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}class Or{constructor(o={}){this.accessMethod=C(o,"accessMethod",Or.defaultValues("accessMethod")),this.accessLocation=C(o,"accessLocation",Or.defaultValues("accessLocation")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"accessMethod":return"";case"accessLocation":return new ki;default:throw new Error(`Invalid member name for AccessDescription class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.accessMethod||""}),ki.schema(c.accessLocation||{})]})}fromSchema(o){W(o,["accessMethod","accessLocation"]);const c=Xn(o,o,Or.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=c.result.accessMethod.valueBlock.toString(),this.accessLocation=new ki({schema:c.result.accessLocation})}toSchema(){return new Bt({value:[new Ze({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}class er{constructor(o={}){this.accessDescriptions=C(o,"accessDescriptions",er.defaultValues("accessDescriptions")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("accessDescriptions"===o)return[];throw new Error(`Invalid member name for InfoAccess class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ri({name:c.accessDescriptions||"",value:Or.schema()})]})}fromSchema(o){W(o,["accessDescriptions"]);const c=Xn(o,o,er.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(c.result.accessDescriptions,v=>new Or({schema:v}))}toSchema(){return new Bt({value:Array.from(this.accessDescriptions,o=>o.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,o=>o.toJSON())}}}class vi{constructor(o={}){if("view"in o)this.fromUint8Array(o.view);else if("buffer"in o)this.fromArrayBuffer(o.buffer);else if("string"in o)this.fromString(o.string);else if("hexstring"in o)this.fromHexString(o.hexstring);else if("length"in o&&o.length>0){if(this.length=o.length,o.stub)for(let c=0;c<this._view.length;c++)this._view[c]=o.stub}else this.length=0}set buffer(o){this._buffer=o,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(o){this._buffer=new ArrayBuffer(o.length),this._view=new Uint8Array(this._buffer),this._view.set(o)}get view(){return this._view}get length(){return this.view.byteLength}set length(o){this._buffer=new ArrayBuffer(o),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(o){this._buffer=o,this._view=new Uint8Array(this._buffer)}fromUint8Array(o){this.fromArrayBuffer(new Uint8Array(o).buffer)}fromString(o){const c=o.length;this.length=c;for(let v=0;v<c;v++)this.view[v]=o.charCodeAt(v)}toString(o=0,c=this.view.length-o){let v="";(o>=this.view.length||o<0)&&(o=0),(c>=this.view.length||c<0)&&(c=this.view.length-o);for(let S=o;S<o+c;S++)v+=String.fromCharCode(this.view[S]);return v}fromHexString(o){const c=o.length;this.buffer=new ArrayBuffer(c>>1),this.view=new Uint8Array(this.buffer);const v=new Map;v.set("0",0),v.set("1",1),v.set("2",2),v.set("3",3),v.set("4",4),v.set("5",5),v.set("6",6),v.set("7",7),v.set("8",8),v.set("9",9),v.set("A",10),v.set("a",10),v.set("B",11),v.set("b",11),v.set("C",12),v.set("c",12),v.set("D",13),v.set("d",13),v.set("E",14),v.set("e",14),v.set("F",15),v.set("f",15);let S=0,I=0;for(let H=0;H<c;H++)H%2?(I|=v.get(o.charAt(H)),this.view[S]=I,S++):I=v.get(o.charAt(H))<<4}toHexString(o=0,c=this.view.length-o){let v="";(o>=this.view.length||o<0)&&(o=0),(c>=this.view.length||c<0)&&(c=this.view.length-o);for(let S=o;S<o+c;S++){const I=this.view[S].toString(16).toUpperCase();v=v+(1==I.length?"0":"")+I}return v}copy(o=0,c=this.length-o){if(!o&&!this.length)return new vi;if(o<0||o>this.length-1)throw new Error(`Wrong start position: ${o}`);return new vi({buffer:this._buffer.slice(o,o+c)})}slice(o=0,c=this.length){if(!o&&!this.length)return new vi;if(o<0||o>this.length-1)throw new Error(`Wrong start position: ${o}`);return new vi({buffer:this._buffer.slice(o,c)})}realloc(o){const c=new ArrayBuffer(o);new Uint8Array(c).set(o>this._view.length?this._view:new Uint8Array(this._buffer,0,o)),this._buffer=c,this._view=new Uint8Array(this._buffer)}append(o){const c=this.length,v=o.length,S=o._view.subarray();this.realloc(c+v),this._view.set(S,c)}insert(o,c=0,v=this.length-c){return!(c>this.length-1||(v>this.length-c&&(v=this.length-c),v>o.length&&(v=o.length),this._view.set(v==o.length?o._view:o._view.subarray(0,v),c),0))}isEqual(o){if(this.length!=o.length)return!1;for(let c=0;c<o.length;c++)if(this.view[c]!=o.view[c])return!1;return!0}isEqualView(o){if(o.length!=this.view.length)return!1;for(let c=0;c<o.length;c++)if(this.view[c]!=o[c])return!1;return!0}findPattern(o,c,v,S){const{start:I,length:H,backward:se}=this.prepareFindParameters(c,v,S),he=o.length;if(he>H)return-1;const Ne=[];for(let F=0;F<he;F++)Ne.push(o.view[F]);for(let F=0;F<=H-he;F++){let Ae=!0;const D=se?I-he-F:I+F;for(let oe=0;oe<he;oe++)if(this.view[oe+D]!=Ne[oe]){Ae=!1;break}if(Ae)return se?I-he-F:I+he+F}return-1}findFirstIn(o,c,v,S){const{start:I,length:H,backward:se}=this.prepareFindParameters(c,v,S),he={id:-1,position:se?0:I+H,length:0};for(let Ne=0;Ne<o.length;Ne++){const F=this.findPattern(o[Ne],I,H,se);if(-1!=F){let Ae=!1;const D=o[Ne].length;se?F-D>=he.position-he.length&&(Ae=!0):F-D<=he.position-he.length&&(Ae=!0),Ae&&(he.position=F,he.id=Ne,he.length=D)}}return he}findAllIn(o,c,v){let{start:S,length:I}=this.prepareFindParameters(c,v);const H=[];let se={id:-1,position:S};for(;;){const he=se.position;if(se=this.findFirstIn(o,se.position,I),-1==se.id)break;I-=se.position-he,H.push({id:se.id,position:se.position})}return H}findAllPatternIn(o,c,v){const{start:S,length:I}=this.prepareFindParameters(c,v),H=[],se=o.length;if(se>I)return-1;const he=Array.from(o.view);for(let Ne=0;Ne<=I-se;Ne++){let F=!0;const Ae=S+Ne;for(let D=0;D<se;D++)if(this.view[D+Ae]!=he[D]){F=!1;break}F&&(H.push(S+se+Ne),Ne+=se-1)}return H}findFirstNotIn(o,c,v,S){let{start:I,length:H,backward:se}=this.prepareFindParameters(c,v,S);const he={left:{id:-1,position:I},right:{id:-1,position:0},value:new vi};let Ne=H;for(;Ne>0;){if(he.right=this.findFirstIn(o,se?I-H+Ne:I+H-Ne,Ne,se),-1==he.right.id){H=Ne,se?I-=H:I=he.left.position,he.value=new vi({buffer:this._buffer.slice(I,I+H)});break}if(he.right.position!=(se?he.left.position-o[he.right.id].length:he.left.position+o[he.right.id].length)){se?(I=he.right.position+o[he.right.id].length,H=he.left.position-he.right.position-o[he.right.id].length):(I=he.left.position,H=he.right.position-he.left.position-o[he.right.id].length),he.value=new vi({buffer:this._buffer.slice(I,I+H)});break}he.left=he.right,Ne-=o[he.right.id].length}if(se){const F=he.right;he.right=he.left,he.left=F}return he}findAllNotIn(o,c,v){let{start:S,length:I}=this.prepareFindParameters(c,v);const H=[];let se={left:{id:-1,position:S},right:{id:-1,position:S},value:new vi};do{const he=se.right.position;se=this.findFirstNotIn(o,se.right.position,I),I-=se.right.position-he,H.push({left:{id:se.left.id,position:se.left.position},right:{id:se.right.id,position:se.right.position},value:se.value})}while(-1!=se.right.id);return H}findFirstSequence(o,c,v,S){let{start:I,length:H,backward:se}=this.prepareFindParameters(c,v,S);const he=this.skipNotPatterns(o,I,H,se);if(-1==he)return{position:-1,value:new vi};const Ne=this.skipPatterns(o,he,H-(se?I-he:he-I),se);return se?(I=Ne,H=he-Ne):(I=he,H=Ne-he),{position:Ne,value:new vi({buffer:this._buffer.slice(I,I+H)})}}findAllSequences(o,c,v){let{start:S,length:I}=this.prepareFindParameters(c,v);const H=[];let se={position:S,value:new vi};do{const he=se.position;se=this.findFirstSequence(o,se.position,I),-1!=se.position&&(I-=se.position-he,H.push({position:se.position,value:se.value}))}while(-1!=se.position);return H}findPairedPatterns(o,c,v,S){const I=[];if(o.isEqual(c))return I;const{start:H,length:se}=this.prepareFindParameters(v,S);let he=0;const Ne=this.findAllPatternIn(o,H,se);if(!Array.isArray(Ne)||0==Ne.length)return I;const F=this.findAllPatternIn(c,H,se);if(!Array.isArray(F)||0==F.length)return I;for(;he<Ne.length&&0!=F.length;)if(Ne[0]!=F[0]){if(Ne[he]>F[0])break;for(;Ne[he]<F[0]&&(he++,!(he>=Ne.length)););I.push({left:Ne[he-1],right:F[0]}),Ne.splice(he-1,1),F.splice(0,1),he=0}else I.push({left:Ne[0],right:F[0]}),Ne.splice(0,1),F.splice(0,1);return I.sort((Ae,D)=>Ae.left-D.left),I}findPairedArrays(o,c,v,S){const{start:I,length:H}=this.prepareFindParameters(v,S),se=[];let he=0;const Ne=this.findAllIn(o,I,H);if(0==Ne.length)return se;const F=this.findAllIn(c,I,H);if(0==F.length)return se;for(;he<Ne.length&&0!=F.length;)if(Ne[0].position!=F[0].position){if(Ne[he].position>F[0].position)break;for(;Ne[he].position<F[0].position&&(he++,!(he>=Ne.length)););se.push({left:Ne[he-1],right:F[0]}),Ne.splice(he-1,1),F.splice(0,1),he=0}else se.push({left:Ne[0],right:F[0]}),Ne.splice(0,1),F.splice(0,1);return se.sort((Ae,D)=>Ae.left.position-D.left.position),se}replacePattern(o,c,v,S,I=null){let se,H=[];const he={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:Ne,length:F}=this.prepareFindParameters(v,S);if(null==I){if(H=this.findAllIn([o],Ne,F),0==H.length)return he}else H=I;he.searchPatternPositions.push(...Array.from(H,ht=>ht.position));const Ae=o.length-c.length,D=new ArrayBuffer(this.view.length-H.length*Ae),oe=new Uint8Array(D);for(oe.set(new Uint8Array(this.buffer,0,Ne)),se=0;se<H.length;se++){const ht=0==se?Ne:H[se-1].position;oe.set(new Uint8Array(this.buffer,ht,H[se].position-o.length-ht),ht-se*Ae),oe.set(c.view,H[se].position-o.length-se*Ae),he.replacePatternPositions.push(H[se].position-o.length-se*Ae)}return se--,oe.set(new Uint8Array(this.buffer,H[se].position,this.length-H[se].position),H[se].position-o.length+c.length-se*Ae),this.buffer=D,this.view=new Uint8Array(this.buffer),he.status=1,he}skipPatterns(o,c,v,S){const{start:I,length:H,backward:se}=this.prepareFindParameters(c,v,S);let he=I;for(let Ne=0;Ne<o.length;Ne++){const F=o[Ne].length,Ae=se?he-F:he;let D=!0;for(let oe=0;oe<F;oe++)if(this.view[oe+Ae]!=o[Ne].view[oe]){D=!1;break}if(D)if(Ne=-1,se){if(he-=F,he<=0)return he}else if(he+=F,he>=I+H)return he}return he}skipNotPatterns(o,c,v,S){const{start:I,length:H,backward:se}=this.prepareFindParameters(c,v,S);let he=-1;for(let Ne=0;Ne<H;Ne++){for(let F=0;F<o.length;F++){const Ae=o[F].length,D=se?I-Ne-Ae:I+Ne;let oe=!0;for(let ht=0;ht<Ae;ht++)if(this.view[ht+D]!=o[F].view[ht]){oe=!1;break}if(oe){he=se?I-Ne:I+Ne;break}}if(-1!=he)break}return he}prepareFindParameters(o=null,c=null,v=!1){return null===o&&(o=v?this.length:0),o>this.length&&(o=this.length),v?(null===c&&(c=o),c>o&&(c=o)):(null===c&&(c=this.length-o),c>this.length-o&&(c=this.length-o)),{start:o,length:c,backward:v}}}let Me=(()=>{class He{constructor(c={}){this._stream=new vi,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in c?new vi({view:c.view}):"buffer"in c?new vi({buffer:c.buffer}):"string"in c?new vi({string:c.string}):"hexstring"in c?new vi({hexstring:c.hexstring}):"stream"in c?c.stream.slice():new vi,"backward"in c&&c.backward&&(this.backward=c.backward,this._start=this.stream.length),"length"in c&&c.length>0&&(this._length=c.length),"start"in c&&c.start&&c.start>0&&(this._start=c.start),"appendBlock"in c&&c.appendBlock&&c.appendBlock>0&&(this.appendBlock=c.appendBlock)}set stream(c){this._stream=c,this.prevLength=this._length,this._length=c.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(c){this.prevLength=this._length,this._length=c}get length(){return this.appendBlock?this.start:this._length}set start(c){c>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-c:c-this._start,this._start=c)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(c,v=null){(null==v||v>this.length)&&(v=this.length);const S=this.stream.findPattern(c,this.start,this.length,this.backward);if(-1==S)return S;if(this.backward){if(S<this.start-c.length-v)return-1}else if(S>this.start+c.length+v)return-1;return this.start=S,S}findFirstIn(c,v=null){(null==v||v>this.length)&&(v=this.length);const S=this.stream.findFirstIn(c,this.start,this.length,this.backward);if(-1==S.id)return S;if(this.backward){if(S.position<this.start-c[S.id].length-v)return{id:-1,position:this.backward?0:this.start+this.length}}else if(S.position>this.start+c[S.id].length+v)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=S.position,S}findAllIn(c){return this.stream.findAllIn(c,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(c,v=null){(null==v||v>this._length)&&(v=this._length);const S=this._stream.findFirstNotIn(c,this._start,this._length,this.backward);if(-1==S.left.id&&-1==S.right.id)return S;if(this.backward){if(-1!=S.right.id&&S.right.position<this._start-c[S.right.id].length-v)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new vi}}else if(-1!=S.left.id&&S.left.position>this._start+c[S.left.id].length+v)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new vi};return this.start=this.backward?-1==S.left.id?0:S.left.position:-1==S.right.id?this._start+this._length:S.right.position,S}findAllNotIn(c){return this._stream.findAllNotIn(c,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(c,v=null,S=null){(null==v||v>this._length)&&(v=this._length),(null==S||S>v)&&(S=v);const I=this._stream.findFirstSequence(c,this._start,v,this.backward);if(0==I.value.length)return I;if(this.backward){if(I.position<this._start-I.value.length-S)return{position:-1,value:new vi}}else if(I.position>this._start+I.value.length+S)return{position:-1,value:new vi};return this.start=I.position,I}findAllSequences(c){return this.stream.findAllSequences(c,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(c,v,S=null){(null==S||S>this.length)&&(S=this.length);const H=this.stream.findPairedPatterns(c,v,this.backward?this.start-this.length:this.start,this.length);if(H.length)if(this.backward){if(H[0].right<this.start-v.length-S)return[]}else if(H[0].left>this.start+c.length+S)return[];return H}findPairedArrays(c,v,S=null){(null==S||S>this.length)&&(S=this.length);const H=this.stream.findPairedArrays(c,v,this.backward?this.start-this.length:this.start,this.length);if(H.length)if(this.backward){if(H[0].right.position<this.start-v[H[0].right.id].length-S)return[]}else if(H[0].left.position>this.start+c[H[0].left.id].length+S)return[];return H}replacePattern(c,v){return this.stream.replacePattern(c,v,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(c){const v=this.stream.skipPatterns(c,this.start,this.length,this.backward);return this.start=v,v}skipNotPatterns(c){const v=this.stream.skipNotPatterns(c,this.start,this.length,this.backward);return-1==v?-1:(this.start=v,v)}append(c){this.beforeAppend(c.length),this._stream.view.set(c.view,this._start),this._length+=2*c.length,this.start=this._start+c.length,this.prevLength-=2*c.length}appendView(c){this.beforeAppend(c.length),this._stream.view.set(c,this._start),this._length+=2*c.length,this.start=this._start+c.length,this.prevLength-=2*c.length}appendChar(c){this.beforeAppend(1),this._stream.view[this._start]=c,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(c){this.beforeAppend(2);const v=new Uint16Array([c]),S=new Uint8Array(v.buffer);this.stream.view[this._start]=S[1],this._stream.view[this._start+1]=S[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(c){this.beforeAppend(3);const v=new Uint32Array([c]),S=new Uint8Array(v.buffer);this._stream.view[this._start]=S[2],this._stream.view[this._start+1]=S[1],this._stream.view[this._start+2]=S[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(c){this.beforeAppend(4);const v=new Uint32Array([c]),S=new Uint8Array(v.buffer);this._stream.view[this._start]=S[3],this._stream.view[this._start+1]=S[2],this._stream.view[this._start+2]=S[1],this._stream.view[this._start+3]=S[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(c){this.beforeAppend(2);const v=new Int16Array([c]),S=new Uint8Array(v.buffer);this._stream.view[this._start]=S[1],this._stream.view[this._start+1]=S[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(c){this.beforeAppend(4);const v=new Int32Array([c]),S=new Uint8Array(v.buffer);this._stream.view[this._start]=S[3],this._stream.view[this._start+1]=S[2],this._stream.view[this._start+2]=S[1],this._stream.view[this._start+3]=S[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(c,v=!0){if(this._length<=0)return new Uint8Array(0);let S;if(this._length<c&&(c=this._length),this.backward){const I=this._stream.view.subarray(this._length-c,this._length);S=new Uint8Array(c);for(let H=0;H<c;H++)S[c-1-H]=I[H]}else S=this._stream.view.subarray(this._start,this._start+c);return v&&(this.start+=this.backward?-1*c:c),S}getUint16(c=!0){const v=this.getBlock(2,c);if(v.length<2)return 0;const S=new Uint16Array(1),I=new Uint8Array(S.buffer);return I[0]=v[1],I[1]=v[0],S[0]}getInt16(c=!0){const v=this.getBlock(2,c);if(v.length<2)return 0;const S=new Int16Array(1),I=new Uint8Array(S.buffer);return I[0]=v[1],I[1]=v[0],S[0]}getUint24(c=!0){const v=this.getBlock(3,c);if(v.length<3)return 0;const S=new Uint32Array(1),I=new Uint8Array(S.buffer);for(let H=3;H>=1;H--)I[3-H]=v[H-1];return S[0]}getUint32(c=!0){const v=this.getBlock(4,c);if(v.length<4)return 0;const S=new Uint32Array(1),I=new Uint8Array(S.buffer);for(let H=3;H>=0;H--)I[3-H]=v[H];return S[0]}getInt32(c=!0){const v=this.getBlock(4,c);if(v.length<4)return 0;const S=new Int32Array(1),I=new Uint8Array(S.buffer);for(let H=3;H>=0;H--)I[3-H]=v[H];return S[0]}beforeAppend(c){this._start+c>this._stream.length&&(c>this.appendBlock&&(this.appendBlock=c+He.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return He.APPEND_BLOCK=1e3,He})();class je{constructor(o={}){this.version=C(o,"version",je.defaultValues("version")),this.logID=C(o,"logID",je.defaultValues("logID")),this.timestamp=C(o,"timestamp",je.defaultValues("timestamp")),this.extensions=C(o,"extensions",je.defaultValues("extensions")),this.hashAlgorithm=C(o,"hashAlgorithm",je.defaultValues("hashAlgorithm")),this.signatureAlgorithm=C(o,"signatureAlgorithm",je.defaultValues("signatureAlgorithm")),this.signature=C(o,"signature",je.defaultValues("signature")),"schema"in o&&this.fromSchema(o.schema),"stream"in o&&this.fromStream(o.stream)}static defaultValues(o){switch(o){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new Sr;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${o}`)}}fromSchema(o){if(!(o instanceof ds))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const c=new Me({stream:new vi({buffer:o.data})});this.fromStream(c)}fromStream(o){const c=o.getUint16();if(this.version=o.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(o.getBlock(32)).buffer.slice(0),this.timestamp=new Date(f(new Uint8Array(o.getBlock(8)),8));const v=o.getUint16();switch(this.extensions=new Uint8Array(o.getBlock(v)).buffer.slice(0),o.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(o.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const S=o.getUint16(),H=vt(new Uint8Array(o.getBlock(S)).buffer.slice(0));if(-1===H.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=H.result,c!==47+v+S)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const o=this.toStream();return new ds({data:o.stream.buffer})}toStream(){const o=new Me;o.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),o.appendChar(this.version),o.appendView(new Uint8Array(this.logID));const c=new ArrayBuffer(8),v=new Uint8Array(c),S=w(this.timestamp.valueOf(),8);let I,H;switch(v.set(new Uint8Array(S),8-S.byteLength),o.appendView(v),o.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&o.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":I=0;break;case"md5":I=1;break;case"sha1":I=2;break;case"sha224":I=3;break;case"sha256":I=4;break;case"sha384":I=5;break;case"sha512":I=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(o.appendChar(I),this.signatureAlgorithm.toLowerCase()){case"anonymous":H=0;break;case"rsa":H=1;break;case"dsa":H=2;break;case"ecdsa":H=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}o.appendChar(H);const se=this.signature.toBER(!1);return o.appendUint16(se.byteLength),o.appendView(new Uint8Array(se)),o}toJSON(){return{version:this.version,logID:b(this.logID),timestamp:this.timestamp,extensions:b(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(o,c,v=0){var S=this;return(0,t.Z)(function*(){let se,I=N(V(S.logID)),H=null,he=new Me;for(const oe of o)if(oe.log_id===I){H=oe.key;break}if(null===H)throw new Error(`Public key not found for CT with logId: ${I}`);const Ne=vt(J(B(H)));if(-1===Ne.offset)throw new Error(`Incorrect key value for CT Log with logId: ${I}`);se=new Zr({schema:Ne.result}),he.appendChar(0),he.appendChar(0);const F=new ArrayBuffer(8),Ae=new Uint8Array(F),D=w(S.timestamp.valueOf(),8);return Ae.set(new Uint8Array(D),8-D.byteLength),he.appendView(Ae),he.appendUint16(v),0===v&&he.appendUint24(c.byteLength),he.appendView(new Uint8Array(c)),he.appendUint16(S.extensions.byteLength),0!==S.extensions.byteLength&&he.appendView(new Uint8Array(S.extensions)),Vi().subtle.verifyWithPublicKey(he._stream._buffer.slice(0,he._length),{valueBlock:{valueHex:S.signature.toBER(!1)}},se,{algorithmId:""},"SHA-256")})()}}class Et{constructor(o={}){this.timestamps=C(o,"timestamps",Et.defaultValues("timestamps")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("timestamps"===o)return[];throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${o}`)}static compareWithDefault(o,c){if("timestamps"===o)return 0===c.length;throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return"optional"in c||(c.optional=!1),new gt({name:c.blockName||"SignedCertificateTimestampList",optional:c.optional})}fromSchema(o){if(!(o instanceof gt))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const c=new Me({stream:new vi({buffer:o.valueBlock.valueHex})});if(c.getUint16()!==c.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;c.length;)this.timestamps.push(new je({stream:c}))}toSchema(){const o=new Me;let c=0;const v=[];for(const S of this.timestamps){const I=S.toStream();v.push(I),c+=I.stream.buffer.byteLength}o.appendUint16(c);for(const S of v)o.appendView(S.stream.view);return new gt({valueHex:o.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,o=>o.toJSON())}}}class Ht{constructor(o={}){this.templateID=C(o,"templateID",Ht.defaultValues("templateID")),"templateMajorVersion"in o&&(this.templateMajorVersion=C(o,"templateMajorVersion",Ht.defaultValues("templateMajorVersion"))),"templateMinorVersion"in o&&(this.templateMinorVersion=C(o,"templateMinorVersion",Ht.defaultValues("templateMinorVersion"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.templateID||""}),new $t({name:c.templateMajorVersion||"",optional:!0}),new $t({name:c.templateMinorVersion||"",optional:!0})]})}fromSchema(o){W(o,["templateID","templateMajorVersion","templateMinorVersion"]);let c=Xn(o,o,Ht.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=c.result.templateID.valueBlock.toString(),"templateMajorVersion"in c.result&&(this.templateMajorVersion=c.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in c.result&&(this.templateMinorVersion=c.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const o=[];return o.push(new Ze({value:this.templateID})),"templateMajorVersion"in this&&o.push(new $t({value:this.templateMajorVersion})),"templateMinorVersion"in this&&o.push(new $t({value:this.templateMinorVersion})),new Bt({value:o})}toJSON(){const o={extnID:this.templateID};return"templateMajorVersion"in this&&(o.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(o.templateMinorVersion=this.templateMinorVersion),o}}class gn{constructor(o={}){this.certificateIndex=C(o,"certificateIndex",gn.defaultValues("certificateIndex")),this.keyIndex=C(o,"keyIndex",gn.defaultValues("keyIndex")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${o}`)}}static schema(o={}){return new $t}fromSchema(o){if(o.constructor.blockName()!==$t.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let c=o.valueBlock.valueHex.slice(0);const v=new Uint8Array(c);switch(!0){case c.byteLength<4:{const Ae=new ArrayBuffer(4);new Uint8Array(Ae).set(v,4-c.byteLength),c=Ae.slice(0)}break;case c.byteLength>4:{const Ae=new ArrayBuffer(4);new Uint8Array(Ae).set(v.slice(0,4)),c=Ae.slice(0)}}const S=c.slice(0,2),I=new Uint8Array(S);let H=I[0];I[0]=I[1],I[1]=H;const se=new Uint16Array(S);this.keyIndex=se[0];const he=c.slice(2),Ne=new Uint8Array(he);H=Ne[0],Ne[0]=Ne[1],Ne[1]=H;const F=new Uint16Array(he);this.certificateIndex=F[0]}toSchema(){const o=new ArrayBuffer(2);new Uint16Array(o)[0]=this.certificateIndex;const v=new Uint8Array(o);let S=v[0];v[0]=v[1],v[1]=S;const I=new ArrayBuffer(2);new Uint16Array(I)[0]=this.keyIndex;const se=new Uint8Array(I);return S=se[0],se[0]=se[1],se[1]=S,new $t({valueHex:_(I,o)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}class Tn{constructor(o={}){this.id=C(o,"id",Tn.defaultValues("id")),"type"in o&&(this.type=C(o,"type",Tn.defaultValues("type"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"id":return"";case"type":return new Dt;default:throw new Error(`Invalid member name for QCStatement class: ${o}`)}}static compareWithDefault(o,c){switch(o){case"id":return""===c;case"type":return c instanceof Dt;default:throw new Error(`Invalid member name for QCStatement class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.id||""}),new Sr({name:c.type||"",optional:!0})]})}fromSchema(o){W(o,["id","type"]);const c=Xn(o,o,Tn.schema({names:{id:"id",type:"type"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=c.result.id.valueBlock.toString(),"type"in c.result&&(this.type=c.result.type)}toSchema(){const o=[new Ze({value:this.id})];return"type"in this&&o.push(this.type),new Bt({value:o})}toJSON(){const o={id:this.id};return"type"in this&&(o.type=this.type.toJSON()),o}}class ai{constructor(o={}){this.values=C(o,"values",ai.defaultValues("values")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("values"===o)return[];throw new Error(`Invalid member name for QCStatements class: ${o}`)}static compareWithDefault(o,c){if("values"===o)return 0===c.length;throw new Error(`Invalid member name for QCStatements class: ${o}`)}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ri({name:c.values||"",value:Tn.schema(c.value||{})})]})}fromSchema(o){W(o,["values"]);const c=Xn(o,o,ai.schema({names:{values:"values"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(c.result.values,v=>new Tn({schema:v}))}toSchema(){return new Bt({value:Array.from(this.values,o=>o.toSchema())})}toJSON(){return{extensions:Array.from(this.values,o=>o.toJSON())}}}class jn{constructor(o={}){this.extnID=C(o,"extnID",jn.defaultValues("extnID")),this.critical=C(o,"critical",jn.defaultValues("critical")),this.extnValue="extnValue"in o?new gt({valueHex:o.extnValue}):jn.defaultValues("extnValue"),"parsedValue"in o&&(this.parsedValue=C(o,"parsedValue",jn.defaultValues("parsedValue"))),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"extnID":return"";case"critical":return!1;case"extnValue":return new gt;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[new Ze({name:c.extnID||""}),new nn({name:c.critical||"",optional:!0}),new gt({name:c.extnValue||""})]})}fromSchema(o){W(o,["extnID","critical","extnValue"]);let c=Xn(o,o,jn.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=c.result.extnID.valueBlock.toString(),"critical"in c.result&&(this.critical=c.result.critical.valueBlock.value),this.extnValue=c.result.extnValue,c=vt(this.extnValue.valueBlock.valueHex),-1!==c.offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new si({schema:c.result})}catch{this.parsedValue=new si,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=c.result;break;case"2.5.29.16":try{this.parsedValue=new Ps({schema:c.result})}catch{this.parsedValue=new Ps,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new wr({schema:c.result})}catch{this.parsedValue=new wr,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new Lr({schema:c.result})}catch{this.parsedValue=new Lr,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new Dr({schema:c.result})}catch{this.parsedValue=new Dr,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new yn({schema:c.result})}catch{this.parsedValue=new yn,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new ps({schema:c.result})}catch{this.parsedValue=new ps,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new Xi({schema:c.result})}catch{this.parsedValue=new Xi,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new ie({schema:c.result})}catch{this.parsedValue=new ie,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new rn({schema:c.result})}catch{this.parsedValue=new rn,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new Fn({schema:c.result})}catch{this.parsedValue=new Fn,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new ji({schema:c.result})}catch{this.parsedValue=new ji,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new Ir({schema:c.result})}catch{this.parsedValue=new Ir,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new er({schema:c.result})}catch{this.parsedValue=new er,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new Et({schema:c.result})}catch{this.parsedValue=new Et,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new Ht({schema:c.result})}catch{this.parsedValue=new Ht,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new gn({schema:c.result})}catch{this.parsedValue=new gn,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new ai({schema:c.result})}catch{this.parsedValue=new ai,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const o=[];return o.push(new Ze({value:this.extnID})),this.critical!==jn.defaultValues("critical")&&o.push(new nn({value:this.critical})),o.push(this.extnValue),new Bt({value:o})}toJSON(){const o={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==jn.defaultValues("critical")&&(o.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(o.parsedValue=this.parsedValue.toJSON()),o}}class ur{constructor(o={}){this.extensions=C(o,"extensions",ur.defaultValues("extensions")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){if("extensions"===o)return[];throw new Error(`Invalid member name for Extensions class: ${o}`)}static schema(o={},c=!1){const v=C(o,"names",{});return new Bt({optional:c,name:v.blockName||"",value:[new Ri({name:v.extensions||"",value:jn.schema(v.extension||{})})]})}fromSchema(o){W(o,["extensions"]);const c=Xn(o,o,ur.schema({names:{extensions:"extensions"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(c.result.extensions,v=>new jn({schema:v}))}toSchema(){return new Bt({value:Array.from(this.extensions,o=>o.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,o=>o.toJSON())}}}function Kr(He={}){const o=C(He,"names",{});return new Bt({name:o.blockName||"tbsCertificate",value:[new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new $t({name:o.tbsCertificateVersion||"tbsCertificate.version"})]}),new $t({name:o.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),Wn.schema(o.signature||{names:{blockName:"tbsCertificate.signature"}}),br.schema(o.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new Bt({name:o.tbsCertificateValidity||"tbsCertificate.validity",value:[Er.schema(o.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),Er.schema(o.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),br.schema(o.subject||{names:{blockName:"tbsCertificate.subject"}}),Zr.schema(o.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new Xe({name:o.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new Xe({name:o.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new U({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[ur.schema(o.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class dr{constructor(o={}){this.tbs=C(o,"tbs",dr.defaultValues("tbs")),this.version=C(o,"version",dr.defaultValues("version")),this.serialNumber=C(o,"serialNumber",dr.defaultValues("serialNumber")),this.signature=C(o,"signature",dr.defaultValues("signature")),this.issuer=C(o,"issuer",dr.defaultValues("issuer")),this.notBefore=C(o,"notBefore",dr.defaultValues("notBefore")),this.notAfter=C(o,"notAfter",dr.defaultValues("notAfter")),this.subject=C(o,"subject",dr.defaultValues("subject")),this.subjectPublicKeyInfo=C(o,"subjectPublicKeyInfo",dr.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in o&&(this.issuerUniqueID=C(o,"issuerUniqueID",dr.defaultValues("issuerUniqueID"))),"subjectUniqueID"in o&&(this.subjectUniqueID=C(o,"subjectUniqueID",dr.defaultValues("subjectUniqueID"))),"extensions"in o&&(this.extensions=C(o,"extensions",dr.defaultValues("extensions"))),this.signatureAlgorithm=C(o,"signatureAlgorithm",dr.defaultValues("signatureAlgorithm")),this.signatureValue=C(o,"signatureValue",dr.defaultValues("signatureValue")),"schema"in o&&this.fromSchema(o.schema)}static defaultValues(o){switch(o){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new $t;case"signature":case"signatureAlgorithm":return new Wn;case"issuer":case"subject":return new br;case"notBefore":case"notAfter":return new Er;case"subjectPublicKeyInfo":return new Zr;case"extensions":return[];case"signatureValue":return new Xt;default:throw new Error(`Invalid member name for Certificate class: ${o}`)}}static schema(o={}){const c=C(o,"names",{});return new Bt({name:c.blockName||"",value:[Kr(c.tbsCertificate),Wn.schema(c.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new Xt({name:c.signatureValue||"signatureValue"})]})}fromSchema(o){W(o,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const c=Xn(o,o,dr.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=c.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in c.result&&(this.version=c.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=c.result["tbsCertificate.serialNumber"],this.signature=new Wn({schema:c.result["tbsCertificate.signature"]}),this.issuer=new br({schema:c.result["tbsCertificate.issuer"]}),this.notBefore=new Er({schema:c.result["tbsCertificate.notBefore"]}),this.notAfter=new Er({schema:c.result["tbsCertificate.notAfter"]}),this.subject=new br({schema:c.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new Zr({schema:c.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in c.result&&(this.issuerUniqueID=c.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in c.result&&(this.subjectUniqueID=c.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in c.result&&(this.extensions=Array.from(c.result["tbsCertificate.extensions"],v=>new jn({schema:v}))),this.signatureAlgorithm=new Wn({schema:c.result.signatureAlgorithm}),this.signatureValue=c.result.signatureValue}encodeTBS(){const o=[];return"version"in this&&this.version!==dr.defaultValues("version")&&o.push(new U({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new $t({value:this.version})]})),o.push(this.serialNumber),o.push(this.signature.toSchema()),o.push(this.issuer.toSchema()),o.push(new Bt({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),o.push(this.subject.toSchema()),o.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&o.push(new Xe({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&o.push(new Xe({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&o.push(new U({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new Bt({value:Array.from(this.extensions,c=>c.toSchema())})]})),new Bt({value:o})}toSchema(o=!1){let c={};if(!1===o){if(0===this.tbs.length)return dr.schema().value[0];c=vt(this.tbs).result}else c=this.encodeTBS();return new Bt({value:[c,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const o={tbs:b(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==dr.defaultValues("version")&&(o.version=this.version),"issuerUniqueID"in this&&(o.issuerUniqueID=b(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(o.subjectUniqueID=b(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(o.extensions=Array.from(this.extensions,c=>c.toJSON())),o}getPublicKey(o=null){return Vi().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,o)}getKeyHash(o="SHA-1"){const c=ws();return typeof c>"u"?Promise.reject("Unable to create WebCrypto object"):c.digest({name:o},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(o,c="SHA-1"){if(typeof o>"u")return Promise.reject("Need to provide a private key for signing");let S,v=Promise.resolve();const I=Vi();return v=v.then(()=>I.subtle.getSignatureParameters(o,c)),v=v.then(H=>{S=H.parameters,this.signature=H.signatureAlgorithm,this.signatureAlgorithm=H.signatureAlgorithm}),v=v.then(()=>{this.tbs=this.encodeTBS().toBER(!1)}),v=v.then(()=>I.subtle.signWithPrivateKey(this.tbs,o,S)),v=v.then(H=>{this.signatureValue=new Xt({valueHex:H})}),v}verify(o=null){let c={};return null!==o?c=o.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(c=this.subjectPublicKeyInfo),c instanceof Zr?Vi().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,c,this.signatureAlgorithm):Promise.reject("Please provide issuer certificate as a parameter")}}function zi(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ri(He){if(He.idBlock.isConstructed)for(let o=0;o<He.valueBlock.value.length;o++)ri(He.valueBlock.value[o])&&(He.lenBlock.isIndefiniteForm=!0);return!!He.lenBlock.isIndefiniteForm}function fo(He){let o=0,c=0;for(let I=0;I<He.length;I++)o+=He[I].byteLength;const v=new ArrayBuffer(o),S=new Uint8Array(v);for(let I=0;I<He.length;I++){const H=He[I];S.set(new Uint8Array(H),c),c+=H.byteLength}return v}const Ks=[new Uint8Array([1])],fe="0123456789",an="valueHex",qt="isHexOnly",vn="isConstructed",Pi="isIndefiniteForm",Gi="optional",Br="primitiveSchema",kr="value",Tr="valueDate",Gs="valueDec",fs=new ArrayBuffer(0);class mo{constructor(){this.items=[]}write(o){this.items.push(o)}final(){return fo(this.items)}}class ls{constructor(o={}){this.blockLength=C(o,"blockLength",0),this.error=C(o,"error",""),this.warnings=C(o,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in o?o.valueBeforeDecode.slice(0):fs}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:b(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const As=He=>class extends He{constructor(c={}){super(c),this.isHexOnly=C(c,qt,!1),this.valueHex=an in c?c.valueHex.slice(0):fs}static blockName(){return"hexBlock"}fromBER(c,v,S){return!1===g(this,c,v,S)?-1:0===new Uint8Array(c,v,S).length?(this.warnings.push("Zero buffer length"),v):(this.valueHex=c.slice(v,v+S),this.blockLength=S,v+S)}toBER(c=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',fs):!0===c?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.blockName=this.constructor.blockName(),c.isHexOnly=this.isHexOnly,c.valueHex=b(this.valueHex,0,this.valueHex.byteLength),c}};class go extends(As(ls)){constructor(o={}){super(),"idBlock"in o?(this.isHexOnly=C(o.idBlock,qt,!1),this.valueHex=C(o.idBlock,an,fs),this.tagClass=C(o.idBlock,"tagClass",-1),this.tagNumber=C(o.idBlock,"tagNumber",-1),this.isConstructed=C(o.idBlock,vn,!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(o=!1){let v,S,c=0;switch(this.tagClass){case 1:c|=0;break;case 2:c|=64;break;case 3:c|=128;break;case 4:c|=192;break;default:return this.error="Unknown tag class",fs}if(this.isConstructed&&(c|=32),this.tagNumber<31&&!this.isHexOnly){if(v=new ArrayBuffer(1),S=new Uint8Array(v),!o){let I=this.tagNumber;I&=31,c|=I,S[0]=c}return v}if(!1===this.isHexOnly){const I=w(this.tagNumber,7),H=new Uint8Array(I),se=I.byteLength;if(v=new ArrayBuffer(se+1),S=new Uint8Array(v),S[0]=31|c,!o){for(let he=0;he<se-1;he++)S[he+1]=128|H[he];S[se]=H[se-1]}return v}if(v=new ArrayBuffer(this.valueHex.byteLength+1),S=new Uint8Array(v),S[0]=31|c,!1===o){const I=new Uint8Array(this.valueHex);for(let H=0;H<I.length-1;H++)S[H+1]=128|I[H];S[this.valueHex.byteLength]=I[I.length-1]}return v}fromBER(o,c,v){if(!1===g(this,o,c,v))return-1;const S=new Uint8Array(o,c,v);if(0===S.length)return this.error="Zero buffer length",-1;switch(192&S[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&S[0]),this.isHexOnly=!1;const H=31&S[0];if(31!==H)this.tagNumber=H,this.blockLength=1;else{let se=1;this.valueHex=new ArrayBuffer(255);let he=255,Ne=new Uint8Array(this.valueHex);for(;128&S[se];){if(Ne[se-1]=127&S[se],se++,se>=S.length)return this.error="End of input reached before message was fully decoded",-1;if(se===he){he+=255;const D=new ArrayBuffer(he),oe=new Uint8Array(D);for(let ht=0;ht<Ne.length;ht++)oe[ht]=Ne[ht];this.valueHex=new ArrayBuffer(he),Ne=new Uint8Array(this.valueHex)}}this.blockLength=se+1,Ne[se-1]=127&S[se];const F=new ArrayBuffer(se),Ae=new Uint8Array(F);for(let D=0;D<se;D++)Ae[D]=Ne[D];this.valueHex=new ArrayBuffer(se),Ne=new Uint8Array(this.valueHex),Ne.set(Ae),this.blockLength<=9?this.tagNumber=f(Ne,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return c+this.blockLength}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.blockName=this.constructor.blockName(),o.tagClass=this.tagClass,o.tagNumber=this.tagNumber,o.isConstructed=this.isConstructed,o}}class Wo extends ls{constructor(o={}){super(),"lenBlock"in o?(this.isIndefiniteForm=C(o.lenBlock,Pi,!1),this.longFormUsed=C(o.lenBlock,"longFormUsed",!1),this.length=C(o.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(o,c,v){if(!1===g(this,o,c,v))return-1;const S=new Uint8Array(o,c,v);if(0===S.length)return this.error="Zero buffer length",-1;if(255===S[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===S[0],!0===this.isIndefiniteForm)return this.blockLength=1,c+this.blockLength;if(this.longFormUsed=!!(128&S[0]),!1===this.longFormUsed)return this.length=S[0],this.blockLength=1,c+this.blockLength;const I=127&S[0];if(I>8)return this.error="Too big integer",-1;if(I+1>S.length)return this.error="End of input reached before message was fully decoded",-1;const H=new Uint8Array(I);for(let se=0;se<I;se++)H[se]=S[se+1];return 0===H[I-1]&&this.warnings.push("Needlessly long encoded length"),this.length=f(H,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=I+1,c+this.blockLength}toBER(o=!1){let c,v;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return c=new ArrayBuffer(1),!1===o&&(v=new Uint8Array(c),v[0]=128),c;if(!0===this.longFormUsed){const S=w(this.length,8);if(S.byteLength>127)return this.error="Too big length",fs;if(c=new ArrayBuffer(S.byteLength+1),!0===o)return c;const I=new Uint8Array(S);v=new Uint8Array(c),v[0]=128|S.byteLength;for(let H=0;H<S.byteLength;H++)v[H+1]=I[H];return c}return c=new ArrayBuffer(1),!1===o&&(v=new Uint8Array(c),v[0]=this.length),c}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.blockName=this.constructor.blockName(),o.isIndefiniteForm=this.isIndefiniteForm,o.longFormUsed=this.longFormUsed,o.length=this.length,o}}class Ss extends ls{constructor(o={}){super(o)}static blockName(){return"valueBlock"}fromBER(o,c,v){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(o=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class Mr extends ls{constructor(o={},c=Ss){super(o),"name"in o&&(this.name=o.name),Gi in o&&(this.optional=o.optional),Br in o&&(this.primitiveSchema=o.primitiveSchema),this.idBlock=new go(o),this.lenBlock=new Wo(o),this.valueBlock=new c(o)}static blockName(){return"BaseBlock"}fromBER(o,c,v){const S=this.valueBlock.fromBER(o,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}toBER(o=!1,c){const v=c||new mo;c||ri(this);const S=this.idBlock.toBER(o);if(v.write(S),this.lenBlock.isIndefiniteForm)v.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(o,v),v.write(new ArrayBuffer(2));else{const I=this.valueBlock.toBER(!0);this.lenBlock.length=I.byteLength;const H=this.lenBlock.toBER(o);v.write(H);const se=o?new ArrayBuffer(this.lenBlock.length):this.valueBlock.toBER(o);v.write(se,v)}if(!c)return v.final()}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.idBlock=this.idBlock.toJSON(),o.lenBlock=this.lenBlock.toJSON(),o.valueBlock=this.valueBlock.toJSON(),"name"in this&&(o.name=this.name),Gi in this&&(o.optional=this.optional),Br in this&&(o.primitiveSchema=this.primitiveSchema.toJSON()),o}toString(){return`${this.constructor.blockName()} : ${b(this.valueBlock.valueHex)}`}}class qo extends Ss{constructor(o={}){super(o),this.valueHex=an in o?o.valueHex.slice(0):fs,this.isHexOnly=C(o,qt,!0)}fromBER(o,c,v){if(!1===g(this,o,c,v))return-1;const S=new Uint8Array(o,c,v);if(0===S.length)return this.warnings.push("Zero buffer length"),c;this.valueHex=new ArrayBuffer(S.length);const I=new Uint8Array(this.valueHex);for(let H=0;H<S.length;H++)I[H]=S[H];return this.blockLength=v,c+v}toBER(o=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.valueHex=b(this.valueHex,0,this.valueHex.byteLength),o.isHexOnly=this.isHexOnly,o}}class Qs extends Mr{constructor(o={}){super(o,qo),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class qs extends Ss{constructor(o={}){super(o),this.value=C(o,kr,[]),this.isIndefiniteForm=C(o,Pi,!1)}fromBER(o,c,v){const S=c,I=v;if(!1===g(this,o,c,v))return-1;if(0===new Uint8Array(o,c,v).length)return this.warnings.push("Zero buffer length"),c;let he=c;for(;(!0===this.isIndefiniteForm?1:v)>0;){const Ne=ms(o,he,v);if(-1===Ne.offset)return this.error=Ne.result.error,this.warnings.concat(Ne.result.warnings),-1;if(he=Ne.offset,this.blockLength+=Ne.result.blockLength,v-=Ne.result.blockLength,this.value.push(Ne.result),!0===this.isIndefiniteForm&&Ne.result.constructor.blockName()===co.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===co.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=o.slice(S,S+I),he}toBER(o=!1,c){const v=c||new mo;for(let S=0;S<this.value.length;S++)this.value[S].toBER(o,v);if(!c)return v.final()}static blockName(){return"ConstructedValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}o.isIndefiniteForm=this.isIndefiniteForm,o.value=[];for(let c=0;c<this.value.length;c++)o.value.push(this.value[c].toJSON());return o}}class zs extends Mr{constructor(o={}){super(o,qs),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(o,c,v){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const S=this.valueBlock.fromBER(o,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}toString(){const o=[];for(const v of this.valueBlock.value)o.push(v.toString().split("\n").map(S=>`  ${S}`).join("\n"));const c=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return o.length?`${c} :\n${o.join("\n")}`:`${c} :`}}class ia extends Ss{constructor(o={}){super(o)}fromBER(o,c,v){return c}toBER(o=!1){return fs}static blockName(){return"EndOfContentValueBlock"}}class co extends Mr{constructor(o={}){super(o,ia),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class jo extends Ss{constructor(o={}){super(o),this.value=C(o,kr,!1),this.isHexOnly=C(o,qt,!1),an in o?this.valueHex=o.valueHex.slice(0):(this.valueHex=new ArrayBuffer(1),!0===this.value&&(new Uint8Array(this.valueHex)[0]=255))}fromBER(o,c,v){if(!1===g(this,o,c,v))return-1;const S=new Uint8Array(o,c,v);v>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(S.length);const I=new Uint8Array(this.valueHex);for(let H=0;H<S.length;H++)I[H]=S[H];return this.value=0!==P.call(this),this.blockLength=v,c+v}toBER(o=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.value=this.value,o.isHexOnly=this.isHexOnly,o.valueHex=b(this.valueHex,0,this.valueHex.byteLength),o}}class _o extends Mr{constructor(o={}){super(o,jo),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class gi extends zs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}class ro extends zs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}class Ys extends Mr{constructor(o={}){super(o,ls),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(o,c,v){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=v,c+v>o.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):c+v}toBER(o=!1,c){const v=new ArrayBuffer(2);if(!o){const S=new Uint8Array(v);S[0]=5,S[1]=0}return c&&c.write(v),v}toString(){return`${this.constructor.blockName()}`}}class De extends(As(qs)){constructor(o={}){super(o),this.isConstructed=C(o,vn,!1)}fromBER(o,c,v){let S=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,S=qs.prototype.fromBER.call(this,o,c,v),-1===S)return S;for(let I=0;I<this.value.length;I++){const H=this.value[I].constructor.blockName();if(H===co.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(H!==$.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,S=super.fromBER(o,c,v),this.blockLength=v;return S}toBER(o=!1,c){if(!0===this.isConstructed)return qs.prototype.toBER.call(this,o,c);let v=new ArrayBuffer(this.valueHex.byteLength);return!0===o||0===this.valueHex.byteLength||(v=this.valueHex.slice(0)),v}static blockName(){return"OctetStringValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.isConstructed=this.isConstructed,o.isHexOnly=this.isHexOnly,o.valueHex=b(this.valueHex,0,this.valueHex.byteLength),o}}class $ extends Mr{constructor(o={}){super(o,De),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(o,c,v){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===v)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),c;if(!this.valueBlock.isConstructed){const S=o.slice(c,c+v);try{const I=Ko(S);-1!==I.offset&&I.offset===v&&(this.valueBlock.value=[I.result])}catch{}}return super.fromBER(o,c,v)}static blockName(){return"OCTET STRING"}isEqual(o){return!(!(o instanceof $)||JSON.stringify(this)!==JSON.stringify(o))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?zs.prototype.toString.call(this):`${this.constructor.blockName()} : ${b(this.valueBlock.valueHex)}`}}class xe extends(As(qs)){constructor(o={}){super(o),this.unusedBits=C(o,"unusedBits",0),this.isConstructed=C(o,vn,!1),this.blockLength=this.valueHex.byteLength}fromBER(o,c,v){if(0===v)return c;let S=-1;if(!0===this.isConstructed){if(S=qs.prototype.fromBER.call(this,o,c,v),-1===S)return S;for(let se=0;se<this.value.length;se++){const he=this.value[se].constructor.blockName();if(he===co.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(he!==Ve.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[se].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[se].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return S}if(!1===g(this,o,c,v))return-1;const I=new Uint8Array(o,c,v);if(this.unusedBits=I[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const se=o.slice(c+1,c+v);try{const he=Ko(se);-1!==he.offset&&he.offset===v-1&&(this.value=[he.result])}catch{}}this.valueHex=new ArrayBuffer(I.length-1);const H=new Uint8Array(this.valueHex);for(let se=0;se<v-1;se++)H[se]=I[se+1];return this.blockLength=I.length,c+v}toBER(o=!1,c){if(!0===this.isConstructed)return qs.prototype.toBER.call(this,o,c);if(!0===o)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return fs;const v=new Uint8Array(this.valueHex),S=new ArrayBuffer(this.valueHex.byteLength+1),I=new Uint8Array(S);I[0]=this.unusedBits;for(let H=0;H<this.valueHex.byteLength;H++)I[H+1]=v[H];return S}static blockName(){return"BitStringValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.unusedBits=this.unusedBits,o.isConstructed=this.isConstructed,o.isHexOnly=this.isHexOnly,o.valueHex=b(this.valueHex,0,this.valueHex.byteLength),o}}class Ve extends Mr{constructor(o={}){super(o,xe),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(o,c,v){return 0===v?c:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(o,c,v))}isEqual(o){return!(!(o instanceof Ve)||JSON.stringify(this)!==JSON.stringify(o))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return zs.prototype.toString.call(this);{const o=[],c=new Uint8Array(this.valueBlock.valueHex);for(const v of c)o.push(v.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${o.join("")}`}}}class Ct extends(As(Ss)){constructor(o={}){super(o),kr in o&&(this.valueDec=o.value)}set valueHex(o){this._valueHex=o.slice(0),o.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,o.byteLength>0&&(this._valueDec=P.call(this)))}get valueHex(){return this._valueHex}set valueDec(o){this._valueDec=o,this.isHexOnly=!1,this._valueHex=a(o)}get valueDec(){return this._valueDec}fromDER(o,c,v,S=0){const I=this.fromBER(o,c,v);if(-1===I)return I;const H=new Uint8Array(this._valueHex);if(0===H[0]&&0!=(128&H[1])){const se=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(se).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=se.slice(0)}else if(0!==S&&this._valueHex.byteLength<S){S-this._valueHex.byteLength>1&&(S=this._valueHex.byteLength+1);const se=new ArrayBuffer(S);new Uint8Array(se).set(H,S-this._valueHex.byteLength),this._valueHex=se.slice(0)}return I}toDER(o=!1){const c=new Uint8Array(this._valueHex);switch(!0){case 0!=(128&c[0]):{const v=new ArrayBuffer(this._valueHex.byteLength+1),S=new Uint8Array(v);S[0]=0,S.set(c,1),this._valueHex=v.slice(0)}break;case 0===c[0]&&0==(128&c[1]):{const v=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(v).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=v.slice(0)}}return this.toBER(o)}fromBER(o,c,v){const S=super.fromBER(o,c,v);return-1===S?S:(this.blockLength=v,c+v)}toBER(o=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.valueDec=this.valueDec,o}toString(){function o(Ae,D){const oe=new Uint8Array([0]);let ht=new Uint8Array(Ae),Gt=new Uint8Array(D),xn=ht.slice(0);const Yn=xn.length-1;let Ii=Gt.slice(0);const Ur=Ii.length-1;let ar=0,Bs=0;for(let La=Ur<Yn?Yn:Ur;La>=0;La--,Bs++)ar=1==Bs<Ii.length?xn[Yn-Bs]+Ii[Ur-Bs]+oe[0]:xn[Yn-Bs]+oe[0],oe[0]=ar/10,1==Bs>=xn.length?xn=R(new Uint8Array([ar%10]),xn):xn[Yn-Bs]=ar%10;return oe[0]>0&&(xn=R(oe,xn)),xn.slice(0)}function c(Ae){if(Ae>=Ks.length)for(let D=Ks.length;D<=Ae;D++){const oe=new Uint8Array([0]);let ht=Ks[D-1].slice(0);for(let Gt=ht.length-1;Gt>=0;Gt--){const xn=new Uint8Array([(ht[Gt]<<1)+oe[0]]);oe[0]=xn[0]/10,ht[Gt]=xn[0]%10}oe[0]>0&&(ht=R(oe,ht)),Ks.push(ht)}return Ks[Ae]}function v(Ae,D){let oe=0,ht=new Uint8Array(Ae),Gt=new Uint8Array(D),xn=ht.slice(0);const Yn=xn.length-1;let Ii=Gt.slice(0);const Ur=Ii.length-1;let ar,mr=0;for(let Bs=Ur;Bs>=0;Bs--,mr++)ar=xn[Yn-mr]-Ii[Ur-mr]-oe,1==ar<0?(oe=1,xn[Yn-mr]=ar+10):(oe=0,xn[Yn-mr]=ar);if(oe>0)for(let Bs=Yn-Ur+1;Bs>=0;Bs--,mr++){if(ar=xn[Yn-mr]-oe,!(ar<0)){oe=0,xn[Yn-mr]=ar;break}oe=1,xn[Yn-mr]=ar+10}return xn.slice()}const S=8*this._valueHex.byteLength-1;let se,I=new Uint8Array(8*this._valueHex.byteLength/3),H=0;const he=new Uint8Array(this._valueHex);let Ne="",F=!1;for(let Ae=this._valueHex.byteLength-1;Ae>=0;Ae--){se=he[Ae];for(let D=0;D<8;D++)1==(1&se)&&(H===S?(I=v(c(H),I),Ne="-"):I=o(I,c(H))),H++,se>>=1}for(let Ae=0;Ae<I.length;Ae++)I[Ae]&&(F=!0),F&&(Ne+=fe.charAt(I[Ae]));return!1===F&&(Ne+=fe.charAt(0)),Ne}}class Ut extends Mr{constructor(o={}){super(o,Ct),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(o){return o instanceof Ut?this.valueBlock.isHexOnly&&o.valueBlock.isHexOnly?k(this.valueBlock.valueHex,o.valueBlock.valueHex):this.valueBlock.isHexOnly===o.valueBlock.isHexOnly&&this.valueBlock.valueDec===o.valueBlock.valueDec:o instanceof ArrayBuffer&&k(this.valueBlock.valueHex,o)}convertToDER(){const o=new Ut({valueHex:this.valueBlock.valueHex});return o.valueBlock.toDER(),o}convertFromDER(){const o=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,c=new Ut({valueHex:this.valueBlock.valueHex});return c.valueBlock.fromDER(c.valueBlock.valueHex,0,c.valueBlock.valueHex.byteLength,o),c}toString(){zi();const o=b(this.valueBlock.valueHex),c=BigInt(`0x${o}`);return`${this.constructor.blockName()} : ${c.toString()}`}}class Pt extends Ut{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}class Kt extends(As(ls)){constructor(o={}){super(o),this.valueDec=C(o,Gs,-1),this.isFirstSid=C(o,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(o,c,v){if(0===v)return c;if(!1===g(this,o,c,v))return-1;const S=new Uint8Array(o,c,v);this.valueHex=new ArrayBuffer(v);let I=new Uint8Array(this.valueHex);for(let he=0;he<v&&(I[he]=127&S[he],this.blockLength++,0!=(128&S[he]));he++);const H=new ArrayBuffer(this.blockLength),se=new Uint8Array(H);for(let he=0;he<this.blockLength;he++)se[he]=I[he];return this.valueHex=H.slice(0),I=new Uint8Array(this.valueHex),0!=(128&S[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===I[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=f(I,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),c+this.blockLength)}set valueBigInt(o){zi();let c=BigInt(o).toString(2);for(;c.length%7;)c="0"+c;const v=new Uint8Array(c.length/7);for(let S=0;S<v.length;S++)v[S]=parseInt(c.slice(7*S,7*S+7),2)+(S+1<v.length?128:0);this.fromBER(v.buffer,0,v.length)}toBER(o=!1){let c,v;if(this.isHexOnly){if(!0===o)return new ArrayBuffer(this.valueHex.byteLength);const I=new Uint8Array(this.valueHex);c=new ArrayBuffer(this.blockLength),v=new Uint8Array(c);for(let H=0;H<this.blockLength-1;H++)v[H]=128|I[H];return v[this.blockLength-1]=I[this.blockLength-1],c}const S=w(this.valueDec,7);if(0===S.byteLength)return this.error="Error during encoding SID value",fs;if(c=new ArrayBuffer(S.byteLength),!1===o){const I=new Uint8Array(S);v=new Uint8Array(c);for(let H=0;H<S.byteLength-1;H++)v[H]=128|I[H];v[S.byteLength-1]=I[S.byteLength-1]}return c}toString(){let o="";if(!0===this.isHexOnly)o=b(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let c=this.valueDec;this.valueDec<=39?o="0.":this.valueDec<=79?(o="1.",c-=40):(o="2.",c-=80),o+=c.toString()}else o=this.valueDec.toString();return o}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.valueDec=this.valueDec,o.isFirstSid=this.isFirstSid,o}}class ge extends Ss{constructor(o={}){super(o),this.fromString(C(o,kr,""))}fromBER(o,c,v){let S=c;for(;v>0;){const I=new Kt;if(S=I.fromBER(o,S,v),-1===S)return this.blockLength=0,this.error=I.error,S;0===this.value.length&&(I.isFirstSid=!0),this.blockLength+=I.blockLength,v-=I.blockLength,this.value.push(I)}return S}toBER(o=!1){const c=[];for(let v=0;v<this.value.length;v++){const S=this.value[v].toBER(o);if(0===S.byteLength)return this.error=this.value[v].error,fs;c.push(S)}return fo(c)}fromString(o){this.value=[];let c=0,v=0,S="",I=!1;do{if(v=o.indexOf(".",c),S=-1===v?o.substr(c):o.substr(c,v-c),c=v+1,I){const H=this.value[0];let se=0;switch(H.valueDec){case 0:break;case 1:se=40;break;case 2:se=80;break;default:return this.value=[],!1}const he=parseInt(S,10);if(isNaN(he))return!0;H.valueDec=he+se,I=!1}else{const H=new Kt;if(S>Number.MAX_SAFE_INTEGER){zi();const se=BigInt(S);H.valueBigInt=se}else if(H.valueDec=parseInt(S,10),isNaN(H.valueDec))return!0;0===this.value.length&&(H.isFirstSid=!0,I=!0),this.value.push(H)}}while(-1!==v);return!0}toString(){let o="",c=!1;for(let v=0;v<this.value.length;v++){c=this.value[v].isHexOnly;let S=this.value[v].toString();0!==v&&(o=`${o}.`),c?(S=`{${S}}`,this.value[v].isFirstSid?o=`2.{${S} - 80}`:o+=S):o+=S}return o}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}o.value=this.toString(),o.sidArray=[];for(let c=0;c<this.value.length;c++)o.sidArray.push(this.value[c].toJSON());return o}}class st extends Mr{constructor(o={}){super(o,ge),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}class ue extends(As(ls)){constructor(o={}){super(o),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.value=this.value,o}}class Ue extends Mr{constructor(o={}){super(o,ue),kr in o&&this.fromString(o.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(o,c,v){const S=this.valueBlock.fromBER(o,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(o){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(o));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(c){this.warnings.push(`Error during "decodeURIComponent": ${c}, using raw string`)}}fromString(o){const c=unescape(encodeURIComponent(o)),v=c.length;this.valueBlock.valueHex=new ArrayBuffer(v);const S=new Uint8Array(this.valueBlock.valueHex);for(let I=0;I<v;I++)S[I]=c.charCodeAt(I);this.valueBlock.value=o}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Zt extends(As(ls)){constructor(o={}){super(o),this.valueDec=C(o,Gs,-1)}static blockName(){return"relativeSidBlock"}fromBER(o,c,v){if(0===v)return c;if(!1===g(this,o,c,v))return-1;const S=new Uint8Array(o,c,v);this.valueHex=new ArrayBuffer(v);let I=new Uint8Array(this.valueHex);for(let he=0;he<v&&(I[he]=127&S[he],this.blockLength++,0!=(128&S[he]));he++);const H=new ArrayBuffer(this.blockLength),se=new Uint8Array(H);for(let he=0;he<this.blockLength;he++)se[he]=I[he];return this.valueHex=H.slice(0),I=new Uint8Array(this.valueHex),0!=(128&S[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===I[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=f(I,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),c+this.blockLength)}toBER(o=!1){let c,v;if(this.isHexOnly){if(!0===o)return new ArrayBuffer(this.valueHex.byteLength);const I=new Uint8Array(this.valueHex);c=new ArrayBuffer(this.blockLength),v=new Uint8Array(c);for(let H=0;H<this.blockLength-1;H++)v[H]=128|I[H];return v[this.blockLength-1]=I[this.blockLength-1],c}const S=w(this.valueDec,7);if(0===S.byteLength)return this.error="Error during encoding SID value",fs;if(c=new ArrayBuffer(S.byteLength),!1===o){const I=new Uint8Array(S);v=new Uint8Array(c);for(let H=0;H<S.byteLength-1;H++)v[H]=128|I[H];v[S.byteLength-1]=I[S.byteLength-1]}return c}toString(){let o="";return o=!0===this.isHexOnly?b(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),o}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.valueDec=this.valueDec,o}}class ln extends Ss{constructor(o={}){super(o),this.fromString(C(o,kr,""))}fromBER(o,c,v){let S=c;for(;v>0;){const I=new Zt;if(S=I.fromBER(o,S,v),-1===S)return this.blockLength=0,this.error=I.error,S;this.blockLength+=I.blockLength,v-=I.blockLength,this.value.push(I)}return S}toBER(o=!1){let c=[];for(let v=0;v<this.value.length;v++){const S=this.value[v].toBER(o);if(0===S.byteLength)return this.error=this.value[v].error,fs;c.push(S)}return fo(c)}fromString(o){this.value=[];let c=0,v=0,S="";do{v=o.indexOf(".",c),S=-1===v?o.substr(c):o.substr(c,v-c),c=v+1;const I=new Zt;if(I.valueDec=parseInt(S,10),isNaN(I.valueDec))return!0;this.value.push(I)}while(-1!==v);return!0}toString(){let o="",c=!1;for(let v=0;v<this.value.length;v++){c=this.value[v].isHexOnly;let S=this.value[v].toString();0!==v&&(o=`${o}.`),c&&(S=`{${S}}`),o+=S}return o}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}o.value=this.toString(),o.sidArray=[];for(let c=0;c<this.value.length;c++)o.sidArray.push(this.value[c].toJSON());return o}}class Vn extends Mr{constructor(o={}){super(o,ln),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class Di extends(As(ls)){constructor(o={}){super(o),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.value=this.value,o}}class ts extends Mr{constructor(o={}){super(o,Di),kr in o&&this.fromString(o.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(o,c,v){const S=this.valueBlock.fromBER(o,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(o){const c=o.slice(0),v=new Uint8Array(c);for(let S=0;S<v.length;S+=2){const I=v[S];v[S]=v[S+1],v[S+1]=I}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(c))}fromString(o){const c=o.length;this.valueBlock.valueHex=new ArrayBuffer(2*c);const v=new Uint8Array(this.valueBlock.valueHex);for(let S=0;S<c;S++){const I=w(o.charCodeAt(S),8),H=new Uint8Array(I);if(H.length>2)continue;const se=2-H.length;for(let he=H.length-1;he>=0;he--)v[2*S+he+se]=H[he]}this.valueBlock.value=o}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Jr extends(As(ls)){constructor(o={}){super(o),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.value=this.value,o}}class vo extends Mr{constructor(o={}){super(o,Jr),kr in o&&this.fromString(o.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(o,c,v){const S=this.valueBlock.fromBER(o,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(o){const c=o.slice(0),v=new Uint8Array(c);for(let S=0;S<v.length;S+=4)v[S]=v[S+3],v[S+1]=v[S+2],v[S+2]=0,v[S+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(c))}fromString(o){const c=o.length;this.valueBlock.valueHex=new ArrayBuffer(4*c);const v=new Uint8Array(this.valueBlock.valueHex);for(let S=0;S<c;S++){const I=w(o.charCodeAt(S),8),H=new Uint8Array(I);if(H.length>4)continue;const se=4-H.length;for(let he=H.length-1;he>=0;he--)v[4*S+he+se]=H[he]}this.valueBlock.value=o}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class ko extends(As(ls)){constructor(o={}){super(o),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.value=this.value,o}}class xs extends Mr{constructor(o={}){super(o,ko),kr in o&&this.fromString(o.value)}static blockName(){return"SIMPLESTRING"}fromBER(o,c,v){const S=this.valueBlock.fromBER(o,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(o){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(o))}fromString(o){const c=o.length;this.valueBlock.valueHex=new ArrayBuffer(c);const v=new Uint8Array(this.valueBlock.valueHex);for(let S=0;S<c;S++)v[S]=o.charCodeAt(S);this.valueBlock.value=o}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class yo extends xs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class Xs extends xs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class uo extends xs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class Vs extends xs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class So extends xs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class ra extends xs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class Po extends xs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class Ga extends xs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class Lo extends xs{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class Ki extends Po{constructor(o={}){if(super(o),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,kr in o){this.fromString(o.value),this.valueBlock.valueHex=new ArrayBuffer(o.value.length);const c=new Uint8Array(this.valueBlock.valueHex);for(let v=0;v<o.value.length;v++)c[v]=o.value.charCodeAt(v)}Tr in o&&(this.fromDate(o.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(o,c,v){const S=this.valueBlock.fromBER(o,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(o){this.fromString(String.fromCharCode.apply(null,new Uint8Array(o)))}toBuffer(){const o=this.toString(),c=new ArrayBuffer(o.length),v=new Uint8Array(c);for(let S=0;S<o.length;S++)v[S]=o.charCodeAt(S);return c}fromDate(o){this.year=o.getUTCFullYear(),this.month=o.getUTCMonth()+1,this.day=o.getUTCDate(),this.hour=o.getUTCHours(),this.minute=o.getUTCMinutes(),this.second=o.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(o){const v=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(o);if(null===v)return void(this.error="Wrong input string for conversion");const S=parseInt(v[1],10);this.year=S>=50?1900+S:2e3+S,this.month=parseInt(v[2],10),this.day=parseInt(v[3],10),this.hour=parseInt(v[4],10),this.minute=parseInt(v[5],10),this.second=parseInt(v[6],10)}toString(){const o=new Array(7);return o[0]=L(this.year<2e3?this.year-1900:this.year-2e3,2),o[1]=L(this.month,2),o[2]=L(this.day,2),o[3]=L(this.hour,2),o[4]=L(this.minute,2),o[5]=L(this.second,2),o[6]="Z",o.join("")}static blockName(){return"UTCTime"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.year=this.year,o.month=this.month,o.day=this.day,o.hour=this.hour,o.minute=this.minute,o.second=this.second,o}}class Ls extends Po{constructor(o={}){if(super(o),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,kr in o){this.fromString(o.value),this.valueBlock.valueHex=new ArrayBuffer(o.value.length);const c=new Uint8Array(this.valueBlock.valueHex);for(let v=0;v<o.value.length;v++)c[v]=o.value.charCodeAt(v)}Tr in o&&(this.fromDate(o.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(o,c,v){const S=this.valueBlock.fromBER(o,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(o){this.fromString(String.fromCharCode.apply(null,new Uint8Array(o)))}toBuffer(){const o=this.toString(),c=new ArrayBuffer(o.length),v=new Uint8Array(c);for(let S=0;S<o.length;S++)v[S]=o.charCodeAt(S);return c}fromDate(o){this.year=o.getUTCFullYear(),this.month=o.getUTCMonth()+1,this.day=o.getUTCDate(),this.hour=o.getUTCHours(),this.minute=o.getUTCMinutes(),this.second=o.getUTCSeconds(),this.millisecond=o.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(o){let H,c=!1,v="",S="",I=0,se=0,he=0;if("Z"===o[o.length-1])v=o.substr(0,o.length-1),c=!0;else{const Ae=new Number(o[o.length-1]);if(isNaN(Ae.valueOf()))throw new Error("Wrong input string for conversion");v=o}if(c){if(-1!==v.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==v.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Ae=1,D=v.indexOf("+"),oe="";if(-1===D&&(D=v.indexOf("-"),Ae=-1),-1!==D){if(oe=v.substr(D+1),v=v.substr(0,D),2!==oe.length&&4!==oe.length)throw new Error("Wrong input string for conversion");let ht=new Number(oe.substr(0,2));if(isNaN(ht.valueOf()))throw new Error("Wrong input string for conversion");if(se=Ae*ht,4===oe.length){if(ht=new Number(oe.substr(2,2)),isNaN(ht.valueOf()))throw new Error("Wrong input string for conversion");he=Ae*ht}}}let Ne=v.indexOf(".");if(-1===Ne&&(Ne=v.indexOf(",")),-1!==Ne){const Ae=new Number(`0${v.substr(Ne)}`);if(isNaN(Ae.valueOf()))throw new Error("Wrong input string for conversion");I=Ae.valueOf(),S=v.substr(0,Ne)}else S=v;switch(!0){case 8===S.length:if(H=/(\d{4})(\d{2})(\d{2})/gi,-1!==Ne)throw new Error("Wrong input string for conversion");break;case 10===S.length:if(H=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==Ne){let Ae=60*I;this.minute=Math.floor(Ae),Ae=60*(Ae-this.minute),this.second=Math.floor(Ae),Ae=1e3*(Ae-this.second),this.millisecond=Math.floor(Ae)}break;case 12===S.length:if(H=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==Ne){let Ae=60*I;this.second=Math.floor(Ae),Ae=1e3*(Ae-this.second),this.millisecond=Math.floor(Ae)}break;case 14===S.length:H=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==Ne&&(this.millisecond=Math.floor(1e3*I));break;default:throw new Error("Wrong input string for conversion")}const F=H.exec(S);if(null===F)throw new Error("Wrong input string for conversion");for(let Ae=1;Ae<F.length;Ae++)switch(Ae){case 1:this.year=parseInt(F[Ae],10);break;case 2:this.month=parseInt(F[Ae],10);break;case 3:this.day=parseInt(F[Ae],10);break;case 4:this.hour=parseInt(F[Ae],10)+se;break;case 5:this.minute=parseInt(F[Ae],10)+he;break;case 6:this.second=parseInt(F[Ae],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===c){const Ae=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Ae.getUTCFullYear(),this.month=Ae.getUTCMonth(),this.day=Ae.getUTCDay(),this.hour=Ae.getUTCHours(),this.minute=Ae.getUTCMinutes(),this.second=Ae.getUTCSeconds(),this.millisecond=Ae.getUTCMilliseconds()}}toString(){const o=[];return o.push(L(this.year,4)),o.push(L(this.month,2)),o.push(L(this.day,2)),o.push(L(this.hour,2)),o.push(L(this.minute,2)),o.push(L(this.second,2)),0!==this.millisecond&&(o.push("."),o.push(L(this.millisecond,3))),o.push("Z"),o.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let o={};try{o=super.toJSON()}catch{}return o.year=this.year,o.month=this.month,o.day=this.day,o.hour=this.hour,o.minute=this.minute,o.second=this.second,o.millisecond=this.millisecond,o}}class al extends Ue{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class ka extends Ue{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class Qa extends Ue{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class ll extends Ue{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class gc extends Ue{constructor(o={}){super(o),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}function ms(He,o,c){const v=o;let I=new Mr({},Object);const H=new ls;if(!1===g(H,He,o,c))return I.error=H.error,{offset:-1,result:I};if(0===new Uint8Array(He,o,c).length)return I.error="Zero buffer length",{offset:-1,result:I};let he=I.idBlock.fromBER(He,o,c);if(I.warnings.concat(I.idBlock.warnings),-1===he)return I.error=I.idBlock.error,{offset:-1,result:I};if(he=I.lenBlock.fromBER(He,o=he,c-=I.idBlock.blockLength),I.warnings.concat(I.lenBlock.warnings),-1===he)return I.error=I.lenBlock.error,{offset:-1,result:I};if(o=he,c-=I.lenBlock.blockLength,!1===I.idBlock.isConstructed&&!0===I.lenBlock.isIndefiniteForm)return I.error="Indefinite length form used for primitive encoding form",{offset:-1,result:I};let Ne=Mr;if(1===I.idBlock.tagClass){if(I.idBlock.tagNumber>=37&&!1===I.idBlock.isHexOnly)return I.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:I};switch(I.idBlock.tagNumber){case 0:if(!0===I.idBlock.isConstructed&&I.lenBlock.length>0)return I.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:I};Ne=co;break;case 1:Ne=_o;break;case 2:Ne=Ut;break;case 3:Ne=Ve;break;case 4:Ne=$;break;case 5:Ne=Ys;break;case 6:Ne=st;break;case 10:Ne=Pt;break;case 12:Ne=Ue;break;case 13:Ne=Vn;break;case 14:Ne=gc;break;case 15:return I.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:I};case 16:Ne=gi;break;case 17:Ne=ro;break;case 18:Ne=yo;break;case 19:Ne=Xs;break;case 20:Ne=uo;break;case 21:Ne=Vs;break;case 22:Ne=So;break;case 23:Ne=Ki;break;case 24:Ne=Ls;break;case 25:Ne=ra;break;case 26:Ne=Po;break;case 27:Ne=Ga;break;case 28:Ne=vo;break;case 29:Ne=Lo;break;case 30:Ne=ts;break;case 31:Ne=al;break;case 32:Ne=ka;break;case 33:Ne=Qa;break;case 34:Ne=ll;break;default:{let F;F=!0===I.idBlock.isConstructed?new zs:new Qs,F.idBlock=I.idBlock,F.lenBlock=I.lenBlock,F.warnings=I.warnings,I=F}}}else Ne=!0===I.idBlock.isConstructed?zs:Qs;return I=function S(F,Ae){if(F instanceof Ae)return F;const D=new Ae;return D.idBlock=F.idBlock,D.lenBlock=F.lenBlock,D.warnings=F.warnings,D.valueBeforeDecode=F.valueBeforeDecode.slice(0),D}(I,Ne),he=I.fromBER(He,o,!0===I.lenBlock.isIndefiniteForm?c:I.lenBlock.length),I.valueBeforeDecode=He.slice(v,v+I.blockLength),{offset:he,result:I}}function Ko(He){if(0===He.byteLength){const o=new Mr({},Object);return o.error="Input buffer has zero length",{offset:-1,result:o}}return ms(He,0,He.byteLength)}var Hs=p(3172),Eo=p(1935),Pa=p(4650);let _a=(()=>{class He{convertStringToArrayBuffer(c){const v=new Hs.lW(c,"base64").toString("binary"),S=new ArrayBuffer(2*v.length),I=new Uint8Array(S);for(let H=0,se=v.length;H<se;H++)I[H]=v.charCodeAt(H);return S}buildCertModelFromArrayBuffer(c,v){var S=this;return(0,t.Z)(function*(){const I=Ko(c),H=new dr({schema:I.result}),se=new e,he=S.getSubject(H),Ne=yield S.calculateCertificateThumbprint(v);return se.base64Cert=v,se.subject=he,se.thumbprint=Ne,se})()}verifyCertFilePassword(c,v,S){let I=new FileReader;I.onload=H=>{try{const se=Hs.lW.from(I.result),he=this.arrayBufferToBase64(se);(0,Eo.KG)(se,v),S.next(he)}catch(se){console.log("Invalid cert!"),S.error(se)}},I.onerror=H=>{S.error(H)},I.readAsArrayBuffer(c)}getSubject(c){const v={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},S=new Array;for(const H of c.subject.typesAndValues){let se=v[H.type];typeof se>"u"&&(se=H.type),S.push(`${se}=${H.value.valueBlock.value}`)}return S.reverse().join(", ")}calculateCertificateThumbprint(c){var v=this;return(0,t.Z)(function*(){const S=new Hs.lW(c,"base64"),I=yield crypto.subtle.digest("SHA-1",S);return v.computeHex(I)})()}computeHex(c){return[].map.call(new Uint8Array(c),v=>("00"+v.toString(16)).slice(-2)).join("")}arrayBufferToBase64(c){for(var v="",S=new Uint8Array(c),I=S.byteLength,H=0;H<I;H++)v+=String.fromCharCode(S[H]);return window.btoa(v)}}return He.\u0275fac=function(c){return new(c||He)},He.\u0275prov=Pa.Yz7({token:He,factory:He.\u0275fac}),He})()},146:(dt,Ce,p)=>{"use strict";p.d(Ce,{M:()=>b});var t=p(529),e=p(4707),m=p(8176),T=p(4650),C=p(8564);let b=(()=>{class g{constructor(w,_){this.http=w,this.claimTypeSubject=new e.t(1),this.actionUrl="ClaimTypes",this.headers=_.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(w){return this.http.get(`${this.actionUrl}/${w}`,{headers:this.headers})}getClaimTypes(w,_,R=!1){let P=new t.LE;return(0,m.hr)(w)||(P=P.append("name",w)),P=P.append("sort",(0,m.hr)(_)?"name":_),this.http.get(R?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:P})}addClaimType(w){const _=`${this.actionUrl}`,R=JSON.stringify(w);return this.http.post(_,R,{headers:this.headers})}updateClaimType(w){const _=`${this.actionUrl}/${w.id}`,R=JSON.stringify(w);return this.http.put(_,R,{headers:this.headers})}deleteClaimType(w){return this.http.delete(`${this.actionUrl}/${w.id}`,{headers:this.headers})}getAllowedValues(w,_,R){let P=new t.LE;return(0,m.hr)(_)||(P=P.append("query",_)),R&&(P=P.append("resultThreshold",R)),this.http.get(`${this.actionUrl}/AllowedValues/${w}`,{headers:this.headers,params:P})}}return g.\u0275fac=function(w){return new(w||g)(T.LFG(t.eN),T.LFG(C.s))},g.\u0275prov=T.Yz7({token:g,factory:g.\u0275fac}),g})()},8190:(dt,Ce,p)=>{"use strict";p.d(Ce,{F:()=>f});var t=p(515),e=p(4004),m=p(262),T=p(4879),C=p(4650),b=p(146),g=p(4889);let f=(()=>{class w{constructor(R,P){this.claimTypeService=R,this.errorService=P}resolve(R,P){return this.claimTypeService.getClaimType(R.params.Id).pipe((0,e.U)(k=>(k&&this.claimTypeService.getCachedClaimType().next(k),k)),(0,m.K)((k,L)=>(404===k.status?this.errorService.resourceNotFound(T._.claimType):this.errorService.handleError(k),(0,t.c)())))}}return w.\u0275fac=function(R){return new(R||w)(C.LFG(b.M),C.LFG(g.T))},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac}),w})()},4608:(dt,Ce,p)=>{"use strict";p.d(Ce,{Z:()=>m});var t=p(1135),e=p(4650);let m=(()=>{class T{constructor(){this.unsavedCache=new t.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},6297:(dt,Ce,p)=>{"use strict";p.d(Ce,{Zy:()=>C,rJ:()=>b,wf:()=>T});var t=p(4650),e=p(529),m=p(8564);let T=(()=>{class f{constructor(_,R){this.http=_,this.headersService=R,this.actionUrl="clients/import"}validateImportFile(_){const a=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,_,{headers:a})}completeImport(_,R){const P=this.appendImportConfiguration(_,R),k=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,P,{headers:k})}appendImportConfiguration(_,R){const P=JSON.parse(_);return P.importConfiguration={clients:R.clients,protectedResources:R.protectedResources},JSON.stringify(P)}}return f.\u0275fac=function(_){return new(_||f)(t.LFG(e.eN),t.LFG(m.s))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class C{}class b{constructor(){this.certificates=new g}}class g{}},9470:(dt,Ce,p)=>{"use strict";p.d(Ce,{a:()=>C});var t=p(9848),e=p(8895),m=p(4650),T=p(4608);let C=(()=>{class G{constructor(E){this.cache=E,this.defaultClientGrantTypeMap=new Map([[t.B.BrowserBased,e.q.AuthorizationCode],[t.B.ServerSidePKCE,e.q.AuthorizationCode],[t.B.ServerSide,e.q.Hybrid],[t.B.Native,e.q.Hybrid],[t.B.Machine,e.q.ClientCredentials],[t.B.CIBAMachine,e.q.CIBA],[t.B.Device,e.q.Device],[t.B.LegacyClientSide,e.q.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(ne=>{this.initClientViews(ne)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(E){this.resetTabs(),this.isStandardClientFormat(E)||E.clientType===t.B.Saml||E.clientType===t.B.WsFed?this.initUsingClientType(E.clientType):0!==E.allowedGrantTypes.length?this.initUsingGrantTypes(E.allowedGrantTypes):this.initDefaults()}resetTabs(){this.details=new b,this.applicationUrls=new g,this.secrets=new f,this.resources=new w,this.tokens=new re,this.claims=new R,this.grantTypes=new P,this.refreshTokens=new B,this.identityProviders=new a,this.properties=new k,this.other=new L,this.pkce=new Z,this.deviceFlow=new j,this.singleSignOut=new N,this.consent=new V,this.saml=new J,this.wsFed=new q,this.ciba=new _,this.dpop=new W}isStandardClientFormat(E){if(E.clientType===t.B.Unknown||E.allowedGrantTypes.length>1)return!1;const ne=this.defaultClientGrantTypeMap.get(E.clientType);return E.allowedGrantTypes[0]===ne}initUsingClientType(E){switch(E){case t.B.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case t.B.ServerSide:case t.B.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.B.Native:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case t.B.Machine:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case t.B.CIBAMachine:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0,this.dpop.display=!0;break;case t.B.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.B.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case t.B.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case t.B.LegacyClientSide:this.consent.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(E){this.saml.display=!1,this.wsFed.display=!1,E.forEach(ne=>{switch(ne){case e.q.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case e.q.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case e.q.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case e.q.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}return G.\u0275fac=function(E){return new(E||G)(m.LFG(T.Z))},G.\u0275prov=m.Yz7({token:G,factory:G.\u0275fac}),G})();class b{}class g{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class f{constructor(){this.display=!1}}class w{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class _{constructor(){this.display=!1}}class R{constructor(){this.display=!1}}class P{constructor(){this.display=!1}}class a{constructor(){this.display=!1}}class k{constructor(){this.display=!1}}class L{constructor(){this.display=!1,this.userSSOLifetime=!1}}class Z{constructor(){this.display=!1}}class j{constructor(){this.display=!1}}class N{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class B{constructor(){this.display=!1}}class V{constructor(){this.display=!1}}class J{constructor(){this.display=!1}}class q{constructor(){this.display=!1}}class re{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class W{constructor(){this.display=!1}}},9012:(dt,Ce,p)=>{"use strict";p.d(Ce,{a:()=>g});var t=p(529),e=p(4707),m=p(8176),T=p(9848),C=p(4650),b=p(8564);let g=(()=>{class f{constructor(_,R){this.http=_,this.headersService=R,this.clientSubject=new e.t(1),this.actionUrl="clients",this.headers=R.setHeaders()}getClients(_,R,P){let a=new t.LE;return(0,m.hr)(_)||(a=a.append("name",_)),R&&(a=a.append("page",R)),P&&(a=a.append("pageSize",P)),this.http.get(this.actionUrl,{headers:this.headers,params:a})}getClient(_){return this.http.get(`${this.actionUrl}/${_}`,{headers:this.headers})}getCachedClient(){return this.clientSubject}addClient(_){let R;switch(_.clientType){case T.B.Saml:R=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case T.B.WsFed:R=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:R=this.headersService.setHeaders()}const P=`${this.actionUrl}/`,a=JSON.stringify(_);return this.http.post(P,a,{headers:R})}updateClient(_){return this.http.put(`${this.actionUrl}/${_.id}`,_,{headers:this.headers})}addClientSecret(_,R){return this.http.post(`${this.actionUrl}/${_}/secrets`,R,{headers:this.headers})}removeClientSecret(_,R){return this.http.delete(`${this.actionUrl}/${_}/secrets/${R.id}`,{headers:this.headers})}deleteClient(_){return this.http.delete(`${this.actionUrl}/${_}`,{headers:this.headers})}cloneClient(_,R){const P=`${this.actionUrl}/${_}/clone`,a=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json");return this.http.post(P,R,{headers:a,observe:"response"})}}return f.\u0275fac=function(_){return new(_||f)(C.LFG(t.eN),C.LFG(b.s))},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9881:(dt,Ce,p)=>{"use strict";p.d(Ce,{E:()=>R});var t=p(529),e=p(9646),m=p(7579),T=p(5188);function b(P){return{...P,dynamicAuthenticationFlag:T.u[P.dynamicAuthenticationFlag]}}class w{}var _=p(4650);let R=(()=>{class P{constructor(k){this.http=k,this.headers=new t.WM,this.actionUrl="UIConfiguration"}getConfig(k=!1){const L=new w;if(L.addUserPassword=!1,L.resetPasswordConfigured=!1,L.isDemo=!1,L.targetIdentityServer4=!1,L.resetMfaConfigured=!1,L.featureFlagOptions=new T.O,this.uiOptions&&!k)return(0,e.of)(this.uiOptions);const Z=new m.x;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:j=>{this.uiOptions=function f(P){return{...P,featureFlagOptions:b(P.featureFlagOptions)}}(j),Z.next(this.uiOptions)},error:j=>Z.next(L)}),Z.asObservable()}}return P.\u0275fac=function(k){return new(k||P)(_.LFG(t.eN))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac}),P})()},4995:(dt,Ce,p)=>{"use strict";p.d(Ce,{U:()=>w});var t=p(515),e=p(4004),m=p(262),T=p(4879),C=p(4650),b=p(3499),g=p(5150),f=p(4889);let w=(()=>{class _{constructor(P,a,k){this.wsfedClientService=P,this.relyingPartyCache=a,this.errorService=k}resolve(P,a){const k=P.parent.paramMap.get("Id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(k).pipe((0,e.U)(L=>{const Z=JSON.parse(JSON.stringify(L.claimMappings)),j=new Map;for(const N in Z)Z.hasOwnProperty(N)&&j.set(N,Z[N]);return L.claimMappings=j,this.relyingPartyCache.unsavedCache.next(L),L}),(0,m.K)(L=>(404===L.status?this.errorService.resourceNotFound(T._.relyingParty):this.errorService.handleError(L),(0,t.c)())));this.relyingPartyCache.unsavedCache$.subscribe(L=>L)}}return _.\u0275fac=function(P){return new(P||_)(C.LFG(b.K),C.LFG(g.N),C.LFG(f.T))},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac}),_})()},1428:(dt,Ce,p)=>{"use strict";p.d(Ce,{d:()=>_});var t=p(515),e=p(4004),m=p(262),T=p(4879),C=p(4650),b=p(1339),g=p(9536),f=p(8185),w=p(4889);let _=(()=>{class R{constructor(a,k,L,Z){this.serviceProviderService=a,this.serviceproviderCache=k,this.router=L,this.errorSerivce=Z}resolve(a,k){const L=a.parent.paramMap.get("Id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(L).pipe((0,e.U)(Z=>{const j=JSON.parse(JSON.stringify(Z.claimMappings)),N=new Map;for(const B in j)j.hasOwnProperty(B)&&N.set(B,j[B]);return Z.claimMappings=N,this.serviceproviderCache.unsavedCache.next(Z),this.serviceproviderCache.savedCache.next(Z),Z}),(0,m.K)((Z,j)=>(404===Z.status?this.errorSerivce.resourceNotFound(T._.serviceProvider):this.errorSerivce.handleError(Z),(0,t.c)())));this.serviceproviderCache.unsavedCache$.subscribe(Z=>Z)}}return R.\u0275fac=function(a){return new(a||R)(C.LFG(b.G),C.LFG(g.S),C.LFG(f.F0),C.LFG(w.T))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac}),R})()},3883:(dt,Ce,p)=>{"use strict";p.d(Ce,{i:()=>b});var t=p(590),e=p(4650),m=p(1339),T=p(9536),C=p(4889);let b=(()=>{class g{constructor(w,_,R){this.serviceProviderService=w,this.cache=_,this.errorService=R}uploadFile(w,_){return this.serviceProviderService.setEncryptionCertificateViaFile(w,_)}uploadViaMetaData(w,_){return this.serviceProviderService.setEncryptionCertificateViaMetadata(w,_)}updateCertCache(w){this.serviceProviderService.getServiceProvider(w).subscribe(_=>{this.cache.unsavedCache$.pipe((0,t.P)()).subscribe(R=>{R.encryptionCertificate=_.encryptionCertificate,this.cache.unsavedCache.next(R)})},_=>{this.errorService.handleError(_)})}}return g.\u0275fac=function(w){return new(w||g)(e.LFG(m.G),e.LFG(T.S),e.LFG(C.T))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac}),g})()},4889:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>w});var t=p(8176),e=p(4879),m=p(160),T=p(4650),C=p(8185),b=p(2979),g=p(7185),f=p(9383);let w=(()=>{class _{constructor(P,a,k,L){this.router=P,this.localize=a,this.toast=k,this.translate=L}resourceNotFound(P){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+e._[P])])}handleError(P,a,k){let L=m.s.NotHandled;const Z=this.getDefaultNavigationPath(P);if(Z)this.router.navigate([this.localize.translateRoute(Z)]),L|=m.s.Navigate;else{const j=this.getOptionsToastBody(P,a)||this.getDefaultToastBody(P),N=this.getOptionsToastTitle(P,a)||this.getDefaultToastTitle(P);j&&N&&(k?this.toast.error(j,N,k):this.toast.error(j,N),L|=m.s.Toast)}return L}getOptionsToastBody(P,a){if(!a)return;const k="number"==typeof P.status&&a.statusToastOptions?a.statusToastOptions[P.status]:a;return k&&k.toastBody}getOptionsToastTitle(P,a){if(!a)return;const k="number"==typeof P.status&&a.statusToastOptions?a.statusToastOptions[P.status]:a;return k&&k.toastTitle}getDefaultNavigationPath(P){switch(P.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(P){switch(P.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(P){return 500===P.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:P.error&&P.error.errors&&P.error.errors.length>0?P.error.errors[0]:(0,t.hr)(P._body)&&(0,t.hr)(P.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,t.hr)(P.error)?P._body:P.error}}return _.\u0275fac=function(P){return new(P||_)(T.LFG(C.F0),T.LFG(b.An),T.LFG(g._W),T.LFG(f.sK))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},9002:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>m});var t=p(4650),e=p(1888);let m=(()=>{class T{constructor(b){this.fileDownloader=b,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(b){const g=this.actionUrl+"/specified",f=new Map;f.set("clientIds",b.join(",")),this.fileDownloader.buildFormWithCustomInputs(g,f).submitForm()}}return T.\u0275fac=function(b){return new(b||T)(t.LFG(e.B))},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac}),T})()},1888:(dt,Ce,p)=>{"use strict";p.d(Ce,{B:()=>T});class t{constructor(b){this.form=b}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var e=p(4650),m=p(1060);let T=(()=>{class C{constructor(g){this.securityService=g}buildForm(g){const f=this.buildStandardForm(g);return new t(f)}buildStandardForm(g){const f=document.createElement("form");return f.setAttribute("method","post"),f.setAttribute("action",g),f}appendInput(g,f,w){const _=document.createElement("input");_.setAttribute("type","text"),_.setAttribute("name",g),_.setAttribute("value",f),w.appendChild(_)}buildFormWithCustomInputs(g,f){const w=this.buildStandardForm(g);return f.forEach((_,R)=>{this.appendInput(R,_,w)}),new t(w)}}return C.\u0275fac=function(g){return new(g||C)(e.LFG(m.I))},C.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac}),C})()},9512:(dt,Ce,p)=>{"use strict";p.d(Ce,{n:()=>g});var t=p(590),e=p(4004),m=p(5188),T=p(4650),C=p(8185),b=p(9881);let g=(()=>{class f{constructor(_,R){this.router=_,this.config=R}canActivate(_,R){return this.config.getConfig().pipe((0,t.P)(),(0,e.U)(P=>(P?.featureFlagOptions?.dynamicAuthenticationFlag??m.u.Disabled)!=m.u.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}}return f.\u0275fac=function(_){return new(_||f)(T.LFG(C.F0),T.LFG(b.E))},f.\u0275prov=T.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},7364:(dt,Ce,p)=>{"use strict";p.d(Ce,{f:()=>b});var t=p(590),e=p(4004),m=p(4650),T=p(8185),C=p(9881);let b=(()=>{class g{constructor(w,_){this.router=w,this.config=_}canActivate(w,_){return this.config.getConfig().pipe((0,t.P)(),(0,e.U)(R=>(R?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}}return g.\u0275fac=function(w){return new(w||g)(m.LFG(T.F0),m.LFG(C.E))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},8564:(dt,Ce,p)=>{"use strict";p.d(Ce,{s:()=>m});var t=p(529),e=p(4650);let m=(()=>{class T{setHeaders(b,g){return(new t.WM).set("Content-Type",b||"application/json").set("Accept",g||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac}),T})()},4946:(dt,Ce,p)=>{"use strict";p.d(Ce,{G:()=>T});var t=p(4707),e=p(4650),m=p(529);let T=(()=>{class C{constructor(g){this.http=g,this.idsReady=!1,this.idsHealthCheckComplete=new t.t(1),this.uiReady=!1,this.uiHealthCheckComplete=new t.t(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}}return C.\u0275fac=function(g){return new(g||C)(e.LFG(m.eN))},C.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac}),C})()},8506:(dt,Ce,p)=>{"use strict";p.d(Ce,{Q:()=>b});var t=p(529),e=p(4707),m=p(8176),T=p(4650),C=p(8564);let b=(()=>{class g{constructor(w,_){this.http=w,this.headersService=_,this.identityResourceSubject=new e.t(1),this.actionUrl="IdentityResources",this.headers=_.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(w){let _=new t.LE;return(0,m.hr)(w)||(_=_.append("name",w)),this.http.get(this.actionUrl,{headers:this.headers,params:_})}addResource(w){const _=`${this.actionUrl}/`,R=JSON.stringify(w);return this.http.post(_,R,{headers:this.headers})}getResource(w){return this.http.get(`${this.actionUrl}/${w}`,{headers:this.headers})}updateResource(w){return this.http.put(`${this.actionUrl}/${w.id}`,w,{headers:this.headers})}deleteIdentityResource(w){return this.http.delete(`${this.actionUrl}/${w}`,{headers:this.headers})}}return g.\u0275fac=function(w){return new(w||g)(T.LFG(t.eN),T.LFG(C.s))},g.\u0275prov=T.Yz7({token:g,factory:g.\u0275fac}),g})()},9659:(dt,Ce,p)=>{"use strict";p.d(Ce,{o:()=>j});var t=p(7579),e=p(4707),m=p(3334),T=p(590),C=p(3111),b=p(6126),g=p(8255),f=p(7243),w=p(7363),_=p(6068),R=p(8176),P=p(6679),a=p(7393),k=p(4650),L=p(1501),Z=p(7481);let j=(()=>{class N{constructor(V,J){this.importWizardProvider=V,this.importWizardService=J,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new t.x}setupInitialStep(){const V=this.importWizardProvider.getStep(m.K.clientSummary);this.stepsAhead.push(V)}goToNextStep(){const V=this.stepsAhead.pop();this.stepsCompleted.push(V),V.component===b.j&&V.data.includes(C.JR.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(V.component===w.$&&V.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(V):V.component===P.V7&&V.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(V)),this.move.next(!1))}applyCertificateRememberDecision(V){const J=[];return this.stepsAhead.forEach(q=>{q.component!==P.V7||q.data.existingHasCertificates!==V.data.existingHasCertificates||(V.data.certificateAction===P.R6.DoNotSet?q.data.certificates=new a.w:V.data.certificateAction===P.R6.UseExisting&&(q.data.certificates=new a.w,q.data.useExistingCertificates=!0),J.push(q),this.stepsCompleted.push(q))}),this.stepsAhead.filter(q=>!J.includes(q))}applyRememberDecision(V){const J=[];return this.stepsAhead.forEach(q=>{if(q.component===w.$&&q.data.resourceType===V.data.resourceType&&q.data.existingHasSecrets===V.data.existingHasSecrets){if(V.data.secretsAction===w.C.DoNotSet)q.data.secrets=[];else if(V.data.secretsAction===w.C.UseExistingSecret)q.data.useExistingSecrets=!0;else if(V.data.secretsAction===w.C.Generate){const re=new _.u;re.value=(0,R.qs)(),re.type="Shared Secret",re.description="",q.data.secrets=[re]}J.push(q),this.stepsCompleted.push(q)}}),this.stepsAhead.filter(q=>!J.includes(q))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(m.K.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const J=this.stepsCompleted[this.stepsCompleted.length-1];if(J.component===w.$)this.goToLastRememberedDecision(J.component,q=>q.data.rememberSecretAction);else if(J.component===P.V7)this.goToLastRememberedDecision(J.component,q=>q.data.rememberCertificateAction&&q.data.existingHasCertificates===J.data.existingHasCertificates);else{const q=this.stepsCompleted.pop();this.stepsAhead.push(q)}this.move.next(!1)}goToLastRememberedDecision(V,J){const q=this.stepsCompleted.filter(re=>re.component===V);if(q.length>1){const re=q.filter(J);if(re){const G=this.stepsCompleted.indexOf(re[re.length-1]),X=this.stepsCompleted.splice(G,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...X.reverse()]}else{const W=this.stepsCompleted.pop();this.stepsAhead.push(W)}}else{const re=this.stepsCompleted.pop();this.stepsAhead.push(re)}}goToFinalSummary(){const V=this.stepsAhead.findIndex(q=>q.component===g.o),J=this.stepsAhead.splice(V+1);for(;J.length>0;){const q=J.pop();this.stepsCompleted.push(q)}this.move.next(!1)}goToSummaryStep(V){const J=this.stepsCompleted.findIndex(re=>re.component===b.j&&re.data.includes(V)),q=this.stepsCompleted.splice(J);for(;q.length>0;){const re=q.pop();this.stepsAhead.push(re)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const V=this.getCurrentStep();V.component===f.l?this.quit():V.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(m.K.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(V,J){const q=this.stepsAhead.pop();this.stepsCompleted.push(q);const re=this.importWizardProvider.getStep(V);re.data=J,this.stepsAhead.push(re),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const V=new e.t;return this.importWizardService.cache.pipe((0,T.P)()).subscribe(J=>{this.stepsAhead.push(this.importWizardProvider.getStep(m.K.importComplete)),this.showFinalSummary(J)&&this.stepsAhead.push(this.importWizardProvider.getStep(m.K.finalSummary));const q=this.sortImportResources(J),re=[],W=[];for(let G=q.length;G>0;G--){const X=q[G-1];let E=!1;X.resourceType===C.JR.ProtectedResource&&X.dependantClients.forEach(ne=>{E=J.some(K=>K.identifier===ne.identifier&&K.resourceState!==C.vZ.Duplicate)}),(X.selected||E)&&(X.existingHasSecrets&&re.push(this.importWizardProvider.getSecretStep(X)),X.hadSecrets&&!X.existingHasSecrets&&re.push(this.importWizardProvider.getSecretStep(X)),X.existingHasCertificates&&W.push(this.importWizardProvider.getCertificateStep(X)),X.hadCertificates&&!X.existingHasCertificates&&W.push(this.importWizardProvider.getCertificateStep(X)))}this.stepsAhead.push(...re),this.stepsAhead.push(...W),this.showClaimTypeSummary(J)&&this.stepsAhead.push(this.importWizardProvider.getStep(m.K.claimTypeSummary)),this.showResourceSummary(J)&&this.stepsAhead.push(this.importWizardProvider.getStep(m.K.resourcesSummary)),V.next()}),V}sortImportResources(V){V=(V=V.sort((q,re)=>q.displayName.toUpperCase().localeCompare(re.displayName.toUpperCase()))).sort((q,re)=>+q.conflictedByDependencies-+re.conflictedByDependencies);const J=[C.vZ.Conflicted,C.vZ.New,C.vZ.Duplicate];return V.sort((q,re)=>J.indexOf(q.resourceState)-J.indexOf(re.resourceState))}showResourceSummary(V){const J=V.filter(re=>re.resourceType===C.JR.Client&&!0===re.selected).map(re=>re.identifier),q=V.filter(re=>(re.resourceType===C.JR.IdentityResource||re.resourceType===C.JR.ProtectedResource)&&re.dependantClients.map(W=>W.identifier).some(W=>J.includes(W)));return q.length>0&&q.some(re=>re.resourceState===C.vZ.Conflicted)}showClaimTypeSummary(V){const J=V.filter(re=>re.resourceType===C.JR.Client&&!0===re.selected).map(re=>re.identifier),q=V.filter(re=>re.resourceType===C.JR.ClaimType&&re.dependantClients.map(W=>W.identifier).some(W=>J.includes(W)));return q.length>0&&q.some(re=>re.resourceState===C.vZ.Conflicted)}showFinalSummary(V){return V.some(J=>J.resourceType!==C.JR.Client)}}return N.\u0275fac=function(V){return new(V||N)(k.LFG(L.o),k.LFG(Z.U))},N.\u0275prov=k.Yz7({token:N,factory:N.\u0275fac}),N})()},1501:(dt,Ce,p)=>{"use strict";p.d(Ce,{o:()=>W});var t=p(3111),e=p(6126),m=p(7331),T=p(5744),C=p(9506),b=p(4650),g=p(7481),f=p(9383);let w=(()=>{class X extends C.n{constructor(ne){super(),this.importWizardService=ne,this.isWarningModal=!0,this.resetOnClose=!1}set data(ne){null!==ne&&(this.resetOnClose=ne)}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}}return X.\u0275fac=function(ne){return new(ne||X)(b.Y36(g.U))},X.\u0275cmp=b.Xpm({type:X,selectors:[["app-import-close-warning"]],features:[b.qOj],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(ne,K){1&ne&&(b.TgZ(0,"div",0)(1,"p"),b._uU(2),b.ALo(3,"translate"),b.ALo(4,"translate"),b.qZA()(),b.TgZ(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),b.NdJ("click",function(){return K.no()}),b._uU(9),b.ALo(10,"translate"),b.qZA()(),b.TgZ(11,"button",5),b.NdJ("click",function(){return K.yes()}),b._uU(12),b.ALo(13,"translate"),b.qZA()()()),2&ne&&(b.xp6(2),b.AsE("",b.lcZ(3,4,"Clients.Import.Wizard.Warning.Text1")," ",b.lcZ(4,6,"Clients.Import.Wizard.Warning.Text2"),""),b.xp6(7),b.Oqu(b.lcZ(10,8,"Notifications.StayHere")),b.xp6(3),b.Oqu(b.lcZ(13,10,"Notifications.DiscardChanges")))},dependencies:[f.X$],encapsulation:2}),X})();var _=p(3334),R=p(5669),P=p(6895);function a(X,E){1&X&&(b.TgZ(0,"p"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&X&&(b.xp6(1),b.Oqu(b.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let k=(()=>{class X extends C.n{constructor(ne){super(),this.importWizardService=ne,this.isWarningModal=!0}set data(ne){this.resource=ne,this.summaryDisplayType=R.m.getSummaryDisplayType(ne.resourceType)}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}}return X.\u0275fac=function(ne){return new(ne||X)(b.Y36(g.U))},X.\u0275cmp=b.Xpm({type:X,selectors:[["app-conflicts-confirmation"]],features:[b.qOj],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(ne,K){1&ne&&(b.TgZ(0,"div",0)(1,"p"),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.YNc(4,a,3,3,"p",1),b.qZA(),b.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),b.NdJ("click",function(){return K.no()}),b._uU(9),b.ALo(10,"translate"),b.qZA()(),b.TgZ(11,"button",6),b.NdJ("click",function(){return K.yes()}),b._uU(12),b.ALo(13,"translate"),b.qZA()()()),2&ne&&(b.xp6(2),b.AsE("",b.lcZ(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==K.resource?null:K.resource.displayName,""),b.xp6(2),b.Q6J("ngIf","Client"!==K.summaryDisplayType),b.xp6(5),b.Oqu(b.lcZ(10,7,"Clients.Import.Wizard.Warning.No")),b.xp6(3),b.Oqu(b.lcZ(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[P.O5,f.X$],encapsulation:2}),X})();var L=p(8255),Z=p(7363),j=p(7243),N=p(6679),B=p(5861),V=p(1696);const J=["certReader"],q=["nextButton"];let re=(()=>{class X extends C.n{constructor(ne){super(),this.translate=ne}get data(){return this._subject}set data(ne){this._subject=ne}certificateDataLoaded(ne){this.nextButton.nativeElement.disabled=!ne}goNext(){var ne=this;return(0,B.Z)(function*(){const K=yield ne.certReaderComponent.getCertificateModel();ne.data.next(K),ne.importWizardController.goToPreviousStep()})()}}return X.\u0275fac=function(ne){return new(ne||X)(b.Y36(f.sK))},X.\u0275cmp=b.Xpm({type:X,selectors:[["app-import-certificate-picker"]],viewQuery:function(ne,K){if(1&ne&&(b.Gf(J,5),b.Gf(q,5)),2&ne){let le;b.iGM(le=b.CRH())&&(K.certReaderComponent=le.first),b.iGM(le=b.CRH())&&(K.nextButton=le.first)}},features:[b.qOj],decls:21,vars:21,consts:[[1,"modal-body"],[3,"uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp","dataExists"],["certReader",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["nextButton",""],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(ne,K){1&ne&&(b.TgZ(0,"div",0)(1,"app-cert-reader",1,2),b.NdJ("dataExists",function(me){return K.certificateDataLoaded(me)}),b.ALo(3,"translate"),b.ALo(4,"translate"),b.ALo(5,"translate"),b.ALo(6,"translate"),b.qZA()(),b._UZ(7,"div",3),b.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"button",7,8),b.NdJ("click",function(){return K.goNext()}),b._uU(13),b.ALo(14,"translate"),b.qZA(),b.TgZ(15,"button",9),b.NdJ("click",function(){return K.back()}),b._uU(16),b.ALo(17,"translate"),b.qZA()(),b.TgZ(18,"button",10),b.NdJ("click",function(){return K.cancel()}),b._uU(19),b.ALo(20,"translate"),b.qZA()()()),2&ne&&(b.xp6(1),b.Q6J("uploadCert",b.lcZ(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",b.lcZ(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",b.lcZ(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",b.lcZ(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),b.xp6(12),b.hij(" ",b.lcZ(14,15,"Common.Add")," "),b.xp6(3),b.hij(" ",b.lcZ(17,17,"Common.Back")," "),b.xp6(3),b.hij(" ",b.lcZ(20,19,"Common.Cancel")," "))},dependencies:[V.c,f.X$],encapsulation:2}),X})(),W=(()=>{class X{constructor(){this.stepMap=new Map,this.stepMap.set(_.K.clientSummary,new G(e.j,"Clients.Import.Wizard.Summary.Title.Client",[t.JR.Client])),this.stepMap.set(_.K.resourcesSummary,new G(e.j,"Clients.Import.Wizard.Summary.Title.Resource",[t.JR.IdentityResource,t.JR.ProtectedResource])),this.stepMap.set(_.K.claimTypeSummary,new G(e.j,"Clients.Import.Wizard.Summary.Title.ClaimType",[t.JR.ClaimType])),this.stepMap.set(_.K.summaryConflicts,new G(T.Gz,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(_.K.importComplete,new G(m.l,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(_.K.importCloseWarning,new G(w,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(_.K.summaryConflictsConfirmation,new G(k,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(_.K.finalSummary,new G(L.o,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(_.K.importDownloadWarning,new G(j.l,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(_.K.importUploadCertificate,new G(re,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(ne){return this.stepMap.get(ne)}getSecretStep(ne){return new G(Z.$,"Clients.Import.Wizard.Secrets.Title",ne)}getCertificateStep(ne){return new G(N.V7,"Clients.Import.Wizard.Certificates.Title",ne)}}return X.\u0275fac=function(ne){return new(ne||X)},X.\u0275prov=b.Yz7({token:X,factory:X.\u0275fac}),X})();class G{constructor(E,ne,K,le=!1){this.component=E,this.stepTitle=ne,this.data=K,this.isDeadEnd=le}}},7481:(dt,Ce,p)=>{"use strict";p.d(Ce,{U:()=>C});var t=p(3111),e=p(4707),m=p(590),T=p(4650);let C=(()=>{class b{constructor(){this.importResourceTypeMap=new Map([[t.JR.Client,"Client"],[t.JR.ClaimType,"Claim Type"],[t.JR.ProtectedResource,"Protected Resource"],[t.JR.IdentityResource,"Identity Resource"]]),this.cache=new e.t(1),this.resetImport=new e.t(1)}updateSelectedClients(f){this.cache.pipe((0,m.P)()).subscribe(w=>{f=f.filter(_=>_.resourceType===t.JR.Client),w.forEach(_=>{const R=f.find(P=>P.identifier===_.identifier);void 0!==R&&(_.selected=R.selected)}),this.cache.next(w)})}selectResource(f){this.setResourcesSelected(f,!0)}deselectResource(f){this.setResourcesSelected(f,!1)}setResourcesSelected(f,w){this.cache.pipe((0,m.P)()).subscribe(_=>{let R;R=f.resourceType===t.JR.Client?[f.identifier]:f.dependantClients.filter(a=>a.state===t.CP.Importing).map(a=>a.identifier),R.forEach(P=>{_.find(a=>a.identifier===P&&a.resourceType===t.JR.Client).selected=w}),this.cache.next(_)})}downloadClientSecretsFromCache(){const f=new e.t;return this.cache.pipe((0,m.P)()).subscribe(w=>{const _=w.filter(k=>k.secrets&&k.secrets.length>0);let R="Type,Id,Name,Secret\r\n";_.forEach(k=>{k.secrets.forEach(L=>{R+=this.importResourceTypeMap.get(k.resourceType)+","+k.identifier+","+k.displayName+","+L.value+"\r\n"})});const P=new Blob([R],{type:"application/csv"}),a=document.createElement("a");a.download="import-secrets.csv",a.href=window.URL.createObjectURL(P),a.click(),a.remove(),f.next()}),f}}return b.\u0275fac=function(f){return new(f||b)},b.\u0275prov=T.Yz7({token:b,factory:b.\u0275fac}),b})()},3334:(dt,Ce,p)=>{"use strict";p.d(Ce,{K:()=>t});let t=(()=>{class e{}return e.importUploadCertificate="CertificateUpload",e.clientSummary="ClientSummary",e.resourcesSummary="ResourcesSummary",e.summaryConflicts="SummaryConflicts",e.claimTypeSummary="ClaimTypeSummary",e.importComplete="ImportComplete",e.importCloseWarning="ImportCloseWarning",e.summaryConflictsConfirmation="SummaryConflictsConfirmation",e.finalSummary="FinalSummary",e.importDownloadWarning="ImportDownloadWarning",e})()},7047:(dt,Ce,p)=>{"use strict";p.d(Ce,{E:()=>f});var t=p(529),e=p(765);class T{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==e.o.Demo}isStarterLicense(){return this.licenseType==e.o.Starter}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var C=p(590),b=p(4004),g=p(4650);let f=(()=>{class w{constructor(R){this.http=R,this.headers=new t.WM,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,C.P)(),(0,b.U)(R=>{var P=new T;return P.organisation=R.organisation,P.licenseType=R.licenseType,P.isExpired=R.isExpired,P.isInGracePeriod=R.isInGracePeriod,P.gracePeriodExpiry=R.gracePeriodExpiry,P.maxUsers=R.maxUsers,P.maxClients=R.maxClients,P.userQuotaRemaining=R.userQuotaRemaining,P.clientQuotaRemaining=R.clientQuotaRemaining,P}))}}return w.\u0275fac=function(R){return new(R||w)(g.LFG(t.eN))},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac}),w})()},6548:(dt,Ce,p)=>{"use strict";p.d(Ce,{$:()=>m});var t=p(529),e=p(4650);let m=(()=>{class T{constructor(b){this.http=b,this.headers=new t.WM,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}}return T.\u0275fac=function(b){return new(b||T)(e.LFG(t.eN))},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac}),T})()},7733:(dt,Ce,p)=>{"use strict";p.d(Ce,{m:()=>b});var t=p(529),e=p(4707),m=p(8176),T=p(4650),C=p(8564);let b=(()=>{class g{constructor(w,_){this.http=w,this.headersService=_,this.protectedResourceSubject=new e.t(1),this.actionUrl="ProtectedResources",this.headers=_.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(w){let _=new t.LE;return(0,m.hr)(w)||(_=_.set("name",w)),this.http.get(this.actionUrl,{headers:this.headers,params:_})}getResourcesPaginated(w,_,R){const P=`${this.actionUrl}/getPaginated`;let a=new t.LE;return(0,m.hr)(w)||(a=a.set("name",w)),_&&(a=a.append("page",_)),R&&(a=a.append("pageSize",R)),this.http.get(P,{headers:this.headers,params:a})}addResource(w){const _=`${this.actionUrl}/`,R=JSON.stringify(w);return this.http.post(_,R,{headers:this.headers})}getResource(w){return this.http.get(`${this.actionUrl}/${w}`,{headers:this.headers})}updateResource(w){return this.http.put(`${this.actionUrl}/${w.id}`,w,{headers:this.headers})}updateResourceSecret(w,_){return this.http.put(`${this.actionUrl}/${w}/secrets/${_.id}`,_,{headers:this.headers})}removeResourceSecret(w,_){return this.http.delete(`${this.actionUrl}/${w}/secrets/${_}`,{headers:this.headers})}addResourceSecret(w,_){return this.http.post(`${this.actionUrl}/${w}/secrets`,_,{headers:this.headers})}updateResourceScope(w,_,R){const P=encodeURIComponent(R);return this.http.put(`${this.actionUrl}/${w}/scopes/${P}`,_,{headers:this.headers})}addResourceScope(w,_){return this.http.post(`${this.actionUrl}/${w}/scopes`,_,{headers:this.headers})}deleteProtectedResource(w){return this.http.delete(`${this.actionUrl}/${w}`,{headers:this.headers})}deleteScope(w,_){const R=encodeURIComponent(_);return this.http.delete(`${this.actionUrl}/${w}/scopes/${R}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}}return g.\u0275fac=function(w){return new(w||g)(T.LFG(t.eN),T.LFG(C.s))},g.\u0275prov=T.Yz7({token:g,factory:g.\u0275fac}),g})()},927:(dt,Ce,p)=>{"use strict";p.d(Ce,{O:()=>w});var t=p(515),e=p(4004),m=p(262),T=p(4879),C=p(4650),b=p(9883),g=p(8185),f=p(4889);let w=(()=>{class _{constructor(P,a,k){this.roleService=P,this.router=a,this.errorService=k}resolve(P,a){const k=P.paramMap.get("Id");return this.roleService.getRole(k).pipe((0,e.U)(L=>(L&&this.roleService.getCachedRole().next(L),L)),(0,m.K)((L,Z)=>(404===L.status?this.errorService.resourceNotFound(T._.role):this.errorService.handleError(L),(0,t.c)())))}}return _.\u0275fac=function(P){return new(P||_)(C.LFG(b.f),C.LFG(g.F0),C.LFG(f.T))},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac}),_})()},9883:(dt,Ce,p)=>{"use strict";p.d(Ce,{f:()=>b});var t=p(529),e=p(4707),m=p(8176),T=p(4650),C=p(8564);let b=(()=>{class g{constructor(w,_){this.http=w,this.RoleSubject=new e.t(1),this.actionUrl="roles",this.headers=_.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(w){this.RoleSubject.next(w)}getRoles(w,_){let R=new t.LE;return(0,m.hr)(w)||(R=R.append("name",w)),R=R.append("sort",(0,m.hr)(_)?"name":_),this.http.get(this.actionUrl,{headers:this.headers,params:R})}getRole(w){return this.http.get(`${this.actionUrl}/${w}`,{headers:this.headers})}deleteRole(w){return this.http.delete(`${this.actionUrl}/${w.id}`,{headers:this.headers})}addRole(w){const _=`${this.actionUrl}/`,R=JSON.stringify(w);return this.http.post(_,R,{headers:this.headers})}updateRole(w){const _=JSON.stringify(w);return this.http.put(`${this.actionUrl}/${w.id}`,_,{headers:this.headers})}getUsersInRole(w,_,R,P){let a=new t.LE;return(0,m.hr)(P)||(a=a.append("q",P)),_&&(a=a.append("page",String(_))),R&&(a=a.append("pageSize",String(R))),this.http.get(`${this.actionUrl}/${w}/users`,{headers:this.headers,params:a})}addAndRemoveUsers(w,_){const R=JSON.stringify(_);return this.http.put(`${this.actionUrl}/${w}/users`,R,{headers:this.headers})}}return g.\u0275fac=function(w){return new(w||g)(T.LFG(t.eN),T.LFG(C.s))},g.\u0275prov=T.Yz7({token:g,factory:g.\u0275fac}),g})()},8677:(dt,Ce,p)=>{"use strict";p.d(Ce,{B:()=>Z});var t=p(9646),e=p(1848),m=p(7579),T=p(3900),C=p(5373),b=p(4650),g=p(1060),f=p(4946),w=p(1228),_=p(2979),R=p(4889),P=p(1058),a=p(8185),k=p(9881),L=p(9455);let Z=(()=>{class j{constructor(B,V,J,q,re,W,G,X,E){this.securityService=B,this.healthCheckService=V,this.authService=J,this.localizeRouter=q,this.errorService=re,this.loginTrackingService=W,this.router=G,this.configService=X,this.appComponentViewService=E}canActivate(B,V){return this.healthCheckService.uiReady?this.authDecision(B,V):this.healthCheckService.uiHealthCheckComplete.pipe((0,T.w)(J=>this.authDecision(B,V)))}authDecision(B,V){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==C.n.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe(J=>{if(J.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const q=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([q])}}),void 0!==this.securityService.userPermissions?(0,t.of)(this.permissionAuthDecision(B)):this.permissionAuthDecisionAsObservable(B)):(this.securityService.startLogin(V.url),e.C)}permissionAuthDecision(B){const V=B.data.permissions;if(void 0===V)return!0;for(let J=0;J<V.length;J++)if(this.securityService.userPermissions.includes(V[J]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(B){const V=new m.x;return this.securityService.init().subscribe(()=>{V.next(this.permissionAuthDecision(B))}),V.asObservable()}}return j.\u0275fac=function(B){return new(B||j)(b.LFG(g.I),b.LFG(f.G),b.LFG(w.e),b.LFG(_.An),b.LFG(R.T),b.LFG(P.U),b.LFG(a.F0),b.LFG(k.E),b.LFG(L.t))},j.\u0275prov=b.Yz7({token:j,factory:j.\u0275fac}),j})()},1060:(dt,Ce,p)=>{"use strict";p.d(Ce,{I:()=>V});var t=p(7579);class e extends t.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(q){const{hasError:re,_hasValue:W,_value:G,thrownError:X,isStopped:E,_isComplete:ne}=this;re?q.error(X):(E||ne)&&(W&&q.next(G),q.complete())}next(q){this.isStopped||(this._value=q,this._hasValue=!0)}complete(){const{_hasValue:q,_value:re,_isComplete:W}=this;W||(this._isComplete=!0,q&&super.next(re),super.complete())}}var m=p(4128),T=p(1206),C=p(4004),b=p(5698),g=p(8176),f=p(2976),w=p(765),_=p(4650),R=p(8185),P=p(2979),a=p(9881),k=p(1228),L=p(6548),Z=p(7047),j=p(4889),N=p(1058),B=p(9383);let V=(()=>{class J{constructor(re,W,G,X,E,ne,K,le,me){this.router=re,this.localize=W,this.configService=G,this.authService=X,this.permissionService=E,this.licenseService=ne,this.errorService=K,this.loginTrackingService=le,this.translate=me,this.userPermissions$=new e,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(re){let G=re??this.router.url;G=G.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",G),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(re){if(re.isAuthenticated){let W=this.storage.getItem("redirectUrl");null==W&&(W="/home");const G=this.localize.translateRoute(W);this.handleSuccessfulAuthorization(G)}else this.handleUnsuccessfulAuthorization(re.username)}handleSuccessfulAuthorization(re){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(re)},W=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(W,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:f.de.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(re){if((0,g.hr)(re))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:f.de.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const W=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(W)}isNonProd(){return this.licenseType===w.o.Demo||this.licenseType===w.o.NonProduction}init(){const re=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,m.D)(re)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,C.U)(re=>{this.userPermissions=re.permissions,this.policyClaims=re.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(T.y[T.y.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!0,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(T.y[T.y.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(T.y[T.y.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(T.y[T.y.UserManagerReadOnly]),this.identityServerManagerView=this.userPermissions.includes(T.y[T.y.IdentityServerManager]),this.identityServerManagerReadOnlyView=this.userPermissions.includes(T.y[T.y.IdentityServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(T.y[T.y.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.identityServerManagerView||this.identityServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(re.permissions),this.userPermissions$.complete()},re=>{this.errorService.handleError(re)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,C.U)(re=>{this.licenseType=re.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=w.o.NonProduction),re.isStarterLicense()&&(this.licenseType=w.o.Starter),this.nonProduction=re.licenseType!==w.o.Production,this.organisation=re.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,b.q)(1))}}return J.\u0275fac=function(re){return new(re||J)(_.LFG(R.F0),_.LFG(P.An),_.LFG(a.E),_.LFG(k.e),_.LFG(L.$),_.LFG(Z.E),_.LFG(j.T),_.LFG(N.U),_.LFG(B.sK))},J.\u0275prov=_.Yz7({token:J,factory:J.\u0275fac}),J})()},1339:(dt,Ce,p)=>{"use strict";p.d(Ce,{G:()=>C});var t=p(4707),e=p(4650),m=p(529),T=p(8564);let C=(()=>{class b{constructor(f,w){this.http=f,this.headersService=w,this.ServiceProviderSubject=new t.t(1),this.actionUrl="clients",this.headers=w.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(f){return this.http.get(`${this.actionUrl}/${f}/saml`,{headers:this.headers})}updateServiceProvider(f,w){const _=`${this.actionUrl}/${f}/saml`,R={allowIdpInitiatedSso:w.allowIdpInitiatedSso,assertionConsumerServices:w.assertionConsumerServices,artifactResolutionServices:w.artifactResolutionServices,claimMappings:w.claimMappings,encryptAssertions:w.encryptAssertions,requireSamlMessageDestination:w.requireSamlMessageDestination,signAssertions:w.signAssertions,singleLogoutServices:w.singleLogoutServices,requireAuthenticationRequestsSigned:w.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:w.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:w.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:w.requireSignedArtifactResponses,nameIdentifierFormat:w.nameIdentifierFormat},P=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(_,R,{headers:P})}setEncryptionCertificateViaFile(f,w){const _=`${this.actionUrl}/${f}/saml/certificates/encryption`,R=w,P=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(_,R,{headers:P})}setEncryptionCertificateViaMetadata(f,w){const _=`${this.actionUrl}/${f}/saml/certificates/encryption`,R=w,P=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(_,R,{headers:P})}deleteEncryptionCertificate(f){return this.http.delete(`${this.actionUrl}/${f}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(f,w){const _=`${this.actionUrl}/${f}/saml/certificates/signing`,R=w,P=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(_,R,{headers:P})}addSigningCertificateViaMetadata(f,w){const _=`${this.actionUrl}/${f}/saml/certificates/signing`,R=w,P=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(_,R,{headers:P})}deleteSigningCertificate(f,w){return this.http.delete(`${this.actionUrl}/${f}/saml/certificates/signing/${w}`,{headers:this.headers})}}return b.\u0275fac=function(f){return new(f||b)(e.LFG(m.eN),e.LFG(T.s))},b.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},5302:(dt,Ce,p)=>{"use strict";p.d(Ce,{L:()=>b});var t=p(590),e=p(4650),m=p(1339),T=p(9536),C=p(4889);let b=(()=>{class g{constructor(w,_,R){this.serviceProviderService=w,this.cache=_,this.errorService=R}uploadFile(w,_){return this.serviceProviderService.addSigningCertificateViaFile(w,_)}uploadViaMetaData(w,_){return this.serviceProviderService.addSigningCertificateViaMetadata(w,_)}updateCertCache(w){this.serviceProviderService.getServiceProvider(w).subscribe(_=>{this.cache.unsavedCache$.pipe((0,t.P)()).subscribe(R=>{R.signingCertificates=_.signingCertificates,this.cache.unsavedCache.next(R)})},_=>{this.errorService.handleError(_)})}}return g.\u0275fac=function(w){return new(w||g)(e.LFG(m.G),e.LFG(T.S),e.LFG(C.T))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac}),g})()},4100:(dt,Ce,p)=>{"use strict";p.d(Ce,{N:()=>m});var t=p(1837),e=p(4650);let m=(()=>{class T{now(){return t.ou.now()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac}),T})()},9260:(dt,Ce,p)=>{"use strict";p.d(Ce,{O:()=>m});var t=p(1837),e=p(4650);let m=(()=>{class T{now(){return t.ou.now()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac}),T})()},9490:(dt,Ce,p)=>{"use strict";p.d(Ce,{o:()=>m});var t=p(4650),e=p(7185);let m=(()=>{class T{constructor(b){this.inner=b}success_noduplicate(b,g){return this.showToast(b,g,(f,w)=>this.inner.success(f,w))}error_noduplicate(b,g){return this.showToast(b,g,(f,w)=>this.inner.error(f,w))}showToast(b,g,f){var w=this.inner.findDuplicate(g,b,!1,!1);return w&&this.inner.remove(w.toastId),f(b,g)}}return T.\u0275fac=function(b){return new(b||T)(t.LFG(e._W))},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},8783:(dt,Ce,p)=>{"use strict";p.d(Ce,{L:()=>f});var t=p(515),e=p(4004),m=p(262),T=p(4879),C=p(4650),b=p(4961),g=p(4889);let f=(()=>{class w{constructor(R,P){this.userService=R,this.errorService=P}resolve(R,P){return this.userService.getUser(R.params.Id).pipe((0,e.U)(k=>(k&&this.userService.getCachedUser().next(k),k)),(0,m.K)((k,L)=>(404===k.status?this.errorService.resourceNotFound(T._.user):this.errorService.handleError(k),(0,t.c)())))}}return w.\u0275fac=function(R){return new(R||w)(C.LFG(b.K),C.LFG(g.T))},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac}),w})()},4961:(dt,Ce,p)=>{"use strict";p.d(Ce,{K:()=>w});var t=p(529),e=p(4707),m=p(9646),T=p(4004),C=p(262),b=p(8176),g=p(4650),f=p(8564);let w=(()=>{class _{constructor(P,a){this.http=P,this.headersService=a,this.userSubject=new e.t(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,T.U)(()=>!0),(0,C.K)(a=>(0,m.of)(!1)))}getUser(P){return this.http.get(`${this.actionUrl}/${P}`,{headers:this.headers}).pipe((0,T.U)(k=>(this.userSubject.next(k),k),k=>(this.userSubject.error(k),k)))}getCachedUser(){return this.userSubject}getUsers(P,a,k,L,Z){let j=new t.LE;return(0,b.hr)(P)||(j=j.append("q",P)),a&&(j=j.append("page",String(a))),k&&(j=j.append("pageSize",String(k))),L&&(j=j.append("state",L.toString())),Z&&(j=j.append("sort",Z.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:j})}getUsersLightweight(P,a,k,L,Z){let j=new t.LE;return(0,b.hr)(P)||(j=j.append("q",P)),a&&(j=j.append("page",String(a))),k&&(j=j.append("pageSize",String(k))),L&&(j=j.append("state",L.toString())),Z&&(j=j.append("advancedFilters",Z.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:j})}addUser(P){const a=`${this.actionUrl}/`,k=JSON.stringify(P);return this.http.post(a,k,{headers:this.headers,observe:"response"})}addInitialAdministrator(P){const a=`${this.actionUrl}/initialadmin`,k=JSON.stringify(P);return this.http.post(a,k,{headers:this.headers,observe:"response"})}getUserApps(P){return this.http.get(`${this.actionUrl}/${P}/apps`,{headers:this.headers})}revokeAllUserApps(P){return this.http.delete(`${this.actionUrl}/${P}/apps`,{headers:this.headers})}revokeSingleUserApp(P,a){return this.http.delete(`${this.actionUrl}/${P}/apps/${a}`,{headers:this.headers})}updateUser(P){const a=`${this.actionUrl}/${P.subject}`,k=JSON.stringify(P);return this.http.put(a,k,{headers:this.headers})}deleteUser(P){return this.http.delete(`${this.actionUrl}/${P.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(P,a){return this.http.post(`${this.actionUrl}/${P}/roles`,a,{headers:this.headers})}deleteUserRoles(P,a){return this.http.request("delete",`${this.actionUrl}/${P}/roles`,{headers:this.headers,body:a})}addUserClaim(P,a){return this.http.post(`${this.actionUrl}/${P}/claims`,a,{headers:this.headers})}updateUserClaim(P,a){return this.http.put(`${this.actionUrl}/${P}/claims`,a,{headers:this.headers})}deleteUserClaim(P,a){return this.http.request("delete",`${this.actionUrl}/${P}/claims`,{headers:this.headers,body:a})}resetPassword(P){return this.http.get(`${this.actionUrl}/${P}/password/reset`,{headers:this.headers})}resetMfa(P){return this.http.get(`${this.actionUrl}/${P}/mfa/reset`,{headers:this.headers})}getUserLogins(P){return this.http.get(`${this.actionUrl}/${P}/logins`,{headers:this.headers})}revokeUserLogin(P,a){return this.http.request("delete",`${this.actionUrl}/${P}/logins`,{headers:this.headers,body:a})}getLightweightUsersAndIfInRole(P,a,k,L,Z){let j=new t.LE;a&&(j=j.append("state",a.toString()));const N=`${this.actionUrl}/lightweight/isinrole/${P}`;return(0,b.hr)(k)||(j=j.append("searchTerm",k)),L&&(j=j.append("page",String(L))),Z&&(j=j.append("pageSize",String(Z))),this.http.get(N,{headers:this.headers,params:j})}}return _.\u0275fac=function(P){return new(P||_)(g.LFG(t.eN),g.LFG(f.s))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac}),_})()},3499:(dt,Ce,p)=>{"use strict";p.d(Ce,{K:()=>T});var t=p(4650),e=p(529),m=p(8564);let T=(()=>{class C{constructor(g,f){this.http=g,this.headersService=f,this.actionUrl="clients"}getRelyingParty(g){const f=`${this.actionUrl}/${g}/wsfed`,w=this.headersService.setHeaders();return this.http.get(f,{headers:w})}updateRelyingParty(g,f){const w=`${this.actionUrl}/${g}/wsfed`,_=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(w,f,{headers:_})}}return C.\u0275fac=function(g){return new(g||C)(t.LFG(e.eN),t.LFG(m.s))},C.\u0275prov=t.Yz7({token:C,factory:C.\u0275fac}),C})()},8163:(dt,Ce,p)=>{"use strict";p.d(Ce,{K:()=>T});var t=p(4650);const e=[[["","left",""]],[["","right",""]]],m=["[left]","[right]"];let T=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-action-bar"]],ngContentSelectors:m,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(g,f){1&g&&(t.F$t(e),t.TgZ(0,"div",0),t.Hsn(1),t.TgZ(2,"div",1),t.Hsn(3,1),t.qZA()())},encapsulation:2}),C})()},4022:(dt,Ce,p)=>{"use strict";p.d(Ce,{p:()=>b});var t=p(6895),e=p(8185),m=p(5503),T=p(9383),C=p(4650);let b=(()=>{class g{}return g.\u0275fac=function(w){return new(w||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({imports:[t.ez,e.Bz,m.D,T.aw]}),g})()},6055:(dt,Ce,p)=>{"use strict";p.d(Ce,{Ic:()=>e,zS:()=>m});var t=p(7340);function e(){return(0,t.X$)("fadeInOut",[(0,t.eR)(":enter",[(0,t.oB)({opacity:0}),(0,t.jt)("250ms",(0,t.oB)({opacity:1}))]),(0,t.eR)(":leave",[(0,t.oB)({opacity:1}),(0,t.jt)("250ms",(0,t.oB)({opacity:0}))])])}function m(){return(0,t.X$)("initLoad",[(0,t.eR)(":enter",[(0,t.oB)({opacity:0}),(0,t.jt)("250ms",(0,t.oB)({opacity:1}))]),(0,t.eR)(":leave",[(0,t.oB)({opacity:1}),(0,t.jt)("250ms",(0,t.oB)({opacity:0}))])])}},8192:(dt,Ce,p)=>{"use strict";p.d(Ce,{h:()=>_});var t=p(4006),e=p(8265),m=p(2320),T=p(9241),C=p(9383),b=p(9650),g=p(6493),f=p(6895),w=p(4650);let _=(()=>{class R{}return R.\u0275fac=function(a){return new(a||R)},R.\u0275mod=w.oAB({type:R}),R.\u0275inj=w.cJS({imports:[f.ez,e.j,t.UX,T.P4,C.aw,m.z8,b.I,g.l]}),R})()},7356:(dt,Ce,p)=>{"use strict";p.d(Ce,{$:()=>$e});var t=p(7579),e=p(8675),m=p(5577),T=p(4006);class C{constructor(Xe,Fe,Tt,vt){this.auditAction=Xe||"",this.subject=Fe||"",this.resourceName=Tt||"",this.source=vt||""}}class b{constructor(Xe){this.auditAction=Xe.auditSearch.auditAction,this.subject=Xe.auditSearch.subject,this.resourceName=Xe.auditSearch.resourceName,this.source=Xe.auditSearch.source,this.fromDate=Xe.fromDate.toString(),this.toDate=Xe.toDate.toString(),this.page=Xe.page,this.pageSize=Xe.pageSize,this.sortCriteria=Xe.sortCriteria,this.success=Xe.success}}class g{constructor(Xe,Fe,Tt,vt,Ge,de,ee){this.auditSearch=Xe,this.fromDate=Fe,this.toDate=Tt,this.page=vt,this.pageSize=Ge,this.sortCriteria=de,this.success=ee}}var f=p(8176),w=p(1837),_=p(4650),R=p(3212),P=p(2979),a=p(8185),k=p(1060),L=p(1888),Z=p(9260),j=p(6895),N=p(2320),B=p(7696),V=p(8163),J=p(5925),q=p(4225),re=p(9383),W=p(3110);function G(Ye,Xe){1&Ye&&(_.TgZ(0,"span",62),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&Ye&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Auditing.FromDateWarning")," "))}function X(Ye,Xe){1&Ye&&(_.TgZ(0,"span",63),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&Ye&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Auditing.ToDateBehindWarning")," "))}function E(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.TgZ(0,"li",67)(1,"button",68),_.NdJ("click",function(){_.CHM(Fe);const vt=_.oxw(2);return _.KtG(vt.removeFilter("source"))}),_.TgZ(2,"b",69),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_._UZ(7,"span",70),_.qZA()()}if(2&Ye){const Fe=_.oxw(2);_.xp6(3),_.hij("",_.lcZ(4,2,"Auditing.Source"),":"),_.xp6(3),_.Oqu(Fe.filterForm.get("auditSearch").get("source").value)}}function ne(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.TgZ(0,"li",67)(1,"button",71),_.NdJ("click",function(){_.CHM(Fe);const vt=_.oxw(2);return _.KtG(vt.removeFilter("subject"))}),_.TgZ(2,"b",69),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_._UZ(7,"span",70),_.qZA()()}if(2&Ye){const Fe=_.oxw(2);_.xp6(3),_.hij("",_.lcZ(4,2,"Auditing.Subject"),":"),_.xp6(3),_.Oqu(Fe.filterForm.get("auditSearch").get("subject").value)}}function K(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.TgZ(0,"li",67)(1,"button",71),_.NdJ("click",function(){_.CHM(Fe);const vt=_.oxw(2);return _.KtG(vt.removeFilter("auditAction"))}),_.TgZ(2,"b",69),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_._UZ(7,"span",70),_.qZA()()}if(2&Ye){const Fe=_.oxw(2);_.xp6(3),_.hij("",_.lcZ(4,2,"Auditing.Action"),":"),_.xp6(3),_.Oqu(Fe.filterForm.get("auditSearch").get("auditAction").value)}}function le(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.TgZ(0,"li",67)(1,"button",71),_.NdJ("click",function(){_.CHM(Fe);const vt=_.oxw(2);return _.KtG(vt.removeFilter("resourceName"))}),_.TgZ(2,"b",69),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_._UZ(7,"span",70),_.qZA()()}if(2&Ye){const Fe=_.oxw(2);_.xp6(3),_.hij("",_.lcZ(4,2,"Auditing.Resource"),":"),_.xp6(3),_.Oqu(Fe.filterForm.get("auditSearch").get("resourceName").value)}}function me(Ye,Xe){if(1&Ye&&(_.TgZ(0,"div",64)(1,"p",47),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"ul",65),_.YNc(5,E,8,4,"li",66),_.YNc(6,ne,8,4,"li",66),_.YNc(7,K,8,4,"li",66),_.YNc(8,le,8,4,"li",66),_.qZA()()),2&Ye){const Fe=_.oxw();_.xp6(2),_.Oqu(_.lcZ(3,5,"Auditing.ActiveFilters")),_.xp6(3),_.Q6J("ngIf",Fe.filterForm.get("auditSearch").get("source").value),_.xp6(1),_.Q6J("ngIf",Fe.filterForm.get("auditSearch").get("subject").value),_.xp6(1),_.Q6J("ngIf",Fe.filterForm.get("auditSearch").get("auditAction").value),_.xp6(1),_.Q6J("ngIf",Fe.filterForm.get("auditSearch").get("resourceName").value&&!Fe.resourceOnly)}}function Se(Ye,Xe){1&Ye&&(_.TgZ(0,"span"),_._UZ(1,"span",72),_._uU(2),_.ALo(3,"translate"),_.qZA()),2&Ye&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Auditing.ShowFilters")," "))}function ye(Ye,Xe){1&Ye&&(_.TgZ(0,"span"),_._UZ(1,"span",73),_._uU(2),_.ALo(3,"translate"),_.qZA()),2&Ye&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Auditing.HideFilters")," "))}function ze(Ye,Xe){1&Ye&&(_.TgZ(0,"option",74),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&Ye&&(_.xp6(1),_.Oqu(_.lcZ(2,1,"Auditing.Resource")))}function Ee(Ye,Xe){1&Ye&&(_.TgZ(0,"p",75),_._UZ(1,"span",76),_._uU(2),_.ALo(3,"translate"),_.qZA()),2&Ye&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Auditing.UpdateWarning")," "))}function qe(Ye,Xe){1&Ye&&(_.TgZ(0,"span",81)(1,"span",47),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&Ye&&(_.xp6(2),_.Oqu(_.lcZ(3,1,"Common.Loading")))}function Te(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.TgZ(0,"app-action-bar"),_.ynx(1,77),_.YNc(2,qe,4,3,"span",78),_.TgZ(3,"button",79),_.NdJ("click",function(){_.CHM(Fe);const vt=_.oxw();return _.KtG(vt.getCSV())}),_.ALo(4,"translate"),_.TgZ(5,"span"),_._UZ(6,"span",80),_.qZA(),_.TgZ(7,"span",47),_._uU(8),_.ALo(9,"translate"),_.qZA()(),_.BQk(),_.qZA()}if(2&Ye){const Fe=_.oxw();_.xp6(2),_.Q6J("ngIf",Fe.loadingCSV),_.xp6(1),_.Q6J("tooltip",_.lcZ(4,4,"Auditing.DownloadResults"))("disabled",(null==Fe.pagedResult?null:Fe.pagedResult.results.length)<1&&!Fe.isLoading||Fe.loadingCSV),_.xp6(5),_.Oqu(_.lcZ(9,6,"Auditing.DownloadResults"))}}function nt(Ye,Xe){1&Ye&&_._UZ(0,"app-simple-loader")}function at(Ye,Xe){1&Ye&&(_.TgZ(0,"div",82)(1,"div"),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&Ye&&(_.xp6(2),_.Oqu(_.lcZ(3,1,"Auditing.NoAuditsFound")))}function wt(Ye,Xe){1&Ye&&(_.TgZ(0,"th",95),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&Ye&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Auditing.Resource")," "))}function lt(Ye,Xe){if(1&Ye&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&Ye){const Fe=_.oxw().$implicit;_.xp6(1),_.Oqu(Fe.subject.name)}}function mt(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.TgZ(0,"span")(1,"a",108),_.NdJ("click",function(){_.CHM(Fe);const vt=_.oxw().$implicit,Ge=_.oxw(2);return _.KtG(!!Ge.resourceNavigate(vt.subject))}),_._uU(2),_.qZA()()}if(2&Ye){const Fe=_.oxw().$implicit,Tt=_.oxw(2);_.xp6(1),_.s9C("href",Tt.buildLink(Fe.subject),_.LSH),_.xp6(1),_.hij(" ",Fe.subject.name," ")}}function pt(Ye,Xe){if(1&Ye&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&Ye){const Fe=_.oxw(2).$implicit;_.xp6(1),_.hij(" ",Fe.resource.name," ")}}function Yt(Ye,Xe){if(1&Ye&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&Ye){const Fe=_.oxw(3).$implicit;_.xp6(1),_.Oqu(Fe.resource.identifier)}}function un(Ye,Xe){if(1&Ye&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&Ye){const Fe=_.oxw(3).$implicit;_.xp6(1),_.Oqu(Fe.resource.name)}}function Nt(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.TgZ(0,"span")(1,"a",108),_.NdJ("click",function(){_.CHM(Fe);const vt=_.oxw(2).$implicit,Ge=_.oxw(2);return _.KtG(!!Ge.resourceNavigate(vt.resource))}),_.YNc(2,Yt,2,1,"span",29),_.YNc(3,un,2,1,"span",29),_.qZA()()}if(2&Ye){const Fe=_.oxw(2).$implicit,Tt=_.oxw(2);_.xp6(1),_.s9C("href",Tt.buildLink(Fe.resource),_.LSH),_.xp6(1),_.Q6J("ngIf",""==Fe.name),_.xp6(1),_.Q6J("ngIf",""!=Fe.name)}}function Mt(Ye,Xe){if(1&Ye&&(_.TgZ(0,"td",109),_.YNc(1,pt,2,1,"span",29),_.YNc(2,Nt,4,3,"span",29),_.qZA()),2&Ye){const Fe=_.oxw().$implicit,Tt=_.oxw(2);_.xp6(1),_.Q6J("ngIf","*"==Fe.resource.name||""==Tt.buildLink(Fe.resource)),_.xp6(1),_.Q6J("ngIf","*"!=Fe.resource.name&&""!=Tt.buildLink(Fe.resource))}}function Y(Ye,Xe){1&Ye&&(_.TgZ(0,"span",110)(1,"span",47),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&Ye&&(_.xp6(2),_.Oqu(_.lcZ(3,1,"Common.Yes")))}function Q(Ye,Xe){1&Ye&&(_.TgZ(0,"span",111)(1,"span",47),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&Ye&&(_.xp6(2),_.Oqu(_.lcZ(3,1,"Common.No")))}function ce(Ye,Xe){1&Ye&&_._UZ(0,"span",118)}function We(Ye,Xe){1&Ye&&_._UZ(0,"span",119)}function Je(Ye,Xe){if(1&Ye&&(_.TgZ(0,"tr",112),_._UZ(1,"td"),_.TgZ(2,"td",113)(3,"div",114)(4,"span",115),_.YNc(5,ce,1,0,"span",116),_.YNc(6,We,1,0,"span",117),_.qZA(),_.TgZ(7,"span"),_._uU(8),_.qZA()()()()),2&Ye){const Fe=_.oxw().$implicit;_.xp6(5),_.Q6J("ngIf",Fe.succeeded),_.xp6(1),_.Q6J("ngIf",!Fe.succeeded),_.xp6(2),_.Oqu(Fe.description)}}function Oe(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.ynx(0,null,96),_.TgZ(2,"tr")(3,"td",97)(4,"button",98),_.NdJ("click",function(){_.CHM(Fe);const vt=_.MAs(1);return _.KtG(vt.isOpen=!vt.isOpen)}),_._UZ(5,"span",99),_.TgZ(6,"span",47),_._uU(7),_.ALo(8,"translate"),_.qZA()()(),_.TgZ(9,"td"),_._uU(10),_.ALo(11,"standardDateTime"),_._UZ(12,"div"),_.qZA(),_.TgZ(13,"td",100),_._uU(14),_.qZA(),_.TgZ(15,"td",101),_.YNc(16,lt,2,1,"span",29),_.YNc(17,mt,3,2,"span",29),_.qZA(),_.TgZ(18,"td",102),_._uU(19),_.qZA(),_.YNc(20,Mt,3,2,"td",103),_.TgZ(21,"td",104),_.YNc(22,Y,4,3,"span",105),_.YNc(23,Q,4,3,"span",106),_.qZA()(),_.YNc(24,Je,9,3,"tr",107),_.BQk()}if(2&Ye){const Fe=Xe.$implicit,Tt=_.MAs(1),vt=_.oxw(2);_.xp6(5),_.ekj("fa-caret-right",!Tt.isOpen),_.xp6(2),_.hij(" ",_.lcZ(8,12,"Auditing.ToggleDetails")," "),_.xp6(3),_.hij(" ",_.lcZ(11,14,Fe.when)," "),_.xp6(4),_.hij(" ",Fe.source," "),_.xp6(2),_.Q6J("ngIf",""==vt.buildLink(Fe.subject)),_.xp6(1),_.Q6J("ngIf",""!=vt.buildLink(Fe.subject)),_.xp6(2),_.hij(" ",Fe.action," "),_.xp6(1),_.Q6J("ngIf",!vt.resourceOnly),_.xp6(2),_.Q6J("ngIf",Fe.succeeded),_.xp6(1),_.Q6J("ngIf",!Fe.succeeded),_.xp6(1),_.Q6J("ngIf",Tt.isOpen)}}function i(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.TgZ(0,"table",83)(1,"thead")(2,"tr")(3,"th",84)(4,"span",47),_._uU(5),_.ALo(6,"translate"),_.qZA()(),_.TgZ(7,"th",85),_.NdJ("click",function(){_.CHM(Fe);const vt=_.oxw();return _.KtG(vt.sortResults())}),_.TgZ(8,"span",86),_._uU(9),_.ALo(10,"translate"),_.qZA(),_._UZ(11,"span",87),_.qZA(),_.TgZ(12,"th",88),_._uU(13),_.ALo(14,"translate"),_.qZA(),_.TgZ(15,"th",89),_._uU(16),_.ALo(17,"translate"),_.qZA(),_.TgZ(18,"th",90),_._uU(19),_.ALo(20,"translate"),_.qZA(),_.YNc(21,wt,3,3,"th",91),_.TgZ(22,"th",92),_._uU(23),_.ALo(24,"translate"),_.qZA()()(),_.TgZ(25,"tbody",93),_.YNc(26,Oe,25,16,"ng-container",94),_.qZA()()}if(2&Ye){const Fe=_.oxw();_.xp6(5),_.Oqu(_.lcZ(6,10,"Common.Actions")),_.xp6(4),_.Oqu(_.lcZ(10,12,"Auditing.When")),_.xp6(2),_.ekj("fa-caret-up","when"==Fe.filterSort),_.xp6(2),_.Oqu(_.lcZ(14,14,"Auditing.Source")),_.xp6(3),_.Oqu(_.lcZ(17,16,"Auditing.Subject")),_.xp6(3),_.Oqu(_.lcZ(20,18,"Auditing.Action")),_.xp6(2),_.Q6J("ngIf",!Fe.resourceOnly),_.xp6(2),_.hij(" ",_.lcZ(24,20,"Notifications.Success")," "),_.xp6(3),_.Q6J("ngForOf",Fe.pagedResult.results)}}function we(Ye,Xe){if(1&Ye){const Fe=_.EpF();_.TgZ(0,"app-pager",120),_.NdJ("onGoToPage",function(vt){_.CHM(Fe);const Ge=_.oxw();return _.KtG(Ge.goToPage(vt))}),_.qZA()}if(2&Ye){const Fe=_.oxw();_.Q6J("totalResults",null==Fe.pagedResult?null:Fe.pagedResult.totalCount)("currentPage",Fe.filterForm.get("page").value)("lastPage",null==Fe.pagedResult?null:Fe.pagedResult.pageCount)}}let $e=(()=>{class Ye{constructor(Fe,Tt,vt,Ge,de,ee,U,te){this.auditingService=Fe,this.localizeRouter=Tt,this.router=vt,this.fb=Ge,this.activatedRoute=de,this.securityService=ee,this.fileDownloader=U,this.timeService=te,this.sortAsc="when",this.sortDesc="-when",this.isLoading=!1,this.loadingCSV=!1,this.showAddFilter=!1,this.filterHasChanged=!1,this.auditStream=new t.x}get resourceOnly(){return!(0,f.hr)(this.resourceName)}userManagerReadOnly(){return(0,f.ub)(this.securityService.userPermissions)}identityServerManagerReadOnly(){return(0,f.gR)(this.securityService.userPermissions)}ngOnInit(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.auditStream.pipe((0,e.O)({auditSearch:this.filterForm.value.auditSearch,toDate:this.filterForm.value.toDate,fromDate:this.filterForm.value.fromDate,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize,sortCriteria:this.filterForm.value.sortCriteria,success:this.filterForm.value.success}),(0,m.z)(Tt=>(this.isLoading=!0,this.auditingService.getAudits(Tt.auditSearch,Tt.toDate.toString(),Tt.fromDate.toString(),Tt.page,Tt.pageSize,Tt.sortCriteria,Tt.success)))).subscribe(Tt=>{this.isLoading=!1,this.pagedResult=Tt;const vt=new b(this.filterForm.value);this.router.navigate([this.router.url.split("?")[0]],{queryParams:vt})})}applyForm(Fe){Fe&&this.filterForm.patchValue({page:1}),this.auditStream.next(this.filterForm.value),this.filterHasChanged=!1}goToPage(Fe){this.filterForm.patchValue({page:Fe}),this.applyForm(!1)}setDateToday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now().endOf("day")})}setDateLast24Hours(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({hours:24}),toDate:this.timeService.now()})}setDateYesterday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day").minus({hours:24}),toDate:this.timeService.now().endOf("day").minus({hours:24})})}setDateLastWeek(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({weeks:1}).startOf("day"),toDate:this.timeService.now().endOf("day")})}goToResource(Fe){this.router.config.find(vt=>void 0!==vt.children)}auditSearch(Fe,Tt){this.filterForm.patchValue({auditSearch:{[Fe]:Tt.value}})}selectFilterType(Fe,Tt){const vt=this.filterForm.get("auditSearch").get(Fe).value;Tt.value=vt}removeFilter(Fe){this.filterForm.patchValue({auditSearch:{[Fe]:""}})}checkQuickDate(Fe){switch(Fe){case"today":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"));case"24hours":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now());case"yesterday":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day").minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day").minus({hours:24}));case"week":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({weeks:1}).startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"))}}stripSecondsFromString(Fe){return this.stripSecondsFromDateTime(w.ou.fromISO(Fe))}stripSecondsFromDateTime(Fe){return Fe.set({second:0,millisecond:0}).toString()}setShowing(Fe,Tt){this.successfulFilter=Fe,this.unsuccessfulFilter=Tt,this.filter()}showActiveFilters(){const Fe=this.filterForm.get("auditSearch");return!!(Fe.get("source").value||Fe.get("subject").value||Fe.get("auditAction").value||Fe.get("resourceName").value)}filter(){this.filterForm.patchValue({success:this.successfulFilter&&this.unsuccessfulFilter||!this.successfulFilter&&!this.unsuccessfulFilter?null:this.successfulFilter})}getCSV(){this.fileDownloader.buildForm(this.buildActionUrl()).submitForm()}buildActionUrl(){let Fe=`${this.auditingService.actionUrl}`;const Tt=this.activatedRoute.snapshot.queryParams;return this.resourceOnly&&(Fe+=`/${this.resourceName}/auditedEvents`),Fe+=`?sort=${Tt.sortCriteria}`,(0,f.hr)(Tt.auditAction)||(Fe+=`&auditAction=${Tt.auditAction}`),(0,f.hr)(Tt.subject)||(Fe+=`&subject=${Tt.subject}`),(0,f.hr)(Tt.resourceName)||(Fe+=`&resource=${Tt.resourceName}`),(0,f.hr)(Tt.source)||(Fe+=`&source=${Tt.source}`),null!=Tt.success&&(Fe+=`&success=${Tt.success}`),null!=Tt.toDate&&(Fe+=`&to=${Tt.toDate}`),null!=Tt.fromDate&&(Fe+=`&from=${Tt.fromDate}`),Fe}sortResults(){const Fe=this.activatedRoute.snapshot.queryParams,Tt=new C(Fe.auditAction,Fe.subject,Fe.resourceName,Fe.source),vt=void 0===Fe.fromDate?this.timeService.now().startOf("day"):w.ou.fromISO(Fe.fromDate),Ge=void 0===Fe.toDate?this.timeService.now().startOf("day"):w.ou.fromISO(Fe.toDate);this.filterSort=this.filterSort===this.sortAsc?this.sortDesc:this.sortAsc;const de=new g(Tt,vt,Ge,Fe.page,Fe.pageSize,this.filterSort,Fe.success);this.auditStream.next(de),this.filterHasChanged=!1}resetForm(){this.filterForm.setValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now(),auditSearch:{auditAction:"",resourceName:this.resourceName||"",subject:"",source:""},page:1,pageSize:25,sortCriteria:this.sortDesc,success:null}),this.filterHasChanged=!1,this.successfulFilter=!1,this.unsuccessfulFilter=!1,this.applyForm(!0)}setupFilterForm(Fe){const Tt=void 0===Fe.fromDate?this.timeService.now().startOf("day"):w.ou.fromISO(Fe.fromDate),vt=void 0===Fe.toDate?this.timeService.now().endOf("day"):w.ou.fromISO(Fe.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[Tt,[T.kI.required,f.eC]],toDate:[vt],auditSearch:this.fb.group({auditAction:[Fe.auditAction||""],resourceName:[this.resourceName||Fe.resourceName||""],subject:[Fe.subject||""],source:[Fe.source||""]}),page:[Fe.page||1],pageSize:[Fe.pageSize>1e3?1e3:Fe.pageSize||25],sortCriteria:[Fe.sortCriteria||this.sortDesc],success:[Fe.success||null]},{validators:f.sY}),this.filterSort=this.filterForm.value.sortCriteria,this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}Navigate(Fe,Tt){this.router.navigate([Fe,Tt])}resourceNavigate(Fe){const Tt=this.buildTranslatedRoute(Fe);"*"!==Fe.name&&this.Navigate(Tt,Fe.identifier)}buildLink(Fe){let Tt=this.buildTranslatedRoute(Fe);return Tt+=`/${Fe.identifier}`,Tt}buildTranslatedRoute(Fe){switch(Fe.type){case"User":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`;case"Client":case"Machine":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/clients/view")}`:`${this.localizeRouter.translateRoute("/clients")}`;case"IdentityResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/identityresources/view")}`:`${this.localizeRouter.translateRoute("/identityresources")}`;case"ProtectedResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/protectedresources/view")}`:`${this.localizeRouter.translateRoute("/protectedresources")}`;case"ClaimType":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/claim-types/view")}`:`${this.localizeRouter.translateRoute("/claim-types")}`;case"Role":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/roles/view")}`:`${this.localizeRouter.translateRoute("/roles")}`;default:return""}}}return Ye.\u0275fac=function(Fe){return new(Fe||Ye)(_.Y36(R._),_.Y36(P.An),_.Y36(a.F0),_.Y36(T.qu),_.Y36(a.gz),_.Y36(k.I),_.Y36(L.B),_.Y36(Z.O))},Ye.\u0275cmp=_.Xpm({type:Ye,selectors:[["app-audits-list"]],inputs:{resourceName:"resourceName"},decls:130,vars:106,consts:[["id","auditingList"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/4"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-hidden","tw-flex-grid-col","xs:tw-block","sm:tw-w-auto","sm:tw-mr-auto"],["aria-hidden","true",1,"tw-hidden","tw-form-label","tw-invisible","sm:tw-inline-block"],[1,"tw-flex","tw-items-center"],["name","setToday","id","setToday",1,"tw-btn",3,"click"],["name","set24hrs","id","set24hrs",1,"tw-btn",3,"click"],["name","setYesterday","id","setYesterday",1,"tw-btn",3,"click"],["name","setLastWeek","id","setLastWeek",1,"tw-btn",3,"click"],[1,"tw-flex-grid-col","tw-w-40"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],["pageLength",""],[3,"value"],["formGroupName","auditSearch"],["class","tw-my-4",4,"ngIf"],[1,"tw-mb-4"],["id","showFilterButton","type","button","aria-expanded","showAddFilter",1,"tw-btn-link","tw-btn-small","tw-px-0",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5"],["for","filterType",1,"tw-form-label"],[1,"tw-flex-grid"],[1,"tw-flex-grid-col","xs:tw-w-2/5","sm:tw-w-1/3"],["id","filterType","name","filterType",1,"tw-form-control",3,"change"],["filterType",""],["value","source"],["value","subject"],["value","auditAction"],["value","resourceName",4,"ngIf"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-2/3"],["id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-0","tw-rounded-r-none"],["filterValue",""],["type","submit",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto"],[1,"tw-form-label"],["id","allFilter",1,"tw-btn",3,"click"],["id","activeFilter",1,"tw-btn",3,"click"],["id","blockedFilter",1,"tw-btn",3,"click"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["sortCriteria",""],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],[1,"tw-my-4"],[1,"tw-flex","tw-flex-wrap","tw-items-start","tw--mt-2","tw--ml-2"],["class","tw-pt-2 tw-pl-2",4,"ngIf"],[1,"tw-pt-2","tw-pl-2"],["id","sourceSearchValue",1,"tw-btn-danger","tw-btn-small",3,"click"],[1,"tw-font-bold","tw-mr-1"],["aria-hidden","true",1,"fas","fa-times","tw-ml-3"],[1,"tw-btn-danger","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["value","resourceName"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["right",""],["class","fad fa-spinner-third fa-spin tw-text-xs tw-text-grey-700 tw-mr-3",4,"ngIf"],["id","getCSVBtn","container","body",1,"tw-btn-white",3,"tooltip","disabled","click"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],[1,"fad","fa-spinner-third","fa-spin","tw-text-xs","tw-text-grey-700","tw-mr-3"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"toggle","tw-w-1"],["id","sortWhen",1,"tw-cursor-pointer","xs:tw-w-40",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],[1,"tw-hidden","tw-w-32","md:tw-table-cell","xl:tw-w-40"],[1,"tw-hidden","xs:tw-table-cell","lg:tw-w-1/4"],[1,"tw-hidden","xl:tw-table-cell"],["id","ResourceHeading","class","tw-hidden lg:tw-table-cell",4,"ngIf"],[1,"tw-hidden","tw-w-1","tw-text-center","sm:tw-table-cell"],["id","auditsTable"],[4,"ngFor","ngForOf"],["id","ResourceHeading",1,"tw-hidden","lg:tw-table-cell"],["group",""],[1,"toggle"],[1,"tw-btn-link","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-caret-down","fa-fw"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xs:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xl:tw-table-cell"],["class","tw-hidden tw-max-w-0 tw-truncate lg:tw-table-cell resource",4,"ngIf"],[1,"tw-hidden","tw-text-center","sm:tw-table-cell"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-text-red-500 tw-opacity-50",4,"ngIf"],["class","disabled toggle-row",4,"ngIf"],[3,"href","click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell","resource"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-text-red-500","tw-opacity-50"],[1,"disabled","toggle-row"],["colspan","6",1,"tw-text-grey-800"],[1,"tw-flex","tw-items-start"],["aria-hidden","true",1,"tw-shrink-0","tw-mr-1"],["class","fas fa-check tw-text-green-500 fa-fw",4,"ngIf"],["class","fas fa-times tw-text-red-500 fa-fw",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","fa-fw"],[1,"fas","fa-times","tw-text-red-500","fa-fw"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(Fe,Tt){if(1&Fe){const vt=_.EpF();_.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),_._uU(7),_.ALo(8,"translate"),_.qZA(),_.TgZ(9,"div"),_._UZ(10,"app-date-time",7),_.YNc(11,G,3,3,"span",8),_.qZA()()(),_.TgZ(12,"div",4)(13,"div",5)(14,"label",9),_._uU(15),_.ALo(16,"translate"),_.qZA(),_.TgZ(17,"div"),_._UZ(18,"app-date-time",10),_.YNc(19,X,3,3,"span",11),_.qZA()()(),_.TgZ(20,"div",12)(21,"div",5)(22,"label",13),_._uU(23,"\xa0"),_.qZA(),_.TgZ(24,"ul",14)(25,"li")(26,"button",15),_.NdJ("click",function(){return Tt.setDateToday()}),_.ALo(27,"translate"),_._uU(28),_.ALo(29,"translate"),_.qZA()(),_.TgZ(30,"li")(31,"button",16),_.NdJ("click",function(){return Tt.setDateLast24Hours()}),_.ALo(32,"translate"),_._uU(33),_.ALo(34,"translate"),_.qZA()(),_.TgZ(35,"li")(36,"button",17),_.NdJ("click",function(){return Tt.setDateYesterday()}),_.ALo(37,"translate"),_._uU(38),_.ALo(39,"translate"),_.qZA()(),_.TgZ(40,"li")(41,"button",18),_.NdJ("click",function(){return Tt.setDateLastWeek()}),_.ALo(42,"translate"),_._uU(43),_.ALo(44,"translate"),_.qZA()()()()(),_.TgZ(45,"div",19)(46,"div",5)(47,"label",20),_._uU(48),_.ALo(49,"translate"),_.qZA(),_.TgZ(50,"div",21)(51,"select",22,23)(53,"option",24),_._uU(54,"25 "),_.qZA(),_.TgZ(55,"option",24),_._uU(56,"50"),_.qZA(),_.TgZ(57,"option",24),_._uU(58,"100"),_.qZA()()()()()(),_.TgZ(59,"form",25),_.YNc(60,me,9,7,"div",26),_.TgZ(61,"div",27)(62,"button",28),_.NdJ("click",function(){return Tt.showAddFilter=!Tt.showAddFilter}),_.YNc(63,Se,4,3,"span",29),_.YNc(64,ye,4,3,"span",29),_.qZA(),_.TgZ(65,"div",30)(66,"div",31)(67,"div",32)(68,"div",5)(69,"label",33),_._uU(70),_.ALo(71,"translate"),_.qZA(),_.TgZ(72,"div",34)(73,"div",35)(74,"div",21)(75,"select",36,37),_.NdJ("change",function(){_.CHM(vt);const de=_.MAs(76),ee=_.MAs(89);return _.KtG(Tt.selectFilterType(de.value,ee))}),_.TgZ(77,"option",38),_._uU(78),_.ALo(79,"translate"),_.qZA(),_.TgZ(80,"option",39),_._uU(81),_.ALo(82,"translate"),_.qZA(),_.TgZ(83,"option",40),_._uU(84),_.ALo(85,"translate"),_.qZA(),_.YNc(86,ze,3,3,"option",41),_.qZA()()(),_.TgZ(87,"div",42),_._UZ(88,"input",43,44),_.ALo(90,"translate"),_.ALo(91,"translate"),_.TgZ(92,"button",45),_.NdJ("click",function(){_.CHM(vt);const de=_.MAs(76),ee=_.MAs(89);return _.KtG(Tt.auditSearch(de.value,ee))}),_._UZ(93,"span",46),_.TgZ(94,"span",47),_._uU(95),_.ALo(96,"translate"),_.qZA()()()()()(),_.TgZ(97,"div",48)(98,"div",5)(99,"p",49),_._uU(100),_.ALo(101,"translate"),_.qZA(),_.TgZ(102,"ul",14)(103,"li")(104,"button",50),_.NdJ("click",function(){return Tt.setShowing(!1,!1)}),_._uU(105),_.ALo(106,"translate"),_.qZA()(),_.TgZ(107,"li")(108,"button",51),_.NdJ("click",function(){return Tt.setShowing(!0,!1)}),_._uU(109),_.ALo(110,"translate"),_.qZA()(),_.TgZ(111,"li")(112,"button",52),_.NdJ("click",function(){return Tt.setShowing(!1,!0)}),_._uU(113),_.ALo(114,"translate"),_.qZA()()()()()()()(),_.TgZ(115,"div",53),_._UZ(116,"input",54,55),_.TgZ(118,"button",56),_.NdJ("click",function(){return Tt.applyForm(!0)}),_._uU(119),_.ALo(120,"translate"),_.qZA(),_.TgZ(121,"button",57),_.NdJ("click",function(){return Tt.resetForm()}),_._uU(122),_.ALo(123,"translate"),_.qZA(),_.YNc(124,Ee,4,3,"p",58),_.qZA()()()(),_.YNc(125,Te,10,8,"app-action-bar",29),_.YNc(126,nt,1,0,"app-simple-loader",29),_.YNc(127,at,4,3,"div",59),_.YNc(128,i,27,22,"table",60),_.YNc(129,we,1,3,"app-pager",61),_.qZA()}if(2&Fe){let vt;_.xp6(1),_.Q6J("formGroup",Tt.filterForm),_.xp6(6),_.Oqu(_.lcZ(8,58,"Auditing.FromDate")),_.xp6(3),_.Q6J("displayType","date"),_.xp6(1),_.Q6J("ngIf",Tt.filterForm.get("fromDate").hasError("dateInFuture")),_.xp6(4),_.Oqu(_.lcZ(16,60,"Auditing.ToDate")),_.xp6(3),_.Q6J("displayType","date"),_.xp6(1),_.Q6J("ngIf",Tt.filterForm.hasError("fromDateIsAfterToDate")),_.xp6(7),_.ekj("tw-btn-link",!Tt.checkQuickDate("today")),_.uIk("aria-label",_.lcZ(27,62,"Auditing.SetDateToday")),_.xp6(2),_.hij(" ",_.lcZ(29,64,"Auditing.Today")," "),_.xp6(3),_.ekj("tw-btn-link",!Tt.checkQuickDate("24hours")),_.uIk("aria-label",_.lcZ(32,66,"Auditing.SetDateLast24Hours")),_.xp6(2),_.hij(" ",_.lcZ(34,68,"Auditing.24Hours")," "),_.xp6(3),_.ekj("tw-btn-link",!Tt.checkQuickDate("yesterday")),_.uIk("aria-label",_.lcZ(37,70,"Auditing.SetDateYesterday")),_.xp6(2),_.hij(" ",_.lcZ(39,72,"Auditing.Yesterday")," "),_.xp6(3),_.ekj("tw-btn-link",!Tt.checkQuickDate("week")),_.uIk("aria-label",_.lcZ(42,74,"Auditing.SetDateLastWeek")),_.xp6(2),_.hij(" ",_.lcZ(44,76,"Auditing.Week")," "),_.xp6(5),_.Oqu(_.lcZ(49,78,"Auditing.ResultsPerPage")),_.xp6(5),_.Q6J("value",25),_.xp6(2),_.Q6J("value",50),_.xp6(2),_.Q6J("value",100),_.xp6(3),_.Q6J("ngIf",Tt.showActiveFilters()),_.xp6(3),_.Q6J("ngIf",!Tt.showAddFilter),_.xp6(1),_.Q6J("ngIf",Tt.showAddFilter),_.xp6(1),_.Q6J("hidden",!Tt.showAddFilter),_.xp6(5),_.Oqu(_.lcZ(71,80,"Auditing.AddFilter")),_.xp6(8),_.Oqu(_.lcZ(79,82,"Auditing.Source")),_.xp6(3),_.Oqu(_.lcZ(82,84,"Auditing.Subject")),_.xp6(3),_.Oqu(_.lcZ(85,86,"Auditing.Action")),_.xp6(2),_.Q6J("ngIf",!Tt.resourceOnly),_.xp6(2),_.uIk("placeholder",_.lcZ(90,88,"Auditing.FilterTermPlaceholder"))("aria-label",_.lcZ(91,90,"Auditing.AddFilterTerm")),_.xp6(7),_.Oqu(_.lcZ(96,92,"Common.Add")),_.xp6(5),_.Oqu(_.lcZ(101,94,"Auditing.Showing")),_.xp6(4),_.ekj("tw-btn-link",!(!Tt.successfulFilter&&!Tt.unsuccessfulFilter)),_.xp6(1),_.hij(" ",_.lcZ(106,96,"Permission.All")," "),_.xp6(3),_.ekj("tw-btn-link",!(Tt.successfulFilter&&!Tt.unsuccessfulFilter)),_.xp6(1),_.hij(" ",_.lcZ(110,98,"Notifications.Success")," "),_.xp6(3),_.ekj("tw-btn-link",!(Tt.unsuccessfulFilter&&!Tt.successfulFilter)),_.xp6(1),_.hij(" ",_.lcZ(114,100,"Notifications.Failure")," "),_.xp6(5),_.Q6J("disabled",(null==Tt.filterForm?null:Tt.filterForm.errors)||(null==(vt=Tt.filterForm.get("fromDate"))?null:vt.hasError("dateInFuture"))),_.xp6(1),_.hij(" ",_.lcZ(120,102,"Auditing.ExecuteAndDisplay")," "),_.xp6(3),_.hij(" ",_.lcZ(123,104,"Auditing.Reset")," "),_.xp6(2),_.Q6J("ngIf",Tt.filterHasChanged),_.xp6(1),_.Q6J("ngIf",!Tt.isLoading),_.xp6(1),_.Q6J("ngIf",Tt.isLoading),_.xp6(1),_.Q6J("ngIf",(null==Tt.pagedResult?null:Tt.pagedResult.results.length)<1&&!Tt.isLoading),_.xp6(1),_.Q6J("ngIf",(null==Tt.pagedResult?null:Tt.pagedResult.results.length)>0&&!Tt.isLoading),_.xp6(1),_.Q6J("ngIf",(null==Tt.pagedResult?null:Tt.pagedResult.results.length)>0&&!Tt.isLoading)}},dependencies:[j.sg,j.O5,T._Y,T.YN,T.Kr,T.EJ,T.JJ,T.JL,T.F,T.sg,T.u,T.x0,N.i9,B.P,V.K,J.w,q.j,re.X$,W.C9],encapsulation:2}),Ye})()},4362:(dt,Ce,p)=>{"use strict";p.d(Ce,{l:()=>k});var t=p(6895),e=p(2979),m=p(4006),T=p(2320),C=p(5241),b=p(9383),g=p(5785),f=p(4022),w=p(5971),_=p(5898),R=p(5503),P=p(9260),a=p(4650);let k=(()=>{class L{}return L.\u0275fac=function(j){return new(j||L)},L.\u0275mod=a.oAB({type:L}),L.\u0275inj=a.cJS({providers:[P.O],imports:[t.ez,m.u5,m.UX,e.fQ,b.aw,C.fx,T.z8,g.U,f.p,w.s,_.T,R.D]}),L})()},1216:(dt,Ce,p)=>{"use strict";p.d(Ce,{N:()=>T});var t=p(4650);const e=["*",[["","right",""]]],m=["*","[right]"];let T=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-button-bar"]],ngContentSelectors:m,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(g,f){1&g&&(t.F$t(e),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.Hsn(4),t.qZA(),t.Hsn(5,1),t.qZA()()())},encapsulation:2}),C})()},6980:(dt,Ce,p)=>{"use strict";p.d(Ce,{K:()=>m});var t=p(6895),e=p(4650);let m=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[t.ez]}),T})()},3570:(dt,Ce,p)=>{"use strict";p.d(Ce,{x:()=>m});var t=p(7579),e=p(4650);let m=(()=>{class T{constructor(){this.emitter=new t.x,this.eventStream=new t.x}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac}),T})()},9658:(dt,Ce,p)=>{"use strict";p.d(Ce,{J:()=>g});var t=p(4650),e=p(3570),m=p(9383),T=p(388);const C=["canDeactivate"],b=function(){return{animated:!1,backdrop:"static"}};let g=(()=>{class f{constructor(_,R){this.service=_,this.translate=R,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(_=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}}return f.\u0275fac=function(_){return new(_||f)(t.Y36(e.x),t.Y36(m.sK))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-can-deactivate"]],viewQuery:function(_,R){if(1&_&&t.Gf(C,7),2&_){let P;t.iGM(P=t.CRH())&&(R.modal=P.first)}},decls:28,vars:20,consts:[["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["canDeactivate","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(_,R){1&_&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return R.stay()}),t._UZ(9,"span",7),t.TgZ(10,"span",8),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",9)(14,"p"),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA()(),t._UZ(18,"div",10),t.TgZ(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),t.NdJ("click",function(){return R.stay()}),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"button",15),t.NdJ("click",function(){return R.leave()}),t._uU(26),t.ALo(27,"translate"),t.qZA()()()()()()),2&_&&(t.Q6J("config",t.DdM(19,b)),t.xp6(6),t.Oqu(t.lcZ(7,7,"Notifications.UnsavedChangesTitle")),t.xp6(5),t.Oqu(t.lcZ(12,9,"Common.Close")),t.xp6(4),t.AsE("",t.lcZ(16,11,"Notifications.UnsavedChanges")," ",t.lcZ(17,13,"Notifications.ContinueWithoutSaving"),""),t.xp6(8),t.Oqu(t.lcZ(24,15,"Notifications.StayHere")),t.xp6(3),t.Oqu(t.lcZ(27,17,"Notifications.DiscardChanges")))},dependencies:[T.oB,m.X$],encapsulation:2}),f})()},7023:(dt,Ce,p)=>{"use strict";p.d(Ce,{_:()=>g});var t=p(388),e=p(8024),m=p(3570),T=p(9383),C=p(6895),b=p(4650);let g=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275mod=b.oAB({type:f}),f.\u0275inj=b.cJS({providers:[e.I,m.x],imports:[C.ez,t.zk,T.aw]}),f})()},8024:(dt,Ce,p)=>{"use strict";p.d(Ce,{I:()=>e});var t=p(4650);let e=(()=>{class m{canDeactivate(C){return!C.canDeactivate||C.canDeactivate()}}return m.\u0275fac=function(C){return new(C||m)},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac}),m})()},1696:(dt,Ce,p)=>{"use strict";p.d(Ce,{c:()=>w});var t=p(5861),e=p(4650),m=p(8117),T=p(7185),C=p(9383),b=p(4006),g=p(7608);const f=["fileInput"];let w=(()=>{class _{constructor(P,a,k){this.certPickerService=P,this.toastr=a,this.translate=k,this.metadata="",this.dataExists=new e.vpe}ngOnInit(){}handleFileInput(P){this.fileToUpload=P.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var P=this;return(0,t.Z)(function*(){let a="";if(P.fileToUpload){const L=P.fileToUpload.slice(0),Z=new FileReader,N=new Promise(function(B,V){Z.onloadend=function(){const q=Z.result.split("base64,");B(q[1])}});Z.readAsDataURL(L),a=yield N}else""!==P.metadata&&(a=P.metadata);const k=yield P.tryBuildCertModel(a);return P.resetForm(P),k})()}resetForm(P){P.fileToUpload=null,P.fileInput.nativeElement.value="",P.metadata="",P.dataExists.emit(P.hasData())}tryBuildCertModel(P){var a=this;return(0,t.Z)(function*(){let k;try{const L=a.certPickerService.convertStringToArrayBuffer(P);k=yield a.certPickerService.buildCertModelFromArrayBuffer(L,P)}catch(L){throw a.toastr.error(a.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),a.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),L}return k})()}}return _.\u0275fac=function(P){return new(P||_)(e.Y36(m.S),e.Y36(T._W),e.Y36(C.sK))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-cert-reader"]],viewQuery:function(P,a){if(1&P&&e.Gf(f,7),2&P){let k;e.iGM(k=e.CRH())&&(a.fileInput=k.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},decls:11,vars:14,consts:[[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"disabled","change"],["fileInput",""],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"disabled","ngModel","ngModelChange","keyup"]],template:function(P,a){1&P&&(e.TgZ(0,"app-form-row",0)(1,"div",1)(2,"input",2,3),e.NdJ("change",function(L){return a.handleFileInput(L.target.files)}),e.qZA()()(),e.TgZ(4,"div",4)(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"app-form-row",0)(9,"textarea",6),e.NdJ("ngModelChange",function(L){return a.metadata=L})("keyup",function(){return a.metaDataKeyDown()}),e._uU(10,"  "),e.qZA()()),2&P&&(e.Q6J("id","fileInput")("label",a.uploadCert)("help",a.uploadCertHelp)("isLast",!0),e.xp6(2),e.Q6J("disabled",""!=a.metadata),e.xp6(4),e.Oqu(e.lcZ(7,12,"Common.Or")),e.xp6(2),e.Q6J("id","metaData")("label",a.certMetaData)("help",a.certMetaDataHelp)("isLast",!0),e.xp6(1),e.Q6J("disabled",null!=a.fileToUpload)("ngModel",a.metadata))},dependencies:[b.Fj,b.JJ,b.On,g.L,C.X$],encapsulation:2}),_})()},2699:(dt,Ce,p)=>{"use strict";p.d(Ce,{Y:()=>g});var t=p(5503),e=p(6895),m=p(9383),T=p(4006),C=p(9650),b=p(4650);let g=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275mod=b.oAB({type:f}),f.\u0275inj=b.cJS({imports:[t.D,e.ez,m.aw,T.u5,C.I]}),f})()},8098:(dt,Ce,p)=>{"use strict";p.d(Ce,{v:()=>Z});var t=p(7579),e=p(4650),m=p(6895),T=p(4006);let C=(()=>{class j{transform(B,V){let J=B;return V&&(J=B.filter(q=>q.name.toUpperCase().includes(V))),J}}return j.\u0275fac=function(B){return new(B||j)},j.\u0275pipe=e.Yjl({name:"search",type:j,pure:!0}),j})();var b=p(9383);function g(j,N){if(1&j){const B=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._UZ(2,"span",21),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"input",22),e.NdJ("ngModelChange",function(J){e.CHM(B);const q=e.oxw();return e.KtG(q.availableSearchValue=J)}),e.qZA()()}if(2&j){const B=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"Common.Search")),e.xp6(2),e.Q6J("ngModel",B.availableSearchValue)}}function f(j,N){1&j&&e._UZ(0,"span",30)}function w(j,N){if(1&j&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&j){const B=e.oxw().$implicit;e.xp6(1),e.hij(" ",B.description," ")}}const _=function(j){return{"tw-text-grey-600":j}};function R(j,N){if(1&j){const B=e.EpF();e.TgZ(0,"li",23)(1,"label",24)(2,"input",25),e.NdJ("change",function(){const q=e.CHM(B).$implicit,re=e.oxw();return e.KtG(re.selectAvailable(q))}),e.qZA(),e.TgZ(3,"span",26)(4,"span",27),e.YNc(5,f,1,0,"span",28),e._uU(6),e.qZA(),e.YNc(7,w,2,1,"span",29),e.qZA()()()}if(2&j){const B=N.$implicit,V=e.oxw();let J;e.xp6(1),e.Q6J("htmlFor",V.prefix+B.name),e.xp6(1),e.s9C("id",V.prefix+B.name),e.s9C("name",B.name),e.Q6J("checked",B.selected)("disabled",V.isRestricted(B)||V.isReadOnly),e.xp6(2),e.Q6J("ngClass",e.VKq(10,_,V.isReadOnly)),e.xp6(1),e.Q6J("ngIf",V.isRestricted(B)),e.xp6(1),e.AsE(" ",null!==(J=B.displayName)&&void 0!==J?J:B.name," ",B.shared?"*":""," "),e.xp6(1),e.Q6J("ngIf",(null==B.description?null:B.description.length)>0)}}function P(j,N){if(1&j){const B=e.EpF();e.TgZ(0,"div",32)(1,"label",33),e._UZ(2,"span",21),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(J){e.CHM(B);const q=e.oxw();return e.KtG(q.assignedSearchValue=J)}),e.qZA()()}if(2&j){const B=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"Common.Search")),e.xp6(2),e.Q6J("ngModel",B.assignedSearchValue)}}function a(j,N){1&j&&e._UZ(0,"span",30)}function k(j,N){if(1&j&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&j){const B=e.oxw().$implicit;e.xp6(1),e.hij(" ",B.description," ")}}function L(j,N){if(1&j){const B=e.EpF();e.TgZ(0,"li",35)(1,"label",24)(2,"input",25),e.NdJ("change",function(){const q=e.CHM(B).$implicit,re=e.oxw();return e.KtG(re.selectAssigned(q))}),e.qZA(),e.TgZ(3,"span",26)(4,"span",27),e.YNc(5,a,1,0,"span",28),e._uU(6),e.qZA(),e.YNc(7,k,2,1,"span",29),e.qZA()()()}if(2&j){const B=N.$implicit,V=e.oxw();let J;e.xp6(1),e.Q6J("htmlFor",V.prefix+B.name),e.xp6(1),e.s9C("id",V.prefix+B.name),e.s9C("name",B.name),e.Q6J("checked",B.selected)("disabled",V.isRestricted(B)||V.isReadOnly),e.xp6(2),e.Q6J("ngClass",e.VKq(10,_,V.isReadOnly)),e.xp6(1),e.Q6J("ngIf",V.isRestricted(B)),e.xp6(1),e.AsE(" ",null!==(J=B.displayName)&&void 0!==J?J:B.name," ",B.shared?"*":""," "),e.xp6(1),e.Q6J("ngIf",(null==B.description?null:B.description.length)>0)}}let Z=(()=>{class j{constructor(){this.availableCount=0,this.assignedCount=0,this.unAssignedStream=new t.x,this.assignedStream=new t.x}set availableInput(B){this.available=this.sortArray(B)}set assignedInput(B){this.assigned=this.sortArray(B)}set isReadOnly(B){this._isReadOnly=B||!1}get isReadOnly(){return this._isReadOnly}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}sortArray(B){if(B&&B.length>0)for(const V of B)V.selected=!1;return B.sort((V,J)=>V.name<J.name?-1:1)}selectAvailable(B){B.selected?this.availableCount-=1:this.availableCount+=1,B.selected=!B.selected}selectAssigned(B){B.selected?this.assignedCount-=1:this.assignedCount+=1,B.selected=!B.selected}assignItems(){let B=this.available.filter(V=>V.selected);this.assignedStream.next(B),this.available.forEach(V=>{V.selected=!1}),this.assigned.forEach(V=>{V.selected=!1}),B=[]}unAssignItems(){let B=this.assigned.filter(V=>V.selected);this.unAssignedStream.next(B),this.available.forEach(V=>{V.selected=!1}),this.assigned.forEach(V=>{V.selected=!1}),B=[]}isRestricted(B){if(this.restrictedInput)for(let V=0;V<this.restrictedInput.length;V++)if(this.restrictedInput[V].value===B.name)return!0}}return j.\u0275fac=function(B){return new(B||j)},j.\u0275cmp=e.Xpm({type:j,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",isReadOnly:"isReadOnly"},decls:37,vars:28,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],[1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],["class","tw-mt-3 tw-w-full tw-relative","id","availableSearch",4,"ngIf"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],["id","unassignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"disabled","click"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"disabled","click"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["class","tw-mt-3 tw-w-full tw-relative","id","assignedSearch",4,"ngIf"],["id","assignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],["id","availableSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAvailable",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],["id","searchAvailable","name","availableSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModel","ngModelChange"],["id","unassignedItems",1,"tw-py-3","tw-px-4"],[1,"tw-flex","tw-items-start","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"id","name","checked","disabled","change"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],["class","fas fa-lock tw-text-red-500 tw-text-xs tw-mr-1",4,"ngIf"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"],["id","assignedSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAssigned",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["id","searchAssigned","name","assignedSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModel","ngModelChange"],["id","assignedItems",1,"tw-py-3","tw-px-4"]],template:function(B,V){1&B&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,g,7,4,"div",4),e.qZA(),e.TgZ(7,"ul",5),e.YNc(8,R,8,12,"li",6),e.ALo(9,"search"),e.ALo(10,"uppercase"),e.qZA()(),e.TgZ(11,"div",7)(12,"ul",8)(13,"li",9)(14,"button",10),e.NdJ("click",function(){return V.assignItems()}),e._UZ(15,"span",11)(16,"span",12),e.TgZ(17,"span",13),e._uU(18),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"li",9)(21,"button",14),e.NdJ("click",function(){return V.unAssignItems()}),e._UZ(22,"span",15)(23,"span",16),e.TgZ(24,"span",13),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()(),e.TgZ(27,"div",1)(28,"div",2)(29,"h2",3),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.YNc(32,P,7,4,"div",17),e.qZA(),e.TgZ(33,"ul",5),e.YNc(34,L,8,12,"li",18),e.ALo(35,"search"),e.ALo(36,"uppercase"),e.qZA()()()),2&B&&(e.xp6(4),e.Oqu(e.lcZ(5,10,"UserDetails.Available")),e.xp6(2),e.Q6J("ngIf",V.availableSearch||!V.isReadOnly),e.xp6(2),e.Q6J("ngForOf",e.xi3(9,12,V.available,e.lcZ(10,15,V.availableSearchValue))),e.xp6(6),e.Q6J("disabled",V.availableCount<1||V.isReadOnly),e.xp6(4),e.Oqu(e.lcZ(19,17,"Common.Unassign")),e.xp6(3),e.Q6J("disabled",V.assignedCount<1||V.isReadOnly),e.xp6(4),e.Oqu(e.lcZ(26,19,"Common.Assign")),e.xp6(5),e.Oqu(e.lcZ(31,21,"UserDetails.Assigned")),e.xp6(2),e.Q6J("ngIf",V.assignedSearch||!V.isReadOnly),e.xp6(2),e.Q6J("ngForOf",e.xi3(35,23,V.assigned,e.lcZ(36,26,V.assignedSearchValue))))},dependencies:[m.mk,m.sg,m.O5,T.Fj,T.JJ,T.On,m.gd,C,b.X$],encapsulation:2}),j})()},8265:(dt,Ce,p)=>{"use strict";p.d(Ce,{j:()=>b});var t=p(4006),e=p(5503),m=p(6895),T=p(9383),C=p(4650);let b=(()=>{class g{}return g.\u0275fac=function(w){return new(w||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({imports:[m.ez,t.u5,e.D,T.aw]}),g})()},1230:(dt,Ce,p)=>{"use strict";p.d(Ce,{M:()=>C});var t=p(6895),e=p(9383),m=p(8185),T=p(4650);let C=(()=>{class b{}return b.\u0275fac=function(f){return new(f||b)},b.\u0275mod=T.oAB({type:b}),b.\u0275inj=T.cJS({imports:[t.ez,e.aw,m.Bz]}),b})()},6478:(dt,Ce,p)=>{"use strict";p.d(Ce,{v:()=>T});var t=p(4650),e=p(8185);const m=["*"];let T=(()=>{class C{constructor(g){this.activatedRoute=g,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const g=this.activatedRoute.snapshot;null!==g.firstChild&&null!==g.firstChild.routeConfig&&g.firstChild.routeConfig.path===this.value&&(this.active=!0)}}return C.\u0275fac=function(g){return new(g||C)(t.Y36(e.gz))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-custom-tab"]],inputs:{title:["tabTitle","title"],value:["tabValue","value"],restrictedStarter:"restrictedStarter"},ngContentSelectors:m,decls:1,vars:0,template:function(g,f){1&g&&(t.F$t(),t.Hsn(0))},encapsulation:2}),C})()},7073:(dt,Ce,p)=>{"use strict";p.d(Ce,{x:()=>R});var t=p(6478),e=p(4650),m=p(8185),T=p(6895),C=p(9383);function b(P,a){1&P&&(e.TgZ(0,"span",5)(1,"span",6),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"span",7),e.qZA()),2&P&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"StarterMode.RequiresUpgrade")))}const g=function(P,a){return{tabs__item:P,"pill-tabs__item":a}},f=function(P,a){return{tabs__link:P,"pill-tabs__link":a}};function w(P,a){if(1&P){const k=e.EpF();e.TgZ(0,"li",2)(1,"button",3),e.NdJ("click",function(){const j=e.CHM(k).$implicit,N=e.oxw();return e.KtG(N.changeTab(j))}),e._uU(2),e.ALo(3,"translate"),e.YNc(4,b,5,3,"span",4),e.qZA()()}if(2&P){const k=a.$implicit,L=a.index,Z=e.oxw();e.Q6J("ngClass",e.WLB(11,g,!Z.pillMode,Z.pillMode)),e.xp6(1),e.ekj("active",k.active),e.Q6J("id","customTab"+L)("ngClass",e.WLB(14,f,!Z.pillMode,Z.pillMode)),e.uIk("data-value",k.value)("aria-selected",k.active),e.xp6(1),e.hij(" ",e.lcZ(3,9,k.title)," "),e.xp6(2),e.Q6J("ngIf",k.restrictedStarter)}}const _=function(P,a){return{tabs:P,"pill-tabs":a}};let R=(()=>{class P{constructor(k,L){this.router=k,this.activatedRoute=L,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const k=this.tabs.filter(L=>L.active);k&&!k.length&&this.changeTab(this.tabs.first)}changeTab(k){!this.tabs||!this.tabs.length||k.active||(this.setActiveTab(k),this.router.navigate([k.value],{relativeTo:this.activatedRoute}))}setActiveTab(k){this.tabs.toArray().forEach(L=>L.active=!1),k.active=!0}}return P.\u0275fac=function(k){return new(k||P)(e.Y36(m.F0),e.Y36(m.gz))},P.\u0275cmp=e.Xpm({type:P,selectors:[["app-custom-tabs"]],contentQueries:function(k,L,Z){if(1&k&&e.Suo(Z,t.v,4),2&k){let j;e.iGM(j=e.CRH())&&(L.tabs=j)}},inputs:{pillMode:"pillMode"},decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"id","ngClass","click"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(k,L){1&k&&(e.TgZ(0,"ul",0),e.ALo(1,"translate"),e.YNc(2,w,5,17,"li",1),e.qZA()),2&k&&(e.Q6J("ngClass",e.WLB(5,_,!L.pillMode,L.pillMode)),e.uIk("aria-label",e.lcZ(1,3,"Nav.SubMenu")),e.xp6(2),e.Q6J("ngForOf",L.tabs))},dependencies:[T.mk,T.sg,T.O5,C.X$],encapsulation:2}),P})()},2808:(dt,Ce,p)=>{"use strict";p.d(Ce,{E:()=>g,X:()=>b});var t=p(4650),e=p(3110),m=p(4837),T=p(4456),C=p(8285);class b{constructor(w=T.T.standardDate,_="Common.NoDateSet"){this._datePipe=new e.g9,this.noDateLabel=_??"Common.NoDateSet",this._datePipe=(()=>{switch(w){case T.T.standardDate:return new e.g9;case T.T.standardDateTime:return new e.C9;case T.T.prettyDateTime:return new e.Xm;default:return new e.g9}})()}get datePipe(){return this._datePipe}}let g=(()=>{class f{constructor(_){this.dataTableService=_,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new t.vpe}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(_=>{null!=this.sort&&this.setSort(_)})}get dateColumn(){return"boolean"==typeof this.date?new b:this.date}format(_){return void 0!==this.formatter?this.formatter(_):_}get sortClass(){if(null==this.sort)return"";switch(this.sort){case m.JN.None:return"fad fa-sort";case m.JN.Ascending:return"fas fa-caret-up";case m.JN.Descending:return"fas fa-caret-down"}}setSort(_){this.sort=_==this.prop?this.sort==m.JN.Descending?m.JN.Ascending:m.JN.Descending:m.JN.None}}return f.\u0275fac=function(_){return new(_||f)(t.Y36(C.n))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},decls:0,vars:0,template:function(_,R){},encapsulation:2}),f})()},572:(dt,Ce,p)=>{"use strict";p.d(Ce,{Qj:()=>ze,Xz:()=>Ee});var t=p(4650),e=p(2808),m=p(8185),T=p(8285),C=p(6895),b=p(9383);const g=["selectButton"],f=["deleteButton"];function w(Te,nt){if(1&Te&&(t.TgZ(0,"div",2),t._UZ(1,"div",3),t.ALo(2,"translate"),t.qZA()),2&Te){const at=t.oxw();t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,at.noRowsLabel),t.oJD)}}function _(Te,nt){if(1&Te&&t._UZ(0,"span",9),2&Te){const at=t.oxw().$implicit;t.Q6J("ngClass",at.sortClass)}}const R=function(Te){return{"tw-mr-2":Te}};function P(Te,nt){if(1&Te){const at=t.EpF();t.TgZ(0,"th",8),t.NdJ("click",function(){const mt=t.CHM(at).$implicit,pt=t.oxw(2);return t.KtG(pt.sortColumn(mt))}),t.TgZ(1,"span",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,_,1,1,"span",10),t.qZA()}if(2&Te){const at=nt.$implicit;t.Q6J("className",at.headClasses),t.xp6(1),t.Q6J("ngClass",t.VKq(6,R,null!=at.sort)),t.xp6(1),t.Oqu(t.lcZ(3,4,at.title)),t.xp6(2),t.Q6J("ngIf",null!=at.sort)}}function a(Te,nt){1&Te&&(t.TgZ(0,"th",11)(1,"span",12),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&Te&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Common.Actions")))}function k(Te,nt){if(1&Te&&(t.ynx(0),t._uU(1),t.BQk()),2&Te){const at=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",at," ")}}function L(Te,nt){if(1&Te&&(t.ynx(0),t._uU(1),t.BQk()),2&Te){const at=t.oxw(4).$implicit,wt=t.oxw().$implicit;t.xp6(1),t.hij(" ",at.dateColumn.datePipe.transform(wt[at.prop])," ")}}function Z(Te,nt){if(1&Te&&(t._uU(0),t.ALo(1,"translate")),2&Te){const at=t.oxw(4).$implicit;t.hij(" ",t.lcZ(1,1,at.dateColumn.noDateLabel)," ")}}function j(Te,nt){if(1&Te&&(t.ynx(0),t.YNc(1,L,2,1,"ng-container",16),t.YNc(2,Z,2,3,"ng-template",null,18,t.W1O),t.BQk()),2&Te){const at=t.MAs(3),wt=t.oxw(3).$implicit,lt=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",lt[wt.prop])("ngIfElse",at)}}function N(Te,nt){if(1&Te){const at=t.EpF();t.ynx(0),t.TgZ(1,"a",20),t.NdJ("click",function(){t.CHM(at);const lt=t.oxw(5).$implicit,mt=t.oxw(2);return t.KtG(!!mt.clickLinkCell(lt.link))}),t._uU(2),t.qZA(),t.BQk()}if(2&Te){const at=t.oxw(4).$implicit,wt=t.oxw().$implicit;t.xp6(1),t.s9C("href",wt.routeLink,t.LSH),t.xp6(1),t.hij(" ",wt[at.prop]," ")}}function B(Te,nt){if(1&Te&&t._UZ(0,"span",21),2&Te){const at=t.oxw(4).$implicit,wt=t.oxw().$implicit;t.Q6J("innerHTML",at.format(wt[at.prop]),t.oJD)}}function V(Te,nt){if(1&Te&&(t.YNc(0,N,3,2,"ng-container",16),t.YNc(1,B,1,1,"ng-template",null,19,t.W1O)),2&Te){const at=t.MAs(2),wt=t.oxw(3).$implicit;t.Q6J("ngIf",wt.link)("ngIfElse",at)}}function J(Te,nt){if(1&Te&&(t.ynx(0),t.YNc(1,j,4,2,"ng-container",16),t.YNc(2,V,3,2,"ng-template",null,17,t.W1O),t.BQk()),2&Te){const at=t.MAs(3),wt=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",wt.date)("ngIfElse",at)}}function q(Te,nt){if(1&Te&&(t.ynx(0),t.YNc(1,k,2,1,"ng-container",15),t.YNc(2,J,4,2,"ng-container",15),t.BQk()),2&Te){const at=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==at.prop),t.xp6(1),t.Q6J("ngIf",null!=at.prop)}}function re(Te,nt){if(1&Te&&(t.ynx(0),t.TgZ(1,"span",22),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&Te){const at=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,1,at.placeholder))}}function W(Te,nt){1&Te&&(t.TgZ(0,"span",25)(1,"span",12),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&Te&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Common.Yes")))}function G(Te,nt){1&Te&&(t.TgZ(0,"span",26)(1,"span",12),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&Te&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Common.No")))}function X(Te,nt){if(1&Te&&(t.ynx(0),t.YNc(1,W,4,3,"span",23),t.YNc(2,G,4,3,"span",24),t.BQk()),2&Te){const at=t.oxw().$implicit,wt=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",wt[at.prop]),t.xp6(1),t.Q6J("ngIf",!wt[at.prop])}}function E(Te,nt){if(1&Te&&(t.TgZ(0,"td",14),t.YNc(1,q,3,2,"ng-container",15),t.YNc(2,re,4,3,"ng-container",15),t.YNc(3,X,3,2,"ng-container",15),t.qZA()),2&Te){const at=nt.$implicit;t.Q6J("className",at.cellClasses),t.uIk("data-label",at.title),t.xp6(1),t.Q6J("ngIf",!at.isPlaceholder&&!at.isBoolean),t.xp6(1),t.Q6J("ngIf",at.isPlaceholder),t.xp6(1),t.Q6J("ngIf",at.isBoolean)}}function ne(Te,nt){if(1&Te){const at=t.EpF();t.TgZ(0,"button",30,31),t.NdJ("click",function(){t.CHM(at);const lt=t.oxw(2).$implicit,mt=t.oxw(2);return t.KtG(mt.selectRow(lt))}),t._UZ(2,"span",32),t.TgZ(3,"span",12),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&Te&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"Common.Edit")))}function K(Te,nt){if(1&Te){const at=t.EpF();t.TgZ(0,"button",33,34),t.NdJ("click",function(){t.CHM(at);const lt=t.oxw(2).index,mt=t.oxw(2);return t.KtG(mt.deleteRow(lt))}),t._UZ(2,"span",35),t.TgZ(3,"span",12),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&Te&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"Common.Remove.Title")))}function le(Te,nt){if(1&Te&&(t.TgZ(0,"td",11)(1,"div",27),t.YNc(2,ne,6,3,"button",28),t.YNc(3,K,6,3,"button",29),t.qZA()()),2&Te){const at=t.oxw(3);t.xp6(2),t.Q6J("ngIf",at.canSelect),t.xp6(1),t.Q6J("ngIf",at.canDelete)}}function me(Te,nt){if(1&Te&&(t.TgZ(0,"tr"),t.YNc(1,E,4,5,"td",13),t.YNc(2,le,4,2,"td",6),t.qZA()),2&Te){const at=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",at.columns),t.xp6(1),t.Q6J("ngIf",at.actions)}}const Se=function(Te){return{hover:Te}};function ye(Te,nt){if(1&Te&&(t.TgZ(0,"table",4)(1,"thead")(2,"tr"),t.YNc(3,P,5,8,"th",5),t.YNc(4,a,4,3,"th",6),t.qZA()(),t.TgZ(5,"tbody"),t.YNc(6,me,3,2,"tr",7),t.qZA()()),2&Te){const at=t.oxw();t.Q6J("ngClass",t.VKq(4,Se,!at.isReadOnly)),t.xp6(3),t.Q6J("ngForOf",at.columns),t.xp6(1),t.Q6J("ngIf",at.actions),t.xp6(2),t.Q6J("ngForOf",at.rows)}}let ze=(()=>{class Te{constructor(at,wt){this.router=at,this.dataTableService=wt,this.onSelect=new t.vpe}set isReadOnly(at){this._isReadOnly=at||!1}get isReadOnly(){return this._isReadOnly}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(Ee.Delete),this.canSelect=this.actions.includes(Ee.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(at){this.canDelete&&this.dataTableService.deleteRowEvent.next(at)}selectRow(at){if(this.canSelect){const wt=new qe(at,this.selectButtonRef);this.onSelect.emit(wt)}}clickLinkCell(at){this.router.navigate([`${at.routeForLink}`,at.identifier])}sortColumn(at){(null!=at.sort||null!=at.sort)&&this.dataTableService.sortColumnEvent.next(at)}}return Te.\u0275fac=function(at){return new(at||Te)(t.Y36(m.F0),t.Y36(T.n))},Te.\u0275cmp=t.Xpm({type:Te,selectors:[["app-data-table"]],contentQueries:function(at,wt,lt){if(1&at&&t.Suo(lt,e.E,4),2&at){let mt;t.iGM(mt=t.CRH())&&(wt.columns=mt)}},viewQuery:function(at,wt){if(1&at&&(t.Gf(g,5),t.Gf(f,5)),2&at){let lt;t.iGM(lt=t.CRH())&&(wt.selectButtonRef=lt.first),t.iGM(lt=t.CRH())&&(wt.deleteButtonRef=lt.first)}},inputs:{noRowsLabel:["norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect"},decls:2,vars:2,consts:[["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"className","click"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],[3,"href","click"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["selectButton",""],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["deleteButton",""],["aria-hidden","true",1,"fas","fa-times"]],template:function(at,wt){1&at&&(t.YNc(0,w,3,3,"div",0),t.YNc(1,ye,7,6,"table",1)),2&at&&(t.Q6J("ngIf",(null==wt.rows?null:wt.rows.length)<1),t.xp6(1),t.Q6J("ngIf",(null==wt.rows?null:wt.rows.length)>0))},dependencies:[C.mk,C.sg,C.O5,b.X$],encapsulation:2}),Te})();var Ee=(()=>{return(Te=Ee||(Ee={})).Delete="Delete",Te.Select="Select",Ee;var Te})();class qe{constructor(nt,at=null){this.data=nt,this.element=at}}},4380:(dt,Ce,p)=>{"use strict";p.d(Ce,{t:()=>g});var t=p(9383),e=p(6895),m=p(2320),T=p(5503),C=p(8285),b=p(4650);let g=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275mod=b.oAB({type:f}),f.\u0275inj=b.cJS({providers:[C.n],imports:[e.ez,t.aw,m.z8,T.D]}),f})()},8285:(dt,Ce,p)=>{"use strict";p.d(Ce,{n:()=>m});var t=p(7579),e=p(4650);let m=(()=>{class T{constructor(){this.sortColumnEvent=new t.x,this.sortCompletedEvent=new t.x,this.deleteRowEvent=new t.x}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},4225:(dt,Ce,p)=>{"use strict";p.d(Ce,{V:()=>j,j:()=>N});var t=p(4650),e=p(4006),m=p(1837),T=p(8176),C=p(6895);function b(B,V){1&B&&t.GkF(0)}function g(B,V){if(1&B&&(t.TgZ(0,"div",4),t.YNc(1,b,1,0,"ng-container",5),t.qZA()),2&B){t.oxw();const J=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",J)}}function f(B,V){1&B&&t.GkF(0)}function w(B,V){1&B&&t.GkF(0)}function _(B,V){if(1&B&&(t.TgZ(0,"div",6)(1,"div",7),t.YNc(2,f,1,0,"ng-container",5),t.qZA(),t.TgZ(3,"div",8),t.YNc(4,w,1,0,"ng-container",5),t.qZA()()),2&B){t.oxw();const J=t.MAs(7),q=t.MAs(5);t.xp6(2),t.Q6J("ngTemplateOutlet",J),t.xp6(2),t.Q6J("ngTemplateOutlet",q)}}function R(B,V){1&B&&t.GkF(0)}function P(B,V){if(1&B&&(t.TgZ(0,"div",6),t.YNc(1,R,1,0,"ng-container",5),t.qZA()),2&B){t.oxw();const J=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",J)}}function a(B,V){if(1&B&&(t.TgZ(0,"option",15),t._uU(1),t.ALo(2,"number"),t.qZA()),2&B){const J=V.index;t.Q6J("value",J),t.xp6(1),t.Oqu(t.xi3(2,2,J,"2.0"))}}function k(B,V){if(1&B&&(t.TgZ(0,"option",15),t._uU(1),t.ALo(2,"number"),t.qZA()),2&B){const J=V.index;t.Q6J("value",J),t.xp6(1),t.Oqu(t.xi3(2,2,J,"2.0"))}}function L(B,V){if(1&B){const J=t.EpF();t.TgZ(0,"label",9),t._uU(1,"Hours"),t.qZA(),t.TgZ(2,"div",10)(3,"select",11),t.NdJ("ngModelChange",function(re){t.CHM(J);const W=t.oxw();return t.KtG(W.onHoursChange(re))}),t.TgZ(4,"option",12),t._uU(5,"HH"),t.qZA(),t.YNc(6,a,3,5,"option",13),t.qZA()(),t.TgZ(7,"span",14),t._uU(8,":"),t.qZA(),t.TgZ(9,"label",9),t._uU(10,"Minutes"),t.qZA(),t.TgZ(11,"div",10)(12,"select",11),t.NdJ("ngModelChange",function(re){t.CHM(J);const W=t.oxw();return t.KtG(W.onMinutesChange(re))}),t.TgZ(13,"option",12),t._uU(14,"MM"),t.qZA(),t.YNc(15,k,3,5,"option",13),t.qZA()()}if(2&B){const J=t.oxw();t.Q6J("for",J.id+"-time-hours"),t.xp6(3),t.Q6J("id",J.id+"-time-hours")("ngModel",J.hours),t.xp6(1),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",J.counter(23)),t.xp6(3),t.Q6J("for",J.id+"-time-minutes"),t.xp6(3),t.Q6J("id",J.id+"-time-minutes")("ngModel",J.minutes),t.xp6(1),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",J.counter(59))}}function Z(B,V){if(1&B){const J=t.EpF();t.TgZ(0,"input",16),t.NdJ("ngModelChange",function(re){t.CHM(J);const W=t.oxw();return t.KtG(W.onDateChange(re))})("keyup",function(re){t.CHM(J);const W=t.oxw();return t.KtG(W.onKeyUp(re))}),t.qZA()}if(2&B){const J=t.oxw();t.Q6J("id",J.id+"-date")("ngModel",J.stringDate),t.uIk("required",J.required?"":null)("min",J.minDate)("max",J.maxDate)}}var j=(()=>{return(B=j||(j={})).Date="date",B.Time="time",B.DateTime="datetime",j;var B})();let N=(()=>{class B{constructor(){this.id=(0,T.qs)(),this.displayType=j.DateTime,this.required=!1,this.disabled=!1,this.keyup=new t.vpe,this.onChange=J=>{},this.onTouched=()=>{}}set value(J){this.setDate(J)}set min(J){this.minDate=this.toMinMaxDateString(J)}set max(J){this.maxDate=this.toMinMaxDateString(J)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue(J){this.setDate(J)}registerOnChange(J){this.onChange=J}registerOnTouched(J){this.onTouched=J}setDisabledState(J){this.disabled=J}get opacity(){return this.disabled?.25:1}validate(J){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp(J){this.keyup.emit(J)}onHoursChange(J){this.date=this.date?this.date.set({hour:J}):m.ou.now().set({hour:J}),this.onChange(this.date.toString())}onMinutesChange(J){this.date=this.date?this.date.set({minute:J}):m.ou.now().set({minute:J}),this.onChange(this.date.toString())}onDateChange(J){this.stringDate=J;let q=m.ou.fromFormat(J,"yyyy-MM-dd");q.isValid&&(this.date=this.date?this.date.set({year:q.year,month:q.month,day:q.day}):q,this.onChange(this.date.toString()))}counter(J){return new Array(J+1)}setDate(J){if(J){if(J instanceof m.ou&&(this.date=J),"string"==typeof J){const q=m.ou.fromISO(J);this.date=q.isValid?q:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString(J){let q;return q=J instanceof m.ou?J:m.ou.fromISO(J.toString()),q.toFormat("yyyy-MM-dd")}}return B.\u0275fac=function(J){return new(J||B)},B.\u0275cmp=t.Xpm({type:B,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(J,q){2&J&&t.Udp("opacity",q.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},features:[t._Bn([{provide:e.JU,useExisting:(0,t.Gpc)(()=>B),multi:!0},{provide:e.Cf,useExisting:(0,t.Gpc)(()=>B),multi:!0}])],decls:8,vars:3,consts:[["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],["timeTemplate",""],["dateTemplate",""],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"id","ngModel","ngModelChange"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"id","ngModel","ngModelChange","keyup"]],template:function(J,q){1&J&&(t.TgZ(0,"div"),t.YNc(1,g,2,1,"div",0),t.YNc(2,_,5,2,"div",1),t.YNc(3,P,2,1,"div",1),t.YNc(4,L,16,10,"ng-template",null,2,t.W1O),t.YNc(6,Z,1,5,"ng-template",null,3,t.W1O),t.qZA()),2&J&&(t.xp6(1),t.Q6J("ngIf","time"==q.displayType),t.xp6(1),t.Q6J("ngIf","datetime"==q.displayType),t.xp6(1),t.Q6J("ngIf","date"==q.displayType))},dependencies:[C.sg,C.O5,C.tP,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.Q7,e.On,C.JJ],encapsulation:2}),B})()},5898:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>b});var t=p(6895),e=p(5503),m=p(9383),T=p(4006),C=p(4650);let b=(()=>{class g{}return g.\u0275fac=function(w){return new(w||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({imports:[t.ez,T.u5,e.D,m.aw]}),g})()},7005:(dt,Ce,p)=>{"use strict";p.d(Ce,{x:()=>T});var t=p(4006),e=p(8176),m=p(4650);let T=(()=>{class C{validate(g){return this.regex?(0,e.ry)(new RegExp(this.regex,"i"))(g):null}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275dir=m.lG2({type:C,selectors:[["","appClaimRegex",""]],inputs:{regex:["appClaimRegex","regex"]},features:[m._Bn([{provide:t.Cf,useExisting:C,multi:!0}])]}),C})()},85:(dt,Ce,p)=>{"use strict";p.d(Ce,{e:()=>b});var t=p(7185),e=p(8185),m=p(9383),T=p(4650),C=p(2979);let b=(()=>{class g{constructor(w){this.injector=w}handleError(w){if((0,T.X6Q)())console.log(w);else{const _=this.injector.get(e.F0),R=this.injector.get(t._W),P=this.injector.get(m.sK),a=this.injector.get(C.An);R.info(P.instant("Notifications.Support")),R.info(P.instant("Notifications.Apology"),P.instant("Notifications.Sorry"));const k=a.translateRoute("/home");_.navigateByUrl(k)}}}return g.\u0275fac=function(w){return new(w||g)(T.LFG(T.zs3))},g.\u0275prov=T.Yz7({token:g,factory:g.\u0275fac}),g})()},274:(dt,Ce,p)=>{"use strict";p.d(Ce,{V:()=>V});var t=p(4650),e=p(7579),m=p(9751),T=p(3900),C=p(4004),b=p(9646),g=p(5963),f=p(146),w=p(4006),_=p(1191),R=p(6895),P=p(9383);function a(J,q){if(1&J&&(t.TgZ(0,"option",11),t._uU(1),t.qZA()),2&J){const re=q.$implicit;t.Q6J("value",re),t.xp6(1),t.Oqu(re)}}function k(J,q){if(1&J){const re=t.EpF();t.TgZ(0,"select",8,9),t.NdJ("ngModelChange",function(G){t.CHM(re);const X=t.oxw();return t.KtG(X.valueChanged.emit(G))})("keyup",function(){t.CHM(re);const G=t.oxw();return t.KtG(G.keyupEvent.emit())}),t.YNc(2,a,2,2,"option",10),t.qZA()}if(2&J){const re=t.MAs(1),W=t.oxw();t.Q6J("id",W.forId)("ngModel",W.value)("disabled",W.disabled&&!re.dirty),t.xp6(2),t.Q6J("ngForOf",W.allowedValues)}}function L(J,q){if(1&J){const re=t.EpF();t.TgZ(0,"input",12,9),t.NdJ("ngModelChange",function(G){t.CHM(re);const X=t.oxw();return t.KtG(X.valueChanged.emit(G))})("focus",function(G){t.CHM(re);const X=t.oxw();return t.KtG(X.onFocus(G))}),t.ALo(2,"translate"),t.qZA()}if(2&J){const re=t.MAs(1),W=t.oxw(),G=t.MAs(5);t.s9C("placeholder",t.lcZ(2,9,"ClaimTypes.TypeaheadHelp")),t.Q6J("id",W.forId)("container",W.hostingModal)("ngModel",W.value)("typeahead",W.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",G)("disabled",W.disabled&&!re.dirty)}}function Z(J,q){if(1&J&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&J){const re=q.item;t.xp6(1),t.Oqu(re.length>20?t.Dn7(2,1,re,0,20)+"...":re)}}function j(J,q){1&J&&(t.TgZ(0,"div",13),t._UZ(1,"span",14),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&J&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"Common.LoadingPleaseWait")))}function N(J,q){1&J&&(t.TgZ(0,"div",15),t._UZ(1,"span",16),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&J&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function B(J,q){if(1&J&&(t.TgZ(0,"div",17),t._UZ(1,"span",16),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&J){const re=t.oxw();t.xp6(3),t.AsE("",t.lcZ(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",re.totalValues,")")}}let V=(()=>{class J{constructor(re){this.claimTypesService=re,this.valueChanged=new t.vpe,this.disabled=!1,this.keyupEvent=new t.vpe,this.typeIdSub=new e.x,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(W=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(G=>{this.totalValues=G.totalAllowedValues,this.allowedValues=G.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}set hostingModal(re){this._hostingModal=re}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(re){this._typeId=re,this.typeIdSub.next(re)}get typeId(){return this._typeId}initDataSrc(){return new m.y(re=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,re.next(this.value)}).pipe((0,T.w)(re=>re?this.claimTypesService.getAllowedValues(this.typeId,re,this.threshold).pipe((0,C.U)(W=>(this.totalValues=W.totalAllowedValues,this.allowedValues=W.allowedValues,this.loading=!1,this.nothingFound=W.totalAllowedValues<=0,this.tooManyResults=W.totalAllowedValues>=this.threshold,W.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,b.of)([]))))}onFocus(re){re.stopPropagation(),(0,g.H)(1).subscribe(()=>{const W=new Event("input");re.target?.dispatchEvent(W)})}}return J.\u0275fac=function(re){return new(re||J)(t.Y36(f.M))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:["id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},decls:9,vars:5,consts:[[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["customItemTemplate",""],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"id","ngModel","disabled","ngModelChange","keyup"],["claimvalue","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(re,W){1&re&&(t.TgZ(0,"div",0),t.YNc(1,k,3,4,"select",1),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,L,3,11,"input",3),t.qZA(),t.YNc(4,Z,3,5,"ng-template",null,4,t.W1O),t.YNc(6,j,5,3,"div",5),t.YNc(7,N,5,3,"div",6),t.YNc(8,B,5,4,"div",7)),2&re&&(t.xp6(1),t.Q6J("ngIf",!W.typeahead),t.xp6(2),t.Q6J("ngIf",W.typeahead),t.xp6(3),t.Q6J("ngIf",W.typeahead&&W.loading),t.xp6(1),t.Q6J("ngIf",W.typeahead&&W.nothingFound),t.xp6(1),t.Q6J("ngIf",W.typeahead&&W.tooManyResults))},dependencies:[w.YN,w.Kr,w.Fj,w.EJ,w.JJ,w.Q7,w.On,_.Bp,R.sg,R.O5,R.OU,P.X$],encapsulation:2}),J})()},9650:(dt,Ce,p)=>{"use strict";p.d(Ce,{I:()=>g});var t=p(6895),e=p(9383),m=p(4006),T=p(5898),C=p(1191),b=p(4650);let g=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275mod=b.oAB({type:f}),f.\u0275inj=b.cJS({imports:[m.u5,m.UX,C.H3,t.ez,e.aw,T.T]}),f})()},4234:(dt,Ce,p)=>{"use strict";p.d(Ce,{x:()=>V});var t=p(4225),e=p(8176),m=p(4650),T=p(4006),C=p(6895),b=p(7608),g=p(799),f=p(7005),w=p(274);const _=["claimsForm"];function R(J,q){if(1&J){const re=m.EpF();m.TgZ(0,"input",10,11),m.NdJ("keyup",function(){m.CHM(re);const G=m.oxw().$implicit,X=m.oxw();return m.KtG(X.checkForPolicyClaimForm(G.type,G))})("ngModelChange",function(G){m.CHM(re);const X=m.oxw().$implicit;return m.KtG(X.value=G)}),m.qZA()}if(2&J){const re=m.MAs(1),W=m.oxw(),G=W.index,X=W.$implicit,E=m.oxw();m.MGl("id","claim-",G,""),m.Q6J("name",X.type)("ngModel",X.value)("appClaimRegex",X.regex)("disabled",E.notAllowedToEditClaim(X)&&!re.dirty)}}function P(J,q){if(1&J){const re=m.EpF();m.TgZ(0,"input",12,11),m.NdJ("keyup",function(){m.CHM(re);const G=m.oxw().$implicit,X=m.oxw();return m.KtG(X.checkForPolicyClaimForm(G.type,G))})("ngModelChange",function(G){m.CHM(re);const X=m.oxw().$implicit;return m.KtG(X.value=G)}),m.qZA()}if(2&J){const re=m.MAs(1),W=m.oxw(),G=W.index,X=W.$implicit,E=m.oxw();m.MGl("id","claim-",G,""),m.Q6J("name",X.type)("ngModel",X.value)("disabled",E.notAllowedToEditClaim(X)&&!re.dirty)}}function a(J,q){if(1&J){const re=m.EpF();m.TgZ(0,"app-form-toggle",13)(1,"input",14),m.NdJ("keyup",function(){m.CHM(re);const G=m.oxw().$implicit,X=m.oxw();return m.KtG(X.checkForPolicyClaimForm(G.type,G))})("ngModelChange",function(G){m.CHM(re);const X=m.oxw().$implicit;return m.KtG(X.value=G?"true":"false")}),m.qZA()()}if(2&J){const re=m.oxw(),W=re.index,G=re.$implicit,X=m.oxw();m.Q6J("id","claim-"+W)("isTraffic",!0)("isAlt",!1),m.xp6(1),m.Q6J("id","claim-"+W)("name",G.type)("disabled",X.notAllowedToEditClaim(G)&&!X.claimvalue.dirty)("ngModel","true"==G.value)}}function k(J,q){if(1&J){const re=m.EpF();m.ynx(0),m.TgZ(1,"app-date-time",17,11),m.NdJ("ngModelChange",function(G){m.CHM(re);const X=m.oxw(2).$implicit;return m.KtG(X.value=G)})("keyup",function(){m.CHM(re);const G=m.oxw(2).$implicit,X=m.oxw();return m.KtG(X.checkForPolicyClaimForm(G.type,G))})("change",function(){m.CHM(re);const G=m.oxw(3);return m.KtG(G.makeFormDirty())}),m.qZA(),m.BQk()}if(2&J){const re=m.MAs(2),W=m.oxw(2),G=W.index,X=W.$implicit,E=m.oxw();m.xp6(1),m.MGl("id","claim-",G,""),m.Q6J("name",X.type)("ngModel",X.value)("disabled",E.notAllowedToEditClaim(X)&&!re.dirty)}}function L(J,q){if(1&J){const re=m.EpF();m.ynx(0),m.TgZ(1,"app-date-time",18,11),m.NdJ("ngModelChange",function(G){m.CHM(re);const X=m.oxw(2).$implicit;return m.KtG(X.value=G)})("keyup",function(){m.CHM(re);const G=m.oxw(2).$implicit,X=m.oxw();return m.KtG(X.checkForPolicyClaimForm(G.type,G))})("change",function(){m.CHM(re);const G=m.oxw(3);return m.KtG(G.makeFormDirty())}),m.qZA(),m.BQk()}if(2&J){const re=m.MAs(2),W=m.oxw(2),G=W.index,X=W.$implicit,E=m.oxw();m.xp6(1),m.MGl("id","claim-",G,""),m.Q6J("name",X.type)("displayType",E.dateTimeDisplayType.Date)("ngModel",X.value)("disabled",E.notAllowedToEditClaim(X)&&!re.dirty)}}function Z(J,q){if(1&J&&(m.TgZ(0,"div",15),m.YNc(1,k,3,4,"ng-container",16),m.YNc(2,L,3,5,"ng-container",16),m.qZA()),2&J){const re=m.oxw().$implicit;m.xp6(1),m.Q6J("ngIf","birthdate"!=re.type),m.xp6(1),m.Q6J("ngIf","birthdate"==re.type)}}function j(J,q){if(1&J){const re=m.EpF();m.TgZ(0,"div",19)(1,"app-enum-claim-type-input",20),m.NdJ("valueChanged",function(G){m.CHM(re);const X=m.oxw().$implicit,E=m.oxw();return X.value=G,m.KtG(E.makeFormDirty())})("keyupEvent",function(){m.CHM(re);const G=m.oxw().$implicit,X=m.oxw();return m.KtG(X.checkForPolicyClaimForm(G.type,G))}),m.qZA()()}if(2&J){const re=m.oxw(),W=re.index,G=re.$implicit,X=m.oxw();m.xp6(1),m.Q6J("id","claim-"+W)("typeId",X.getClaimType(G).id)("value",G.value)("disabled",X.notAllowedToEditClaim(G))}}function N(J,q){if(1&J&&(m.TgZ(0,"span",21),m._uU(1),m.qZA()),2&J){const re=m.oxw().$implicit;m.xp6(1),m.Oqu(re.failureMessage)}}function B(J,q){if(1&J&&(m.TgZ(0,"app-form-row",3),m.YNc(1,R,2,5,"input",4),m.YNc(2,P,2,4,"input",5),m.YNc(3,a,2,7,"app-form-toggle",6),m.YNc(4,Z,3,2,"div",7),m.YNc(5,j,2,4,"div",8),m.YNc(6,N,2,1,"span",9),m.qZA()),2&J){const re=q.$implicit,W=q.index,G=m.oxw();let X;m.Q6J("id","claim-"+W)("label",null!==(X=re.displayName)&&void 0!==X?X:re.type)("help",G.getHelpTextString(re)),m.xp6(1),m.Q6J("ngIf","String"==re.format),m.xp6(1),m.Q6J("ngIf","Int"==re.format),m.xp6(1),m.Q6J("ngIf","Boolean"==re.format),m.xp6(1),m.Q6J("ngIf","DateTime"==re.format),m.xp6(1),m.Q6J("ngIf","Enum"==re.format),m.xp6(1),m.Q6J("ngIf",G.claimDirtyAndInvalid(re.type))}}let V=(()=>{class J{constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=t.V}ngOnChanges(){for(const re of this.claimTypes??[])if(re.required){let W="Boolean"===re.valueType?"false":null,G=this.claims?.filter(E=>E.type===re.name)??[];G.length>0&&!(0,e.le)(G[0].value)&&(W=G[0].value);const X={typeId:re.id,format:re.valueType,value:W,type:re.name,displayName:re.displayName,editing:!1,required:re.required};re.rule&&(X.regex=re.rule,X.failureMessage=re.ruleValidationFailureDescription),this.requiredClaims.push(X)}}getHelpTextString(re){return this.isPolicyClaim(re)?"DateTime"==re.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==re.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(re,W){this.notAllowedToEditClaim(W)&&this.claimsForm.form.controls[re].setErrors({incorrect:!0})}isClaimInValid(re){return this.claimsForm.form.get(re)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(re){let W=this.claimsForm.form.get(re)??{invalid:!1,dirty:!1};return W.invalid&&W.dirty}resetForm(){this.claimsForm.reset()}getClaimType(re){return this.claimTypes.find(W=>W.name===re.type)}}return J.\u0275fac=function(re){return new(re||J)},J.\u0275cmp=m.Xpm({type:J,selectors:[["app-required-claims-form"]],viewQuery:function(re,W){if(1&re&&m.Gf(_,7),2&re){let G;m.iGM(G=m.CRH())&&(W.claimsForm=G.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},features:[m.TTD],decls:3,vars:1,consts:[["id","requiredClaims"],["claimsForm","ngForm"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange"],["claimvalue","ngModel"],["type","number","required","",1,"tw-form-control",3,"name","ngModel","id","disabled","keyup","ngModelChange"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"id","name","disabled","ngModel","keyup","ngModelChange"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"id","name","ngModel","disabled","ngModelChange","keyup","change"],[3,"id","name","displayType","ngModel","disabled","ngModelChange","keyup","change"],[1,""],[3,"id","typeId","value","disabled","valueChanged","keyupEvent"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(re,W){1&re&&(m.TgZ(0,"form",0,1),m.YNc(2,B,7,9,"app-form-row",2),m.qZA()),2&re&&(m.xp6(2),m.Q6J("ngForOf",W.requiredClaims))},dependencies:[T._Y,T.Fj,T.wV,T.Wl,T.JJ,T.JL,T.Q7,T.On,T.F,C.sg,C.O5,t.j,b.L,g.O,f.x,w.V],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),J})()},1651:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>T});var t=p(4650);const e=[[["","left",""]],[["","right",""]]],m=["[left]","[right]"];let T=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-row-bar"]],ngContentSelectors:m,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(g,f){1&g&&(t.F$t(e),t.TgZ(0,"div",0),t.Hsn(1),t.TgZ(2,"div",1),t.Hsn(3,1),t.qZA()())},encapsulation:2}),C})()},7608:(dt,Ce,p)=>{"use strict";p.d(Ce,{L:()=>_});var t=p(4650),e=p(6895),m=p(9383);function T(R,P){if(1&R&&(t._UZ(0,"span",7),t.ALo(1,"translate")),2&R){const a=t.oxw(2);t.Q6J("innerHtml",t.lcZ(1,1,a.helpText),t.oJD)}}function C(R,P){if(1&R&&(t.TgZ(0,"label",4)(1,"span",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,T,2,3,"span",6),t.qZA()),2&R){const a=t.oxw();t.Q6J("for",a.idFor),t.xp6(2),t.Oqu(t.lcZ(3,3,a.labelText)),t.xp6(2),t.Q6J("ngIf",a.showHelpText)}}function b(R,P){if(1&R&&(t._UZ(0,"span",7),t.ALo(1,"translate")),2&R){const a=t.oxw(2);t.Q6J("innerHtml",t.lcZ(1,1,a.helpText),t.oJD)}}function g(R,P){if(1&R&&(t.TgZ(0,"p",8)(1,"span",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,b,2,3,"span",6),t.qZA()),2&R){const a=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,a.labelText)),t.xp6(2),t.Q6J("ngIf",a.showHelpText)}}const f=function(R){return{"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":R}},w=["*"];let _=(()=>{class R{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}}return R.\u0275fac=function(a){return new(a||R)},R.\u0275cmp=t.Xpm({type:R,selectors:[["app-form-row"]],inputs:{idFor:["id","idFor"],labelText:["label","labelText"],helpText:["help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},ngContentSelectors:w,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(a,k){1&a&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,C,5,5,"label",1),t.YNc(2,g,5,4,"p",2),t.TgZ(3,"div",3),t.Hsn(4),t.qZA()()),2&a&&(t.Q6J("ngClass",t.VKq(3,f,k.isLast)),t.xp6(1),t.Q6J("ngIf",k.idFor&&k.hasLabel),t.xp6(1),t.Q6J("ngIf",!k.idFor&&k.hasLabel))},dependencies:[e.mk,e.O5,m.X$],encapsulation:2}),R})()},799:(dt,Ce,p)=>{"use strict";p.d(Ce,{O:()=>b});var t=p(4650),e=p(6895);const m=function(g,f){return{"tw-form-switch__slider--traffic":g,"tw-form-switch__slider--alt":f}},T=function(g,f){return{"tw-form-switch__state--traffic":g,"tw-form-switch__state--alt":f}},C=["*"];let b=(()=>{class g{constructor(){this.isAlt=!1,this.isTraffic=!1}}return g.\u0275fac=function(w){return new(w||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-form-toggle"]],inputs:{idFor:["id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},ngContentSelectors:C,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(w,_){1&w&&(t.F$t(),t.TgZ(0,"label",0),t.Hsn(1),t.TgZ(2,"span",1),t._UZ(3,"span",2),t.qZA()()),2&w&&(t.Q6J("for",_.idFor),t.xp6(2),t.Q6J("ngClass",t.WLB(3,m,_.isTraffic,_.isAlt)),t.xp6(1),t.Q6J("ngClass",t.WLB(6,T,_.isTraffic,_.isAlt)))},dependencies:[e.mk],encapsulation:2}),g})()},8176:(dt,Ce,p)=>{"use strict";p.d(Ce,{AZ:()=>R,Fd:()=>j,GA:()=>J,Hr:()=>ne,RW:()=>w,SV:()=>q,X1:()=>C,YE:()=>m,Zr:()=>E,eC:()=>N,gR:()=>re,hC:()=>W,hr:()=>f,le:()=>b,lm:()=>P,mn:()=>a,qs:()=>L,ry:()=>Z,sY:()=>B,ub:()=>G,z3:()=>T});var t=p(1206),e=p(1837);function m(K,le=" "){return b(K)?"":K.join(le)}function T(K,le=" "){return f(K)?[]:K.split(le)}function C(K,le){return`${e.ou.fromISO(K).toFormat(le)} UTC`}function b(K){return null==K}function f(K){return null==K||"string"!=typeof K||""===K||null!==K.match(/^ *$/)}function w(K){const le=document.createElement("a");return le.href=K,le.protocol+"//"+decodeURIComponent(le.host)}function R(K){const me=new RegExp("(^https?://|urn:|tcp://)").exec(K);if(me){if("urn:"===me[0])return!1}else K="http://"+K;const Se=K.split("/");return K.endsWith("/")?Se.length>4:Se.length>3}function P(K){const me=new RegExp("https?://|urn:|tcp://").exec(K);return me?me[0]:null}function a(K,le){const me=JSON.parse(JSON.stringify(K));return le.forEach(Se=>{let ye=me.length;for(;ye--;)me[ye].name===Se.name&&me.splice(ye,1)}),me}function L(){let K=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(K+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(le){const me=(K+16*Math.random())%16|0;return K=Math.floor(K/16),("x"===le?me:3&me|8).toString(16)})}function Z(K){return le=>K.test(le.value)?null:{regex:{value:le.value}}}function j(){return K=>0===(K.value||"").trim().length?{whitespace:{value:K.value}}:null}function N(K){const le=e.ou.now();return e.ou.fromISO(K.value).diff(le).milliseconds>1?{dateInFuture:!0}:null}function B(K){const le=e.ou.fromISO(K.get("fromDate").value);return e.ou.fromISO(K.get("toDate").value).diff(le,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function J(K){if(K&&K.size>0){const le={};return K.forEach((me,Se)=>{le[Se]=me}),le}return{}}function q(){const K=document.getElementsByTagName("base")[0].attributes.href.value;return f(K)?"/":K.endsWith("/")?K:`${K}/`}function re(K){return!(!K||0===K.length)&&(K.includes(t.y.IdentityServerManagerReadOnly)||K.includes(t.y.AllReadOnly))&&!(K.includes(t.y.IdentityServerManager)||K.includes(t.y.All))}function W(K){return!(!K||0===K.length)&&(K.includes(t.y.IdentityServerManager)||K.includes(t.y.All))}function G(K){return!(!K||0===K.length)&&(K.includes(t.y.UserManagerReadOnly)||K.includes(t.y.AllReadOnly))&&!(K.includes(t.y.UserManager)||K.includes(t.y.All))}function E(K){return!(!K||0===K.length)&&K.includes(t.y.All)}function ne(K){return!(!K||0===K.length)&&K.includes(t.y.AllReadOnly)&&!K.includes(t.y.All)}},9465:(dt,Ce,p)=>{"use strict";p.d(Ce,{U:()=>re});var t=p(4650),e=p(4006),m=p(9748),T=p(2329),C=p(6502),b=p(8176),g=p(6895),f=p(9383);function w(W,G){if(1&W&&(t.TgZ(0,"div"),t._UZ(1,"input",7),t.qZA()),2&W){const X=t.oxw();t.xp6(1),t.s9C("id",X.id+"-input"),t.Q6J("ngModel",X.value)}}function _(W,G){if(1&W){const X=t.EpF();t.TgZ(0,"div")(1,"input",8),t.NdJ("keydown",function(ne){t.CHM(X);const K=t.oxw();return t.KtG(K.onKeyDown(ne))})("paste",function(ne){t.CHM(X);const K=t.oxw();return t.KtG(K.onPaste(ne))})("ngModelChange",function(ne){t.CHM(X);const K=t.oxw();return t.KtG(K.onValueChange(ne))}),t.qZA()()}if(2&W){const X=t.oxw();t.xp6(1),t.s9C("id",X.id+"-input"),t.Q6J("ngModel",X.value)}}function R(W,G){if(1&W&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&W){const X=t.oxw(2);t.xp6(1),t.AsE(" ",X.timeSpan.years," ",t.lcZ(2,2,X.displayTimeSpanUnit(X.timeSpan.years,"Year"))," ")}}function P(W,G){if(1&W&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&W){const X=t.oxw(2);t.xp6(1),t.AsE(" ",X.timeSpan.months," ",t.lcZ(2,2,X.displayTimeSpanUnit(X.timeSpan.months,"Month"))," ")}}function a(W,G){if(1&W&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&W){const X=t.oxw(2);t.xp6(1),t.AsE(" ",X.timeSpan.weeks," ",t.lcZ(2,2,X.displayTimeSpanUnit(X.timeSpan.weeks,"Week"))," ")}}function k(W,G){if(1&W&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&W){const X=t.oxw(2);t.xp6(1),t.AsE(" ",X.timeSpan.days," ",t.lcZ(2,2,X.displayTimeSpanUnit(X.timeSpan.days,"Day"))," ")}}function L(W,G){if(1&W&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&W){const X=t.oxw(2);t.xp6(1),t.AsE(" ",X.timeSpan.hours," ",t.lcZ(2,2,X.displayTimeSpanUnit(X.timeSpan.hours,"Hour"))," ")}}function Z(W,G){if(1&W&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&W){const X=t.oxw(2);t.xp6(1),t.AsE(" ",X.timeSpan.minutes," ",t.lcZ(2,2,X.displayTimeSpanUnit(X.timeSpan.minutes,"Minute"))," ")}}function j(W,G){if(1&W&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&W){const X=t.oxw(2);t.xp6(1),t.AsE(" ",X.timeSpan.seconds," ",t.lcZ(2,2,X.displayTimeSpanUnit(X.timeSpan.seconds,"Second"))," ")}}function N(W,G){1&W&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&W&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Clients.Tokens.Durations.Unlimited")," "))}function B(W,G){if(1&W&&(t.TgZ(0,"p",9),t._UZ(1,"span",10),t.ALo(2,"translate"),t.TgZ(3,"span",11),t.YNc(4,R,3,4,"span",12),t.YNc(5,P,3,4,"span",12),t.YNc(6,a,3,4,"span",12),t.YNc(7,k,3,4,"span",12),t.YNc(8,L,3,4,"span",12),t.YNc(9,Z,3,4,"span",12),t.YNc(10,j,3,4,"span",12),t.YNc(11,N,3,3,"span",12),t.qZA()()),2&W){const X=t.oxw();t.s9C("id",X.id+"-longTimeLabel"),t.xp6(1),t.uIk("aria-label",t.lcZ(2,10,"Clients.Tokens.DurationTitle")),t.xp6(3),t.Q6J("ngIf",(null==X.timeSpan?null:X.timeSpan.years)>0),t.xp6(1),t.Q6J("ngIf",(null==X.timeSpan?null:X.timeSpan.months)>0),t.xp6(1),t.Q6J("ngIf",(null==X.timeSpan?null:X.timeSpan.weeks)>0),t.xp6(1),t.Q6J("ngIf",(null==X.timeSpan?null:X.timeSpan.days)>0),t.xp6(1),t.Q6J("ngIf",(null==X.timeSpan?null:X.timeSpan.hours)>0),t.xp6(1),t.Q6J("ngIf",(null==X.timeSpan?null:X.timeSpan.minutes)>0),t.xp6(1),t.Q6J("ngIf",(null==X.timeSpan?null:X.timeSpan.seconds)>0),t.xp6(1),t.Q6J("ngIf",X.showUnlimitedTimeSpan())}}function V(W,G){if(1&W&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&W){const X=t.oxw().$implicit;t.xp6(1),t.Oqu(X.duration)}}const J=function(W,G){return{"tw-btn active":W,"tw-btn-link":G}};function q(W,G){if(1&W){const X=t.EpF();t.TgZ(0,"li")(1,"button",14),t.NdJ("click",function(){const K=t.CHM(X).$implicit,le=t.oxw();return t.KtG(le.setInput(K))}),t.YNc(2,V,2,1,"span",15),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()}if(2&W){const X=G.$implicit,E=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(6,J,E.checkSelected(X),!E.checkSelected(X)))("disabled",E.disabled),t.xp6(1),t.Q6J("ngIf",X.duration),t.xp6(2),t.Oqu(t.lcZ(5,4,"Clients.Tokens.Durations."+X.unit+"Short"))}}let re=(()=>{class W{constructor(){this.id=(0,b.qs)(),this.allowUnlimited=!1,this.disabled=!1,this.required=!1,this.unitMap=m.S.getUnitMap(),this.LifetimeUnit=T.f,this.onChange=X=>{},this.onTouched=()=>{}}set value(X){this.setValue(X,!1)}get value(){return this._value}setValue(X,E=!0){null!=X&&!Number.isInteger(X)||(this._value=X,null==X?this.timeSpan=null:this.timeSpan?this.timeSpan.formatSeconds(X):this.timeSpan=new C.i(X),E&&this.onChange(X))}onValueChange(X){this.setValue(X)}onKeyDown(X){return 69!==X.keyCode&&189!==X.keyCode&&190!==X.keyCode}onPaste(X){const ne=X.clipboardData?.getData("text"),K=Number(ne);Number.isInteger(K)&&(K>0||null==K&&this.allowUnlimited)||X.preventDefault()}writeValue(X){this.setValue(X,!1)}registerOnChange(X){this.onChange=X}registerOnTouched(X){this.onTouched=X}setDisabledState(X){this.disabled=X}validate(X){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}nullAwareMultiply(X,E){return null==X||null==E?null:X*E}setInput(X){const E=this.nullAwareMultiply(X.duration,this.unitMap.get(X.unit));this.setValue(E)}checkSelected(X){return this.value===this.nullAwareMultiply(X.duration,this.unitMap.get(X.unit))}displayTimeSpanUnit(X,E){return"Clients.Tokens.Durations."+E+(X>1?"s":"")}showUnlimitedTimeSpan(){return!(!this.allowUnlimited||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}}return W.\u0275fac=function(X){return new(X||W)},W.\u0275cmp=t.Xpm({type:W,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowUnlimited:"allowUnlimited",disabled:"disabled",required:"required"},features:[t._Bn([{provide:e.JU,useExisting:(0,t.Gpc)(()=>W),multi:!0},{provide:e.Cf,useExisting:(0,t.Gpc)(()=>W),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"id","ngModel","keydown","paste","ngModelChange"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"ngClass","disabled","click"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(X,E){1&X&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,w,2,2,"div",2),t.YNc(3,_,2,2,"div",2),t.YNc(4,B,12,12,"p",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5),t.YNc(7,q,6,9,"li",6),t.qZA()()()),2&X&&(t.xp6(2),t.Q6J("ngIf",E.disabled),t.xp6(1),t.Q6J("ngIf",!E.disabled),t.xp6(1),t.Q6J("ngIf",E.value>0||null==E.value&&E.allowUnlimited),t.xp6(2),t.s9C("id",E.id+"-buttonList"),t.xp6(1),t.Q6J("ngForOf",E.buttons))},dependencies:[g.mk,g.sg,g.O5,e.Fj,e.wV,e.JJ,e.qQ,e.On,f.X$],encapsulation:2}),W})()},1274:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>b});var t=p(6895),e=p(2979),m=p(4006),T=p(9383),C=p(4650);let b=(()=>{class g{}return g.\u0275fac=function(w){return new(w||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({imports:[t.ez,m.u5,m.UX,e.fQ,T.aw]}),g})()},8975:(dt,Ce,p)=>{"use strict";p.d(Ce,{d:()=>b});var t=p(6895),e=p(9383),m=p(6980),T=p(4022),C=p(4650);let b=(()=>{class g{}return g.\u0275fac=function(w){return new(w||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({imports:[t.ez,e.aw,m.K,T.p]}),g})()},965:(dt,Ce,p)=>{"use strict";p.d(Ce,{R:()=>W});var t=p(4650),e=p(6895),m=p(7579),T=p(4968),C=p(2722),b=p(4004),g=p(8675),f=p(9300),w=p(1365);const _=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var a=p(5259),k=p(1923),L=p(6219),Z=p(9383);function j(G,X){if(1&G){const E=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(E);const K=t.oxw();return t.KtG(K.cancel())}),t._UZ(1,"span",17),t.TgZ(2,"span",18),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&G&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"Common.Close")))}function N(G,X){if(1&G){const E=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(E);const K=t.oxw();return t.KtG(K.save())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&G){const E=t.oxw();t.Q6J("disabled",E.addDisabled),t.xp6(1),t.hij(" ",t.lcZ(2,2,E.saveText)," ")}}function B(G,X){if(1&G){const E=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(E);const K=t.oxw();return t.KtG(K.delete())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&G){const E=t.oxw();t.Q6J("disabled",E.deleteDisabled),t.xp6(1),t.hij(" ",t.lcZ(2,2,E.deleteText)," ")}}function V(G,X){if(1&G){const E=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(E);const K=t.oxw();return t.KtG(K.saveAndReAdd())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&G){const E=t.oxw();t.xp6(1),t.Q6J("disabled",E.addDisabled),t.xp6(1),t.hij(" ",t.lcZ(3,2,E.saveAndReAddText)," ")}}function J(G,X){if(1&G){const E=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(E);const K=t.oxw();return t.KtG(K.cancel())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&G&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Common.Cancel")," "))}function q(G,X){1&G&&t._UZ(0,"div",24)}const re=["*"];let W=(()=>{class G{constructor(E,ne,K){this.document=E,this.elRef=ne,this.modalService=K,this.hideCancel=!1,this.modalType=k.w.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new t.vpe,this.onSaveAndReAdd=new t.vpe,this.onDelete=new t.vpe,this.onCancel=new t.vpe,this.isVisible=!1,this.isVisible$=new m.x,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(a.n.Delete),this.canSave=this.actions.includes(a.n.Save),this.canSaveAndReAdd=this.actions.includes(a.n.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function R(G,X){const E=function P(G){const X=Array.from(G.querySelectorAll(_)).filter(E=>-1!==E.tabIndex);return[X[0],X[X.length-1]]}(G),[ne,K]=E,le=(0,T.R)(G,"focusin").pipe((0,C.R)(X),(0,b.U)(me=>me.target),(0,g.O)(ne));ne.focus(),(0,T.R)(G,"keydown").pipe((0,C.R)(X),(0,f.h)(me=>"Tab"===me.key),(0,w.M)(le)).subscribe(([me,Se])=>{(Se===ne||Se===G)&&me.shiftKey&&(K.focus(),me.preventDefault()),Se===K&&!me.shiftKey&&(ne.focus(),me.preventDefault())}),(0,T.R)(document,"click").pipe((0,C.R)(X),(0,w.M)(le),(0,b.U)(me=>me[1])).subscribe(me=>{me.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,T.R)(this.document,"keydown").pipe((0,C.R)(this.isVisible$),(0,f.h)(E=>"Esc"===E.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}}return G.\u0275fac=function(E){return new(E||G)(t.Y36(e.K0),t.Y36(t.SBq),t.Y36(L.Z))},G.\u0275cmp=t.Xpm({type:G,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},ngContentSelectors:re,decls:19,vars:14,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(E,ne){1&E&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,j,5,3,"button",5),t.qZA(),t.TgZ(8,"div",6),t.Hsn(9),t.qZA(),t._UZ(10,"div",7),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10),t.YNc(14,N,3,4,"button",11),t.YNc(15,B,3,4,"button",12),t.YNc(16,V,4,4,"div",13),t.qZA(),t.YNc(17,J,3,3,"button",14),t.qZA()()()()(),t.YNc(18,q,1,0,"div",15)),2&E&&(t.ekj("show",ne.isVisible),t.uIk("aria-hidden",!ne.isVisible)("aria-labelledby","modal-title-"+ne.modalId),t.xp6(4),t.MGl("id","modal-title-",ne.modalId,""),t.xp6(1),t.Oqu(t.lcZ(6,12,ne.title)),t.xp6(2),t.Q6J("ngIf",!ne.hideCancel),t.xp6(7),t.Q6J("ngIf",ne.canSave),t.xp6(1),t.Q6J("ngIf",ne.canDelete),t.xp6(1),t.Q6J("ngIf",ne.canSaveAndReAdd),t.xp6(1),t.Q6J("ngIf",!ne.hideCancel),t.xp6(1),t.Q6J("ngIf",ne.showBackdrop))},dependencies:[e.O5,Z.X$],encapsulation:2}),G})()},6219:(dt,Ce,p)=>{"use strict";p.d(Ce,{Z:()=>m});var t=p(6895),e=p(4650);let m=(()=>{class T{constructor(b){this.document=b,this.modalList=[]}add(b){this.modalList.push(b)}remove(b){const g=this.modalList.indexOf(b);this.modalList.splice(g)}visibleModals(){return this.modalList.filter(b=>b.isVisible).length}showById(b,g){null!=g&&null!=g.nativeElement&&(this.lastClickedEl=g.nativeElement),this.modalList.find(w=>w.modalId===b).show()}hideById(b){const g=this.modalList.find(f=>f.modalId===b);g&&(g.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}}return T.\u0275fac=function(b){return new(b||T)(e.LFG(t.K0))},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},7696:(dt,Ce,p)=>{"use strict";p.d(Ce,{P:()=>g});var t=p(4650),e=p(6895),m=p(9383);function T(f,w){if(1&f&&(t.TgZ(0,"span",6),t._uU(1),t.qZA()),2&f){const _=t.oxw();t.xp6(1),t.Oqu(_.pageXofX)}}function C(f,w){1&f&&(t.TgZ(0,"span",7),t._uU(1,"\u2022"),t.qZA())}function b(f,w){if(1&f){const _=t.EpF();t.TgZ(0,"nav",8),t.ALo(1,"translate"),t.TgZ(2,"ul",9)(3,"li")(4,"button",10),t.NdJ("click",function(){t.CHM(_);const P=t.oxw();return t.KtG(P.goToPage(1))}),t.TgZ(5,"span"),t._UZ(6,"span",11),t.qZA(),t.TgZ(7,"span",12),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"li",13)(11,"button",14),t.NdJ("click",function(){t.CHM(_);const P=t.oxw();return t.KtG(P.goToPage(P.currentPage-1))}),t.TgZ(12,"span"),t._UZ(13,"span",15),t.qZA(),t.TgZ(14,"span",12),t._uU(15),t.ALo(16,"translate"),t.qZA()()(),t.TgZ(17,"li",13)(18,"button",16),t.NdJ("click",function(){t.CHM(_);const P=t.oxw();return t.KtG(P.goToPage(P.currentPage+1))}),t.TgZ(19,"span"),t._UZ(20,"span",17),t.qZA(),t.TgZ(21,"span",12),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"li",13)(25,"button",18),t.NdJ("click",function(){t.CHM(_);const P=t.oxw();return t.KtG(P.goToPage(P.lastPage))}),t.TgZ(26,"span"),t._UZ(27,"span",19),t.qZA(),t.TgZ(28,"span",12),t._uU(29),t.ALo(30,"translate"),t.qZA()()()()()}if(2&f){const _=t.oxw();t.uIk("aria-label",t.lcZ(1,9,"Nav.Page")),t.xp6(4),t.Q6J("disabled",1==_.currentPage),t.xp6(4),t.Oqu(t.lcZ(9,11,"Nav.First")),t.xp6(3),t.Q6J("disabled",1==_.currentPage),t.xp6(4),t.Oqu(t.lcZ(16,13,"Nav.Previous")),t.xp6(3),t.Q6J("disabled",_.currentPage==_.lastPage),t.xp6(4),t.Oqu(t.lcZ(23,15,"Nav.Next")),t.xp6(3),t.Q6J("disabled",_.currentPage==_.lastPage),t.xp6(4),t.Oqu(t.lcZ(30,17,"Nav.Last"))}}let g=(()=>{class f{constructor(_,R){this.translate=_,this.decimalPipe=R,this.onGoToPage=new t.vpe}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let _=this.translate.instant("Nav.PageXofX");_=_.replace("{0}",this.decimalPipe.transform(this.currentPage)),_=_.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=_}goToPage(_){void 0!==this.onGoToPage&&(_<1?_=1:_>this.lastPage&&(_=this.lastPage),this.onGoToPage.emit(_))}}return f.\u0275fac=function(_){return new(_||f)(t.Y36(m.sK),t.Y36(e.JJ))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},features:[t._Bn([e.JJ])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(_,R){1&_&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,T,2,1,"span",2),t.YNc(3,C,2,0,"span",3),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"number"),t.ALo(7,"translate"),t.qZA()(),t.YNc(8,b,31,19,"nav",5),t.qZA()),2&_&&(t.xp6(2),t.Q6J("ngIf",!R.hidePager),t.xp6(1),t.Q6J("ngIf",!R.hidePager),t.xp6(2),t.AsE("",t.lcZ(6,5,R.totalResults)," ",t.lcZ(7,7,"Nav.ResultsFound"),""),t.xp6(3),t.Q6J("ngIf",!R.hidePager))},dependencies:[e.O5,e.JJ,m.X$],encapsulation:2}),f})()},5785:(dt,Ce,p)=>{"use strict";p.d(Ce,{U:()=>b});var t=p(6895),e=p(8185),m=p(5503),T=p(9383),C=p(4650);let b=(()=>{class g{}return g.\u0275fac=function(w){return new(w||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({imports:[t.ez,e.Bz,m.D,T.aw]}),g})()},6592:(dt,Ce,p)=>{"use strict";p.d(Ce,{j:()=>b});var t=p(4650),e=p(8176),m=p(6895);function T(g,f){1&g&&t._UZ(0,"span",6)}function C(g,f){if(1&g){const w=t.EpF();t.TgZ(0,"li",2)(1,"button",3),t.NdJ("click",function(){const P=t.CHM(w).index,a=t.oxw();return t.KtG(a.deleteValue(P))}),t.YNc(2,T,1,0,"span",4),t.TgZ(3,"span",5),t._uU(4),t.qZA()()()}if(2&g){const w=f.$implicit,_=t.oxw();t.xp6(1),t.uIk("aria-label",_.enumValues),t.xp6(1),t.Q6J("ngIf",!_.readonly),t.xp6(2),t.Oqu(w)}}let b=(()=>{class g{constructor(){this.readonly=!1,this.onDelete=new t.vpe}get id(){return this._id}set id(w){this._id=w||(0,e.qs)()}ngOnInit(){}deleteValue(w){this.readonly||this.onDelete.emit(w)}}return g.\u0275fac=function(w){return new(w||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},decls:2,vars:2,consts:[[3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["class","fas fa-times tw-mr-1","aria-hidden","true",4,"ngIf"],[1,"tw-pl-1"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(w,_){1&w&&(t.TgZ(0,"ul",0),t.YNc(1,C,5,3,"li",1),t.qZA()),2&w&&(t.s9C("id",_.id+"-enumValues-select"),t.xp6(1),t.Q6J("ngForOf",_.values))},dependencies:[m.sg,m.O5]}),g})()},2147:(dt,Ce,p)=>{"use strict";p.d(Ce,{l:()=>m});var t=p(6895),e=p(4650);let m=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275mod=e.oAB({type:T}),T.\u0275inj=e.cJS({imports:[t.ez]}),T})()},6001:(dt,Ce,p)=>{"use strict";p.d(Ce,{s:()=>V});var t=p(4650);class e{constructor(){this.key="",this.value=""}}class m extends e{constructor(){super()}}var T=p(572),C=p(5259),b=p(7185),g=p(9383),f=p(6219),w=p(8285),_=p(6895),R=p(4006),P=p(2808),a=p(8163),k=p(965),L=p(7608);const Z=["addButton"];function j(J,q){if(1&J){const re=t.EpF();t.TgZ(0,"app-action-bar"),t.ynx(1,4),t.TgZ(2,"button",5,6),t.NdJ("click",function(){t.CHM(re);const G=t.oxw();return t.KtG(G.openAddModal())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.BQk(),t.qZA()}2&J&&(t.xp6(2),t.Q6J("id","addClaim"),t.xp6(2),t.hij(" ",t.lcZ(5,2,"Clients.Properties.AddProperty")," "))}function N(J,q){if(1&J){const re=t.EpF();t.TgZ(0,"app-custom-modal",7),t.NdJ("onCancel",function(){t.CHM(re);const G=t.oxw();return t.KtG(G.closeAddAndReset())})("onSave",function(){t.CHM(re);const G=t.oxw();return t.KtG(G.addProperty())}),t.TgZ(1,"app-form-row",8)(2,"input",9),t.NdJ("ngModelChange",function(G){t.CHM(re);const X=t.oxw();return t.KtG(X.addProp.key=G)}),t.qZA()(),t.TgZ(3,"app-form-row",10)(4,"input",11),t.NdJ("ngModelChange",function(G){t.CHM(re);const X=t.oxw();return t.KtG(X.addProp.value=G)}),t.qZA()()()}if(2&J){const re=t.oxw();t.Q6J("title","Clients.Properties.AddProperty")("modalId",re.addModalId)("actions",re.addModalActions)("addDisabled",re.addProp.key.length<1||re.addProp.value.length<1),t.xp6(1),t.Q6J("label","Common.Key")("id","propertyAddKey"),t.xp6(1),t.Q6J("ngModel",re.addProp.key),t.xp6(1),t.Q6J("label","Common.Value")("id","propertyAddValue")("isLast",!0),t.xp6(1),t.Q6J("ngModel",re.addProp.value)}}function B(J,q){if(1&J){const re=t.EpF();t.TgZ(0,"app-custom-modal",7),t.NdJ("onCancel",function(){t.CHM(re);const G=t.oxw();return t.KtG(G.closeModalAndReset())})("onSave",function(){t.CHM(re);const G=t.oxw();return t.KtG(G.saveEdit())}),t.TgZ(1,"app-form-row",8)(2,"input",12),t.NdJ("ngModelChange",function(G){t.CHM(re);const X=t.oxw();return t.KtG(X.editProp.key=G)}),t.qZA()(),t.TgZ(3,"app-form-row",10)(4,"input",13),t.NdJ("ngModelChange",function(G){t.CHM(re);const X=t.oxw();return t.KtG(X.editProp.value=G)}),t.qZA()()()}if(2&J){const re=t.oxw();t.Q6J("title","Clients.Properties.EditProperty")("modalId",re.editModalId)("actions",re.editModalActions)("addDisabled",re.editProp.key.length<1||re.editProp.value.length<1),t.xp6(1),t.Q6J("label","Common.Key")("id","propertyEditKey"),t.xp6(1),t.Q6J("ngModel",re.editProp.key),t.xp6(1),t.Q6J("label","Common.Value")("id","propertyEditValue")("isLast",!0),t.xp6(1),t.Q6J("ngModel",re.editProp.value)}}let V=(()=>{class J{constructor(re,W,G,X){this.toastr=re,this.translate=W,this.modalService=G,this.dataTableService=X,this.propertiesChanged=new t.vpe,this.addProp=new e,this.editing=!1,this.editProp=new m,this.propertyDataTableActions=[T.Xz.Delete,T.Xz.Select],this.addModalActions=[C.n.Save],this.editModalActions=[C.n.Save],this._properties=[]}set properties(re){this._properties=re||[]}get properties(){return this._properties}set isReadOnly(re){this._isReadOnly=re||!1}get isReadOnly(){return this._isReadOnly}set modalId(re){this._addModalId="add_"+re,this._editModalId="edit_"+re}get addModalId(){return this._addModalId}get editModalId(){return this._editModalId}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(re=>{this.deleteProperty(re)})}ngOnDestroy(){this.dtsSubscription?.unsubscribe()}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}closeAddAndReset(){this.addProp=new e,this.modalService.hideById(this.addModalId)}editProperty(re){this.editProp=JSON.parse(JSON.stringify(re.data)),this.editProp.originalIndex=this.properties.indexOf(re.data),this.editing=!0,this.modalService.showById(this.editModalId,re.element)}closeModalAndReset(){this.editProp=new m,this.editing=!1,this.modalService.hideById(this.editModalId)}saveEdit(){const re=this.properties.slice(),W=re[this.editProp.originalIndex];W.key=this.editProp.key,W.value=this.editProp.value,this.updateProperties(re),this.closeModalAndReset()}addProperty(){if(this.properties.find(W=>W.key===this.addProp.key))return void this.toastr.error(this.translate.instant("Clients.UnableToAddProperty"),this.translate.instant("Notifications.Error"));if(null==this.addProp.key||""===this.addProp.key.trim())return void this.toastr.error("Key is Invalid",this.translate.instant("Notifications.Error"));if(null==this.addProp.value||""===this.addProp.value.trim())return void this.toastr.error("Value is Invalid",this.translate.instant("Notifications.Error"));const re=this.properties.slice();re.push(this.addProp),this.updateProperties(re),this.addProp=new e}deleteProperty(re){const W=this.properties.slice();W.splice(re,1),this.updateProperties(W)}updateProperties(re){this.properties=re,this.propertiesChanged.emit(this.properties)}}return J.\u0275fac=function(re){return new(re||J)(t.Y36(b._W),t.Y36(g.sK),t.Y36(f.Z),t.Y36(w.n))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-properties-editor"]],viewQuery:function(re,W){if(1&re&&t.Gf(Z,5),2&re){let G;t.iGM(G=t.CRH())&&(W.addButtonRef=G.first)}},inputs:{properties:"properties",isReadOnly:"isReadOnly",modalId:"modalId"},outputs:{propertiesChanged:"propertiesChanged"},decls:6,vars:15,consts:[[4,"ngIf"],[3,"title","modalId","actions","addDisabled","onCancel","onSave",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onSelect"],[3,"prop","title","headClasses","cellClasses"],["right",""],[1,"tw-btn-success",3,"id","click"],["addButton",""],[3,"title","modalId","actions","addDisabled","onCancel","onSave"],[3,"label","id"],["id","propertyAddKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],[3,"label","id","isLast"],["id","propertyAddValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],["id","propertyEditKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],["id","propertyEditValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"]],template:function(re,W){1&re&&(t.YNc(0,j,6,4,"app-action-bar",0),t.YNc(1,N,5,11,"app-custom-modal",1),t.TgZ(2,"app-data-table",2),t.NdJ("onSelect",function(X){return W.editProperty(X)}),t._UZ(3,"app-data-table-column",3)(4,"app-data-table-column",3),t.qZA(),t.YNc(5,B,5,11,"app-custom-modal",1)),2&re&&(t.Q6J("ngIf",!W.isReadOnly),t.xp6(1),t.Q6J("ngIf",!W.isReadOnly),t.xp6(1),t.Q6J("isReadOnly",W.isReadOnly)("rows",W.properties)("norowslabel","Clients.Properties.None")("actions",W.propertyDataTableActions),t.xp6(1),t.Q6J("prop","key")("title","Common.Key")("headClasses","md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),t.xp6(1),t.Q6J("prop","value")("title","Common.Value")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),t.xp6(1),t.Q6J("ngIf",!W.isReadOnly))},dependencies:[_.O5,R.Fj,R.JJ,R.On,T.Qj,P.E,a.K,k.R,L.L,g.X$],encapsulation:2}),J})()},6493:(dt,Ce,p)=>{"use strict";p.d(Ce,{l:()=>_});var t=p(6895),e=p(5503),m=p(9383),T=p(4380),C=p(4022),b=p(8975),g=p(4006),f=p(9650),w=p(4650);let _=(()=>{class R{}return R.\u0275fac=function(a){return new(a||R)},R.\u0275mod=w.oAB({type:R}),R.\u0275inj=w.cJS({imports:[t.ez,g.u5,e.D,m.aw,T.t,C.p,b.d,f.I]}),R})()},2830:(dt,Ce,p)=>{"use strict";p.d(Ce,{f:()=>ne});var t=p(9655),e=p(6502),m=p(4650),T=p(6895),C=p(9383);function b(K,le){if(1&K&&(m.TgZ(0,"div")(1,"p",3),m._uU(2),m.qZA()()),2&K){const me=m.oxw(3);m.xp6(2),m.Oqu(me.displayValue)}}function g(K,le){if(1&K&&(m.TgZ(0,"div"),m.YNc(1,b,3,1,"div",0),m.qZA()),2&K){const me=m.oxw(2),Se=m.MAs(2);m.xp6(1),m.Q6J("ngIf",me.displayValue)("ngIfElse",Se)}}function f(K,le){if(1&K&&(m.TgZ(0,"div",9),m._uU(1),m.TgZ(2,"small",10),m._uU(3),m.qZA()()),2&K){const me=m.oxw(),ye=me.$implicit;m.Q6J("id","multiMainText"+me.i),m.xp6(1),m.hij(" ",ye.MainText," "),m.xp6(2),m.Oqu(ye.HelpText)}}function w(K,le){if(1&K&&(m.TgZ(0,"li",7),m.YNc(1,f,4,3,"div",8),m.qZA()),2&K){const me=le.$implicit;m.oxw(3);const Se=m.MAs(2);m.xp6(1),m.Q6J("ngIf",me.MainText)("ngIfElse",Se)}}function _(K,le){if(1&K&&(m.TgZ(0,"div")(1,"div",4)(2,"ul",5),m.YNc(3,w,2,2,"li",6),m.qZA()()()),2&K){const me=m.oxw(2);m.xp6(3),m.Q6J("ngForOf",me.filteredValues)}}function R(K,le){1&K&&m._UZ(0,"div")}function P(K,le){if(1&K&&(m.TgZ(0,"p",22),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&K){const me=m.oxw(5);m.xp6(1),m.AsE(" ",me.timeSpan.years," ",m.lcZ(2,2,me.displayTimeSpanUnit(me.timeSpan.years,"Year"))," ")}}function a(K,le){if(1&K&&(m.TgZ(0,"p",23),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&K){const me=m.oxw(5);m.xp6(1),m.AsE(" ",me.timeSpan.months," ",m.lcZ(2,2,me.displayTimeSpanUnit(me.timeSpan.months,"Month"))," ")}}function k(K,le){if(1&K&&(m.TgZ(0,"p",24),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&K){const me=m.oxw(5);m.xp6(1),m.AsE(" ",me.timeSpan.weeks," ",m.lcZ(2,2,me.displayTimeSpanUnit(me.timeSpan.weeks,"Week"))," ")}}function L(K,le){if(1&K&&(m.TgZ(0,"p",25),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&K){const me=m.oxw(5);m.xp6(1),m.AsE(" ",me.timeSpan.days," ",m.lcZ(2,2,me.displayTimeSpanUnit(me.timeSpan.days,"Day"))," ")}}function Z(K,le){if(1&K&&(m.TgZ(0,"p",26),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&K){const me=m.oxw(5);m.xp6(1),m.AsE(" ",me.timeSpan.hours," ",m.lcZ(2,2,me.displayTimeSpanUnit(me.timeSpan.hours,"Hour"))," ")}}function j(K,le){if(1&K&&(m.TgZ(0,"p",27),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&K){const me=m.oxw(5);m.xp6(1),m.AsE(" ",me.timeSpan.minutes," ",m.lcZ(2,2,me.displayTimeSpanUnit(me.timeSpan.minutes,"Minute"))," ")}}function N(K,le){if(1&K&&(m.TgZ(0,"span",28),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&K){const me=m.oxw(5);m.xp6(1),m.AsE(" ",me.timeSpan.seconds," ",m.lcZ(2,2,me.displayTimeSpanUnit(me.timeSpan.seconds,"Second"))," ")}}function B(K,le){if(1&K&&(m.TgZ(0,"div")(1,"div",13),m.YNc(2,P,3,4,"p",14),m.YNc(3,a,3,4,"p",15),m.YNc(4,k,3,4,"p",16),m.YNc(5,L,3,4,"p",17),m.YNc(6,Z,3,4,"p",18),m.YNc(7,j,3,4,"p",19),m.YNc(8,N,3,4,"span",20),m.qZA(),m.TgZ(9,"small",21),m._uU(10),m.qZA()()),2&K){const me=m.oxw(4);m.xp6(2),m.Q6J("ngIf",me.timeSpan.years>0),m.xp6(1),m.Q6J("ngIf",me.timeSpan.months>0),m.xp6(1),m.Q6J("ngIf",me.timeSpan.weeks>0),m.xp6(1),m.Q6J("ngIf",me.timeSpan.days>0),m.xp6(1),m.Q6J("ngIf",me.timeSpan.hours>0),m.xp6(1),m.Q6J("ngIf",me.timeSpan.minutes>0),m.xp6(1),m.Q6J("ngIf",me.timeSpan.seconds>0),m.xp6(2),m.Oqu(me.values[0].MainText)}}function V(K,le){1&K&&(m.TgZ(0,"div")(1,"p",29),m._uU(2),m.ALo(3,"translate"),m.qZA()()),2&K&&(m.xp6(2),m.AsE("",0," ",m.lcZ(3,2,"Clients.Tokens.Durations.Seconds"),""))}function J(K,le){1&K&&(m.TgZ(0,"div")(1,"p",30),m._uU(2),m.ALo(3,"translate"),m.qZA()()),2&K&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"Clients.Tokens.Durations.Unlimited")))}function q(K,le){if(1&K&&(m.YNc(0,B,11,8,"div",2),m.YNc(1,V,4,4,"div",2),m.YNc(2,J,4,3,"div",2)),2&K){const me=m.oxw(3);m.Q6J("ngIf","Unlimited"!=me.values[0].MainText&&0!==me.values[0].MainText&&"0"!==me.values[0].MainText),m.xp6(1),m.Q6J("ngIf",0===me.values[0].MainText||"0"===me.values[0].MainText),m.xp6(1),m.Q6J("ngIf","Unlimited"==me.values[0].MainText)}}function re(K,le){if(1&K&&(m.TgZ(0,"div"),m.YNc(1,R,1,0,"div",11),m.YNc(2,q,3,3,"ng-template",null,12,m.W1O),m.qZA()),2&K){const me=m.MAs(3),Se=m.oxw(2),ye=m.MAs(2);m.xp6(1),m.Q6J("ngIf",null==Se.values[0].MainText)("ngIfThen",ye)("ngIfElse",me)}}function W(K,le){if(1&K&&(m.TgZ(0,"div"),m.YNc(1,g,2,2,"div",2),m.YNc(2,_,4,1,"div",2),m.YNc(3,re,4,3,"div",2),m.qZA()),2&K){const me=m.oxw();m.xp6(1),m.Q6J("ngIf",me.fieldType==me.ReadOnlyFieldType.Single||me.fieldType==me.ReadOnlyFieldType.CommaSeparated),m.xp6(1),m.Q6J("ngIf",me.fieldType==me.ReadOnlyFieldType.Multi),m.xp6(1),m.Q6J("ngIf",me.fieldType==me.ReadOnlyFieldType.LifetimePicker)}}function G(K,le){1&K&&(m.TgZ(0,"div")(1,"p",32),m._uU(2),m.ALo(3,"translate"),m.qZA()()),2&K&&(m.xp6(2),m.hij(" ",m.lcZ(3,1,"Common.NoValue")," "))}function X(K,le){1&K&&(m.TgZ(0,"p",33),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&K&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Common.NoValues")," "))}function E(K,le){if(1&K&&(m.YNc(0,G,4,3,"div",0),m.YNc(1,X,3,3,"ng-template",null,31,m.W1O)),2&K){const me=m.MAs(2),Se=m.oxw();m.Q6J("ngIf",Se.fieldType==Se.ReadOnlyFieldType.Single||Se.fieldType==Se.ReadOnlyFieldType.LifetimePicker)("ngIfElse",me)}}let ne=(()=>{class K{constructor(){this.filteredValues=[]}ngOnChanges(me){this.initData()}ngOnInit(){this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(me=>null!=me),this.filteredValues.length<1)||(this.fieldType===t.O.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===t.O.CommaSeparated?this.displayValue=this.filteredValues.map(me=>me.MainText).join(", ").trimEnd():this.fieldType===t.O.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new e.i(+this.values[0].MainText)))}displayTimeSpanUnit(me,Se){return"Clients.Tokens.Durations."+Se+(me>1?"s":"")}get ReadOnlyFieldType(){return t.O}}return K.\u0275fac=function(me){return new(me||K)},K.\u0275cmp=m.Xpm({type:K,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values"},features:[m.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["valuesEmptyBlock",""],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],["lifetimeHasValueBlock",""],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["multiBlock",""],["id","singleValuesUndefined",1,"tw-italic","tw-text-grey-400"],["id","multiValuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(me,Se){if(1&me&&(m.YNc(0,W,4,3,"div",0),m.YNc(1,E,3,2,"ng-template",null,1,m.W1O)),2&me){const ye=m.MAs(2);m.Q6J("ngIf",(null==Se.filteredValues?null:Se.filteredValues.length)>0)("ngIfElse",ye)}},dependencies:[T.sg,T.O5,C.X$]}),K})()},4091:(dt,Ce,p)=>{"use strict";p.d(Ce,{G:()=>T});var t=p(6895),e=p(9383),m=p(4650);let T=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[e.aw,t.ez]}),C})()},7770:(dt,Ce,p)=>{"use strict";p.d(Ce,{t:()=>b});var t=p(4006),e=p(6895),m=p(8185),T=p(9383),C=p(4650);let b=(()=>{class g{}return g.\u0275fac=function(w){return new(w||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({imports:[e.ez,m.Bz,T.aw,t.u5]}),g})()},1660:(dt,Ce,p)=>{"use strict";p.d(Ce,{P:()=>ze});var t=p(5861),e=p(4650),m=p(4006),T=p(2976),C=p(7579),b=p(8176),g=p(6055),f=p(572),w=p(5259),_=p(1837),R=p(6219),P=p(8285),a=p(6895),k=p(1696),L=p(7608),Z=p(799),j=p(2808),N=p(965),B=p(4225),V=p(9383);const J=["certificateReader"],q=["addCertificateBtn"],re=["showModalButton"],W=["secretPicker"],G=["certificateReaderNonModal"],X=["addCertificateBtnNonModal"];function E(Ee,qe){if(1&Ee&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&Ee){const Te=qe.$implicit;e.Q6J("value",Te.value),e.xp6(1),e.Oqu(Te.value)}}function ne(Ee,qe){1&Ee&&(e.TgZ(0,"p",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&Ee&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Secret Picker.LastWarning")))}function K(Ee,qe){if(1&Ee&&e._UZ(0,"app-date-time",42),2&Ee){const Te=e.oxw(2);e.Q6J("min",Te.minDate)}}function le(Ee,qe){if(1&Ee){const Te=e.EpF();e.TgZ(0,"form",11)(1,"div",12)(2,"div",13)(3,"app-form-row",14)(4,"div",15)(5,"select",16),e.YNc(6,E,2,2,"option",17),e.ALo(7,"keyvalue"),e.qZA()()(),e.TgZ(8,"app-form-row",14)(9,"div",18)(10,"div",19),e._UZ(11,"input",20),e.TgZ(12,"button",21),e.NdJ("click",function(){e.CHM(Te);const at=e.oxw();return e.KtG(at.generateRandom())}),e._UZ(13,"span",22),e.TgZ(14,"span",23),e._uU(15),e.ALo(16,"translate"),e.qZA()()(),e._UZ(17,"input",24),e.TgZ(18,"div",25)(19,"button",26,27),e.NdJ("click",function(){e.CHM(Te);const at=e.oxw();return e.KtG(at.openCertificateReaderModel())}),e.TgZ(21,"span"),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.YNc(24,ne,3,3,"p",28),e.qZA()(),e.TgZ(25,"app-form-row",29)(26,"div",18)(27,"div",30)(28,"div",31)(29,"app-form-toggle",32)(30,"input",33),e.NdJ("change",function(){e.CHM(Te);const at=e.oxw();return e.KtG(at.toggleExpirationDateInput())}),e.qZA()()()(),e.YNc(31,K,1,1,"app-date-time",34),e.qZA()(),e.TgZ(32,"app-form-row",35),e._UZ(33,"textarea",36),e.qZA()()(),e.TgZ(34,"div",37)(35,"button",38),e.NdJ("click",function(){e.CHM(Te);const at=e.oxw();return e.KtG(at.addSecret())}),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"button",39),e.NdJ("click",function(){e.CHM(Te);const at=e.oxw();return e.KtG(at.resetForm())}),e._uU(39),e.ALo(40,"translate"),e.qZA()()()}if(2&Ee){const Te=e.oxw();e.Q6J("formGroup",Te.secretForm),e.xp6(3),e.Q6J("id","SecretType")("label","Common.Type"),e.xp6(3),e.Q6J("ngForOf",e.lcZ(7,23,Te.secretTypes)),e.xp6(2),e.Q6J("id","SecretValue")("label","Common.Value"),e.xp6(2),e.Q6J("hidden","Shared Secret"!==Te.secretForm.controls.type.value),e.xp6(5),e.Oqu(e.lcZ(16,25,"Common.GenerateRandom")),e.xp6(2),e.Q6J("hidden","Shared Secret"===Te.secretForm.controls.type.value),e.xp6(2),e.Q6J("hidden","Shared Secret"===Te.secretForm.controls.type.value),e.xp6(3),e.Oqu(e.lcZ(23,27,"Common.ReadCertificate")),e.xp6(2),e.Q6J("ngIf",Te.displayWarnings),e.xp6(1),e.Q6J("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),e.xp6(4),e.Q6J("id","expirationDateEnabled"),e.xp6(2),e.Q6J("ngIf",Te.expirationDateEnabled),e.xp6(1),e.Q6J("id","SecretDescription")("label","Common.Description")("isLast",!0),e.xp6(3),e.Q6J("disabled",!Te.secretForm.valid),e.xp6(1),e.Oqu(e.lcZ(37,29,"Common.Add")),e.xp6(3),e.Oqu(e.lcZ(40,31,"Common.Clear"))}}function me(Ee,qe){1&Ee&&e._UZ(0,"app-data-table-column",43),2&Ee&&e.Q6J("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function Se(Ee,qe){if(1&Ee){const Te=e.EpF();e.TgZ(0,"div",44,45)(2,"div",46)(3,"app-cert-reader",47,48),e.NdJ("dataExists",function(at){e.CHM(Te);const wt=e.oxw();return e.KtG(wt.certificateDataLoaded(at))}),e.ALo(5,"translate"),e.ALo(6,"translate"),e.ALo(7,"translate"),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",37)(10,"button",49,50),e.NdJ("click",function(){e.CHM(Te);const at=e.oxw();return e.KtG(at.hideCertReaderNonModal(!0))}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"button",39),e.NdJ("click",function(){e.CHM(Te);const at=e.oxw();return e.KtG(at.hideCertReaderNonModal(!1))}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()}2&Ee&&(e.xp6(3),e.Q6J("uploadCert",e.lcZ(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",e.lcZ(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",e.lcZ(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",e.lcZ(8,12,"Secret Picker.MetaDataHelp")),e.xp6(9),e.Oqu(e.lcZ(13,14,"Common.Use")),e.xp6(3),e.Oqu(e.lcZ(16,16,"Common.Cancel")))}function ye(Ee,qe){if(1&Ee){const Te=e.EpF();e.TgZ(0,"app-custom-modal",51),e.NdJ("onSave",function(){e.CHM(Te);const at=e.oxw();return e.KtG(at.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){e.CHM(Te);const at=e.oxw();return e.KtG(at.closeCertificateReaderModel())}),e.TgZ(1,"app-cert-reader",52,48),e.NdJ("dataExists",function(at){e.CHM(Te);const wt=e.oxw();return e.KtG(wt.certificateDataLoaded(at))}),e.ALo(3,"translate"),e.ALo(4,"translate"),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()()}if(2&Ee){const Te=e.oxw();e.Q6J("modalId",Te.certModalId)("title","Secret Picker.ReadCertificate")("actions",Te.modalActions),e.xp6(1),e.Q6J("uploadCert",e.lcZ(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",e.lcZ(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",e.lcZ(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",e.lcZ(6,13,"Secret Picker.MetaDataHelp"))}}let ze=(()=>{class Ee{constructor(Te,nt,at){this.fb=Te,this.modalService=nt,this.dataTableService=at,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new T.NA,this.minDate=_.ou.now(),this.secretsAddStream=new C.x,this.secretsRemoveStream=new C.x,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[f.Xz.Delete],this.modalActions=[w.n.Delete,w.n.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new e.vpe}set clientSecrets(Te){this._clientSecrets=Te||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(Te){this._isReadOnly=Te||!1}get isReadOnly(){return this._isReadOnly}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(Te){"Enter"===Te.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const Te=_.ou.now().toISO();this.secretForm=this.fb.group({description:["",m.kI.maxLength(1e3)],value:["",m.kI.required],expiration:[{value:Te,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(nt=>{this.deleteSecret(nt)})}selectedDate(Te){this.secretForm.controls.expiration.setValue(Te)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,b.qs)())}dateSelected(Te){this.secretForm.controls.expiration.setValue(Te)}addSecret(){const Te=this.secretForm.value;Te.expiration=this.expirationDateEnabled?_.ou.fromISO(Te.expiration).toString():null,this.secretsAddStream.next(Te),this.secretForm.reset(),this.resetForm()}updateExpiration(){const Te=this.secretForm.controls.expiration;this.expirationDateEnabled?(Te.addValidators(m.kI.required),Te.enable()):(Te.removeValidators(m.kI.required),Te.disable()),Te.reset()}deleteSecret(Te){this.secretsRemoveStream.next(this.clientSecrets[Te])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var Te=this;return(0,t.Z)(function*(){Te.modalService.hideById(Te.certModalId),Te.filepickerDisplayed.emit(!1),yield Te.ReadCertificateModel()})()}ReadCertificateModel(){var Te=this;return(0,t.Z)(function*(){const nt=yield Te.certReaderComponent.getCertificateModel();let at="";switch(Te.secretForm.controls.type.value){case"X509 Certificate Base64":at=nt.base64Cert;break;case"X509 Name":at=nt.subject;break;case"X509 Thumbprint":at=nt.thumbprint}Te.secretForm.controls.value.setValue(at)})()}certificateDataLoaded(Te){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!Te),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!Te)}hideCertReaderNonModal(Te){var nt=this;return(0,t.Z)(function*(){nt.certificateReaderNonModal.nativeElement.hidden=!0,nt.secretPicker.nativeElement.hidden=!1,Te&&(yield nt.ReadCertificateModel()),nt.filepickerDisplayed.emit(!1)})()}}return Ee.\u0275fac=function(Te){return new(Te||Ee)(e.Y36(m.QS),e.Y36(R.Z),e.Y36(P.n))},Ee.\u0275cmp=e.Xpm({type:Ee,selectors:[["app-secret-picker"]],viewQuery:function(Te,nt){if(1&Te&&(e.Gf(J,5),e.Gf(q,5),e.Gf(re,5),e.Gf(W,5),e.Gf(G,5),e.Gf(X,5)),2&Te){let at;e.iGM(at=e.CRH())&&(nt.certReaderComponent=at.first),e.iGM(at=e.CRH())&&(nt.addCertificateButton=at.first),e.iGM(at=e.CRH())&&(nt.showModalButton=at.first),e.iGM(at=e.CRH())&&(nt.secretPicker=at.first),e.iGM(at=e.CRH())&&(nt.certificateReaderNonModal=at.first),e.iGM(at=e.CRH())&&(nt.addCertificateBtnNonModal=at.first)}},hostBindings:function(Te,nt){1&Te&&e.NdJ("keydown",function(wt){return nt.keydown(wt)},!1,e.evT)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},decls:11,vars:25,consts:[["id","secretPicker"],["secretPicker",""],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"hidden","click"],["showCertModalButton",""],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"disabled","click"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],["certificateReaderNonModal",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp","dataExists"],["certificateReader",""],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],["addCertificateBtnNonModal",""],[3,"modalId","title","actions","onSave","onCancel"],["id","",3,"uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp","dataExists"]],template:function(Te,nt){1&Te&&(e.TgZ(0,"div",0,1),e.YNc(2,le,41,33,"form",2),e.TgZ(3,"app-data-table",3),e._UZ(4,"app-data-table-column",4)(5,"app-data-table-column",5)(6,"app-data-table-column",6),e.YNc(7,me,1,5,"app-data-table-column",7),e._UZ(8,"app-data-table-column",8),e.qZA()(),e.YNc(9,Se,17,18,"div",9),e.YNc(10,ye,7,15,"app-custom-modal",10)),2&Te&&(e.xp6(2),e.Q6J("ngIf",!nt.isReadOnly),e.xp6(1),e.Q6J("isReadOnly",nt.isReadOnly)("rows",nt.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",nt.dataTableActions),e.xp6(1),e.Q6J("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),e.xp6(1),e.Q6J("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),e.xp6(1),e.Q6J("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.xp6(1),e.Q6J("ngIf",nt.showCreatedColumn),e.xp6(1),e.Q6J("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),e.xp6(1),e.Q6J("ngIf",nt.nonModelCertPicker),e.xp6(1),e.Q6J("ngIf",!1===nt.nonModelCertPicker))},dependencies:[a.sg,a.O5,m._Y,m.YN,m.Kr,m.Fj,m.Wl,m.EJ,m.JJ,m.JL,m.sg,m.u,k.c,L.L,Z.O,f.Qj,j.E,N.R,B.j,a.Nd,V.X$],encapsulation:2,data:{animation:[(0,g.Ic)()]}}),Ee})()},8761:(dt,Ce,p)=>{"use strict";p.d(Ce,{W:()=>a});var t=p(4006),e=p(6895),m=p(5503),T=p(9383),C=p(388),b=p(2699),g=p(9650),f=p(4380),w=p(8975),_=p(5898),R=p(8285),P=p(4650);let a=(()=>{class k{}return k.\u0275fac=function(Z){return new(Z||k)},k.\u0275mod=P.oAB({type:k}),k.\u0275inj=P.cJS({providers:[R.n],imports:[e.ez,t.UX,m.D,T.aw,t.u5,C.zk,b.Y,g.I,f.t,w.d,_.T]}),k})()},9046:(dt,Ce,p)=>{"use strict";p.d(Ce,{bk:()=>w});var t=p(7579),e=p(8372),m=p(1884),T=p(9300),C=p(4004);class w{constructor(R,P,a){this.toastr=R,this.translate=P,this.canSearchEmptyString=a,this.searchTerm="",this.searchTermStream=new t.x,this.enterKeyStream=new t.x,this.searchSource=this.searchTermStream.pipe((0,e.b)(600),(0,m.x)(),(0,T.h)(k=>this.filterSearchTerm(k)),(0,C.U)(k=>this.mapSearchTerm(k))),this.enterKeySource=this.enterKeyStream.pipe((0,e.b)(600),(0,T.h)(()=>this.filterSearchTerm(this.searchTerm)),(0,C.U)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(R){return this.canSearchEmptyString?R.length<50&&1!==R.length:!(R.length<2||R.length>50)&&""!==R.trim()}search(R){"Enter"===R.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},8381:(dt,Ce,p)=>{"use strict";p.d(Ce,{m:()=>w});var t=p(6349),e=p(4650),m=p(6895),T=p(4006),C=p(9383);function b(_,R){if(1&_&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&_){const P=R.$implicit;e.Q6J("value",P),e.xp6(1),e.Oqu(P)}}function g(_,R){if(1&_){const P=e.EpF();e.TgZ(0,"li",12)(1,"button",13),e.NdJ("click",function(){const L=e.CHM(P).$implicit,Z=e.oxw();return e.KtG(Z.removeAlgorithm(L))}),e._UZ(2,"span",14),e.TgZ(3,"span"),e._uU(4),e.qZA()()()}if(2&_){const P=R.$implicit;e.xp6(1),e.uIk("aria-label",P),e.xp6(3),e.Oqu(P)}}const f=function(){return{standalone:!0}};let w=(()=>{class _{constructor(){this.allowedAlgorithms=["ES256","ES384","ES512","PS256","PS384","PS512","RS256","RS384","RS512"]}ngAfterContentInit(){this.allowedAlgorithms=t.zu(this.allowedAlgorithms,...this.form.get(this.algorithmControlName).value),this.selectedAlgorithm=this.allowedAlgorithms[0]}addAlgorithm(){const P=this.form.get(this.algorithmControlName);P.setValue([...P.value,this.selectedAlgorithm]);const a=this.allowedAlgorithms.indexOf(this.selectedAlgorithm);this.allowedAlgorithms.splice(a,1),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}removeAlgorithm(P){const a=this.form.get(this.algorithmControlName),k=a.value.indexOf(P);a.value.splice(k,1),this.allowedAlgorithms.push(P),this.allowedAlgorithms.sort(),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}}return _.\u0275fac=function(P){return new(P||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-signing-algorithm-picker"]],inputs:{form:"form",algorithmControlName:"algorithmControlName"},decls:15,vars:9,consts:[[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex"],[1,"tw-form-select"],["id","client-token-signing-algorithm",1,"tw-form-control","tw-mr-1","tw-rounded-r-none","tw-border-r-0",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","signing-algorithm-add-button",1,"tw-btn","tw-rounded-l-none",3,"disabled","click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],["class","tw-pill","id","signing-algorithm-added-algorithms",4,"ngFor","ngForOf"],[3,"value"],["id","signing-algorithm-added-algorithms",1,"tw-pill"],[3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(P,a){1&P&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"select",5),e.NdJ("ngModelChange",function(L){return a.selectedAlgorithm=L}),e.YNc(7,b,2,2,"option",6),e.qZA()(),e.TgZ(8,"button",7),e.NdJ("click",function(){return a.addAlgorithm()}),e._UZ(9,"span",8),e.TgZ(10,"span",9),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()()(),e.TgZ(13,"ul"),e.YNc(14,g,5,2,"li",10),e.qZA()()),2&P&&(e.xp6(6),e.Q6J("ngModel",a.selectedAlgorithm)("ngModelOptions",e.DdM(8,f)),e.xp6(1),e.Q6J("ngForOf",a.allowedAlgorithms),e.xp6(1),e.Q6J("disabled",0==a.allowedAlgorithms.length),e.xp6(3),e.Oqu(e.lcZ(12,6,"Common.Add")),e.xp6(3),e.Q6J("ngForOf",a.form.get(a.algorithmControlName).value))},dependencies:[m.sg,T.YN,T.Kr,T.EJ,T.JJ,T.On,C.X$]}),_})()},1436:(dt,Ce,p)=>{"use strict";p.d(Ce,{W:()=>g});var t=p(6895),e=p(4006),m=p(5503),T=p(9650),C=p(9383),b=p(4650);let g=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275mod=b.oAB({type:f}),f.\u0275inj=b.cJS({imports:[t.ez,e.u5,e.UX,T.I,m.D,C.aw]}),f})()},5925:(dt,Ce,p)=>{"use strict";p.d(Ce,{w:()=>b});var t=p(4650),e=p(6895),m=p(9383);function T(g,f){1&g&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Common.LoadingPleaseWait")))}function C(g,f){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const w=t.oxw();t.xp6(1),t.Oqu(w.text)}}let b=(()=>{class g{constructor(){this.text=""}}return g.\u0275fac=function(w){return new(w||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-simple-loader"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(w,_){1&w&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.YNc(2,T,3,3,"span",2),t.YNc(3,C,2,1,"span",2),t.qZA()),2&w&&(t.xp6(2),t.Q6J("ngIf",""==_.text),t.xp6(1),t.Q6J("ngIf",""!=_.text))},dependencies:[e.O5,m.X$],encapsulation:2}),g})()},5971:(dt,Ce,p)=>{"use strict";p.d(Ce,{s:()=>b});var t=p(4006),e=p(6895),m=p(8185),T=p(9383),C=p(4650);let b=(()=>{class g{}return g.\u0275fac=function(w){return new(w||g)},g.\u0275mod=C.oAB({type:g}),g.\u0275inj=C.cJS({imports:[e.ez,m.Bz,T.aw,t.u5]}),g})()},9712:(dt,Ce,p)=>{"use strict";p.d(Ce,{_:()=>C});var t=p(4650),e=p(8176),m=p(6895);function T(b,g){if(1&b){const f=t.EpF();t.TgZ(0,"li",2)(1,"input",3),t.NdJ("click",function(){const R=t.CHM(f).index,P=t.oxw();return t.KtG(P.selectValue(R))}),t.qZA(),t.TgZ(2,"label",4),t.NdJ("click",function(){const R=t.CHM(f).index,P=t.oxw();return t.KtG(P.selectValue(R))}),t.TgZ(3,"span",5),t._uU(4),t.qZA()()()}if(2&b){const f=g.$implicit,w=g.index,_=t.oxw();t.xp6(1),t.MGl("id","enum-val-",w,"")("name","",_.id,"-state"),t.Q6J("checked",f===_.value),t.xp6(1),t.MT6("tw-state-toggle-btn ",_.borderStyle(w)," ",_.isSelected(f),""),t.MGl("for","enum-val-",w,""),t.uIk("aria-label",_.enumValues),t.xp6(2),t.Oqu(f)}}let C=(()=>{class b{constructor(){this.readonly=!1,this.newValue=new t.vpe}get id(){return this._id}set id(f){this._id=f||(0,e.qs)()}selectValue(f){this.readonly||this.newValue.emit(this.options[f])}borderStyle(f){return 0===f?"tw-rounded-l-lg":f>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(f){return f===this.value?"tw-btn-selected":"tw-btn"}}return b.\u0275fac=function(f){return new(f||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"id","name","checked","click"],["type","button",3,"for","click"],[1,"tw-pl-1"]],template:function(f,w){1&f&&(t.TgZ(0,"ul",0),t.YNc(1,T,5,10,"li",1),t.qZA()),2&f&&(t.s9C("id",w.id+"-enumValues-select"),t.xp6(1),t.Q6J("ngForOf",w.options))},dependencies:[m.sg],encapsulation:2}),b})()},9858:(dt,Ce,p)=>{"use strict";p.d(Ce,{V:()=>T});var t=p(6895),e=p(4006),m=p(4650);let T=(()=>{class C{}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[t.ez,e.u5]}),C})()},2294:(dt,Ce,p)=>{"use strict";p.d(Ce,{G:()=>Z});var t=p(4650),e=p(6895),m=p(8185),T=p(9383),C=p(2979);function b(j,N){if(1&j&&(t.ynx(0),t.TgZ(1,"li",7)(2,"span",17),t._uU(3,"/"),t.qZA(),t.TgZ(4,"a",8),t._uU(5),t.qZA()(),t.BQk()),2&j){const B=N.$implicit;t.xp6(4),t.Q6J("routerLink",B.link),t.xp6(1),t.hij(" ",B.title," ")}}function g(j,N){1&j&&(t.TgZ(0,"span",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&j&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Common.ReadOnly")," "))}function f(j,N){1&j&&(t.TgZ(0,"span",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&j&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Common.Reserved")," "))}function w(j,N){1&j&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&j&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Common.UserTOTPEnabled")," "))}function _(j,N){1&j&&(t.TgZ(0,"div",21),t.Hsn(1,2),t.qZA())}function R(j,N){1&j&&(t.ynx(0),t.TgZ(1,"div",22),t.Hsn(2,3),t.qZA(),t.BQk())}const P=[[["","badge",""]],[["","ctx",""]],[["","button",""]],[["","tabs",""]]],a=function(j){return[j]},k=["[badge]","[ctx]","[button]","[tabs]"];let Z=(()=>{class j{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}}return j.\u0275fac=function(B){return new(B||j)},j.\u0275cmp=t.Xpm({type:j,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},ngContentSelectors:k,decls:24,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(B,V){1&B&&(t.F$t(P),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),t.ALo(6,"translate"),t.TgZ(7,"ol",6)(8,"li",7)(9,"a",8),t.ALo(10,"localize"),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.YNc(13,b,6,2,"ng-container",9),t.qZA()(),t.TgZ(14,"div",10)(15,"h1",11),t._uU(16),t.qZA(),t.Hsn(17),t.YNc(18,g,3,3,"span",12),t.YNc(19,f,3,3,"span",13),t.YNc(20,w,3,3,"span",14),t.Hsn(21,1),t.qZA()(),t.YNc(22,_,2,0,"div",15),t.qZA()()(),t.YNc(23,R,3,0,"ng-container",16),t.qZA()),2&B&&(t.xp6(5),t.uIk("aria-label",t.lcZ(6,10,"Nav.Breadcrumbs")),t.xp6(4),t.Q6J("routerLink",t.VKq(16,a,t.lcZ(10,12,"/home"))),t.xp6(2),t.hij(" ",t.lcZ(12,14,"Nav.Home")," "),t.xp6(2),t.Q6J("ngForOf",V.crumbs),t.xp6(3),t.Oqu(V.title),t.xp6(2),t.Q6J("ngIf",V.isReadOnly&&!V.isReserved),t.xp6(1),t.Q6J("ngIf",V.isReserved),t.xp6(1),t.Q6J("ngIf",V.totpEnabled),t.xp6(2),t.Q6J("ngIf",V.hasButton),t.xp6(1),t.Q6J("ngIf",V.hasTabs))},dependencies:[e.sg,e.O5,m.yS,T.X$,C.lO],encapsulation:2}),j})()},5084:(dt,Ce,p)=>{"use strict";p.d(Ce,{y:()=>g});var t=p(6895),e=p(8185),m=p(5503),T=p(2979),C=p(9383),b=p(4650);let g=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275mod=b.oAB({type:f}),f.\u0275inj=b.cJS({imports:[t.ez,e.Bz,m.D,C.aw,T.fQ]}),f})()},9141:(dt,Ce,p)=>{"use strict";p.d(Ce,{G:()=>T});var t=p(4650),e=p(5221),m=p(5712);let T=(()=>{class C{constructor(){this.wizardCancel=new t.vpe,this.finish=new t.vpe,this.hide=new t.vpe,this.titleId=m.G.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(g){"Enter"===g.key&&this.canNext()&&this.nextTab()}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const g=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(g.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const f=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,f),f.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(g=>{g?.destroy()}),this.components.clear()}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275dir=t.lG2({type:C,viewQuery:function(g,f){if(1&g&&t.Gf(e.S,7),2&g){let w;t.iGM(w=t.CRH())&&(f.wizardHost=w.first)}},hostBindings:function(g,f){1&g&&t.NdJ("keydown",function(_){return f.keydown(_)},!1,t.evT)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}}),C})()},5221:(dt,Ce,p)=>{"use strict";p.d(Ce,{S:()=>e});var t=p(4650);let e=(()=>{class m{constructor(C){this.viewContainerRef=C}}return m.\u0275fac=function(C){return new(C||m)(t.Y36(t.s_b))},m.\u0275dir=t.lG2({type:m,selectors:[["","appStepHost",""]]}),m})()},6679:(dt,Ce,p)=>{"use strict";p.d(Ce,{R6:()=>W,V7:()=>X});var t=p(9506),e=p(4006),m=p(3334),T=p(7579),C=p(5669),b=p(4650),g=p(7185),f=p(9383),w=p(6895);function _(E,ne){if(1&E&&(b.TgZ(0,"li",10)(1,"label",22),b._UZ(2,"input",23),b.TgZ(3,"span"),b._uU(4),b.ALo(5,"translate"),b.qZA()()()),2&E){const K=b.oxw();b.xp6(2),b.Q6J("value",K.CertificateAction.DoNotSet),b.xp6(2),b.Oqu(b.lcZ(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function R(E,ne){if(1&E&&(b.TgZ(0,"li",10)(1,"label",24),b._UZ(2,"input",25),b.TgZ(3,"span"),b._uU(4),b.ALo(5,"translate"),b.qZA()()()),2&E){const K=b.oxw();b.xp6(2),b.Q6J("value",K.CertificateAction.UseExisting),b.xp6(2),b.Oqu(b.lcZ(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function P(E,ne){if(1&E){const K=b.EpF();b.TgZ(0,"tr")(1,"td",39),b._uU(2),b.qZA(),b.TgZ(3,"td")(4,"button",40),b.NdJ("click",function(){const Se=b.CHM(K).$implicit,ye=b.oxw(5);return b.KtG(ye.deleteCert(Se))}),b._uU(5),b._UZ(6,"span",41),b.TgZ(7,"span",37),b._uU(8),b.ALo(9,"translate"),b.qZA()()()()}if(2&E){const K=ne.$implicit,le=b.oxw(5);b.xp6(2),b.hij(" ",null==K?null:K.subject," "),b.xp6(3),b.hij(" ",le.deleteDisabled," "),b.xp6(3),b.Oqu(b.lcZ(9,3,"Clients.Saml.DeleteCert"))}}function a(E,ne){if(1&E&&(b.ynx(0),b.YNc(1,P,10,5,"tr",38),b.BQk()),2&E){const K=b.oxw(4);b.xp6(1),b.Q6J("ngForOf",K.data.certificates.SigningCertificates)}}function k(E,ne){if(1&E){const K=b.EpF();b.ynx(0),b.TgZ(1,"tr")(2,"td",39),b._uU(3),b.qZA(),b.TgZ(4,"td")(5,"button",40),b.NdJ("click",function(){b.CHM(K);const me=b.oxw(4);return b.KtG(me.deleteCert(null))}),b._uU(6),b._UZ(7,"span",41),b.TgZ(8,"span",37),b._uU(9),b.ALo(10,"translate"),b.qZA()()()(),b.BQk()}if(2&E){const K=b.oxw(4);b.xp6(3),b.hij(" ",K.data.certificates.EncryptionCertificate.subject," "),b.xp6(3),b.hij(" ",K.deleteDisabled," "),b.xp6(3),b.Oqu(b.lcZ(10,3,"Clients.Saml.DeleteCert"))}}function L(E,ne){if(1&E&&(b.TgZ(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),b._uU(4),b.ALo(5,"translate"),b.qZA(),b.TgZ(6,"th",36)(7,"span",37),b._uU(8),b.ALo(9,"translate"),b.qZA()()()(),b.TgZ(10,"tbody"),b.YNc(11,a,2,1,"ng-container",13),b.YNc(12,k,11,5,"ng-container",13),b.qZA()()),2&E){const K=b.oxw(3);b.xp6(4),b.Oqu(b.lcZ(5,4,"Common.Subject")),b.xp6(4),b.Oqu(b.lcZ(9,6,"Common.Actions")),b.xp6(3),b.Q6J("ngIf",K.activeTab===K.ActiveTab.Request),b.xp6(1),b.Q6J("ngIf",K.activeTab===K.ActiveTab.Response)}}function Z(E,ne){if(1&E&&(b.TgZ(0,"div"),b.YNc(1,L,13,8,"table",33),b.qZA()),2&E){const K=b.oxw(2);b.xp6(1),b.Q6J("ngIf",K.activeTab==K.ActiveTab.Request?K.data.certificates.SigningCertificates.length>0:K.data.certificates.EncryptionCertificate)}}function j(E,ne){1&E&&(b.TgZ(0,"div",42)(1,"div"),b._uU(2),b.ALo(3,"translate"),b.qZA()()),2&E&&(b.xp6(2),b.Oqu(b.lcZ(3,1,"Clients.NoCertificates")))}function N(E,ne){if(1&E){const K=b.EpF();b.TgZ(0,"button",43),b.NdJ("click",function(){b.CHM(K);const me=b.oxw(3);return b.KtG(me.addCert())}),b._uU(1),b.ALo(2,"translate"),b.qZA()}2&E&&(b.xp6(1),b.Oqu(b.lcZ(2,1,"Clients.Saml.AddCert")))}function B(E,ne){if(1&E){const K=b.EpF();b.TgZ(0,"button",43),b.NdJ("click",function(){b.CHM(K);const me=b.oxw(3);return b.KtG(me.addCert())}),b._uU(1),b.ALo(2,"translate"),b.qZA()}2&E&&(b.xp6(1),b.Oqu(b.lcZ(2,1,"Clients.Saml.ReplaceCertificate")))}function V(E,ne){if(1&E&&(b.ynx(0),b.YNc(1,N,3,3,"button",32),b.YNc(2,B,3,3,"button",32),b.BQk()),2&E){const K=b.oxw(2);b.xp6(1),b.Q6J("ngIf",!K.data.certificates.EncryptionCertificate||""===K.data.certificates.EncryptionCertificate),b.xp6(1),b.Q6J("ngIf",K.data.certificates.EncryptionCertificate&&""!==K.data.certificates.EncryptionCertificate)}}function J(E,ne){if(1&E){const K=b.EpF();b.TgZ(0,"button",43),b.NdJ("click",function(){b.CHM(K);const me=b.oxw(2);return b.KtG(me.addCert())}),b._uU(1),b.ALo(2,"translate"),b.qZA()}2&E&&(b.xp6(1),b.Oqu(b.lcZ(2,1,"Clients.Saml.AddCert")))}function q(E,ne){if(1&E){const K=b.EpF();b.TgZ(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),b.NdJ("click",function(){b.CHM(K);const me=b.oxw();return b.KtG(me.activeTab=me.ActiveTab.Request)}),b._uU(4),b.ALo(5,"translate"),b.qZA()(),b.TgZ(6,"li",27)(7,"button",29),b.NdJ("click",function(){b.CHM(K);const me=b.oxw();return b.KtG(me.activeTab=me.ActiveTab.Response)}),b._uU(8),b.ALo(9,"translate"),b.qZA()()(),b.YNc(10,Z,2,1,"div",13),b.YNc(11,j,4,3,"div",30),b.TgZ(12,"div",31),b.YNc(13,V,3,2,"ng-container",13),b.YNc(14,J,3,3,"button",32),b.qZA()()}if(2&E){const K=b.oxw();b.xp6(3),b.ekj("active",K.activeTab===K.ActiveTab.Request),b.xp6(1),b.Oqu(b.lcZ(5,10,"Clients.Saml.Request")),b.xp6(3),b.ekj("active",K.activeTab===K.ActiveTab.Response),b.xp6(1),b.Oqu(b.lcZ(9,12,"Clients.Saml.Response")),b.xp6(2),b.Q6J("ngIf",K.data.certificates),b.xp6(1),b.Q6J("ngIf",K.activeTab==K.ActiveTab.Request&&0===K.data.certificates.SigningCertificates.length||K.activeTab==K.ActiveTab.Response&&!K.data.certificates.EncryptionCertificate),b.xp6(2),b.Q6J("ngIf",K.activeTab===K.ActiveTab.Response),b.xp6(1),b.Q6J("ngIf",K.activeTab===K.ActiveTab.Request)}}function re(E,ne){if(1&E){const K=b.EpF();b.TgZ(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),b.NdJ("ngModelChange",function(me){b.CHM(K);const Se=b.oxw();return b.KtG(Se.data.rememberCertificateAction=me)}),b.qZA(),b.TgZ(5,"span",48),b._uU(6),b.ALo(7,"translate"),b.qZA()()()()()}if(2&E){const K=b.oxw();b.xp6(4),b.Q6J("ngModel",K.data.rememberCertificateAction),b.xp6(2),b.hij(" ",b.lcZ(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var W=(()=>{return(E=W||(W={}))[E.DoNotSet=0]="DoNotSet",E[E.UseExisting=1]="UseExisting",E[E.ManuallyCreate=2]="ManuallyCreate",W;var E})(),G=(()=>{return(E=G||(G={}))[E.Request=0]="Request",E[E.Response=1]="Response",G;var E})();let X=(()=>{class E extends t.n{constructor(K,le,me,Se){super(),this.fb=K,this.changeDetector=le,this.toastr=me,this.translate=Se,this.CertificateAction=W,this.ActiveTab=G}get data(){return this._selectableImportResource}set data(K){this._selectableImportResource=K}ngOnInit(){if(this.form=this.fb.group({certificateAction:[W.UseExisting,e.kI.required]}),this.data){const K=this.data.certificateAction===W.ManuallyCreate;let le;le=this.data.existingHasCertificates?K?W.ManuallyCreate:W.UseExisting:W.DoNotSet,this.data.certificateAction=le,this.form.get("certificateAction").setValue(le),this.displayResourceType=C.m.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===W.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=G.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=G.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=G.Response))),this.form.valueChanges.subscribe(()=>{const K=this.form.value.certificateAction;this.data.certificateAction=K,K===W.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=G.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new T.x,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(K=>{this.activeTab===G.Request?(this.stripContentTypeFromData(K),this.data.certificates.SigningCertificates.some(le=>le.base64Cert===K.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(K)):(this.stripContentTypeFromData(K),this.data.certificates.EncryptionCertificate=K)}),this.openModal(m.K.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(K){const le=K.base64Cert.split("base64,");le.length>1&&(K.base64Cert=le[1])}deleteCert(K){if(this.activeTab===G.Request){const le=this.data.certificates.SigningCertificates.indexOf(K);this.data.certificates.SigningCertificates.splice(le,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===W.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===W.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===W.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===W.DoNotSet||this.data.certificateAction===W.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}}return E.\u0275fac=function(K){return new(K||E)(b.Y36(e.QS),b.Y36(b.sBO),b.Y36(g._W),b.Y36(f.sK))},E.\u0275cmp=b.Xpm({type:E,selectors:[["app-import-certificates"]],features:[b.qOj],decls:38,vars:29,consts:[[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],["existingHasCertificates",""],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModel","ngModelChange"],[1,"tw-font-normal"]],template:function(K,le){if(1&K&&(b.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),b._uU(3),b.ALo(4,"translate"),b.qZA(),b.TgZ(5,"span",3),b._uU(6),b.ALo(7,"translate"),b.qZA()(),b.TgZ(8,"div",4)(9,"p",5),b._uU(10),b.ALo(11,"translate"),b.qZA()(),b.TgZ(12,"form",6)(13,"ul",7),b.YNc(14,_,6,4,"li",8),b.YNc(15,R,6,4,"ng-template",null,9,b.W1O),b.TgZ(17,"li",10)(18,"label",11),b._UZ(19,"input",12),b.TgZ(20,"span"),b._uU(21),b.ALo(22,"translate"),b.qZA()()()()(),b.YNc(23,q,15,14,"div",13),b.YNc(24,re,8,4,"div",14),b.qZA(),b._UZ(25,"div",15),b.TgZ(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),b.NdJ("click",function(){return le.goNext()}),b._uU(30),b.ALo(31,"translate"),b.qZA(),b.TgZ(32,"button",20),b.NdJ("click",function(){return le.back()}),b._uU(33),b.ALo(34,"translate"),b.qZA()(),b.TgZ(35,"button",21),b.NdJ("click",function(){return le.cancel()}),b._uU(36),b.ALo(37,"translate"),b.qZA()()()),2&K){const me=b.MAs(16);b.xp6(3),b.hij("",b.lcZ(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),b.xp6(3),b.AsE("",null==le.data?null:le.data.displayName," (",b.lcZ(7,17,"Clients.Import.Wizard.Secrets."+le.displayResourceType),")"),b.xp6(4),b.Oqu(b.lcZ(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),b.xp6(2),b.Q6J("formGroup",le.form),b.xp6(2),b.Q6J("ngIf",!(null!=le.data&&le.data.existingHasCertificates))("ngIfElse",me),b.xp6(5),b.Q6J("value",le.CertificateAction.ManuallyCreate),b.xp6(2),b.Oqu(b.lcZ(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),b.xp6(2),b.Q6J("ngIf",le.showCertificatePicker),b.xp6(1),b.Q6J("ngIf",!le.showCertificatePicker),b.xp6(5),b.Q6J("disabled",le.disableNext()),b.xp6(1),b.Oqu(b.lcZ(31,23,"Common.Next")),b.xp6(3),b.Oqu(b.lcZ(34,25,"Common.Back")),b.xp6(3),b.Oqu(b.lcZ(37,27,"Common.Cancel"))}},dependencies:[w.sg,w.O5,e._Y,e.Fj,e.Wl,e._,e.JJ,e.JL,e.On,e.sg,e.u,f.X$],encapsulation:2}),E})()},7243:(dt,Ce,p)=>{"use strict";p.d(Ce,{l:()=>C});var t=p(9506),e=p(4650),m=p(7481),T=p(9383);let C=(()=>{class b extends t.n{constructor(f){super(),this.importWizardService=f,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}}return b.\u0275fac=function(f){return new(f||b)(e.Y36(m.U))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-import-download-warning"]],features:[e.qOj],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(f,w){1&f&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",2),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),e.NdJ("click",function(){return w.downloadAndQuit()}),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",7),e.NdJ("click",function(){return w.yes()}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()),2&f&&(e.xp6(2),e.AsE(" ",e.lcZ(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",e.lcZ(4,7,"Clients.Import.Wizard.Warning.Text2")," "),e.xp6(4),e.Oqu(e.lcZ(7,9,"Secret Picker.LastWarning")),e.xp6(6),e.Oqu(e.lcZ(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),e.xp6(3),e.Oqu(e.lcZ(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[T.X$],encapsulation:2}),b})()},7363:(dt,Ce,p)=>{"use strict";p.d(Ce,{$:()=>j,C:()=>Z});var t=p(3111),e=p(4006),m=p(6068),T=p(8176),C=p(9506),b=p(5669),g=p(4650),f=p(9383),w=p(6895),_=p(1660);const R=["secretPicker"];function P(N,B){if(1&N&&(g.TgZ(0,"li",10)(1,"label",27),g._UZ(2,"input",28),g.TgZ(3,"span"),g._uU(4),g.ALo(5,"translate"),g.qZA()()()),2&N){const V=g.oxw();g.xp6(2),g.Q6J("value",V.SecretsActions.DoNotSet),g.xp6(2),g.Oqu(g.lcZ(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function a(N,B){if(1&N&&(g.TgZ(0,"li",10)(1,"label",29),g._UZ(2,"input",30),g.TgZ(3,"span"),g._uU(4),g.ALo(5,"translate"),g.qZA()()()),2&N){const V=g.oxw();g.xp6(2),g.Q6J("value",V.SecretsActions.UseExistingSecret),g.xp6(2),g.Oqu(g.lcZ(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function k(N,B){if(1&N&&g._UZ(0,"app-secret-picker",31,32),2&N){const V=g.oxw();g.Q6J("clientSecrets",V.possibleSecrets)("nonModelCertPicker",!1)}}function L(N,B){if(1&N){const V=g.EpF();g.TgZ(0,"div",33)(1,"ul",34)(2,"li",10)(3,"label",35)(4,"input",36),g.NdJ("ngModelChange",function(q){g.CHM(V);const re=g.oxw();return g.KtG(re.data.rememberSecretAction=q)}),g.qZA(),g.TgZ(5,"span",37),g._uU(6),g.ALo(7,"translate"),g.qZA()()()()()}if(2&N){const V=g.oxw();g.xp6(4),g.Q6J("ngModel",V.data.rememberSecretAction),g.xp6(2),g.hij(" ",g.lcZ(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var Z=(()=>{return(N=Z||(Z={}))[N.DoNotSet=0]="DoNotSet",N[N.Generate=1]="Generate",N[N.ManuallyCreate=2]="ManuallyCreate",N[N.UseExistingSecret=3]="UseExistingSecret",Z;var N})();let j=(()=>{class N extends C.n{constructor(V,J,q){super(),this.translate=V,this.fb=J,this.changeDetector=q,this.SecretsActions=Z,this.possibleSecrets=[]}get data(){return this._selectableImportResource}set data(V){this._selectableImportResource=V}ngOnInit(){if(this.form=this.fb.group({secretAction:["",e.kI.required]}),this.data){const V=this.data.existingHasSecrets?Z.UseExistingSecret:Z.DoNotSet;this.form.get("secretAction").setValue(V),this.displayResourceType=this.data.resourceType===t.JR.Client?b.m.client:b.m.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===Z.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:Z.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:Z.Generate})),this.form.valueChanges.subscribe(()=>{const V=this.form.value.secretAction;this.data.secretsAction=V,V===Z.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?t.JR[this.data.resourceType]:""}goNext(){const V=this.form.get("secretAction");if(V.value===Z.DoNotSet)this.data.secrets=[];else if(V.value===Z.UseExistingSecret)this.data.useExistingSecrets=!0;else if(V.value===Z.Generate){const J=new m.u;J.value=(0,T.qs)(),J.type="Shared Secret",J.description="",this.data.secrets=[J]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(V=>{this.possibleSecrets.push(V)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(V=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(V),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}}return N.\u0275fac=function(V){return new(V||N)(g.Y36(f.sK),g.Y36(e.QS),g.Y36(g.sBO))},N.\u0275cmp=g.Xpm({type:N,selectors:[["app-import-secrets"]],viewQuery:function(V,J){if(1&V&&g.Gf(R,5),2&V){let q;g.iGM(q=g.CRH())&&(J.secretPicker=q.first)}},features:[g.qOj],decls:51,vars:38,consts:[[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],["existingHasSecrets",""],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],["secretPicker",""],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModel","ngModelChange"],[1,"tw-font-normal"]],template:function(V,J){if(1&V&&(g.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),g._uU(3),g.ALo(4,"translate"),g.qZA(),g.TgZ(5,"span",3),g._uU(6),g.ALo(7,"translate"),g.qZA()(),g.TgZ(8,"div",4)(9,"p",5),g._uU(10),g.ALo(11,"translate"),g.qZA()(),g.TgZ(12,"form",6)(13,"ul",7),g.YNc(14,P,6,4,"li",8),g.YNc(15,a,6,4,"ng-template",null,9,g.W1O),g.TgZ(17,"li",10)(18,"label",11),g._UZ(19,"input",12),g.TgZ(20,"span"),g._uU(21),g.ALo(22,"translate"),g.qZA()()(),g.TgZ(23,"li",10)(24,"label",13),g._UZ(25,"input",14),g.TgZ(26,"span"),g._uU(27),g.ALo(28,"translate"),g.qZA()()()()(),g.TgZ(29,"div",15)(30,"p",16)(31,"b",17),g._uU(32),g.ALo(33,"translate"),g.qZA(),g._uU(34),g.ALo(35,"translate"),g.qZA()(),g.YNc(36,k,2,2,"app-secret-picker",18),g.YNc(37,L,8,4,"div",19),g.qZA(),g._UZ(38,"div",20),g.TgZ(39,"div",21)(40,"div",22)(41,"div",23)(42,"button",24),g.NdJ("click",function(){return J.goNext()}),g._uU(43),g.ALo(44,"translate"),g.qZA(),g.TgZ(45,"button",25),g.NdJ("click",function(){return J.back()}),g._uU(46),g.ALo(47,"translate"),g.qZA()(),g.TgZ(48,"button",26),g.NdJ("click",function(){return J.cancel()}),g._uU(49),g.ALo(50,"translate"),g.qZA()()()),2&V){const q=g.MAs(16);g.xp6(3),g.hij("",g.lcZ(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),g.xp6(3),g.AsE("",null==J.data?null:J.data.displayName," (",g.lcZ(7,20,"Clients.Import.Wizard.Secrets."+J.displayResourceType),")"),g.xp6(4),g.Oqu(g.lcZ(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),g.xp6(2),g.Q6J("formGroup",J.form),g.xp6(2),g.Q6J("ngIf",!(null!=J.data&&J.data.existingHasSecrets))("ngIfElse",q),g.xp6(5),g.Q6J("value",J.SecretsActions.Generate),g.xp6(2),g.Oqu(g.lcZ(22,24,"Clients.Import.Wizard.Secrets.Generate")),g.xp6(4),g.Q6J("value",J.SecretsActions.ManuallyCreate),g.xp6(2),g.Oqu(g.lcZ(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),g.xp6(5),g.hij("",g.lcZ(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),g.xp6(2),g.hij(" ",g.lcZ(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),g.xp6(2),g.Q6J("ngIf",J.showSecretPicker),g.xp6(1),g.Q6J("ngIf",!J.showSecretPicker),g.xp6(6),g.Oqu(g.lcZ(44,32,"Common.Next")),g.xp6(3),g.Oqu(g.lcZ(47,34,"Common.Back")),g.xp6(3),g.Oqu(g.lcZ(50,36,"Common.Cancel"))}},dependencies:[w.O5,e._Y,e.Fj,e.Wl,e._,e.JJ,e.JL,e.On,e.sg,e.u,_.P,f.X$],encapsulation:2}),N})()},8255:(dt,Ce,p)=>{"use strict";p.d(Ce,{o:()=>W});var t=p(3111),e=p(3334),m=p(9506),T=p(4650),C=p(7481),b=p(9383),g=p(6895);function f(G,X){1&G&&T.GkF(0)}const w=function(G,X,E,ne,K){return{title:G,editable:!0,header1:X,header2:E,header3:ne,data:K}};function _(G,X){if(1&G&&(T.TgZ(0,"div"),T.YNc(1,f,1,0,"ng-container",12),T.ALo(2,"translate"),T.ALo(3,"translate"),T.ALo(4,"translate"),T.ALo(5,"translate"),T.qZA()),2&G){const E=T.oxw(),ne=T.MAs(9);T.xp6(1),T.Q6J("ngTemplateOutlet",ne)("ngTemplateOutletContext",T.qbA(10,w,T.lcZ(2,2,"Nav.Clients"),T.lcZ(3,4,"Clients.Import.Wizard.Summary.Name.Client"),T.lcZ(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),T.lcZ(5,8,"Clients.Import.Wizard.Summary.Type.Client"),E.clients))}}function R(G,X){1&G&&T.GkF(0)}const P=function(G,X,E,ne,K,le){return{title:G,editable:X,header1:E,header2:ne,header3:K,data:le}};function a(G,X){if(1&G&&(T.TgZ(0,"div",13),T.YNc(1,R,1,0,"ng-container",12),T.ALo(2,"translate"),T.ALo(3,"translate"),T.ALo(4,"translate"),T.ALo(5,"translate"),T.qZA()),2&G){const E=T.oxw(),ne=T.MAs(9);T.xp6(1),T.Q6J("ngTemplateOutlet",ne)("ngTemplateOutletContext",T.HTZ(10,P,T.lcZ(2,2,"Nav.Resources"),E.canEdit(E.resources),T.lcZ(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),T.lcZ(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),T.lcZ(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),E.resources))}}function k(G,X){1&G&&T.GkF(0)}function L(G,X){if(1&G&&(T.TgZ(0,"div",13),T.YNc(1,k,1,0,"ng-container",12),T.ALo(2,"translate"),T.ALo(3,"translate"),T.ALo(4,"translate"),T.ALo(5,"translate"),T.qZA()),2&G){const E=T.oxw(),ne=T.MAs(9);T.xp6(1),T.Q6J("ngTemplateOutlet",ne)("ngTemplateOutletContext",T.HTZ(10,P,T.lcZ(2,2,"Nav.ClaimTypes"),E.canEdit(E.claims),T.lcZ(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),T.lcZ(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),T.lcZ(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),E.claims))}}function Z(G,X){if(1&G&&(T.ynx(0),T.TgZ(1,"td",31),T._UZ(2,"span",32),T.qZA(),T.TgZ(3,"td")(4,"span",33),T._uU(5),T.qZA()(),T.BQk()),2&G){const E=T.oxw().$implicit,ne=T.oxw(2);T.xp6(5),T.Oqu(ne.getConflicts(E))}}function j(G,X){1&G&&T._UZ(0,"span",37)}function N(G,X){1&G&&T._UZ(0,"span",38)}function B(G,X){1&G&&T._UZ(0,"span",32)}function V(G,X){if(1&G&&(T.ynx(0),T.TgZ(1,"td",31),T.YNc(2,j,1,0,"span",34),T.YNc(3,N,1,0,"span",35),T.YNc(4,B,1,0,"span",36),T.qZA(),T.TgZ(5,"td")(6,"span",33),T._uU(7),T.qZA()(),T.BQk()),2&G){const E=T.oxw().$implicit,ne=T.oxw(2);T.xp6(2),T.Q6J("ngIf",E.resourceState==ne.resourceStates.New),T.xp6(1),T.Q6J("ngIf",E.resourceState==ne.resourceStates.Duplicate),T.xp6(1),T.Q6J("ngIf",E.conflictedByDependencies),T.xp6(2),T.ekj("tw-italic",E.resourceState===ne.resourceStates.Duplicate),T.xp6(1),T.hij(" ",ne.getResourceState(E)," ")}}const J=function(G){return{"inactive disabled tw-opacity-50 tw-pointer-events-none":G}};function q(G,X){if(1&G&&(T.TgZ(0,"tr",27)(1,"td",28)(2,"b"),T._uU(3),T.qZA()(),T.TgZ(4,"td",29),T._uU(5),T.qZA(),T.TgZ(6,"td",30),T._uU(7),T.ALo(8,"translate"),T.qZA(),T.YNc(9,Z,6,1,"ng-container",2),T.YNc(10,V,8,6,"ng-container",2),T.qZA()),2&G){const E=X.$implicit,ne=T.oxw(2);T.Q6J("ngClass",T.VKq(9,J,E.resourceState===ne.resourceStates.Duplicate)),T.xp6(1),T.Q6J("title",E.displayName),T.xp6(2),T.Oqu(E.displayName),T.xp6(2),T.hij(" ",E.identifier," "),T.xp6(2),T.hij(" ",T.lcZ(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+E.displayType)," "),T.xp6(2),T.Q6J("ngIf",E.resourceState===ne.resourceStates.Conflicted&&!E.conflictedByDependencies),T.xp6(1),T.Q6J("ngIf",E.resourceState!==ne.resourceStates.Conflicted||E.conflictedByDependencies)}}function re(G,X){if(1&G){const E=T.EpF();T.TgZ(0,"h2",14)(1,"span",15),T._uU(2),T.qZA(),T.TgZ(3,"button",16),T.NdJ("click",function(){const le=T.CHM(E).data,me=T.oxw();return T.KtG(me.editResourceSummary(le))}),T._UZ(4,"span",17),T.TgZ(5,"span",18),T._uU(6),T.ALo(7,"translate"),T.qZA()()(),T.TgZ(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),T._uU(12),T.qZA(),T.TgZ(13,"th",21),T._uU(14),T.qZA(),T.TgZ(15,"th",22),T._uU(16),T.qZA(),T._UZ(17,"td",23),T.TgZ(18,"th",24)(19,"span",25),T._uU(20),T.ALo(21,"translate"),T.qZA()()()(),T.TgZ(22,"tbody"),T.YNc(23,q,11,11,"tr",26),T.qZA()()}if(2&G){const E=X.title,ne=X.editable,K=X.header1,le=X.header2,me=X.header3,Se=X.data;T.xp6(2),T.Oqu(E),T.xp6(1),T.Q6J("disabled",!ne),T.xp6(3),T.Oqu(T.lcZ(7,8,"Common.Edit")),T.xp6(6),T.Oqu(K),T.xp6(2),T.Oqu(le),T.xp6(2),T.Oqu(me),T.xp6(4),T.Oqu(T.lcZ(21,10,"Common.Status")),T.xp6(3),T.Q6J("ngForOf",Se)}}let W=(()=>{class G extends m.n{constructor(E,ne){super(),this.importWizardService=E,this.translate=ne,this.resourceStates=t.vZ,this.resourceTypes=t.JR}ngOnInit(){this.importWizardService.cache.subscribe(E=>{const ne=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],K=E.filter(Se=>Se.resourceType===t.JR.Client&&(Se.selected||Se.resourceState===t.vZ.Duplicate)),le=[],me=[];E.forEach(Se=>{Se.resourceType!==t.JR.Client&&K.some(ye=>Se.dependantClients.some(ze=>ze.identifier===ye.identifier))&&(Se.resourceType===t.JR.ClaimType?le.push(Se):me.push(Se))}),this.clients=K.sort((Se,ye)=>ne.indexOf(Se.resourceState)-ne.indexOf(ye.resourceState)),this.claims=le.sort((Se,ye)=>ne.indexOf(Se.resourceState)-ne.indexOf(ye.resourceState)),this.resources=me.sort((Se,ye)=>ne.indexOf(Se.resourceState)-ne.indexOf(ye.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(E,ne){E.stopPropagation(),this.openModal(e.K.summaryConflicts,ne)}getResourceState(E){return E.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[E.resourceState]}canEdit(E){return E.length>0&&E.some(ne=>ne.resourceState!==t.vZ.Duplicate)}editResourceSummary(E){this.importWizardController.goToSummaryStep(E[0].resourceType)}getConflicts(E){let K,ne=0;return E.conflicts.forEach(le=>{ne+=le.conflicts.length}),K=this.translate.instant(1===ne?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),ne+" "+K}}return G.\u0275fac=function(E){return new(E||G)(T.Y36(C.U),T.Y36(b.sK))},G.\u0275cmp=T.Xpm({type:G,selectors:[["app-import-summary-all"]],features:[T.qOj],decls:23,vars:16,consts:[[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],["commonDatatable",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"disabled","click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(E,ne){1&E&&(T.TgZ(0,"div",0)(1,"div",1)(2,"p"),T._uU(3),T.ALo(4,"translate"),T.qZA()(),T.YNc(5,_,6,16,"div",2),T.YNc(6,a,6,17,"div",3),T.YNc(7,L,6,17,"div",3),T.YNc(8,re,24,12,"ng-template",null,4,T.W1O),T.qZA(),T._UZ(10,"div",5),T.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),T.NdJ("click",function(){return ne.goNext()}),T._uU(15),T.ALo(16,"translate"),T.qZA(),T.TgZ(17,"button",10),T.NdJ("click",function(){return ne.back()}),T._uU(18),T.ALo(19,"translate"),T.qZA()(),T.TgZ(20,"button",11),T.NdJ("click",function(){return ne.cancel()}),T._uU(21),T.ALo(22,"translate"),T.qZA()()()),2&E&&(T.xp6(3),T.Oqu(T.lcZ(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),T.xp6(2),T.Q6J("ngIf",(null==ne.clients?null:ne.clients.length)>0),T.xp6(1),T.Q6J("ngIf",(null==ne.resources?null:ne.resources.length)>0),T.xp6(1),T.Q6J("ngIf",(null==ne.claims?null:ne.claims.length)>0),T.xp6(7),T.Q6J("disabled",!ne.canNext()),T.xp6(1),T.Oqu(T.lcZ(16,10,"Clients.Import.Import")),T.xp6(3),T.Oqu(T.lcZ(19,12,"Common.Back")),T.xp6(3),T.Oqu(T.lcZ(22,14,"Common.Cancel")))},dependencies:[g.mk,g.sg,g.O5,g.tP,b.X$],encapsulation:2}),G})()},5744:(dt,Ce,p)=>{"use strict";p.d(Ce,{Gz:()=>ot});var t=p(3111),e=p(3334),m=p(8176),T=p(5669),C=p(9506);let b=(()=>{class gt{}return gt.RelyingPartyProperty="RelyingParty",gt.RelyingPartyIdentifier="Relying Party",gt.ServiceProviderProperty="ServiceProvider",gt.ServiceProviderIdentifier="Service Provider",gt.ClaimsProperty="Claims",gt.PropertiesProperty="Properties",gt.ScopesProperty="Scopes",gt.UserClaimsProperty="UserClaims",gt.sloProperty="SingleLogoutServices",gt.acsProperty="AssertionConsumerServices",gt.sloIdentifier="Single Logout Services",gt.acsIdentifier="Assertion Consumer Services",gt.ClaimMappingsIdentifier="Claim Mappings",gt.ClaimMappingsKey="ClaimMappings",gt.SamlDisplayType="Saml",gt.WsFedDisplayType="WsFed",gt.Client="Client",gt.Endpoint="Endpoint",gt.ProtectedResources="ProtectedResources",gt.IdentityResources="IdentityResources",gt.ClaimTypes="ClaimTypes",gt.Secrets="Secrets",gt.Certificates="Certificates",gt})();var g=p(4650),f=p(7481),w=p(9383),_=p(2979),R=p(6895);let P=(()=>{class gt{transform(It){if(It){const Xt=[...It];let fn="",An="";for(let kn=0;kn<Xt.length;kn++){const Gn=Xt[kn];if(0===fn.length)fn=Gn.toUpperCase();else if(kn+1===Xt.length)An===An.toUpperCase()||Gn===Gn.toLowerCase()?fn+=Gn:fn+=`${Gn}`;else if(Gn===Gn.toUpperCase()){const ti=An===An.toUpperCase(),ii=Xt[kn+1];ti?ii===ii.toLowerCase()?fn+=` ${Gn}`:fn+=Gn:fn+=` ${Gn}`}else fn+=Gn;An=Gn}It=fn}return It}}return gt.\u0275fac=function(It){return new(It||gt)},gt.\u0275pipe=g.Yjl({name:"beautifyPropertyName",type:gt,pure:!0}),gt})();const a=["importSummaryConflictsModal"];function k(gt,dn){1&gt&&g._UZ(0,"span",24)}function L(gt,dn){1&gt&&g._UZ(0,"span",25)}function Z(gt,dn){1&gt&&(g.TgZ(0,"span",35),g._uU(1,", "),g.qZA())}function j(gt,dn){if(1&gt&&(g.TgZ(0,"li",33)(1,"span"),g._uU(2),g.qZA(),g.YNc(3,Z,2,0,"span",34),g.qZA()),2&gt){const It=dn.$implicit,Xt=dn.last;g.xp6(2),g.Oqu(It.displayName),g.xp6(1),g.Q6J("ngIf",!Xt)}}function N(gt,dn){if(1&gt&&(g.TgZ(0,"dl",29)(1,"dt",30),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"dd")(5,"ul",31),g.YNc(6,j,4,2,"li",32),g.qZA()()()),2&gt){const It=g.oxw(3);g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),g.xp6(4),g.Q6J("ngForOf",It.linkedNewClients)}}function B(gt,dn){1&gt&&(g.TgZ(0,"span",35),g._uU(1,", "),g.qZA())}function V(gt,dn){if(1&gt&&(g.TgZ(0,"li",33)(1,"a",37),g._uU(2),g.qZA(),g.YNc(3,B,2,0,"span",34),g.qZA()),2&gt){const It=dn.$implicit,Xt=dn.last,fn=g.oxw(4);g.xp6(1),g.Q6J("href",fn.buildHref(It.existingIdentifier),g.LSH),g.xp6(1),g.hij(" ",It.displayName," "),g.xp6(1),g.Q6J("ngIf",!Xt)}}function J(gt,dn){if(1&gt&&(g.TgZ(0,"dl",36)(1,"dt",30),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"dd",33)(5,"ul",31),g.YNc(6,V,4,3,"li",32),g.qZA()()()),2&gt){const It=g.oxw(3);g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),g.xp6(4),g.Q6J("ngForOf",It.linkedExistingClients)}}function q(gt,dn){if(1&gt&&(g.TgZ(0,"div",26),g.YNc(1,N,7,4,"dl",27),g.YNc(2,J,7,4,"dl",28),g.qZA()),2&gt){const It=g.oxw(2);g.xp6(1),g.Q6J("ngIf",It.linkedNewClients.length>0),g.xp6(1),g.Q6J("ngIf",It.linkedExistingClients.length>0)}}function re(gt,dn){if(1&gt){const It=g.EpF();g.TgZ(0,"div",17)(1,"div",18)(2,"button",19),g.NdJ("click",function(){g.CHM(It);const fn=g.oxw();return g.KtG(fn.toggleDisplayLinkedClientsDropdown())}),g.TgZ(3,"span"),g._uU(4),g.ALo(5,"translate"),g.qZA(),g.TgZ(6,"span",20),g.YNc(7,k,1,0,"span",21),g.YNc(8,L,1,0,"span",22),g.qZA()(),g.YNc(9,q,3,2,"div",23),g.qZA()()}if(2&gt){const It=g.oxw();g.ekj("tw-alert-warning",It.linkedExistingClients.length>0),g.xp6(4),g.Oqu(g.lcZ(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),g.xp6(3),g.Q6J("ngIf",It.displayLinkedClientsDropdown),g.xp6(1),g.Q6J("ngIf",!It.displayLinkedClientsDropdown),g.xp6(1),g.Q6J("ngIf",It.displayLinkedClientsDropdown)}}function W(gt,dn){if(1&gt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.hij(" ",It.previous," ")}}function G(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function X(gt,dn){if(1&gt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.hij(" ",It.new," ")}}function E(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function ne(gt,dn){if(1&gt){const It=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(It);const fn=g.oxw(2);return g.KtG(fn.setupTableHeadings())}),g.TgZ(1,"td"),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"td"),g.YNc(5,W,2,1,"span",43),g.YNc(6,G,3,3,"i",44),g.qZA(),g.TgZ(7,"td"),g.YNc(8,X,2,1,"span",45),g.YNc(9,E,3,3,"i",44),g.qZA()()}if(2&gt){const It=dn.$implicit,Xt=g.oxw(2);g.xp6(2),g.Oqu(g.lcZ(3,5,It.propertyName)),g.xp6(3),g.Q6J("ngIf",Xt.hasValue(It.previous)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.previous)),g.xp6(2),g.Q6J("ngIf",Xt.hasValue(It.new)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.new))}}function K(gt,dn){if(1&gt&&(g.TgZ(0,"div",38)(1,"table",39)(2,"thead")(3,"tr")(4,"th"),g._uU(5),g.ALo(6,"translate"),g.qZA(),g.TgZ(7,"th",40),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA()()(),g.TgZ(13,"tbody"),g.YNc(14,ne,10,7,"tr",41),g.qZA()()()),2&gt){const It=g.oxw();g.xp6(5),g.Oqu(g.lcZ(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.xp6(3),g.Oqu(g.lcZ(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==It.fieldConflicts?null:It.fieldConflicts.conflicts)}}function le(gt,dn){if(1&gt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.hij(" ",It.previous," ")}}function me(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Se(gt,dn){if(1&gt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.hij(" ",It.new," ")}}function ye(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function ze(gt,dn){if(1&gt){const It=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(It);const fn=g.oxw(3);return g.KtG(fn.setupTableHeadings())}),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g.YNc(4,le,2,1,"span",43),g.YNc(5,me,3,3,"i",44),g.qZA(),g.TgZ(6,"td"),g.YNc(7,Se,2,1,"span",45),g.YNc(8,ye,3,3,"i",44),g.qZA()()}if(2&gt){const It=dn.$implicit,Xt=g.oxw(3);g.xp6(2),g.Oqu(It.propertyName),g.xp6(2),g.Q6J("ngIf",Xt.hasValue(It.previous)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.previous)),g.xp6(2),g.Q6J("ngIf",Xt.hasValue(It.new)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.new))}}function Ee(gt,dn){if(1&gt&&(g.TgZ(0,"div",51)(1,"h4",52),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.TgZ(13,"th",40),g._uU(14),g.ALo(15,"translate"),g.qZA()()(),g.TgZ(16,"tbody"),g.YNc(17,ze,9,5,"tr",41),g.qZA()()()),2&gt){const It=dn.$implicit;g.xp6(2),g.hij(" ",g.lcZ(3,5,It.identifier)," "),g.xp6(6),g.Oqu(g.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),g.xp6(3),g.Oqu(g.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==It?null:It.conflicts)}}function qe(gt,dn){if(1&gt&&(g.TgZ(0,"div",49),g.YNc(1,Ee,18,13,"div",50),g.qZA()),2&gt){const It=g.oxw();g.xp6(1),g.Q6J("ngForOf",It.clientKeyValueConflicts)}}function Te(gt,dn){if(1&gt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.hij(" ",It.previous," ")}}function nt(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function at(gt,dn){if(1&gt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.hij(" ",It.new," ")}}function wt(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function lt(gt,dn){if(1&gt){const It=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(It);const fn=g.oxw(3);return g.KtG(fn.setupTableHeadings())}),g.TgZ(1,"td"),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"td"),g.YNc(5,Te,2,1,"span",43),g.YNc(6,nt,3,3,"i",44),g.qZA(),g.TgZ(7,"td"),g.YNc(8,at,2,1,"span",45),g.YNc(9,wt,3,3,"i",44),g.qZA()()}if(2&gt){const It=dn.$implicit,Xt=g.oxw(3);g.xp6(2),g.Oqu(g.lcZ(3,5,It.propertyName)),g.xp6(3),g.Q6J("ngIf",Xt.hasValue(It.previous)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.previous)),g.xp6(2),g.Q6J("ngIf",Xt.hasValue(It.new)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.new))}}function mt(gt,dn){if(1&gt&&(g.TgZ(0,"div",51)(1,"h4",52),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.TgZ(13,"th",40),g._uU(14),g.ALo(15,"translate"),g.qZA()()(),g.TgZ(16,"tbody"),g.YNc(17,lt,10,7,"tr",41),g.qZA()()()),2&gt){const It=dn.$implicit;g.xp6(2),g.hij(" ",g.lcZ(3,5,It.identifier)," "),g.xp6(6),g.Oqu(g.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.xp6(3),g.Oqu(g.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==It?null:It.conflicts)}}function pt(gt,dn){if(1&gt&&(g.TgZ(0,"div",53)(1,"h3",54),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.YNc(4,mt,18,13,"div",50),g.qZA()),2&gt){const It=g.oxw();g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),g.xp6(2),g.Q6J("ngForOf",It.scopeConflicts)}}function Yt(gt,dn){if(1&gt&&(g.TgZ(0,"td"),g._uU(1),g.ALo(2,"beautifyPropertyName"),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.Oqu(g.lcZ(2,1,It.propertyName))}}function un(gt,dn){if(1&gt&&(g.TgZ(0,"td"),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.Oqu(It.propertyName)}}function Nt(gt,dn){if(1&gt&&(g.TgZ(0,"dl",60)(1,"dt",61),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"dd",62),g._uU(5),g.qZA(),g.TgZ(6,"dt",61),g._uU(7),g.ALo(8,"translate"),g.qZA(),g.TgZ(9,"dd",62),g._uU(10),g.qZA(),g.TgZ(11,"dt",61),g._uU(12),g.ALo(13,"translate"),g.qZA(),g.TgZ(14,"dd",46),g._uU(15),g.qZA()()),2&gt){const It=g.oxw(2).$implicit;g.xp6(2),g.hij("",g.lcZ(3,6,"Common.URL"),":"),g.xp6(3),g.Oqu(It.previous.location),g.xp6(2),g.hij("",g.lcZ(8,8,"Clients.Saml.BindingType"),":"),g.xp6(3),g.Oqu(It.previous.binding),g.xp6(2),g.hij("",g.lcZ(13,10,"Clients.Saml.Index"),":"),g.xp6(3),g.Oqu(It.previous.index)}}function Mt(gt,dn){1&gt&&(g.TgZ(0,"dl")(1,"i",47),g._uU(2),g.ALo(3,"translate"),g.qZA()()),2&gt&&(g.xp6(2),g.hij(" ",g.lcZ(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Y(gt,dn){if(1&gt&&(g.TgZ(0,"dl",60)(1,"dt",61),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"dd",63),g._uU(5),g.qZA(),g.TgZ(6,"dt",61),g._uU(7),g.ALo(8,"translate"),g.qZA(),g.TgZ(9,"dd",63),g._uU(10),g.qZA(),g.TgZ(11,"dt",61),g._uU(12),g.ALo(13,"translate"),g.qZA(),g.TgZ(14,"dd",48),g._uU(15),g.qZA()()),2&gt){const It=g.oxw(2).$implicit;g.xp6(2),g.hij("",g.lcZ(3,6,"Common.URL"),":"),g.xp6(3),g.Oqu(It.new.location),g.xp6(2),g.hij("",g.lcZ(8,8,"Clients.Saml.BindingType"),":"),g.xp6(3),g.Oqu(It.new.binding),g.xp6(2),g.hij("",g.lcZ(13,10,"Clients.Saml.Index"),":"),g.xp6(3),g.Oqu(It.new.index)}}function Q(gt,dn){1&gt&&(g.TgZ(0,"dl")(1,"i",47),g._uU(2),g.ALo(3,"translate"),g.qZA()()),2&gt&&(g.xp6(2),g.hij(" ",g.lcZ(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function ce(gt,dn){if(1&gt&&(g.ynx(0),g.TgZ(1,"td"),g.YNc(2,Nt,16,12,"dl",59),g.YNc(3,Mt,4,3,"dl",56),g.qZA(),g.TgZ(4,"td"),g.YNc(5,Y,16,12,"dl",59),g.YNc(6,Q,4,3,"dl",56),g.qZA(),g.BQk()),2&gt){const It=g.oxw().$implicit,Xt=g.oxw(3);g.xp6(2),g.Q6J("ngIf",Xt.hasValue(It.previous)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.previous)),g.xp6(2),g.Q6J("ngIf",Xt.hasValue(It.new)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.new))}}function We(gt,dn){if(1&gt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&gt){const It=g.oxw(2).$implicit;g.xp6(1),g.hij(" ",It.previous," ")}}function Je(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Oe(gt,dn){if(1&gt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&gt){const It=g.oxw(2).$implicit;g.xp6(1),g.hij(" ",It.new," ")}}function i(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function we(gt,dn){if(1&gt&&(g.TgZ(0,"td",64),g.YNc(1,We,2,1,"span",43),g.YNc(2,Je,3,3,"i",44),g.qZA(),g.TgZ(3,"td",64),g.YNc(4,Oe,2,1,"span",45),g.YNc(5,i,3,3,"i",44),g.qZA()),2&gt){const It=g.oxw().$implicit,Xt=g.oxw(3);g.xp6(1),g.Q6J("ngIf",Xt.hasValue(It.previous)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.previous)),g.xp6(2),g.Q6J("ngIf",Xt.hasValue(It.new)),g.xp6(1),g.Q6J("ngIf",!Xt.hasValue(It.new))}}function $e(gt,dn){if(1&gt){const It=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(It);const fn=g.oxw(3);return g.KtG(fn.setupTableHeadings())}),g.YNc(1,Yt,3,3,"td",56),g.YNc(2,un,2,1,"td",56),g.YNc(3,ce,7,4,"ng-container",57),g.YNc(4,we,6,4,"ng-template",null,58,g.W1O),g.qZA()}if(2&gt){const It=g.MAs(5),Xt=g.oxw().$implicit,fn=g.oxw(2);g.xp6(1),g.Q6J("ngIf",Xt.identifier!=fn.summaryConflictsConstants.ClaimMappingsKey),g.xp6(1),g.Q6J("ngIf",Xt.identifier==fn.summaryConflictsConstants.ClaimMappingsKey),g.xp6(1),g.Q6J("ngIf",Xt.identifier==fn.summaryConflictsConstants.sloProperty||Xt.identifier==fn.summaryConflictsConstants.acsProperty)("ngIfElse",It)}}function Ye(gt,dn){if(1&gt&&(g.TgZ(0,"div",51)(1,"h4",52),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.TgZ(13,"th",40),g._uU(14),g.ALo(15,"translate"),g.qZA()()(),g.TgZ(16,"tbody"),g.YNc(17,$e,6,4,"tr",41),g.qZA()()()),2&gt){const It=dn.$implicit;g.xp6(2),g.hij(" ",g.lcZ(3,5,It.identifier)," "),g.xp6(6),g.Oqu(g.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.xp6(3),g.Oqu(g.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==It?null:It.conflicts)}}function Xe(gt,dn){if(1&gt&&(g.TgZ(0,"div",55)(1,"h3",54),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.YNc(4,Ye,18,13,"div",50),g.qZA()),2&gt){const It=g.oxw();g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),g.xp6(2),g.Q6J("ngForOf",It.serviceProviderConflicts)}}function Fe(gt,dn){if(1&gt&&(g.TgZ(0,"td"),g._uU(1),g.ALo(2,"beautifyPropertyName"),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.Oqu(g.lcZ(2,1,It.propertyName))}}function Tt(gt,dn){if(1&gt&&(g.TgZ(0,"td"),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.Oqu(It.propertyName)}}function vt(gt,dn){if(1&gt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.hij(" ",It.previous," ")}}function Ge(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function de(gt,dn){if(1&gt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&gt){const It=g.oxw().$implicit;g.xp6(1),g.hij(" ",It.new," ")}}function ee(gt,dn){1&gt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&gt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function U(gt,dn){if(1&gt){const It=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(It);const fn=g.oxw(3);return g.KtG(fn.setupTableHeadings())}),g.YNc(1,Fe,3,3,"td",56),g.YNc(2,Tt,2,1,"td",56),g.TgZ(3,"td",64),g.YNc(4,vt,2,1,"span",43),g.YNc(5,Ge,3,3,"i",44),g.qZA(),g.TgZ(6,"td",64),g.YNc(7,de,2,1,"span",45),g.YNc(8,ee,3,3,"i",44),g.qZA()()}if(2&gt){const It=dn.$implicit,Xt=g.oxw().$implicit,fn=g.oxw(2);g.xp6(1),g.Q6J("ngIf",Xt.identifier!=fn.summaryConflictsConstants.ClaimMappingsIdentifier),g.xp6(1),g.Q6J("ngIf",Xt.identifier==fn.summaryConflictsConstants.ClaimMappingsIdentifier),g.xp6(2),g.Q6J("ngIf",fn.hasValue(It.previous)),g.xp6(1),g.Q6J("ngIf",!fn.hasValue(It.previous)),g.xp6(2),g.Q6J("ngIf",fn.hasValue(It.new)),g.xp6(1),g.Q6J("ngIf",!fn.hasValue(It.new))}}function te(gt,dn){if(1&gt&&(g.TgZ(0,"div",51)(1,"h4",52),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.TgZ(13,"th",40),g._uU(14),g.ALo(15,"translate"),g.qZA()()(),g.TgZ(16,"tbody"),g.YNc(17,U,9,6,"tr",41),g.qZA()()()),2&gt){const It=dn.$implicit;g.xp6(2),g.hij(" ",g.lcZ(3,5,It.identifier)," "),g.xp6(6),g.Oqu(g.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.xp6(3),g.Oqu(g.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==It?null:It.conflicts)}}function Re(gt,dn){if(1&gt&&(g.TgZ(0,"div",65)(1,"h3",54),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.YNc(4,te,18,13,"div",50),g.qZA()),2&gt){const It=g.oxw();g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),g.xp6(2),g.Q6J("ngForOf",It.relyingPartyConflicts)}}let ot=(()=>{class gt extends C.n{constructor(It,Xt,fn){super(),this.importWizardService=It,this.translate=Xt,this.localizeRouterService=fn,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=b}set data(It){const Xt=JSON.parse(JSON.stringify(It));this.resource=Xt,this.summaryDisplayType=T.m.getSummaryDisplayType(Xt.resourceType),this.setupLinkedClients(Xt),this.resource.resourceType===t.JR.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(fn=>fn.identifier===b.ClaimTypes)),this.resource.resourceType===t.JR.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(fn=>fn.identifier===b.IdentityResources)),this.resource.resourceType===t.JR.Client&&(this.initClient(),this.resource.displayType===b.SamlDisplayType?this.initServiceProvider():this.resource.displayType===b.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===t.JR.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(fn=>fn.identifier===b.ProtectedResources),this.initScopeConflicts())}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===T.m.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(e.K.summaryConflictsConfirmation,this.resource)}setupLinkedClients(It){null!==It.dependantClients&&0!==It.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(It.dependantClients.filter(Xt=>Xt.state===t.CP.Importing)),this.linkedExistingClients=this.sortDependentClients(It.dependantClients.filter(Xt=>Xt.state===t.CP.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(It){return It.sort((Xt,fn)=>Xt.displayName.localeCompare(fn.displayName))}buildHref(It){return this.localizeRouterService.translateRoute(`/clients/${It}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(It){return!(null==It||(0,m.hr)(It.toString()))}initClient(){const It=this.resource.conflicts.find(An=>An.identifier===b.Client),Xt=this.resource.conflicts.find(An=>An.identifier===b.ClaimsProperty),fn=this.resource.conflicts.find(An=>An.identifier===b.PropertiesProperty);It&&(this.fieldConflicts=It),Xt&&this.clientKeyValueConflicts.push(Xt),fn&&this.clientKeyValueConflicts.push(fn)}initRelyingParty(){const It=this.resource.conflicts.find(fn=>fn.identifier===b.RelyingPartyProperty),Xt=this.resource.conflicts.find(fn=>fn.identifier===b.ClaimMappingsKey);It&&this.relyingPartyConflicts.push(It),Xt&&this.relyingPartyConflicts.push(Xt)}initServiceProvider(){const It=this.resource.conflicts.find(kn=>kn.identifier===b.ServiceProviderProperty),Xt=this.resource.conflicts.find(kn=>kn.identifier===b.ClaimMappingsKey),fn=this.resource.conflicts.find(kn=>kn.identifier===b.acsProperty),An=this.resource.conflicts.find(kn=>kn.identifier===b.sloProperty);It&&this.serviceProviderConflicts.push(It),Xt&&this.serviceProviderConflicts.push(Xt),fn&&this.serviceProviderConflicts.push(fn),An&&this.serviceProviderConflicts.push(An)}initScopeConflicts(){const It=this.resource.conflicts.filter(Xt=>Xt.identifier!==b.ProtectedResources);void 0!==It&&(It.forEach(Xt=>{const fn=Xt.conflicts.find(An=>An.propertyName===b.UserClaimsProperty);fn&&(fn.new=fn.new.join(", "),fn.previous=fn.previous.join(", "))}),this.scopeConflicts=It)}}return gt.\u0275fac=function(It){return new(It||gt)(g.Y36(f.U),g.Y36(w.sK),g.Y36(_.An))},gt.\u0275cmp=g.Xpm({type:gt,selectors:[["app-import-summary-conflicts"]],viewQuery:function(It,Xt){if(1&It&&g.Gf(a,7),2&It){let fn;g.iGM(fn=g.CRH())&&(Xt.importSummaryConflictsModal=fn.first)}},features:[g.qOj],decls:30,vars:22,consts:[[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["normalConflicts",""],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(It,Xt){1&It&&(g.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),g._uU(3),g.ALo(4,"translate"),g.qZA(),g.TgZ(5,"span"),g._uU(6),g.qZA()(),g.TgZ(7,"div",3)(8,"p"),g._uU(9),g.ALo(10,"translate"),g.qZA()(),g.YNc(11,re,10,8,"div",4),g.YNc(12,K,15,10,"div",5),g.YNc(13,qe,2,1,"div",6),g.YNc(14,pt,5,4,"div",7),g.YNc(15,Xe,5,4,"div",8),g.YNc(16,Re,5,4,"div",9),g.qZA(),g._UZ(17,"div",10),g.TgZ(18,"div",11)(19,"div",12)(20,"div",13)(21,"button",14),g.NdJ("click",function(){return Xt.accept()}),g._uU(22),g.ALo(23,"translate"),g.qZA(),g.TgZ(24,"button",15),g.NdJ("click",function(){return Xt.decline()}),g._uU(25),g.ALo(26,"translate"),g.qZA()(),g.TgZ(27,"button",16),g.NdJ("click",function(){return Xt.back()}),g._uU(28),g.ALo(29,"translate"),g.qZA()()()),2&It&&(g.xp6(3),g.hij("",g.lcZ(4,12,"Clients.Import.Wizard.Summary.Identifier."+Xt.summaryDisplayType),":"),g.xp6(3),g.Oqu(null==Xt.resource?null:Xt.resource.displayName),g.xp6(3),g.Oqu(g.lcZ(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+Xt.summaryDisplayType)),g.xp6(2),g.Q6J("ngIf",Xt.displayLinkedClients),g.xp6(1),g.Q6J("ngIf",Xt.fieldConflicts&&Xt.fieldConflicts.conflicts.length>0),g.xp6(1),g.Q6J("ngIf",Xt.clientKeyValueConflicts.length>0),g.xp6(1),g.Q6J("ngIf",Xt.scopeConflicts.length>0),g.xp6(1),g.Q6J("ngIf",Xt.serviceProviderConflicts.length>0),g.xp6(1),g.Q6J("ngIf",Xt.relyingPartyConflicts.length>0),g.xp6(6),g.Oqu(g.lcZ(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),g.xp6(3),g.Oqu(g.lcZ(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),g.xp6(3),g.Oqu(g.lcZ(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[R.sg,R.O5,w.X$,P],encapsulation:2}),gt})()},6126:(dt,Ce,p)=>{"use strict";p.d(Ce,{j:()=>X});var t=p(3111),e=p(3334),m=p(5669),T=p(9506),C=p(4650),b=p(7481),g=p(9383),f=p(6895),w=p(4006);function _(E,ne){if(1&E){const K=C.EpF();C.TgZ(0,"th",21)(1,"label",22)(2,"input",23),C.NdJ("ngModelChange",function(me){C.CHM(K);const Se=C.oxw();return C.KtG(Se.allSelected=me)})("change",function(){C.CHM(K);const me=C.oxw();return C.KtG(me.toggleAllSelected())}),C.qZA()()()}if(2&E){const K=C.oxw();C.xp6(2),C.Q6J("ngModel",K.allSelected)}}function R(E,ne){if(1&E&&(C.TgZ(0,"th",24),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&E){const K=C.oxw();C.xp6(1),C.Oqu(C.lcZ(2,1,"Clients.Import.Wizard.Summary.Identifier."+K.summaryDisplayType))}}function P(E,ne){1&E&&(C.TgZ(0,"th",25),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&E&&(C.xp6(1),C.hij("",C.lcZ(2,1,"Nav.Clients")," *"))}function a(E,ne){if(1&E){const K=C.EpF();C.TgZ(0,"label",22)(1,"input",23),C.NdJ("ngModelChange",function(me){C.CHM(K);const Se=C.oxw(2).$implicit;return C.KtG(Se.selected=me)})("change",function(){C.CHM(K);const me=C.oxw(3);return C.KtG(me.selectionChanged())}),C.ALo(2,"translate"),C.qZA()()}if(2&E){const K=C.oxw(2).$implicit;C.xp6(1),C.Q6J("ngModel",K.selected),C.uIk("aria-label",C.lcZ(2,2,"Common.Add"))}}function k(E,ne){if(1&E&&(C.TgZ(0,"td",21),C.YNc(1,a,3,4,"label",32),C.qZA()),2&E){const K=C.oxw().$implicit;C.xp6(1),C.Q6J("ngIf",K.isSelectable)}}function L(E,ne){if(1&E){const K=C.EpF();C.TgZ(0,"td",33),C.NdJ("click",function(){C.CHM(K);const me=C.oxw().$implicit,Se=C.oxw();return C.KtG(Se.toggle(me))}),C._uU(1),C.qZA()}if(2&E){const K=C.oxw().$implicit;C.Q6J("title",K.identifier),C.xp6(1),C.hij(" ",K.identifier," ")}}function Z(E,ne){if(1&E&&(C.TgZ(0,"td",34),C._uU(1),C.qZA()),2&E){const K=C.oxw().$implicit,le=C.oxw();C.xp6(1),C.hij(" ",le.displayLinkedClients(K)," ")}}function j(E,ne){1&E&&C._UZ(0,"span",40)}function N(E,ne){if(1&E){const K=C.EpF();C.ynx(0),C.TgZ(1,"td",35),C.NdJ("click",function(me){C.CHM(K);const Se=C.oxw().$implicit,ye=C.oxw();return C.KtG(ye.viewConflicts(me,Se))}),C.YNc(2,j,1,0,"span",36),C.qZA(),C.TgZ(3,"td",37),C.NdJ("click",function(me){C.CHM(K);const Se=C.oxw().$implicit,ye=C.oxw();return C.KtG(ye.viewConflicts(me,Se))}),C.TgZ(4,"button",38),C.NdJ("click",function(me){C.CHM(K);const Se=C.oxw().$implicit,ye=C.oxw();return C.KtG(ye.viewConflicts(me,Se))}),C.TgZ(5,"span",39),C._uU(6),C.qZA()()(),C.BQk()}if(2&E){const K=C.oxw().$implicit,le=C.oxw();C.xp6(2),C.Q6J("ngIf",K.resourceState==le.resourceStates.Conflicted),C.xp6(4),C.Oqu(le.getConflicts(K))}}function B(E,ne){1&E&&C._UZ(0,"span",45)}function V(E,ne){1&E&&C._UZ(0,"span",46)}function J(E,ne){1&E&&C._UZ(0,"span",40)}function q(E,ne){if(1&E){const K=C.EpF();C.ynx(0),C.TgZ(1,"td",41),C.NdJ("click",function(){C.CHM(K);const me=C.oxw().$implicit,Se=C.oxw();return C.KtG(Se.toggle(me))}),C.YNc(2,B,1,0,"span",42),C.YNc(3,V,1,0,"span",43),C.YNc(4,J,1,0,"span",36),C.qZA(),C.TgZ(5,"td",44),C.NdJ("click",function(){C.CHM(K);const me=C.oxw().$implicit,Se=C.oxw();return C.KtG(Se.toggle(me))}),C.TgZ(6,"span",39),C._uU(7),C.qZA()(),C.BQk()}if(2&E){const K=C.oxw().$implicit,le=C.oxw();C.xp6(2),C.Q6J("ngIf",K.resourceState==le.resourceStates.New),C.xp6(1),C.Q6J("ngIf",K.resourceState==le.resourceStates.Duplicate),C.xp6(1),C.Q6J("ngIf",K.conflictedByDependencies),C.xp6(2),C.ekj("tw-italic",!K.isSelectable),C.xp6(1),C.hij(" ",le.getResourceState(K)," ")}}const re=function(E){return{"inactive disabled tw-opacity-50 tw-pointer-events-none":E}};function W(E,ne){if(1&E){const K=C.EpF();C.TgZ(0,"tr",26),C.YNc(1,k,2,1,"td",3),C.TgZ(2,"td",27),C.NdJ("click",function(){const Se=C.CHM(K).$implicit,ye=C.oxw();return C.KtG(ye.toggle(Se))}),C.TgZ(3,"b"),C._uU(4),C.qZA()(),C.YNc(5,L,2,2,"td",28),C.TgZ(6,"td",29),C.NdJ("click",function(){const Se=C.CHM(K).$implicit,ye=C.oxw();return C.KtG(ye.toggle(Se))}),C._uU(7),C.ALo(8,"translate"),C.qZA(),C.YNc(9,Z,2,1,"td",30),C.YNc(10,N,7,2,"ng-container",31),C.YNc(11,q,8,6,"ng-container",31),C.qZA()}if(2&E){const K=ne.$implicit,le=C.oxw();C.Q6J("ngClass",C.VKq(11,re,K.resourceState===le.resourceStates.Duplicate)),C.xp6(1),C.Q6J("ngIf",le.showSelectAll()),C.xp6(1),C.Q6J("title",K.displayName),C.xp6(2),C.Oqu(K.displayName),C.xp6(1),C.Q6J("ngIf","ClaimType"!==le.summaryDisplayType),C.xp6(2),C.hij(" ",C.lcZ(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+K.displayType)," "),C.xp6(2),C.Q6J("ngIf","Client"!==le.summaryDisplayType),C.xp6(1),C.Q6J("ngIf",K.resourceState===le.resourceStates.Conflicted&&!K.conflictedByDependencies),C.xp6(1),C.Q6J("ngIf",K.resourceState!==le.resourceStates.Conflicted||K.conflictedByDependencies)}}function G(E,ne){1&E&&(C.TgZ(0,"p",47),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&E&&(C.xp6(1),C.hij(" * ",C.lcZ(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let X=(()=>{class E extends T.n{constructor(K,le){super(),this.importWizardService=K,this.translate=le,this.resourceStates=t.vZ,this.nextImport=!1}get data(){return this._importResourceType}set data(K){this._importResourceType=K}ngOnInit(){this.summaryDisplayType=m.m.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(K=>{K.every(me=>me.resourceType===t.JR.Client)&&(this.nextImport=!0);let le=K.filter(me=>this.data.includes(me.resourceType));if(!this.data.includes(t.JR.Client)){const me=K.filter(Se=>Se.resourceType===t.JR.Client&&!0===Se.selected).map(Se=>Se.identifier);le=le.filter(Se=>Se.dependantClients.map(ye=>ye.identifier).some(ye=>me.includes(ye)))}if(1===this.data.length&&this.data.includes(t.JR.Client)){const me=le.filter(ye=>ye.resourceState===t.vZ.Duplicate),Se=K.filter(ye=>ye.resourceType!==t.JR.Client&&ye.dependantClients.length>0&&ye.resourceState===t.vZ.Conflicted);me.forEach(ye=>{Se.filter(Ee=>Ee.dependantClients.some(qe=>qe.identifier===ye.identifier)).length>0&&(ye.resourceState=t.vZ.Conflicted,ye.selected=!0,ye.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(le),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(K=>K.selected)||this.displayData.every(K=>!1===K.isSelectable)&&this.summaryDisplayType!==m.m.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===m.m.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(K=>K.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(K=>K.resourceState!==this.resourceStates.Duplicate).every(K=>!0===K.selected)}toggle(K){K.isSelectable&&(K.selected=!K.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(K=>K.selected=this.allSelected),this.selectionChanged()}getConflicts(K){let me,le=0;return K.conflicts.forEach(Se=>{le+=Se.conflicts.length}),me=this.translate.instant(1===le?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),le+" "+me}viewConflicts(K,le){K.stopPropagation(),this.openModal(e.K.summaryConflicts,le)}showSelectAll(){return this.displayData.some(K=>K.isSelectable)&&!this.displayData.every(K=>K.resourceState===t.vZ.Duplicate)}displayLinkedClients(K){return null===K.dependantClients||0===K.dependantClients.length?"-":K.dependantClients.length.toString()}getResourceState(K){return K.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[K.resourceState]}}return E.\u0275fac=function(K){return new(K||E)(C.Y36(b.U),C.Y36(g.sK))},E.\u0275cmp=C.Xpm({type:E,selectors:[["app-import-summary"]],features:[C.qOj],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModel","ngModelChange","change"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"title","click"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"title","click"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(K,le){1&K&&(C.TgZ(0,"div",0)(1,"div",1)(2,"p"),C._uU(3),C.ALo(4,"translate"),C.qZA()(),C.TgZ(5,"table",2)(6,"thead")(7,"tr"),C.YNc(8,_,3,1,"th",3),C.TgZ(9,"th",4),C._uU(10),C.ALo(11,"translate"),C.qZA(),C.YNc(12,R,3,3,"th",5),C.TgZ(13,"th",6),C._uU(14),C.ALo(15,"translate"),C.qZA(),C.YNc(16,P,3,3,"th",7),C._UZ(17,"td",8),C.TgZ(18,"th",9)(19,"span",10),C._uU(20),C.ALo(21,"translate"),C.qZA()()()(),C.TgZ(22,"tbody",11),C.YNc(23,W,12,13,"tr",12),C.qZA()(),C.YNc(24,G,3,3,"p",13),C.qZA(),C._UZ(25,"div",14),C.TgZ(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),C.NdJ("click",function(){return le.goNext()}),C._uU(30),C.qZA(),C.TgZ(31,"button",19),C.NdJ("click",function(){return le.goBack()}),C._uU(32),C.ALo(33,"translate"),C.qZA()(),C.TgZ(34,"button",20),C.NdJ("click",function(){return le.cancel()}),C._uU(35),C.ALo(36,"translate"),C.qZA()()()),2&K&&(C.xp6(3),C.Oqu(C.lcZ(4,15,"Clients.Import.Wizard.Summary.Intro."+le.summaryDisplayType)),C.xp6(2),C.ekj("selectable",le.showSelectAll()),C.xp6(3),C.Q6J("ngIf",le.showSelectAll()),C.xp6(2),C.Oqu(C.lcZ(11,17,"Clients.Import.Wizard.Summary.Name."+le.summaryDisplayType)),C.xp6(2),C.Q6J("ngIf","ClaimType"!==le.summaryDisplayType),C.xp6(2),C.Oqu(C.lcZ(15,19,"Clients.Import.Wizard.Summary.Type."+le.summaryDisplayType)),C.xp6(2),C.Q6J("ngIf","Client"!==le.summaryDisplayType),C.xp6(4),C.Oqu(C.lcZ(21,21,"Common.Status")),C.xp6(3),C.Q6J("ngForOf",le.displayData),C.xp6(1),C.Q6J("ngIf","Client"!==le.summaryDisplayType),C.xp6(5),C.Q6J("disabled",!le.canNext()),C.xp6(1),C.Oqu(le.getNextText()),C.xp6(2),C.Oqu(C.lcZ(33,23,"Common.Back")),C.xp6(3),C.Oqu(C.lcZ(36,25,"Common.Cancel")))},dependencies:[f.mk,f.sg,f.O5,w.Wl,w.JJ,w.On,g.X$],encapsulation:2}),E})()},9506:(dt,Ce,p)=>{"use strict";p.d(Ce,{n:()=>t});class t{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(m){this._data=m}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(m,T){this.importWizardController.insertAndOpenStep(m,T)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},7305:(dt,Ce,p)=>{"use strict";p.d(Ce,{j:()=>e});var t=p(4650);let e=(()=>{class m{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}}return m.\u0275fac=function(C){return new(C||m)},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},1503:(dt,Ce,p)=>{"use strict";p.d(Ce,{q:()=>_});var t=p(4650),e=p(4006),m=p(6895),T=p(9383),C=p(8853);function b(R,P){if(1&R&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&R){const a=P.$implicit;t.xp6(1),t.Oqu(a)}}function g(R,P){if(1&R){const a=t.EpF();t.TgZ(0,"tr",11)(1,"td",12),t.NdJ("click",function(){t.CHM(a);const L=t.oxw().$implicit,Z=t.oxw();return t.KtG(Z.jumpToTab(L.stepName))}),t.TgZ(2,"b"),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"keyToString"),t.qZA()(),t.TgZ(6,"td",13),t.NdJ("click",function(){t.CHM(a);const L=t.oxw().$implicit,Z=t.oxw();return t.KtG(Z.jumpToTab(L.stepName))}),t.YNc(7,b,2,1,"span",14),t.qZA(),t.TgZ(8,"td",12),t.NdJ("click",function(){t.CHM(a);const L=t.oxw().$implicit,Z=t.oxw();return t.KtG(Z.jumpToTab(L.stepName))}),t.TgZ(9,"button",15),t.NdJ("click",function(){t.CHM(a);const L=t.oxw().$implicit,Z=t.oxw();return t.KtG(Z.jumpToTab(L.stepName))}),t._UZ(10,"span",16),t.TgZ(11,"span",2),t._uU(12),t.ALo(13,"translate"),t.qZA()()()()}if(2&R){const a=P.$implicit;t.xp6(3),t.Oqu(t.lcZ(4,3,t.lcZ(5,5,a.key))),t.xp6(4),t.Q6J("ngForOf",a.value),t.xp6(5),t.Oqu(t.lcZ(13,7,"Common.Edit"))}}function f(R,P){if(1&R&&(t.ynx(0),t.YNc(1,g,14,9,"tr",10),t.ALo(2,"keyvalue"),t.BQk()),2&R){const a=P.$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,a.stepData))}}function w(R,P){if(1&R&&(t.TgZ(0,"form",18)(1,"div",19),t._UZ(2,"input",20),t.TgZ(3,"label",21),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&R){const a=t.oxw();t.Q6J("formGroup",a.summaryForm),t.xp6(1),t.Q6J("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),t.xp6(3),t.Oqu(t.lcZ(5,3,"Common.Enabled"))}}let _=(()=>{class R{constructor(a){this.fb=a,this.askIfEnabled=!1,this.emitNavigate=new t.vpe}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(a){this.emitNavigate.emit(a)}isEnabled(){return this.summaryForm.get("enabled").value}}return R.\u0275fac=function(a){return new(a||R)(t.Y36(e.QS))},R.\u0275cmp=t.Xpm({type:R,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(a,k){1&a&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th")(14,"span",2),t._uU(15),t.ALo(16,"translate"),t.qZA()()()(),t.TgZ(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"td",5)(24,"span",6),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t._UZ(27,"td",7),t.qZA(),t.YNc(28,f,3,3,"ng-container",8),t.qZA()(),t.YNc(29,w,6,5,"form",9)),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,8,"Common.Wizards.Review")),t.xp6(6),t.Oqu(t.lcZ(9,10,"Common.Key")),t.xp6(3),t.Oqu(t.lcZ(12,12,"Common.Value")),t.xp6(4),t.Oqu(t.lcZ(16,14,"Common.Actions")),t.xp6(6),t.Oqu(t.lcZ(22,16,"Common.Type")),t.xp6(4),t.Oqu(t.lcZ(26,18,k.summaryTitle)),t.xp6(3),t.Q6J("ngForOf",k.summary),t.xp6(1),t.Q6J("ngIf",k.askIfEnabled))},dependencies:[m.mk,m.sg,m.O5,e._Y,e.Wl,e.JJ,e.JL,e.sg,e.u,m.Nd,T.X$,C.r],encapsulation:2}),R})()},9679:(dt,Ce,p)=>{"use strict";p.d(Ce,{F:()=>B});var t=p(4006),e=p(6895),m=p(9383),T=p(1191),C=p(5503),b=p(8761),g=p(8265),f=p(7481),w=p(5971),_=p(1501),R=p(388),P=p(2320),a=p(9659),k=p(2699),L=p(9650),Z=p(7305),j=p(4091),N=p(4650);let B=(()=>{class V{}return V.\u0275fac=function(q){return new(q||V)},V.\u0275mod=N.oAB({type:V}),V.\u0275inj=N.cJS({providers:[Z.j,f.U,_.o,a.o],imports:[e.ez,t.u5,t.UX,T.H3,m.aw,P.z8,C.D,R.zk,b.W,g.j,w.s,k.Y,L.I,j.G]}),V})()},365:(dt,Ce,p)=>{"use strict";function t(e){const m=e.value;if(null==m)return{validEmail:!1};if(m.indexOf(" ")>-1)return{validEmail:!1};let T=!1;for(let C=0;C<m.length;C++)if("@"===e.value[C]){if(T||0===C||C===m.length-1)return{validEmail:!1};T=!0}return T?null:{validEmail:!1}}p.d(Ce,{J:()=>t})},8312:(dt,Ce,p)=>{"use strict";var t=p(1481),e=p(4650),m=p(4006),T=p(529),C=p(7340);function g(l){return new e.vHH(3e3,!1)}function Yt(){return typeof window<"u"&&typeof window.document<"u"}function un(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Nt(l){switch(l.length){case 0:return new C.ZN;case 1:return l[0];default:return new C.ZE(l)}}function Mt(l,h,n,d,A=new Map,M=new Map){const pe=[],Pe=[];let Qe=-1,xt=null;if(d.forEach(Ft=>{const cn=Ft.get("offset"),bn=cn==Qe,En=bn&&xt||new Map;Ft.forEach((Hn,On)=>{let ei=On,ui=Hn;if("offset"!==On)switch(ei=h.normalizePropertyName(ei,pe),ui){case C.k1:ui=A.get(On);break;case C.l3:ui=M.get(On);break;default:ui=h.normalizeStyleValue(On,ei,ui,pe)}En.set(ei,ui)}),bn||Pe.push(En),xt=En,Qe=cn}),pe.length)throw function me(l){return new e.vHH(3502,!1)}();return Pe}function Y(l,h,n,d){switch(h){case"start":l.onStart(()=>d(n&&Q(n,"start",l)));break;case"done":l.onDone(()=>d(n&&Q(n,"done",l)));break;case"destroy":l.onDestroy(()=>d(n&&Q(n,"destroy",l)))}}function Q(l,h,n){const M=ce(l.element,l.triggerName,l.fromState,l.toState,h||l.phaseName,n.totalTime??l.totalTime,!!n.disabled),pe=l._data;return null!=pe&&(M._data=pe),M}function ce(l,h,n,d,A="",M=0,pe){return{element:l,triggerName:h,fromState:n,toState:d,phaseName:A,totalTime:M,disabled:!!pe}}function We(l,h,n){let d=l.get(h);return d||l.set(h,d=n),d}function Je(l){const h=l.indexOf(":");return[l.substring(1,h),l.slice(h+1)]}let Oe=(l,h)=>!1,i=(l,h,n)=>[],we=null;function $e(l){const h=l.parentNode||l.host;return h===we?null:h}(un()||typeof Element<"u")&&(Yt()?(we=(()=>document.documentElement)(),Oe=(l,h)=>{for(;h;){if(h===l)return!0;h=$e(h)}return!1}):Oe=(l,h)=>l.contains(h),i=(l,h,n)=>{if(n)return Array.from(l.querySelectorAll(h));const d=l.querySelector(h);return d?[d]:[]});let Fe=null,Tt=!1;const ee=Oe,U=i;let Re=(()=>{class l{validateStyleProperty(n){return function vt(l){Fe||(Fe=function de(){return typeof document<"u"?document.body:null}()||{},Tt=!!Fe.style&&"WebkitAppearance"in Fe.style);let h=!0;return Fe.style&&!function Xe(l){return"ebkit"==l.substring(1,6)}(l)&&(h=l in Fe.style,!h&&Tt&&(h="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in Fe.style)),h}(n)}matchesElement(n,d){return!1}containsElement(n,d){return ee(n,d)}getParentElement(n){return $e(n)}query(n,d,A){return U(n,d,A)}computeStyle(n,d,A){return A||""}animate(n,d,A,M,pe,Pe=[],Qe){return new C.ZN(A,M)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})(),ot=(()=>{class l{}return l.NOOP=new Re,l})();const mn="ng-enter",nn="ng-leave",_n="ng-trigger",sn=".ng-trigger",gt="ng-animating",dn=".ng-animating";function It(l){if("number"==typeof l)return l;const h=l.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:Xt(parseFloat(h[1]),h[2])}function Xt(l,h){return"s"===h?1e3*l:l}function fn(l,h,n){return l.hasOwnProperty("duration")?l:function An(l,h,n){let A,M=0,pe="";if("string"==typeof l){const Pe=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Pe)return h.push(g()),{duration:0,delay:0,easing:""};A=Xt(parseFloat(Pe[1]),Pe[2]);const Qe=Pe[3];null!=Qe&&(M=Xt(parseFloat(Qe),Pe[4]));const xt=Pe[5];xt&&(pe=xt)}else A=l;if(!n){let Pe=!1,Qe=h.length;A<0&&(h.push(function f(){return new e.vHH(3100,!1)}()),Pe=!0),M<0&&(h.push(function w(){return new e.vHH(3101,!1)}()),Pe=!0),Pe&&h.splice(Qe,0,g())}return{duration:A,delay:M,easing:pe}}(l,h,n)}function kn(l,h={}){return Object.keys(l).forEach(n=>{h[n]=l[n]}),h}function Gn(l){const h=new Map;return Object.keys(l).forEach(n=>{h.set(n,l[n])}),h}function $t(l,h=new Map,n){if(n)for(let[d,A]of n)h.set(d,A);for(let[d,A]of l)h.set(d,A);return h}function Qn(l,h,n){return n?h+":"+n+";":""}function Nn(l){let h="";for(let n=0;n<l.style.length;n++){const d=l.style.item(n);h+=Qn(0,d,l.style.getPropertyValue(d))}for(const n in l.style)l.style.hasOwnProperty(n)&&!n.startsWith("_")&&(h+=Qn(0,Mn(n),l.style[n]));l.setAttribute("style",h)}function bt(l,h,n){l.style&&(h.forEach((d,A)=>{const M=Bt(A);n&&!n.has(A)&&n.set(A,l.style[M]),l.style[M]=d}),un()&&Nn(l))}function _t(l,h){l.style&&(h.forEach((n,d)=>{const A=Bt(d);l.style[A]=""}),un()&&Nn(l))}function Ot(l){return Array.isArray(l)?1==l.length?l[0]:(0,C.vP)(l):l}const Ke=new RegExp("{{\\s*(.+?)\\s*}}","g");function it(l){let h=[];if("string"==typeof l){let n;for(;n=Ke.exec(l);)h.push(n[1]);Ke.lastIndex=0}return h}function yt(l,h,n){const d=l.toString(),A=d.replace(Ke,(M,pe)=>{let Pe=h[pe];return null==Pe&&(n.push(function R(l){return new e.vHH(3003,!1)}()),Pe=""),Pe.toString()});return A==d?l:A}function Jt(l){const h=[];let n=l.next();for(;!n.done;)h.push(n.value),n=l.next();return h}const on=/-+([a-z0-9])/g;function Bt(l){return l.replace(on,(...h)=>h[1].toUpperCase())}function Mn(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Cn(l,h,n){switch(h.type){case 7:return l.visitTrigger(h,n);case 0:return l.visitState(h,n);case 1:return l.visitTransition(h,n);case 2:return l.visitSequence(h,n);case 3:return l.visitGroup(h,n);case 4:return l.visitAnimate(h,n);case 5:return l.visitKeyframes(h,n);case 6:return l.visitStyle(h,n);case 8:return l.visitReference(h,n);case 9:return l.visitAnimateChild(h,n);case 10:return l.visitAnimateRef(h,n);case 11:return l.visitQuery(h,n);case 12:return l.visitStagger(h,n);default:throw function P(l){return new e.vHH(3004,!1)}()}}function Zn(l,h){return window.getComputedStyle(l)[h]}function Pn(l,h){const n=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(d=>function kt(l,h,n){if(":"==l[0]){const Qe=function zt(l,h){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,d)=>parseFloat(d)>parseFloat(n);case":decrement":return(n,d)=>parseFloat(d)<parseFloat(n);default:return h.push(function E(l){return new e.vHH(3016,!1)}()),"* => *"}}(l,n);if("function"==typeof Qe)return void h.push(Qe);l=Qe}const d=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return n.push(function X(l){return new e.vHH(3015,!1)}()),h;const A=d[1],M=d[2],pe=d[3];h.push(zn(A,pe));"<"==M[0]&&!("*"==A&&"*"==pe)&&h.push(zn(pe,A))}(d,n,h)):n.push(l),n}const Sn=new Set(["true","1"]),Ln=new Set(["false","0"]);function zn(l,h){const n=Sn.has(l)||Ln.has(l),d=Sn.has(h)||Ln.has(h);return(A,M)=>{let pe="*"==l||l==A,Pe="*"==h||h==M;return!pe&&n&&"boolean"==typeof A&&(pe=A?Sn.has(l):Ln.has(l)),!Pe&&d&&"boolean"==typeof M&&(Pe=M?Sn.has(h):Ln.has(h)),pe&&Pe}}const et=new RegExp("s*:selfs*,?","g");function ft(l,h,n,d){return new pn(l).build(h,n,d)}class pn{constructor(h){this._driver=h}build(h,n,d){const A=new Rn(n);return this._resetContextStyleTimingState(A),Cn(this,Ot(h),A)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,n){let d=n.queryCount=0,A=n.depCount=0;const M=[],pe=[];return"@"==h.name.charAt(0)&&n.errors.push(function k(){return new e.vHH(3006,!1)}()),h.definitions.forEach(Pe=>{if(this._resetContextStyleTimingState(n),0==Pe.type){const Qe=Pe,xt=Qe.name;xt.toString().split(/\s*,\s*/).forEach(Ft=>{Qe.name=Ft,M.push(this.visitState(Qe,n))}),Qe.name=xt}else if(1==Pe.type){const Qe=this.visitTransition(Pe,n);d+=Qe.queryCount,A+=Qe.depCount,pe.push(Qe)}else n.errors.push(function L(){return new e.vHH(3007,!1)}())}),{type:7,name:h.name,states:M,transitions:pe,queryCount:d,depCount:A,options:null}}visitState(h,n){const d=this.visitStyle(h.styles,n),A=h.options&&h.options.params||null;if(d.containsDynamicStyles){const M=new Set,pe=A||{};d.styles.forEach(Pe=>{Pe instanceof Map&&Pe.forEach(Qe=>{it(Qe).forEach(xt=>{pe.hasOwnProperty(xt)||M.add(xt)})})}),M.size&&(Jt(M.values()),n.errors.push(function Z(l,h){return new e.vHH(3008,!1)}()))}return{type:0,name:h.name,style:d,options:A?{params:A}:null}}visitTransition(h,n){n.queryCount=0,n.depCount=0;const d=Cn(this,Ot(h.animation),n);return{type:1,matchers:Pn(h.expr,n.errors),animation:d,queryCount:n.queryCount,depCount:n.depCount,options:qn(h.options)}}visitSequence(h,n){return{type:2,steps:h.steps.map(d=>Cn(this,d,n)),options:qn(h.options)}}visitGroup(h,n){const d=n.currentTime;let A=0;const M=h.steps.map(pe=>{n.currentTime=d;const Pe=Cn(this,pe,n);return A=Math.max(A,n.currentTime),Pe});return n.currentTime=A,{type:3,steps:M,options:qn(h.options)}}visitAnimate(h,n){const d=function fi(l,h){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return or(fn(l,h).duration,0,"");const n=l;if(n.split(/\s+/).some(M=>"{"==M.charAt(0)&&"{"==M.charAt(1))){const M=or(0,0,"");return M.dynamic=!0,M.strValue=n,M}const A=fn(n,h);return or(A.duration,A.delay,A.easing)}(h.timings,n.errors);n.currentAnimateTimings=d;let A,M=h.styles?h.styles:(0,C.oB)({});if(5==M.type)A=this.visitKeyframes(M,n);else{let pe=h.styles,Pe=!1;if(!pe){Pe=!0;const xt={};d.easing&&(xt.easing=d.easing),pe=(0,C.oB)(xt)}n.currentTime+=d.duration+d.delay;const Qe=this.visitStyle(pe,n);Qe.isEmptyStep=Pe,A=Qe}return n.currentAnimateTimings=null,{type:4,timings:d,style:A,options:null}}visitStyle(h,n){const d=this._makeStyleAst(h,n);return this._validateStyleAst(d,n),d}_makeStyleAst(h,n){const d=[],A=Array.isArray(h.styles)?h.styles:[h.styles];for(let Pe of A)"string"==typeof Pe?Pe===C.l3?d.push(Pe):n.errors.push(new e.vHH(3002,!1)):d.push(Gn(Pe));let M=!1,pe=null;return d.forEach(Pe=>{if(Pe instanceof Map&&(Pe.has("easing")&&(pe=Pe.get("easing"),Pe.delete("easing")),!M))for(let Qe of Pe.values())if(Qe.toString().indexOf("{{")>=0){M=!0;break}}),{type:6,styles:d,easing:pe,offset:h.offset,containsDynamicStyles:M,options:null}}_validateStyleAst(h,n){const d=n.currentAnimateTimings;let A=n.currentTime,M=n.currentTime;d&&M>0&&(M-=d.duration+d.delay),h.styles.forEach(pe=>{"string"!=typeof pe&&pe.forEach((Pe,Qe)=>{const xt=n.collectedStyles.get(n.currentQuerySelector),Ft=xt.get(Qe);let cn=!0;Ft&&(M!=A&&M>=Ft.startTime&&A<=Ft.endTime&&(n.errors.push(function B(l,h,n,d,A){return new e.vHH(3010,!1)}()),cn=!1),M=Ft.startTime),cn&&xt.set(Qe,{startTime:M,endTime:A}),n.options&&function Ze(l,h,n){const d=h.params||{},A=it(l);A.length&&A.forEach(M=>{d.hasOwnProperty(M)||n.push(function _(l){return new e.vHH(3001,!1)}())})}(Pe,n.options,n.errors)})})}visitKeyframes(h,n){const d={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function V(){return new e.vHH(3011,!1)}()),d;let M=0;const pe=[];let Pe=!1,Qe=!1,xt=0;const Ft=h.steps.map(ui=>{const Ai=this._makeStyleAst(ui,n);let tr=null!=Ai.offset?Ai.offset:function xi(l){if("string"==typeof l)return null;let h=null;if(Array.isArray(l))l.forEach(n=>{if(n instanceof Map&&n.has("offset")){const d=n;h=parseFloat(d.get("offset")),d.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const n=l;h=parseFloat(n.get("offset")),n.delete("offset")}return h}(Ai.styles),Si=0;return null!=tr&&(M++,Si=Ai.offset=tr),Qe=Qe||Si<0||Si>1,Pe=Pe||Si<xt,xt=Si,pe.push(Si),Ai});Qe&&n.errors.push(function J(){return new e.vHH(3012,!1)}()),Pe&&n.errors.push(function q(){return new e.vHH(3200,!1)}());const cn=h.steps.length;let bn=0;M>0&&M<cn?n.errors.push(function re(){return new e.vHH(3202,!1)}()):0==M&&(bn=1/(cn-1));const En=cn-1,Hn=n.currentTime,On=n.currentAnimateTimings,ei=On.duration;return Ft.forEach((ui,Ai)=>{const tr=bn>0?Ai==En?1:bn*Ai:pe[Ai],Si=tr*ei;n.currentTime=Hn+On.delay+Si,On.duration=Si,this._validateStyleAst(ui,n),ui.offset=tr,d.styles.push(ui)}),d}visitReference(h,n){return{type:8,animation:Cn(this,Ot(h.animation),n),options:qn(h.options)}}visitAnimateChild(h,n){return n.depCount++,{type:9,options:qn(h.options)}}visitAnimateRef(h,n){return{type:10,animation:this.visitReference(h.animation,n),options:qn(h.options)}}visitQuery(h,n){const d=n.currentQuerySelector,A=h.options||{};n.queryCount++,n.currentQuery=h;const[M,pe]=function hn(l){const h=!!l.split(/\s*,\s*/).find(n=>":self"==n);return h&&(l=l.replace(et,"")),l=l.replace(/@\*/g,sn).replace(/@\w+/g,n=>sn+"-"+n.slice(1)).replace(/:animating/g,dn),[l,h]}(h.selector);n.currentQuerySelector=d.length?d+" "+M:M,We(n.collectedStyles,n.currentQuerySelector,new Map);const Pe=Cn(this,Ot(h.animation),n);return n.currentQuery=null,n.currentQuerySelector=d,{type:11,selector:M,limit:A.limit||0,optional:!!A.optional,includeSelf:pe,animation:Pe,originalSelector:h.selector,options:qn(h.options)}}visitStagger(h,n){n.currentQuery||n.errors.push(function W(){return new e.vHH(3013,!1)}());const d="full"===h.timings?{duration:0,delay:0,easing:"full"}:fn(h.timings,n.errors,!0);return{type:12,animation:Cn(this,Ot(h.animation),n),timings:d,options:null}}}class Rn{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qn(l){return l?(l=kn(l)).params&&(l.params=function In(l){return l?kn(l):null}(l.params)):l={},l}function or(l,h,n){return{duration:l,delay:h,easing:n}}function Yi(l,h,n,d,A,M,pe=null,Pe=!1){return{type:1,element:l,keyframes:h,preStyleProps:n,postStyleProps:d,duration:A,delay:M,totalTime:A+M,easing:pe,subTimeline:Pe}}class hr{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,n){let d=this._map.get(h);d||this._map.set(h,d=[]),d.push(...n)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const Mi=new RegExp(":enter","g"),Nr=new RegExp(":leave","g");function cs(l,h,n,d,A,M=new Map,pe=new Map,Pe,Qe,xt=[]){return(new is).buildKeyframes(l,h,n,d,A,M,pe,Pe,Qe,xt)}class is{buildKeyframes(h,n,d,A,M,pe,Pe,Qe,xt,Ft=[]){xt=xt||new hr;const cn=new qr(h,n,xt,A,M,Ft,[]);cn.options=Qe;const bn=Qe.delay?It(Qe.delay):0;cn.currentTimeline.delayNextStep(bn),cn.currentTimeline.setStyles([pe],null,cn.errors,Qe),Cn(this,d,cn);const En=cn.timelines.filter(Hn=>Hn.containsAnimation());if(En.length&&Pe.size){let Hn;for(let On=En.length-1;On>=0;On--){const ei=En[On];if(ei.element===n){Hn=ei;break}}Hn&&!Hn.allowOnlyTimelineStyles()&&Hn.setStyles([Pe],null,cn.errors,Qe)}return En.length?En.map(Hn=>Hn.buildKeyframes()):[Yi(n,[],[],[],0,bn,"",!1)]}visitTrigger(h,n){}visitState(h,n){}visitTransition(h,n){}visitAnimateChild(h,n){const d=n.subInstructions.get(n.element);if(d){const A=n.createSubContext(h.options),M=n.currentTimeline.currentTime,pe=this._visitSubInstructions(d,A,A.options);M!=pe&&n.transformIntoNewTimeline(pe)}n.previousNode=h}visitAnimateRef(h,n){const d=n.createSubContext(h.options);d.transformIntoNewTimeline(),this._applyAnimateRefDelay(h.animation,n,d),this.visitReference(h.animation,d),n.transformIntoNewTimeline(d.currentTimeline.currentTime),n.previousNode=h}_applyAnimateRefDelay(h,n,d){var A;const M=null===(A=h.options)||void 0===A?void 0:A.delay;if(!M)return;let pe;var Pe,Qe;"string"==typeof M?pe=It(yt(M,null!==(Pe=null===(Qe=h.options)||void 0===Qe?void 0:Qe.params)&&void 0!==Pe?Pe:{},n.errors)):pe=M;d.delayNextStep(pe)}_visitSubInstructions(h,n,d){let M=n.currentTimeline.currentTime;const pe=null!=d.duration?It(d.duration):null,Pe=null!=d.delay?It(d.delay):null;return 0!==pe&&h.forEach(Qe=>{const xt=n.appendInstructionToTimeline(Qe,pe,Pe);M=Math.max(M,xt.duration+xt.delay)}),M}visitReference(h,n){n.updateOptions(h.options,!0),Cn(this,h.animation,n),n.previousNode=h}visitSequence(h,n){const d=n.subContextCount;let A=n;const M=h.options;if(M&&(M.params||M.delay)&&(A=n.createSubContext(M),A.transformIntoNewTimeline(),null!=M.delay)){6==A.previousNode.type&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=us);const pe=It(M.delay);A.delayNextStep(pe)}h.steps.length&&(h.steps.forEach(pe=>Cn(this,pe,A)),A.currentTimeline.applyStylesToKeyframe(),A.subContextCount>d&&A.transformIntoNewTimeline()),n.previousNode=h}visitGroup(h,n){const d=[];let A=n.currentTimeline.currentTime;const M=h.options&&h.options.delay?It(h.options.delay):0;h.steps.forEach(pe=>{const Pe=n.createSubContext(h.options);M&&Pe.delayNextStep(M),Cn(this,pe,Pe),A=Math.max(A,Pe.currentTimeline.currentTime),d.push(Pe.currentTimeline)}),d.forEach(pe=>n.currentTimeline.mergeTimelineCollectedStyles(pe)),n.transformIntoNewTimeline(A),n.previousNode=h}_visitTiming(h,n){if(h.dynamic){const d=h.strValue;return fn(n.params?yt(d,n.params,n.errors):d,n.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,n){const d=n.currentAnimateTimings=this._visitTiming(h.timings,n),A=n.currentTimeline;d.delay&&(n.incrementTime(d.delay),A.snapshotCurrentStyles());const M=h.style;5==M.type?this.visitKeyframes(M,n):(n.incrementTime(d.duration),this.visitStyle(M,n),A.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=h}visitStyle(h,n){const d=n.currentTimeline,A=n.currentAnimateTimings;!A&&d.hasCurrentStyleProperties()&&d.forwardFrame();const M=A&&A.easing||h.easing;h.isEmptyStep?d.applyEmptyStep(M):d.setStyles(h.styles,M,n.errors,n.options),n.previousNode=h}visitKeyframes(h,n){const d=n.currentAnimateTimings,A=n.currentTimeline.duration,M=d.duration,Pe=n.createSubContext().currentTimeline;Pe.easing=d.easing,h.styles.forEach(Qe=>{Pe.forwardTime((Qe.offset||0)*M),Pe.setStyles(Qe.styles,Qe.easing,n.errors,n.options),Pe.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(Pe),n.transformIntoNewTimeline(A+M),n.previousNode=h}visitQuery(h,n){const d=n.currentTimeline.currentTime,A=h.options||{},M=A.delay?It(A.delay):0;M&&(6===n.previousNode.type||0==d&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=us);let pe=d;const Pe=n.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!A.optional,n.errors);n.currentQueryTotal=Pe.length;let Qe=null;Pe.forEach((xt,Ft)=>{n.currentQueryIndex=Ft;const cn=n.createSubContext(h.options,xt);M&&cn.delayNextStep(M),xt===n.element&&(Qe=cn.currentTimeline),Cn(this,h.animation,cn),cn.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,cn.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(pe),Qe&&(n.currentTimeline.mergeTimelineCollectedStyles(Qe),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=h}visitStagger(h,n){const d=n.parentContext,A=n.currentTimeline,M=h.timings,pe=Math.abs(M.duration),Pe=pe*(n.currentQueryTotal-1);let Qe=pe*n.currentQueryIndex;switch(M.duration<0?"reverse":M.easing){case"reverse":Qe=Pe-Qe;break;case"full":Qe=d.currentStaggerTime}const Ft=n.currentTimeline;Qe&&Ft.delayNextStep(Qe);const cn=Ft.currentTime;Cn(this,h.animation,n),n.previousNode=h,d.currentStaggerTime=A.currentTime-cn+(A.startTime-d.currentTimeline.startTime)}}const us={};class qr{constructor(h,n,d,A,M,pe,Pe,Qe){this._driver=h,this.element=n,this.subInstructions=d,this._enterClassName=A,this._leaveClassName=M,this.errors=pe,this.timelines=Pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=us,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Qe||new _r(this._driver,n,0),Pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,n){if(!h)return;const d=h;let A=this.options;null!=d.duration&&(A.duration=It(d.duration)),null!=d.delay&&(A.delay=It(d.delay));const M=d.params;if(M){let pe=A.params;pe||(pe=this.options.params={}),Object.keys(M).forEach(Pe=>{(!n||!pe.hasOwnProperty(Pe))&&(pe[Pe]=yt(M[Pe],pe,this.errors))})}}_copyOptions(){const h={};if(this.options){const n=this.options.params;if(n){const d=h.params={};Object.keys(n).forEach(A=>{d[A]=n[A]})}}return h}createSubContext(h=null,n,d){const A=n||this.element,M=new qr(this._driver,A,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(A,d||0));return M.previousNode=this.previousNode,M.currentAnimateTimings=this.currentAnimateTimings,M.options=this._copyOptions(),M.updateOptions(h),M.currentQueryIndex=this.currentQueryIndex,M.currentQueryTotal=this.currentQueryTotal,M.parentContext=this,this.subContextCount++,M}transformIntoNewTimeline(h){return this.previousNode=us,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,n,d){const A={duration:n??h.duration,delay:this.currentTimeline.currentTime+(d??0)+h.delay,easing:""},M=new rs(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,A,h.stretchStartingKeyframe);return this.timelines.push(M),A}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,n,d,A,M,pe){let Pe=[];if(A&&Pe.push(this.element),h.length>0){h=(h=h.replace(Mi,"."+this._enterClassName)).replace(Nr,"."+this._leaveClassName);let xt=this._driver.query(this.element,h,1!=d);0!==d&&(xt=d<0?xt.slice(xt.length+d,xt.length):xt.slice(0,d)),Pe.push(...xt)}return!M&&0==Pe.length&&pe.push(function G(l){return new e.vHH(3014,!1)}()),Pe}}class _r{constructor(h,n,d,A){this._driver=h,this.element=n,this.startTime=d,this._elementTimelineStylesLookup=A,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+h),n&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,n){return this.applyStylesToKeyframe(),new _r(this._driver,h,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,n){this._localTimelineStyles.set(h,n),this._globalTimelineStyles.set(h,n),this._styleSummary.set(h,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[n,d]of this._globalTimelineStyles)this._backFill.set(n,d||C.l3),this._currentKeyframe.set(n,C.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,n,d,A){n&&this._previousKeyframe.set("easing",n);const M=A&&A.params||{},pe=function Cs(l,h){const n=new Map;let d;return l.forEach(A=>{if("*"===A){d=d||h.keys();for(let M of d)n.set(M,C.l3)}else $t(A,n)}),n}(h,this._globalTimelineStyles);for(let[Qe,xt]of pe){const Ft=yt(xt,M,d);var Pe;this._pendingStyles.set(Qe,Ft),this._localTimelineStyles.has(Qe)||this._backFill.set(Qe,null!==(Pe=this._globalTimelineStyles.get(Qe))&&void 0!==Pe?Pe:C.l3),this._updateStyle(Qe,Ft)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,n)=>{this._currentKeyframe.set(n,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,h)}))}snapshotCurrentStyles(){for(let[h,n]of this._localTimelineStyles)this._pendingStyles.set(h,n),this._updateStyle(h,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let n in this._currentKeyframe)h.push(n);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((n,d)=>{const A=this._styleSummary.get(d);(!A||n.time>A.time)&&this._updateStyle(d,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,n=new Set,d=1===this._keyframes.size&&0===this.duration;let A=[];this._keyframes.forEach((Pe,Qe)=>{const xt=$t(Pe,new Map,this._backFill);xt.forEach((Ft,cn)=>{Ft===C.k1?h.add(cn):Ft===C.l3&&n.add(cn)}),d||xt.set("offset",Qe/this.duration),A.push(xt)});const M=h.size?Jt(h.values()):[],pe=n.size?Jt(n.values()):[];if(d){const Pe=A[0],Qe=new Map(Pe);Pe.set("offset",0),Qe.set("offset",1),A=[Pe,Qe]}return Yi(this.element,A,M,pe,this.duration,this.startTime,this.easing,!1)}}class rs extends _r{constructor(h,n,d,A,M,pe,Pe=!1){super(h,n,pe.delay),this.keyframes=d,this.preStyleProps=A,this.postStyleProps=M,this._stretchStartingKeyframe=Pe,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:n,duration:d,easing:A}=this.timings;if(this._stretchStartingKeyframe&&n){const M=[],pe=d+n,Pe=n/pe,Qe=$t(h[0]);Qe.set("offset",0),M.push(Qe);const xt=$t(h[0]);xt.set("offset",Rs(Pe)),M.push(xt);const Ft=h.length-1;for(let cn=1;cn<=Ft;cn++){let bn=$t(h[cn]);const En=bn.get("offset");bn.set("offset",Rs((n+En*d)/pe)),M.push(bn)}d=pe,n=0,A="",h=M}return Yi(this.element,h,this.preStyleProps,this.postStyleProps,d,n,A,!0)}}function Rs(l,h=3){const n=Math.pow(10,h-1);return Math.round(l*n)/n}class rr{}const ds=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Xn extends rr{normalizePropertyName(h,n){return Bt(h)}normalizeStyleValue(h,n,d,A){let M="";const pe=d.toString().trim();if(ds.has(n)&&0!==d&&"0"!==d)if("number"==typeof d)M="px";else{const Pe=d.match(/^[+-]?[\d\.]+([a-z]*)$/);Pe&&0==Pe[1].length&&A.push(function a(l,h){return new e.vHH(3005,!1)}())}return pe+M}}function _s(l,h,n,d,A,M,pe,Pe,Qe,xt,Ft,cn,bn){return{type:0,element:l,triggerName:h,isRemovalTransition:A,fromState:n,fromStyles:M,toState:d,toStyles:pe,timelines:Pe,queriedElements:Qe,preStyleProps:xt,postStyleProps:Ft,totalTime:cn,errors:bn}}const Wn={};class pr{constructor(h,n,d){this._triggerName=h,this.ast=n,this._stateStyles=d}match(h,n,d,A){return function Yr(l,h,n,d,A){return l.some(M=>M(h,n,d,A))}(this.ast.matchers,h,n,d,A)}buildStyles(h,n,d){let A=this._stateStyles.get("*");return void 0!==h&&(A=this._stateStyles.get(h?.toString())||A),A?A.buildStyles(n,d):new Map}build(h,n,d,A,M,pe,Pe,Qe,xt,Ft){var cn;const bn=[],En=this.ast.options&&this.ast.options.params||Wn,On=this.buildStyles(d,Pe&&Pe.params||Wn,bn),ei=Qe&&Qe.params||Wn,ui=this.buildStyles(A,ei,bn),Ai=new Set,tr=new Map,Si=new Map,qi="void"===A,nr={params:Zr(ei,En),delay:null===(cn=this.ast.options)||void 0===cn?void 0:cn.delay},Ni=Ft?[]:cs(h,n,this.ast.animation,M,pe,On,ui,nr,xt,bn);let ir=0;if(Ni.forEach(Wr=>{ir=Math.max(Wr.duration+Wr.delay,ir)}),bn.length)return _s(n,this._triggerName,d,A,qi,On,ui,[],[],tr,Si,ir,bn);Ni.forEach(Wr=>{const cr=Wr.element,ho=We(tr,cr,new Set);Wr.preStyleProps.forEach(Zo=>ho.add(Zo));const Ns=We(Si,cr,new Set);Wr.postStyleProps.forEach(Zo=>Ns.add(Zo)),cr!==n&&Ai.add(cr)});const gs=Jt(Ai.values());return _s(n,this._triggerName,d,A,qi,On,ui,Ni,gs,tr,Si,ir)}}function Zr(l,h){const n=kn(h);for(const d in l)l.hasOwnProperty(d)&&null!=l[d]&&(n[d]=l[d]);return n}class Pr{constructor(h,n,d){this.styles=h,this.defaultParams=n,this.normalizer=d}buildStyles(h,n){const d=new Map,A=kn(this.defaultParams);return Object.keys(h).forEach(M=>{const pe=h[M];null!==pe&&(A[M]=pe)}),this.styles.styles.forEach(M=>{"string"!=typeof M&&M.forEach((pe,Pe)=>{pe&&(pe=yt(pe,A,n));const Qe=this.normalizer.normalizePropertyName(Pe,n);pe=this.normalizer.normalizeStyleValue(Pe,Qe,pe,n),d.set(Qe,pe)})}),d}}class ss{constructor(h,n,d){this.name=h,this.ast=n,this._normalizer=d,this.transitionFactories=[],this.states=new Map,n.states.forEach(A=>{this.states.set(A.name,new Pr(A.style,A.options&&A.options.params||{},d))}),yr(this.states,"true","1"),yr(this.states,"false","0"),n.transitions.forEach(A=>{this.transitionFactories.push(new pr(h,A,this.states))}),this.fallbackTransition=function sr(l,h,n){return new pr(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,Pe)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,n,d,A){return this.transitionFactories.find(pe=>pe.match(h,n,d,A))||null}matchStyles(h,n,d){return this.fallbackTransition.buildStyles(h,n,d)}}function yr(l,h,n){l.has(h)?l.has(n)||l.set(n,l.get(h)):l.has(n)&&l.set(h,l.get(n))}const os=new hr;class Cr{constructor(h,n,d){this.bodyNode=h,this._driver=n,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,n){const d=[],M=ft(this._driver,n,d,[]);if(d.length)throw function Se(l){return new e.vHH(3503,!1)}();this._animations.set(h,M)}_buildPlayer(h,n,d){const A=h.element,M=Mt(0,this._normalizer,0,h.keyframes,n,d);return this._driver.animate(A,M,h.duration,h.delay,h.easing,[],!0)}create(h,n,d={}){const A=[],M=this._animations.get(h);let pe;const Pe=new Map;if(M?(pe=cs(this._driver,n,M,mn,nn,new Map,new Map,d,os,A),pe.forEach(Ft=>{const cn=We(Pe,Ft.element,new Map);Ft.postStyleProps.forEach(bn=>cn.set(bn,null))})):(A.push(function ye(){return new e.vHH(3300,!1)}()),pe=[]),A.length)throw function ze(l){return new e.vHH(3504,!1)}();Pe.forEach((Ft,cn)=>{Ft.forEach((bn,En)=>{Ft.set(En,this._driver.computeStyle(cn,En,C.l3))})});const xt=Nt(pe.map(Ft=>{const cn=Pe.get(Ft.element);return this._buildPlayer(Ft,new Map,cn)}));return this._playersById.set(h,xt),xt.onDestroy(()=>this.destroy(h)),this.players.push(xt),xt}destroy(h){const n=this._getPlayer(h);n.destroy(),this._playersById.delete(h);const d=this.players.indexOf(n);d>=0&&this.players.splice(d,1)}_getPlayer(h){const n=this._playersById.get(h);if(!n)throw function Ee(l){return new e.vHH(3301,!1)}();return n}listen(h,n,d,A){const M=ce(n,"","","");return Y(this._getPlayer(h),d,M,A),()=>{}}command(h,n,d,A){if("register"==d)return void this.register(h,A[0]);if("create"==d)return void this.create(h,n,A[0]||{});const M=this._getPlayer(h);switch(d){case"play":M.play();break;case"pause":M.pause();break;case"reset":M.reset();break;case"restart":M.restart();break;case"finish":M.finish();break;case"init":M.init();break;case"setPosition":M.setPosition(parseFloat(A[0]));break;case"destroy":this.destroy(h)}}}const Ji="ng-animate-queued",hs="ng-animate-disabled",Vi=[],ws={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},no={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vr="__ng_removed";class Xr{constructor(h,n=""){this.namespaceId=n;const d=h&&h.hasOwnProperty("value");if(this.value=function ao(l){return l??null}(d?h.value:h),d){const M=kn(h);delete M.value,this.options=M}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(h){const n=h.params;if(n){const d=this.options.params;Object.keys(n).forEach(A=>{null==d[A]&&(d[A]=n[A])})}}}const ks="void",Is=new Xr(ks);class zr{constructor(h,n,d){this.id=h,this.hostElement=n,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,lr(n,this._hostClassName)}listen(h,n,d,A){if(!this._triggers.has(n))throw function qe(l,h){return new e.vHH(3302,!1)}();if(null==d||0==d.length)throw function Te(l){return new e.vHH(3303,!1)}();if(!function br(l){return"start"==l||"done"==l}(d))throw function nt(l,h){return new e.vHH(3400,!1)}();const M=We(this._elementListeners,h,[]),pe={name:n,phase:d,callback:A};M.push(pe);const Pe=We(this._engine.statesByElement,h,new Map);return Pe.has(n)||(lr(h,_n),lr(h,_n+"-"+n),Pe.set(n,Is)),()=>{this._engine.afterFlush(()=>{const Qe=M.indexOf(pe);Qe>=0&&M.splice(Qe,1),this._triggers.has(n)||Pe.delete(n)})}}register(h,n){return!this._triggers.has(h)&&(this._triggers.set(h,n),!0)}_getTrigger(h){const n=this._triggers.get(h);if(!n)throw function at(l){return new e.vHH(3401,!1)}();return n}trigger(h,n,d,A=!0){const M=this._getTrigger(n),pe=new Gr(this.id,n,h);let Pe=this._engine.statesByElement.get(h);Pe||(lr(h,_n),lr(h,_n+"-"+n),this._engine.statesByElement.set(h,Pe=new Map));let Qe=Pe.get(n);const xt=new Xr(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&Qe&&xt.absorbOptions(Qe.options),Pe.set(n,xt),Qe||(Qe=Is),xt.value!==ks&&Qe.value===xt.value){if(!function Lr(l,h){const n=Object.keys(l),d=Object.keys(h);if(n.length!=d.length)return!1;for(let A=0;A<n.length;A++){const M=n[A];if(!h.hasOwnProperty(M)||l[M]!==h[M])return!1}return!0}(Qe.params,xt.params)){const On=[],ei=M.matchStyles(Qe.value,Qe.params,On),ui=M.matchStyles(xt.value,xt.params,On);On.length?this._engine.reportError(On):this._engine.afterFlush(()=>{_t(h,ei),bt(h,ui)})}return}const bn=We(this._engine.playersByElement,h,[]);bn.forEach(On=>{On.namespaceId==this.id&&On.triggerName==n&&On.queued&&On.destroy()});let En=M.matchTransition(Qe.value,xt.value,h,xt.params),Hn=!1;if(!En){if(!A)return;En=M.fallbackTransition,Hn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:n,transition:En,fromState:Qe,toState:xt,player:pe,isFallbackTransition:Hn}),Hn||(lr(h,Ji),pe.onStart(()=>{Hr(h,Ji)})),pe.onDone(()=>{let On=this.players.indexOf(pe);On>=0&&this.players.splice(On,1);const ei=this._engine.playersByElement.get(h);if(ei){let ui=ei.indexOf(pe);ui>=0&&ei.splice(ui,1)}}),this.players.push(pe),bn.push(pe),pe}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(n=>n.delete(h)),this._elementListeners.forEach((n,d)=>{this._elementListeners.set(d,n.filter(A=>A.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const n=this._engine.playersByElement.get(h);n&&(n.forEach(d=>d.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,n){const d=this._engine.driver.query(h,sn,!0);d.forEach(A=>{if(A[Vr])return;const M=this._engine.fetchNamespacesByElement(A);M.size?M.forEach(pe=>pe.triggerLeaveAnimation(A,n,!1,!0)):this.clearElementCache(A)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(A=>this.clearElementCache(A)))}triggerLeaveAnimation(h,n,d,A){const M=this._engine.statesByElement.get(h),pe=new Map;if(M){const Pe=[];if(M.forEach((Qe,xt)=>{if(pe.set(xt,Qe.value),this._triggers.has(xt)){const Ft=this.trigger(h,xt,ks,A);Ft&&Pe.push(Ft)}}),Pe.length)return this._engine.markElementAsRemoved(this.id,h,!0,n,pe),d&&Nt(Pe).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const n=this._elementListeners.get(h),d=this._engine.statesByElement.get(h);if(n&&d){const A=new Set;n.forEach(M=>{const pe=M.name;if(A.has(pe))return;A.add(pe);const Qe=this._triggers.get(pe).fallbackTransition,xt=d.get(pe)||Is,Ft=new Xr(ks),cn=new Gr(this.id,pe,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:pe,transition:Qe,fromState:xt,toState:Ft,player:cn,isFallbackTransition:!0})})}}removeNode(h,n){const d=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,n),this.triggerLeaveAnimation(h,n,!0))return;let A=!1;if(d.totalAnimations){const M=d.players.length?d.playersByQueriedElement.get(h):[];if(M&&M.length)A=!0;else{let pe=h;for(;pe=pe.parentNode;)if(d.statesByElement.get(pe)){A=!0;break}}}if(this.prepareLeaveAnimationListeners(h),A)d.markElementAsRemoved(this.id,h,!1,n);else{const M=h[Vr];(!M||M===ws)&&(d.afterFlush(()=>this.clearElementCache(h)),d.destroyInnerAnimations(h),d._onRemovalComplete(h,n))}}insertNode(h,n){lr(h,this._hostClassName)}drainQueuedTransitions(h){const n=[];return this._queue.forEach(d=>{const A=d.player;if(A.destroyed)return;const M=d.element,pe=this._elementListeners.get(M);pe&&pe.forEach(Pe=>{if(Pe.name==d.triggerName){const Qe=ce(M,d.triggerName,d.fromState.value,d.toState.value);Qe._data=h,Y(d.player,Pe.phase,Qe,Pe.callback)}}),A.markedForDestroy?this._engine.afterFlush(()=>{A.destroy()}):n.push(d)}),this._queue=[],n.sort((d,A)=>{const M=d.transition.ast.depCount,pe=A.transition.ast.depCount;return 0==M||0==pe?M-pe:this._engine.driver.containsElement(d.element,A.element)?1:-1})}destroy(h){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}elementContainsData(h){let n=!1;return this._elementListeners.has(h)&&(n=!0),n=!!this._queue.find(d=>d.element===h)||n,n}}class Wi{constructor(h,n,d){this.bodyNode=h,this.driver=n,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(A,M)=>{}}_onRemovalComplete(h,n){this.onRemovalComplete(h,n)}get queuedPlayers(){const h=[];return this._namespaceList.forEach(n=>{n.players.forEach(d=>{d.queued&&h.push(d)})}),h}createNamespace(h,n){const d=new zr(h,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(d,n):(this.newHostElements.set(n,d),this.collectEnterElement(n)),this._namespaceLookup[h]=d}_balanceNamespaceList(h,n){const d=this._namespaceList,A=this.namespacesByHostElement;if(d.length-1>=0){let pe=!1,Pe=this.driver.getParentElement(n);for(;Pe;){const Qe=A.get(Pe);if(Qe){const xt=d.indexOf(Qe);d.splice(xt+1,0,h),pe=!0;break}Pe=this.driver.getParentElement(Pe)}pe||d.unshift(h)}else d.push(h);return A.set(n,h),h}register(h,n){let d=this._namespaceLookup[h];return d||(d=this.createNamespace(h,n)),d}registerTrigger(h,n,d){let A=this._namespaceLookup[h];A&&A.register(n,d)&&this.totalAnimations++}destroy(h,n){if(!h)return;const d=this._fetchNamespace(h);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[h];const A=this._namespaceList.indexOf(d);A>=0&&this._namespaceList.splice(A,1)}),this.afterFlushAnimationsDone(()=>d.destroy(n))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const n=new Set,d=this.statesByElement.get(h);if(d)for(let A of d.values())if(A.namespaceId){const M=this._fetchNamespace(A.namespaceId);M&&n.add(M)}return n}trigger(h,n,d,A){if(Zi(n)){const M=this._fetchNamespace(h);if(M)return M.trigger(n,d,A),!0}return!1}insertNode(h,n,d,A){if(!Zi(n))return;const M=n[Vr];if(M&&M.setForRemoval){M.setForRemoval=!1,M.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(n);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(h){const pe=this._fetchNamespace(h);pe&&pe.insertNode(n,d)}A&&this.collectEnterElement(n)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,n){n?this.disabledNodes.has(h)||(this.disabledNodes.add(h),lr(h,hs)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),Hr(h,hs))}removeNode(h,n,d,A){if(Zi(n)){const M=h?this._fetchNamespace(h):null;if(M?M.removeNode(n,A):this.markElementAsRemoved(h,n,!1,A),d){const pe=this.namespacesByHostElement.get(n);pe&&pe.id!==h&&pe.removeNode(n,A)}}else this._onRemovalComplete(n,A)}markElementAsRemoved(h,n,d,A,M){this.collectedLeaveElements.push(n),n[Vr]={namespaceId:h,setForRemoval:A,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:M}}listen(h,n,d,A,M){return Zi(n)?this._fetchNamespace(h).listen(n,d,A,M):()=>{}}_buildInstruction(h,n,d,A,M){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,d,A,h.fromState.options,h.toState.options,n,M)}destroyInnerAnimations(h){let n=this.driver.query(h,sn,!0);n.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(h,dn,!0),n.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(h){const n=this.playersByElement.get(h);n&&n.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(h){const n=this.playersByQueriedElement.get(h);n&&n.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return Nt(this.players).onDone(()=>h());h()})}processLeaveNode(h){var n;const d=h[Vr];if(d&&d.setForRemoval){if(h[Vr]=ws,d.namespaceId){this.destroyInnerAnimations(h);const A=this._fetchNamespace(d.namespaceId);A&&A.clearElementCache(h)}this._onRemovalComplete(h,d.setForRemoval)}null!==(n=h.classList)&&void 0!==n&&n.contains(hs)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(A=>{this.markElementAsDisabled(A,!1)})}flush(h=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,A)=>this._balanceNamespaceList(d,A)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)lr(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{n=this._flushAnimations(d,h)}finally{for(let A=0;A<d.length;A++)d[A]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],n.length?Nt(n).onDone(()=>{d.forEach(A=>A())}):d.forEach(A=>A())}}reportError(h){throw function wt(l){return new e.vHH(3402,!1)}()}_flushAnimations(h,n){const d=new hr,A=[],M=new Map,pe=[],Pe=new Map,Qe=new Map,xt=new Map,Ft=new Set;this.disabledNodes.forEach(Kn=>{Ft.add(Kn);const ni=this.driver.query(Kn,".ng-animate-queued",!0);for(let Ci=0;Ci<ni.length;Ci++)Ft.add(ni[Ci])});const cn=this.bodyNode,bn=Array.from(this.statesByElement.keys()),En=Ps(bn,this.collectedEnterElements),Hn=new Map;let On=0;En.forEach((Kn,ni)=>{const Ci=mn+On++;Hn.set(ni,Ci),Kn.forEach($i=>lr($i,Ci))});const ei=[],ui=new Set,Ai=new Set;for(let Kn=0;Kn<this.collectedLeaveElements.length;Kn++){const ni=this.collectedLeaveElements[Kn],Ci=ni[Vr];Ci&&Ci.setForRemoval&&(ei.push(ni),ui.add(ni),Ci.hasAnimation?this.driver.query(ni,".ng-star-inserted",!0).forEach($i=>ui.add($i)):Ai.add(ni))}const tr=new Map,Si=Ps(bn,Array.from(ui));Si.forEach((Kn,ni)=>{const Ci=nn+On++;tr.set(ni,Ci),Kn.forEach($i=>lr($i,Ci))}),h.push(()=>{En.forEach((Kn,ni)=>{const Ci=Hn.get(ni);Kn.forEach($i=>Hr($i,Ci))}),Si.forEach((Kn,ni)=>{const Ci=tr.get(ni);Kn.forEach($i=>Hr($i,Ci))}),ei.forEach(Kn=>{this.processLeaveNode(Kn)})});const qi=[],nr=[];for(let Kn=this._namespaceList.length-1;Kn>=0;Kn--)this._namespaceList[Kn].drainQueuedTransitions(n).forEach(Ci=>{const $i=Ci.player,ns=Ci.element;if(qi.push($i),this.collectedEnterElements.length){const Fs=ns[Vr];if(Fs&&Fs.setForMove){if(Fs.previousTriggersValues&&Fs.previousTriggersValues.has(Ci.triggerName)){const po=Fs.previousTriggersValues.get(Ci.triggerName),Es=this.statesByElement.get(Ci.element);if(Es&&Es.has(Ci.triggerName)){const fc=Es.get(Ci.triggerName);fc.value=po,Es.set(Ci.triggerName,fc)}}return void $i.destroy()}}const No=!cn||!this.driver.containsElement(cn,ns),to=tr.get(ns),Vo=Hn.get(ns),$r=this._buildInstruction(Ci,d,Vo,to,No);if($r.errors&&$r.errors.length)return void nr.push($r);if(No)return $i.onStart(()=>_t(ns,$r.fromStyles)),$i.onDestroy(()=>bt(ns,$r.toStyles)),void A.push($i);if(Ci.isFallbackTransition)return $i.onStart(()=>_t(ns,$r.fromStyles)),$i.onDestroy(()=>bt(ns,$r.toStyles)),void A.push($i);const Qo=[];$r.timelines.forEach(Fs=>{Fs.stretchStartingKeyframe=!0,this.disabledNodes.has(Fs.element)||Qo.push(Fs)}),$r.timelines=Qo,d.append(ns,$r.timelines),pe.push({instruction:$r,player:$i,element:ns}),$r.queriedElements.forEach(Fs=>We(Pe,Fs,[]).push($i)),$r.preStyleProps.forEach((Fs,po)=>{if(Fs.size){let Es=Qe.get(po);Es||Qe.set(po,Es=new Set),Fs.forEach((fc,mc)=>Es.add(mc))}}),$r.postStyleProps.forEach((Fs,po)=>{let Es=xt.get(po);Es||xt.set(po,Es=new Set),Fs.forEach((fc,mc)=>Es.add(mc))})});if(nr.length){const Kn=[];nr.forEach(ni=>{Kn.push(function mt(l,h){return new e.vHH(3505,!1)}())}),qi.forEach(ni=>ni.destroy()),this.reportError(Kn)}const Ni=new Map,ir=new Map;pe.forEach(Kn=>{const ni=Kn.element;d.has(ni)&&(ir.set(ni,ni),this._beforeAnimationBuild(Kn.player.namespaceId,Kn.instruction,Ni))}),A.forEach(Kn=>{const ni=Kn.element;this._getPreviousPlayers(ni,!1,Kn.namespaceId,Kn.triggerName,null).forEach($i=>{We(Ni,ni,[]).push($i),$i.destroy()})});const gs=ei.filter(Kn=>Dr(Kn,Qe,xt)),Wr=new Map;si(Wr,this.driver,Ai,xt,C.l3).forEach(Kn=>{Dr(Kn,Qe,xt)&&gs.push(Kn)});const ho=new Map;En.forEach((Kn,ni)=>{si(ho,this.driver,new Set(Kn),Qe,C.k1)}),gs.forEach(Kn=>{var ni,Ci;const $i=Wr.get(Kn),ns=ho.get(Kn);Wr.set(Kn,new Map([...Array.from(null!==(ni=$i?.entries())&&void 0!==ni?ni:[]),...Array.from(null!==(Ci=ns?.entries())&&void 0!==Ci?Ci:[])]))});const Ns=[],Zo=[],Ra={};pe.forEach(Kn=>{const{element:ni,player:Ci,instruction:$i}=Kn;if(d.has(ni)){if(Ft.has(ni))return Ci.onDestroy(()=>bt(ni,$i.toStyles)),Ci.disabled=!0,Ci.overrideTotalTime($i.totalTime),void A.push(Ci);let ns=Ra;if(ir.size>1){let to=ni;const Vo=[];for(;to=to.parentNode;){const $r=ir.get(to);if($r){ns=$r;break}Vo.push(to)}Vo.forEach($r=>ir.set($r,ns))}const No=this._buildAnimation(Ci.namespaceId,$i,Ni,M,ho,Wr);if(Ci.setRealPlayer(No),ns===Ra)Ns.push(Ci);else{const to=this.playersByElement.get(ns);to&&to.length&&(Ci.parentPlayer=Nt(to)),A.push(Ci)}}else _t(ni,$i.fromStyles),Ci.onDestroy(()=>bt(ni,$i.toStyles)),Zo.push(Ci),Ft.has(ni)&&A.push(Ci)}),Zo.forEach(Kn=>{const ni=M.get(Kn.element);if(ni&&ni.length){const Ci=Nt(ni);Kn.setRealPlayer(Ci)}}),A.forEach(Kn=>{Kn.parentPlayer?Kn.syncPlayerEvents(Kn.parentPlayer):Kn.destroy()});for(let Kn=0;Kn<ei.length;Kn++){const ni=ei[Kn],Ci=ni[Vr];if(Hr(ni,nn),Ci&&Ci.hasAnimation)continue;let $i=[];if(Pe.size){let No=Pe.get(ni);No&&No.length&&$i.push(...No);let to=this.driver.query(ni,dn,!0);for(let Vo=0;Vo<to.length;Vo++){let $r=Pe.get(to[Vo]);$r&&$r.length&&$i.push(...$r)}}const ns=$i.filter(No=>!No.destroyed);ns.length?io(this,ni,ns):this.processLeaveNode(ni)}return ei.length=0,Ns.forEach(Kn=>{this.players.push(Kn),Kn.onDone(()=>{Kn.destroy();const ni=this.players.indexOf(Kn);this.players.splice(ni,1)}),Kn.play()}),Ns}elementContainsData(h,n){let d=!1;const A=n[Vr];return A&&A.setForRemoval&&(d=!0),this.playersByElement.has(n)&&(d=!0),this.playersByQueriedElement.has(n)&&(d=!0),this.statesByElement.has(n)&&(d=!0),this._fetchNamespace(h).elementContainsData(n)||d}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,n,d,A,M){let pe=[];if(n){const Pe=this.playersByQueriedElement.get(h);Pe&&(pe=Pe)}else{const Pe=this.playersByElement.get(h);if(Pe){const Qe=!M||M==ks;Pe.forEach(xt=>{xt.queued||!Qe&&xt.triggerName!=A||pe.push(xt)})}}return(d||A)&&(pe=pe.filter(Pe=>!(d&&d!=Pe.namespaceId||A&&A!=Pe.triggerName))),pe}_beforeAnimationBuild(h,n,d){const M=n.element,pe=n.isRemovalTransition?void 0:h,Pe=n.isRemovalTransition?void 0:n.triggerName;for(const Qe of n.timelines){const xt=Qe.element,Ft=xt!==M,cn=We(d,xt,[]);this._getPreviousPlayers(xt,Ft,pe,Pe,n.toState).forEach(En=>{const Hn=En.getRealPlayer();Hn.beforeDestroy&&Hn.beforeDestroy(),En.destroy(),cn.push(En)})}_t(M,n.fromStyles)}_buildAnimation(h,n,d,A,M,pe){const Pe=n.triggerName,Qe=n.element,xt=[],Ft=new Set,cn=new Set,bn=n.timelines.map(Hn=>{const On=Hn.element;Ft.add(On);const ei=On[Vr];if(ei&&ei.removedBeforeQueried)return new C.ZN(Hn.duration,Hn.delay);const ui=On!==Qe,Ai=function ki(l){const h=[];return wr(l,h),h}((d.get(On)||Vi).map(Ni=>Ni.getRealPlayer())).filter(Ni=>!!Ni.element&&Ni.element===On),tr=M.get(On),Si=pe.get(On),qi=Mt(0,this._normalizer,0,Hn.keyframes,tr,Si),nr=this._buildPlayer(Hn,qi,Ai);if(Hn.subTimeline&&A&&cn.add(On),ui){const Ni=new Gr(h,Pe,On);Ni.setRealPlayer(nr),xt.push(Ni)}return nr});xt.forEach(Hn=>{We(this.playersByQueriedElement,Hn.element,[]).push(Hn),Hn.onDone(()=>function as(l,h,n){let d=l.get(h);if(d){if(d.length){const A=d.indexOf(n);d.splice(A,1)}0==d.length&&l.delete(h)}return d}(this.playersByQueriedElement,Hn.element,Hn))}),Ft.forEach(Hn=>lr(Hn,gt));const En=Nt(bn);return En.onDestroy(()=>{Ft.forEach(Hn=>Hr(Hn,gt)),bt(Qe,n.toStyles)}),cn.forEach(Hn=>{We(A,Hn,[]).push(En)}),En}_buildPlayer(h,n,d){return n.length>0?this.driver.animate(h.element,n,h.duration,h.delay,h.easing,d):new C.ZN(h.duration,h.delay)}}class Gr{constructor(h,n,d){this.namespaceId=h,this.triggerName=n,this.element=d,this._player=new C.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((n,d)=>{n.forEach(A=>Y(h,d,void 0,A))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const n=this._player;n.triggerCallback&&h.onStart(()=>n.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,n){We(this._queuedCallbacks,h,[]).push(n)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const n=this._player;n.triggerCallback&&n.triggerCallback(h)}}function Zi(l){return l&&1===l.nodeType}function Er(l,h){const n=l.style.display;return l.style.display=h??"none",n}function si(l,h,n,d,A){const M=[];n.forEach(Qe=>M.push(Er(Qe)));const pe=[];d.forEach((Qe,xt)=>{const Ft=new Map;Qe.forEach(cn=>{const bn=h.computeStyle(xt,cn,A);Ft.set(cn,bn),(!bn||0==bn.length)&&(xt[Vr]=no,pe.push(xt))}),l.set(xt,Ft)});let Pe=0;return n.forEach(Qe=>Er(Qe,M[Pe++])),pe}function Ps(l,h){const n=new Map;if(l.forEach(Pe=>n.set(Pe,[])),0==h.length)return n;const A=new Set(h),M=new Map;function pe(Pe){if(!Pe)return 1;let Qe=M.get(Pe);if(Qe)return Qe;const xt=Pe.parentNode;return Qe=n.has(xt)?xt:A.has(xt)?1:pe(xt),M.set(Pe,Qe),Qe}return h.forEach(Pe=>{const Qe=pe(Pe);1!==Qe&&n.get(Qe).push(Pe)}),n}function lr(l,h){var n;null===(n=l.classList)||void 0===n||n.add(h)}function Hr(l,h){var n;null===(n=l.classList)||void 0===n||n.remove(h)}function io(l,h,n){Nt(n).onDone(()=>l.processLeaveNode(h))}function wr(l,h){for(let n=0;n<l.length;n++){const d=l[n];d instanceof C.ZE?wr(d.players,h):h.push(d)}}function Dr(l,h,n){const d=n.get(l);if(!d)return!1;let A=h.get(l);return A?d.forEach(M=>A.add(M)):h.set(l,d),n.delete(l),!0}class yn{constructor(h,n,d){this.bodyNode=h,this._driver=n,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(A,M)=>{},this._transitionEngine=new Wi(h,n,d),this._timelineEngine=new Cr(h,n,d),this._transitionEngine.onRemovalComplete=(A,M)=>this.onRemovalComplete(A,M)}registerTrigger(h,n,d,A,M){const pe=h+"-"+A;let Pe=this._triggerCache[pe];if(!Pe){const Qe=[],Ft=ft(this._driver,M,Qe,[]);if(Qe.length)throw function le(l,h){return new e.vHH(3404,!1)}();Pe=function vr(l,h,n){return new ss(l,h,n)}(A,Ft,this._normalizer),this._triggerCache[pe]=Pe}this._transitionEngine.registerTrigger(n,A,Pe)}register(h,n){this._transitionEngine.register(h,n)}destroy(h,n){this._transitionEngine.destroy(h,n)}onInsert(h,n,d,A){this._transitionEngine.insertNode(h,n,d,A)}onRemove(h,n,d,A){this._transitionEngine.removeNode(h,n,A||!1,d)}disableAnimations(h,n){this._transitionEngine.markElementAsDisabled(h,n)}process(h,n,d,A){if("@"==d.charAt(0)){const[M,pe]=Je(d);this._timelineEngine.command(M,n,pe,A)}else this._transitionEngine.trigger(h,n,d,A)}listen(h,n,d,A,M){if("@"==d.charAt(0)){const[pe,Pe]=Je(d);return this._timelineEngine.listen(pe,n,Pe,M)}return this._transitionEngine.listen(h,n,d,A,M)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ps=(()=>{class l{constructor(n,d,A){this._element=n,this._startStyles=d,this._endStyles=A,this._state=0;let M=l.initialStylesByElement.get(n);M||l.initialStylesByElement.set(n,M=new Map),this._initialStyles=M}start(){this._state<1&&(this._startStyles&&bt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bt(this._element,this._initialStyles),this._endStyles&&(bt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(_t(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_t(this._element,this._endStyles),this._endStyles=null),bt(this._element,this._initialStyles),this._state=3)}}return l.initialStylesByElement=new WeakMap,l})();function hi(l){let h=null;return l.forEach((n,d)=>{(function Xi(l){return"display"===l||"position"===l})(d)&&(h=h||new Map,h.set(d,n))}),h}class Ie{constructor(h,n,d,A){this.element=h,this.keyframes=n,this.options=d,this._specialStyles=A,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const n=[];return h.forEach(d=>{n.push(Object.fromEntries(d))}),n}_triggerWebAnimation(h,n,d){return h.animate(this._convertKeyframesToObject(n),d)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,A)=>{"offset"!==A&&h.set(A,this._finished?d:Zn(this.element,A))}),this.currentSnapshot=h}triggerCallback(h){const n="start"===h?this._onStartFns:this._onDoneFns;n.forEach(d=>d()),n.length=0}}class ve{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,n){return!1}containsElement(h,n){return ee(h,n)}getParentElement(h){return $e(h)}query(h,n,d){return U(h,n,d)}computeStyle(h,n,d){return window.getComputedStyle(h)[n]}animate(h,n,d,A,M,pe=[]){const Qe={duration:d,delay:A,fill:0==A?"both":"forwards"};M&&(Qe.easing=M);const xt=new Map,Ft=pe.filter(En=>En instanceof Ie);(function Jn(l,h){return 0===l||0===h})(d,A)&&Ft.forEach(En=>{En.currentSnapshot.forEach((Hn,On)=>xt.set(On,Hn))});let cn=function ti(l){return l.length?l[0]instanceof Map?l:l.map(h=>Gn(h)):[]}(n).map(En=>$t(En));cn=function _i(l,h,n){if(n.size&&h.length){let d=h[0],A=[];if(n.forEach((M,pe)=>{d.has(pe)||A.push(pe),d.set(pe,M)}),A.length)for(let M=1;M<h.length;M++){let pe=h[M];A.forEach(Pe=>pe.set(Pe,Zn(l,Pe)))}}return h}(h,cn,xt);const bn=function oi(l,h){let n=null,d=null;return Array.isArray(h)&&h.length?(n=hi(h[0]),h.length>1&&(d=hi(h[h.length-1]))):h instanceof Map&&(n=hi(h)),n||d?new ps(l,n,d):null}(h,cn);return new Ie(h,cn,Qe,bn)}}var ie=p(6895);let rt=(()=>{class l extends C._j{constructor(n,d){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(d.body,{id:"0",encapsulation:e.ifc.None,styles:[],data:{animation:[]}})}build(n){const d=this._nextAnimationId.toString();this._nextAnimationId++;const A=Array.isArray(n)?(0,C.vP)(n):n;return ji(this._renderer,null,d,"register",[A]),new rn(d,this._renderer)}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(e.FYo),e.LFG(ie.K0))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class rn extends C.LC{constructor(h,n){super(),this._id=h,this._renderer=n}create(h,n){return new Fn(this._id,h,n||{},this._renderer)}}class Fn{constructor(h,n,d,A){this.id=h,this.element=n,this._renderer=A,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(h,n){return this._renderer.listen(this.element,`@@${this.id}:${h}`,n)}_command(h,...n){return ji(this._renderer,this.element,this.id,h,n)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){var h,n;return null!==(h=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==h?h:0}}function ji(l,h,n,d,A){return l.setProperty(h,`@@${n}:${d}`,A)}const Or="@.disabled";let er=(()=>{class l{constructor(n,d,A){this.delegate=n,this.engine=d,this._zone=A,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(M,pe)=>{const Pe=pe?.parentNode(M);Pe&&pe.removeChild(Pe,M)}}createRenderer(n,d){const M=this.delegate.createRenderer(n,d);if(!(n&&d&&d.data&&d.data.animation)){let Ft=this._rendererCache.get(M);return Ft||(Ft=new vi("",M,this.engine),this._rendererCache.set(M,Ft)),Ft}const pe=d.id,Pe=d.id+"-"+this._currentId;this._currentId++,this.engine.register(Pe,n);const Qe=Ft=>{Array.isArray(Ft)?Ft.forEach(Qe):this.engine.registerTrigger(pe,Pe,n,Ft.name,Ft)};return d.data.animation.forEach(Qe),new Me(this,Pe,M,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,d,A){n>=0&&n<this._microtaskId?this._zone.run(()=>d(A)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(M=>{const[pe,Pe]=M;pe(Pe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,A]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(e.FYo),e.LFG(yn),e.LFG(e.R0b))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class vi{constructor(h,n,d){this.namespaceId=h,this.delegate=n,this.engine=d,this.destroyNode=this.delegate.destroyNode?A=>n.destroyNode(A):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(h,n){return this.delegate.createElement(h,n)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,n){this.delegate.appendChild(h,n),this.engine.onInsert(this.namespaceId,n,h,!1)}insertBefore(h,n,d,A=!0){this.delegate.insertBefore(h,n,d),this.engine.onInsert(this.namespaceId,n,h,A)}removeChild(h,n,d){this.engine.onRemove(this.namespaceId,n,this.delegate,d)}selectRootElement(h,n){return this.delegate.selectRootElement(h,n)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,n,d,A){this.delegate.setAttribute(h,n,d,A)}removeAttribute(h,n,d){this.delegate.removeAttribute(h,n,d)}addClass(h,n){this.delegate.addClass(h,n)}removeClass(h,n){this.delegate.removeClass(h,n)}setStyle(h,n,d,A){this.delegate.setStyle(h,n,d,A)}removeStyle(h,n,d){this.delegate.removeStyle(h,n,d)}setProperty(h,n,d){"@"==n.charAt(0)&&n==Or?this.disableAnimations(h,!!d):this.delegate.setProperty(h,n,d)}setValue(h,n){this.delegate.setValue(h,n)}listen(h,n,d){return this.delegate.listen(h,n,d)}disableAnimations(h,n){this.engine.disableAnimations(h,n)}}class Me extends vi{constructor(h,n,d,A){super(n,d,A),this.factory=h,this.namespaceId=n}setProperty(h,n,d){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Or?this.disableAnimations(h,d=void 0===d||!!d):this.engine.process(this.namespaceId,h,n.slice(1),d):this.delegate.setProperty(h,n,d)}listen(h,n,d){if("@"==n.charAt(0)){const A=function je(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(h);let M=n.slice(1),pe="";return"@"!=M.charAt(0)&&([M,pe]=function Et(l){const h=l.indexOf(".");return[l.substring(0,h),l.slice(h+1)]}(M)),this.engine.listen(this.namespaceId,A,M,pe,Pe=>{this.factory.scheduleListenerCallback(Pe._data||-1,d,Pe)})}return this.delegate.listen(h,n,d)}}const gn=[{provide:C._j,useClass:rt},{provide:rr,useFactory:function jt(){return new Xn}},{provide:yn,useClass:(()=>{class l extends yn{constructor(n,d,A,M){super(n.body,d,A)}ngOnDestroy(){this.flush()}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(ie.K0),e.LFG(ot),e.LFG(rr),e.LFG(e.z2F))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})()},{provide:e.FYo,useFactory:function Ht(l,h,n){return new er(l,h,n)},deps:[t.se,yn,e.R0b]}],Tn=[{provide:ot,useFactory:()=>new ve},{provide:e.QbO,useValue:"BrowserAnimations"},...gn],ai=[{provide:ot,useClass:Re},{provide:e.QbO,useValue:"NoopAnimations"},...gn];let jn=(()=>{class l{static withConfig(n){return{ngModule:l,providers:n.disableAnimations?ai:Tn}}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:Tn,imports:[t.b2]}),l})();var zi=p(7185),ri=p(8185),fo=p(6055),Ks=p(4128),fe=p(9300),Le=p(5698);const be="7.2.0";var tt=p(2976),St=p(8176),en=p(5259),an=p(5373),qt=p(1206),Bi=p(1837),wi=p(5188),yi=p(1060),vn=p(9383),mi=p(2979),Pi=p(4946),fr=p(1228),es=p(4961),Gi=p(6219),Br=p(5834);let kr=(()=>{class l{constructor(){let n=new Br.UAParser,d=n.getBrowser(),A=n.getOS();this.browserName=d.name,this.browserVersion=d.major,this.browserVersionToInt=parseInt(d.major),this.operatingSystem=A.name,this.operatingSystemVersion=A.version}validBrowser(){switch(this.browserName){case Tr.InternetExplorer:return this.verifyInternetExplorer();case Tr.Edge:return this.verifyEdge();case Tr.Firefox:return this.verifyFirefox();case Tr.Chrome:return this.verifyChrome();case Tr.Safari:case Tr.MobileSafari:return this.verifySafari();case Tr.Opera:case Tr.OperaMobile:return this.verifyOpera();case Tr.SamsungBrowser:return this.verifySamsungInternet()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==Ts.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==Ts.Android||this.operatingSystem==Ts.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==Ts.Android||this.operatingSystem==Ts.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const n=parseFloat(this.operatingSystemVersion);return this.browserName==Tr.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&n>=10.14}verifyOpera(){return this.browserName==Tr.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})(),Tr=(()=>{class l{}return l.InternetExplorer="IE",l.Edge="Edge",l.Firefox="Firefox",l.Chrome="Chrome",l.Safari="Safari",l.MobileSafari="Mobile Safari",l.Opera="Opera",l.OperaMobile="Opera Mobi",l.SamsungBrowser="Samsung Browser",l})(),Ts=(()=>{class l{}return l.Windows="Windows",l.Android="Android",l.ApplePhone="iOS",l})();var $s=p(9455),Ro=p(7047),vs=p(9881),Gs=p(965);const lo=["resourcesMenu"],Jo=["sameSiteBrowserNotification"],Os=["defaultUserResolveButton"];function fs(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"nav",17,18),e.ALo(2,"translate"),e.TgZ(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"b",23),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",24),e.NdJ("click",function(){e.CHM(n);const A=e.oxw(2);return e.KtG(A.closeSameSiteBrowserNotification())}),e.TgZ(11,"b"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()()()()}2&l&&(e.uIk("aria-label",e.lcZ(2,3,"Nav.Account")),e.xp6(8),e.hij(" ",e.lcZ(9,5,"Common.SameSiteCookiesBannerError")," "),e.xp6(4),e.Oqu(e.lcZ(13,7,"Common.Close")))}function mo(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"nav",25),e.ALo(1,"translate"),e.TgZ(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"b",23),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",26,27),e.NdJ("click",function(){e.CHM(n);const A=e.oxw(2);return e.KtG(A.defaultUserDeleteConfirmation())}),e.TgZ(11,"b"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()()()()}2&l&&(e.uIk("aria-label",e.lcZ(1,3,"Nav.Account")),e.xp6(7),e.hij(" ",e.lcZ(8,5,"InitialAdminCreation.ReminderMessage")," "),e.xp6(5),e.Oqu(e.lcZ(13,7,"InitialAdminCreation.Resolve")))}function ls(l,h){if(1&l&&(e.TgZ(0,"nav",28),e.ALo(1,"translate"),e.TgZ(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",29)(6,"b",23),e._uU(7),e.qZA()()()()()()),2&l){const n=e.oxw(2);e.uIk("aria-label",e.lcZ(1,2,"Nav.Account")),e.xp6(7),e.hij(" ",n.licenseIsInStarterModeMessage," ")}}function As(l,h){if(1&l&&(e.TgZ(0,"nav",30),e.ALo(1,"translate"),e.TgZ(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"b",23),e._uU(7),e.qZA()()()()()()),2&l){const n=e.oxw(2);e.uIk("aria-label",e.lcZ(1,2,"Nav.Account")),e.xp6(7),e.hij(" ",n.licenseIsInGracePeriodMessage," ")}}function go(l,h){if(1&l&&(e.TgZ(0,"div",12),e.YNc(1,fs,14,9,"nav",13),e.YNc(2,mo,14,9,"nav",14),e.YNc(3,ls,8,4,"nav",15),e.YNc(4,As,8,4,"nav",16),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.noSameSiteSupport),e.xp6(1),e.Q6J("ngIf",n.defaultUserExists),e.xp6(1),e.Q6J("ngIf",n.licenseIsInStarterMode),e.xp6(1),e.Q6J("ngIf",n.licenseIsInGracePeriod)}}const Wo=function(l,h){return{"tw-opacity-75":l,"tw-pill-info":h}};function Ss(l,h){if(1&l&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&l){const n=e.oxw(2);e.Q6J("ngClass",e.WLB(2,Wo,n.securityService.isNonProd(),!n.securityService.isNonProd())),e.xp6(1),e.hij(" ",n.securityService.licenseType," ")}}function Mr(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"nav",31),e.ALo(1,"translate"),e.TgZ(2,"div",19)(3,"div",32),e.YNc(4,Ss,2,5,"div",33),e.TgZ(5,"div",34),e._UZ(6,"span",35),e.TgZ(7,"span",36),e._uU(8),e.qZA(),e.TgZ(9,"span",37),e._uU(10,"\u2022"),e.qZA()(),e.TgZ(11,"button",38),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.logoff())}),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&l){const n=e.oxw();e.uIk("aria-label",e.lcZ(1,4,"Nav.Account")),e.xp6(4),e.Q6J("ngIf","Legacy"!=n.securityService.organisation),e.xp6(4),e.Oqu(n.authService.user),e.xp6(4),e.hij(" ",e.lcZ(13,6,"Nav.Logout")," ")}}function qo(l,h){1&l&&e._UZ(0,"span",52)}function Qs(l,h){1&l&&e._UZ(0,"span",53)}function qs(l,h){1&l&&e._UZ(0,"div",59)}function zs(l,h){1&l&&e.GkF(0)}function ia(l,h){1&l&&e.GkF(0)}function co(l,h){1&l&&e.GkF(0)}function jo(l,h){1&l&&e.GkF(0)}function _o(l,h){1&l&&e.GkF(0)}function gi(l,h){1&l&&e.GkF(0)}function ro(l,h){1&l&&e.GkF(0)}const Ys=function(l){return{title:l,classes:"",activeClass:"tw-subnav-active",sub:!0,route:"/identityresources",display:!0}},De=function(l){return{title:l,classes:"",activeClass:"tw-subnav-active",sub:!0,route:"/protectedresources",display:!0}};function $(l,h){if(1&l&&(e.TgZ(0,"li",60,61)(2,"button",62)(3,"span",63),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"span",64),e.qZA(),e.TgZ(7,"nav",65),e.ALo(8,"translate"),e.TgZ(9,"ul",66),e.YNc(10,gi,1,0,"ng-container",9),e.ALo(11,"translate"),e.YNc(12,ro,1,0,"ng-container",9),e.ALo(13,"translate"),e.qZA()()()),2&l){const n=e.oxw(3),d=e.MAs(7);e.xp6(2),e.ekj("tw-nav-active",n.isActiveResourceRoute()),e.xp6(2),e.Oqu(e.lcZ(5,8,"Nav.Resources")),e.xp6(3),e.uIk("aria-label",e.lcZ(8,10,"Nav.Resources")),e.xp6(3),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(16,Ys,e.lcZ(11,12,"Nav.IdentityResources"))),e.xp6(2),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(18,De,e.lcZ(13,14,"Nav.ProtectedResources")))}}function xe(l,h){1&l&&e.GkF(0)}function Ve(l,h){1&l&&e.GkF(0)}function Ct(l,h){1&l&&e.GkF(0)}const Ut=function(l){return{title:l,classes:"lg:tw-hidden",activeClass:"tw-nav-active",route:"/home",display:!0}},Pt=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/users",display:h}},Kt=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/roles",display:h}},ge=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/claim-types",display:h}},st=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/clients",display:h}},ue=function(l,h){return{title:l,id:"tabDynamicAuth",classes:"",activeClass:"tw-nav-active",route:"/dynamic-auth",display:h,starterUpgrade:!0}},Ue=function(l,h){return{title:l,id:"tabAudit",classes:"",activeClass:"tw-nav-active",route:"/auditing",display:h,starterUpgrade:!0}},Zt=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/settings/accesspolicy",display:h}};function ln(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"nav",54),e.YNc(1,qs,1,0,"div",55),e.TgZ(2,"ul",42),e.YNc(3,zs,1,0,"ng-container",9),e.ALo(4,"translate"),e.YNc(5,ia,1,0,"ng-container",9),e.ALo(6,"translate"),e.YNc(7,co,1,0,"ng-container",9),e.ALo(8,"translate"),e.YNc(9,jo,1,0,"ng-container",9),e.ALo(10,"translate"),e.YNc(11,_o,1,0,"ng-container",9),e.ALo(12,"translate"),e.YNc(13,$,14,20,"li",56),e.YNc(14,xe,1,0,"ng-container",9),e.ALo(15,"translate"),e.YNc(16,Ve,1,0,"ng-container",9),e.ALo(17,"translate"),e.YNc(18,Ct,1,0,"ng-container",9),e.ALo(19,"translate"),e.TgZ(20,"li",57)(21,"button",58),e.NdJ("click",function(){e.CHM(n);const A=e.oxw(2);return e.KtG(A.logoff())}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()}if(2&l){const n=e.oxw(2),d=e.MAs(7);e.xp6(1),e.Q6J("ngIf",!n.healthCheckService.uiReady),e.xp6(2),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(37,Ut,e.lcZ(4,19,"Nav.Home"))),e.xp6(2),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.WLB(39,Pt,e.lcZ(6,21,"Nav.Users"),n.securityService.userManagerView||n.securityService.userManagerReadOnlyView)),e.xp6(2),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.WLB(42,Kt,e.lcZ(8,23,"Nav.Roles"),n.securityService.userManagerView||n.securityService.userManagerReadOnlyView)),e.xp6(2),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.WLB(45,ge,e.lcZ(10,25,"Nav.ClaimTypes"),n.securityService.userManagerView||n.securityService.userManagerReadOnlyView)),e.xp6(2),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.WLB(48,st,e.lcZ(12,27,"Nav.Clients"),n.securityService.identityServerManagerView||n.securityService.identityServerManagerReadOnlyView)),e.xp6(2),e.Q6J("ngIf",n.securityService.identityServerManagerView||n.securityService.identityServerManagerReadOnlyView),e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.WLB(51,ue,e.lcZ(15,29,"Nav.DynamicAuth"),(n.securityService.identityServerManagerView||n.securityService.identityServerManagerReadOnlyView)&&n.dynamicAuthEnabled)),e.xp6(2),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.WLB(54,Ue,e.lcZ(17,31,"Nav.Auditing"),n.securityService.auditerView)),e.xp6(2),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.WLB(57,Zt,e.lcZ(19,33,"Nav.Settings"),n.securityService.allView)),e.xp6(4),e.hij(" ",e.lcZ(23,35,"Logout")," ")}}const Vn=function(l){return[l]};function Di(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"header",40),e.NdJ("resize",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.detectSize())},!1,e.Jf7),e.TgZ(1,"div",41)(2,"div",42)(3,"h2",43),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",44)(7,"a",45),e.ALo(8,"localize"),e._UZ(9,"img",46),e.TgZ(10,"span",47),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"button",48),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.menuToggle())}),e.TgZ(14,"span",47),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,qo,1,0,"span",49),e.YNc(18,Qs,1,0,"span",50),e.qZA()(),e.YNc(19,ln,24,60,"nav",51),e.qZA()()()}if(2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,10,"Nav.Menu")),e.xp6(3),e.Q6J("routerLink",e.VKq(18,Vn,e.lcZ(8,12,"/home"))),e.xp6(4),e.Oqu(e.lcZ(12,14,"Nav.Home")),e.xp6(2),e.ekj("tw-bg-primary-700",n.openMenu),e.uIk("aria-expanded",1==n.openMenu),e.xp6(2),e.Oqu(e.lcZ(16,16,"Nav.ToggleNavigation")),e.xp6(2),e.Q6J("ngIf",!n.openMenu),e.xp6(1),e.Q6J("ngIf",n.openMenu),e.xp6(1),e.Q6J("ngIf",n.openMenu&&n.appComponentViewConfig.showNav&&!n.expectingStarterModeConsent)}}function ts(l,h){1&l&&(e.TgZ(0,"div",71)(1,"span",47),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"span",72),e.qZA()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"StarterMode.RequiresUpgrade")))}const Jr=function(l,h){return{"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":l,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":h}};function vo(l,h){if(1&l&&(e.TgZ(0,"li",68)(1,"a",69),e.ALo(2,"localize"),e._uU(3),e.YNc(4,ts,5,3,"div",70),e.qZA()()),2&l){const n=e.oxw(),d=n.classes,A=n.id,M=n.sub,pe=n.activeClass,Pe=n.route,Qe=n.title,xt=n.starterUpgrade,Ft=e.oxw();e.Tol(d),e.Q6J("id",A),e.xp6(1),e.Q6J("ngClass",e.WLB(10,Jr,M,!M))("routerLinkActive",pe)("routerLink",e.VKq(13,Vn,e.lcZ(2,8,Pe))),e.xp6(2),e.hij(" ",Qe," "),e.xp6(1),e.Q6J("ngIf",xt&&Ft.licenseIsInStarterMode)}}function ko(l,h){1&l&&e.YNc(0,vo,5,15,"li",67),2&l&&e.Q6J("ngIf",h.display)}function xs(l,h){1&l&&(e.TgZ(0,"div",73)(1,"div",74)(2,"div")(3,"h1",75),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"Errors.Unauthorized")),e.xp6(3),e.Oqu(e.lcZ(8,4,"Errors.ContactAdmin")))}function yo(l,h){1&l&&e._UZ(0,"router-outlet")}function Xs(l,h){1&l&&e.GkF(0)}function uo(l,h){if(1&l&&(e.TgZ(0,"div",77)(1,"div",78),e._UZ(2,"span",79),e.TgZ(3,"span",80)(4,"b"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._uU(7),e.qZA()()()),2&l){const n=e.oxw(),A=n.text;e.Q6J("@fadeInOut",n.check),e.xp6(5),e.hij("",e.lcZ(6,3,"Common.Loading"),":"),e.xp6(2),e.hij(" ",A," ")}}function Vs(l,h){1&l&&e.YNc(0,uo,8,5,"div",76),2&l&&e.Q6J("ngIf",h.check)}function So(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"footer",81)(1,"button",82),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.jumpToTop())}),e._UZ(2,"span",83),e.TgZ(3,"span",47),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",84)(7,"div",85)(8,"p",86)(9,"span",87),e._uU(10),e.qZA(),e._uU(11),e.TgZ(12,"a",88),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"ul",89)(16,"li",90)(17,"a",91),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"span",92),e._uU(21,"\u2022"),e.qZA()(),e.TgZ(22,"li",20)(23,"a",93),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()()()}if(2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Nav.ToTop")),e.xp6(6),e.hij("AdminUI ",n.versionNumber,""),e.xp6(1),e.hij(" \xa9 ",n.appCopyright," "),e.xp6(2),e.hij(" ",e.lcZ(14,8,"Common.CompanyName")," "),e.xp6(5),e.hij(" ",e.lcZ(19,10,"LandingPage.Documentation")," "),e.xp6(6),e.hij(" ",e.lcZ(25,12,"Nav.Support")," ")}}const ra=function(l){return{text:"IdentityServer",check:l}};let Po=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe,xt,Ft,cn,bn,En,Hn){this.securityService=n,this.translate=d,this.localizeRouter=A,this.toastr=M,this.router=pe,this.healthCheckService=Pe,this.authService=Qe,this.userService=xt,this.modalService=Ft,this.browserSameSiteService=cn,this.appComponentViewService=bn,this.licenseService=En,this.configService=Hn,this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[en.n.Save],this.subscriptions=[],Bi.Zr.defaultLocale="utc",Bi.Zr.defaultZone="utc";const On=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",On);const ei=new Date;this.appCopyright="2017 - "+ei.getFullYear()}ngOnInit(){if(this.detectSize(),this.setupLongLivedSubscriptions(),this.setupHealthCheck(),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const d={link:tt.de.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",d),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.subscriptions.forEach(n=>n.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.router.events.pipe((0,fe.h)(n=>n instanceof ri.m2)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=be}),this.configService.getConfig().subscribe({next:n=>{this.dynamicAuthEnabled=n.featureFlagOptions.dynamicAuthenticationFlag!=wi.u.Disabled}}),this.router.events.subscribe({next:n=>{this.desktop||(this.openMenu=!1)}}),this.appComponentViewService.viewConfig$.subscribe({next:n=>{this.appComponentViewConfig=n}}))}setupHealthCheck(){this.healthCheckService.checkHealthUi().pipe((0,Le.q)(1)).subscribe({next:n=>this.uiHealthCheckSuccess(n),error:n=>this.uiHealthCheckFailed(n)}),this.healthCheckService.checkHealthIdentityServer().pipe((0,Le.q)(1)).subscribe({next:n=>this.idsHealthCheckSuccess(),error:n=>this.idsHealthCheckFailed(n)})}uiHealthCheckSuccess(n){this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof n&&!(0,St.hr)(n)&&this.toastr.warning(n,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),this.userDataSubscription?.unsubscribe(),this.userDataSubscription=(0,Ks.D)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(d=>{d.authentication.isAuthenticated&&d.authentication.username!=an.n.DefaultAdministratorUsername&&d.permissions.includes(qt.y[qt.y.All])&&this.userService.defaultUserExists().subscribe(A=>{this.defaultUserExists=A})}),this.licenseInfoSubscription?.unsubscribe(),this.licenseInfoSubscription=this.licenseService.getLicenseInfo().subscribe(d=>{if(this.licenseIsInStarterMode=d.isStarterLicense(),this.expectingStarterModeConsent=d.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=d.isInGracePeriod,this.licenseIsInGracePeriod){const A=(0,St.X1)(d.gracePeriodExpiry,"ccc LLL dd yyyy, T");let M=this.translate.instant("Common.LicenseIsInGracePeriod");M=M.replace("{0}",A),this.licenseIsInGracePeriodMessage=M}})}uiHealthCheckFailed(n){this.healthCheckService.uiHealthCheckComplete.next(!0);const d=this.getHealthCheckError(n);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:d?` (${d})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}idsHealthCheckSuccess(){this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)}idsHealthCheckFailed(n){this.healthCheckService.idsHealthCheckComplete.next(!0);const d=this.getHealthCheckError(n);this.toastr.error(this.translate.instant("LandingPage.IdentityServerError",{link:tt.de.checkHealthIdentityServerDocs,error:d?` (${d})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe({next:n=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},error:n=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}})}isActive(n,d=!1){return this.router.isActive(n,d)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const n=window.matchMedia("(min-width: 1024px)");n.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!n.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(n){if(!n)return"";const d=n.error;if(d){if("string"==typeof d)return d;if(d.errors&&d.errors.length>0)return d.errors[0]}return n.message?n.message:n.statusText?n.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(yi.I),e.Y36(vn.sK),e.Y36(mi.An),e.Y36(zi._W),e.Y36(ri.F0),e.Y36(Pi.G),e.Y36(fr.e),e.Y36(es.K),e.Y36(Gi.Z),e.Y36(kr),e.Y36($s.t),e.Y36(Ro.E),e.Y36(vs.E))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-root"]],viewQuery:function(n,d){if(1&n&&(e.Gf(lo,5),e.Gf(Jo,5),e.Gf(Os,5)),2&n){let A;e.iGM(A=e.CRH())&&(d.resourcesMenu=A.first),e.iGM(A=e.CRH())&&(d.sameSiteBrowserNotification=A.first),e.iGM(A=e.CRH())&&(d.defaultUserResolveButton=A.first)}},decls:18,vars:18,consts:[["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["commonNavItem",""],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"actions","title","modalId","saveText","onSave","onCancel"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["commonLoader",""],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2",4,"ngIf"],[1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],["sameSiteBrowserNotification",""],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],[1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["defaultUserResolveButton",""],["id","licenseStarterModeNotification",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],["class","tw-relative",4,"ngIf"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[1,"tw-relative"],["resourcesMenu",""],["id","menuResourcesToggle","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","dropdown-toggle","trans"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],[1,"tw-bg-primary-800","tw-relative","lg:tw-bg-primary-500","lg:tw-absolute","dropdown-menu"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["id","upgradeSymbol","class","tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],["id","upgradeSymbol",1,"tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],[1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","trans"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","trans"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","trans"]],template:function(n,d){if(1&n&&(e.TgZ(0,"a",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,go,5,4,"div",1),e.YNc(4,Mr,14,8,"nav",2),e.YNc(5,Di,20,20,"header",3),e.YNc(6,ko,1,1,"ng-template",null,4,e.W1O),e.TgZ(8,"main",5)(9,"app-custom-modal",6),e.NdJ("onSave",function(){return d.removeDefaultUser()})("onCancel",function(){return d.cancelDefaultUserDelete()}),e.TgZ(10,"p"),e._uU(11," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.qZA()(),e.YNc(12,xs,9,6,"div",7),e.YNc(13,yo,1,0,"router-outlet",8),e.qZA(),e.YNc(14,Xs,1,0,"ng-container",9),e.YNc(15,Vs,1,1,"ng-template",null,10,e.W1O),e.YNc(17,So,26,14,"footer",11)),2&n){const A=e.MAs(16);e.Q6J("href",d.skipLinkPath,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(2,14,"Nav.SkipToContent"),"\n"),e.xp6(2),e.Q6J("ngIf",d.appComponentViewConfig.showNav),e.xp6(1),e.Q6J("ngIf",d.appComponentViewConfig.showBanner),e.xp6(1),e.Q6J("ngIf",d.appComponentViewConfig.showNav),e.xp6(4),e.Q6J("actions",d.resolveModalActions)("title","Remove Default Administrator")("modalId",d.defaultUserRemovalModalId)("saveText","Remove User"),e.xp6(3),e.Q6J("ngIf",d.securityService.noPermissions),e.xp6(1),e.Q6J("ngIf",!d.securityService.noPermissions),e.xp6(1),e.Q6J("ngTemplateOutlet",A)("ngTemplateOutletContext",e.VKq(16,ra,!d.healthCheckService.idsReady)),e.xp6(3),e.Q6J("ngIf",d.appComponentViewConfig.showFooter)}},dependencies:[ri.lC,ri.yS,ri.Od,ie.mk,ie.O5,ie.tP,Gs.R,vn.X$,mi.lO],encapsulation:2,data:{animation:[(0,fo.zS)(),(0,fo.Ic)()]}}),l})();var Ga=p(2320),Lo=p(5241),Ki=p(9241),Ls=p(388),al=p(4901),ka=p(765);class Qa{constructor(){this.rss=new ll,this.rss.channel=new gc,this.rss.channel.item=new Array}}class ll{}class gc{}class ga{}var sa=p(317),Co=p(5925);function _c(l,h){1&l&&(e.TgZ(0,"div",6),e._UZ(1,"app-simple-loader"),e.qZA())}function ms(l,h){if(1&l&&(e.TgZ(0,"li",8)(1,"a",9)(2,"h3",10),e._uU(3),e.qZA(),e.TgZ(4,"span",11),e._uU(5),e.qZA(),e.TgZ(6,"p",12),e._uU(7),e.qZA()()()),2&l){const n=h.$implicit,d=e.oxw(2);e.xp6(1),e.Q6J("href",d.domSanitizer.bypassSecurityTrustUrl(n.link),e.LSH),e.xp6(2),e.Oqu(n.title),e.xp6(2),e.Oqu(n.pubDate),e.xp6(2),e.Oqu(n.description)}}function Ko(l,h){if(1&l&&(e.TgZ(0,"ul"),e.YNc(1,ms,8,4,"li",7),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==n.dto?null:n.dto.rss.channel.item)}}const xo=function(l,h){return{"tw-bg-white":l,"tw-bg-grey-100":h}};let Ll=(()=>{class l{constructor(n,d,A){this.http=n,this.domSanitizer=d,this.translate=A,this.rssURL="https://www.identityserver.com/rss",this.versionNumber="",this.altTheme=!1,this.errorEntry=new ga}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new T.WM({Accept:"application/xml"}),responseType:"text"}).subscribe(n=>{this.dto=(new sa).xml2js(n),Object.setPrototypeOf(this.dto,Qa.prototype),this.dto.rss.channel.item.forEach(d=>{d.pubDate=this.formatDate(d.pubDate)}),this.isLoading=!1},n=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new Qa,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(n){return n?Bi.ou.fromHTTP(n).toFormat("DD"):""}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(T.eN),e.Y36(t.H7),e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"h2",1),e._UZ(2,"span",2),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",3),e.YNc(7,_c,2,0,"div",4),e.YNc(8,Ko,2,1,"ul",5),e.qZA()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,4,"LandingPage.LatestNews")),e.xp6(2),e.Q6J("ngClass",e.WLB(6,xo,!d.altTheme,d.altTheme)),e.xp6(1),e.Q6J("ngIf",d.isLoading),e.xp6(1),e.Q6J("ngIf",!d.isLoading))},dependencies:[ie.mk,ie.sg,ie.O5,Co.w,vn.X$],encapsulation:2}),l})();function Bl(l,h){if(1&l&&(e.TgZ(0,"li",16)(1,"span",17),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",19),e._uU(5),e.qZA()()),2&l){const n=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"Index.LicensedTo")),e.xp6(3),e.hij(" ",n.securityService.organisation," ")}}const Hs=function(l,h){return{"tw-pill":l,"tw-pill-info":h}};function Eo(l,h){if(1&l&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.YNc(5,Bl,6,4,"li",15),e.TgZ(6,"li",16)(7,"span",17),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span",18),e._uU(11),e.qZA()()()()()()()),2&l){const n=e.oxw();e.xp6(5),e.Q6J("ngIf",n.securityService.organisation),e.xp6(3),e.Oqu(e.lcZ(9,4,"Index.LicenseType")),e.xp6(2),e.Q6J("ngClass",e.WLB(6,Hs,n.isNonProd(),!n.isNonProd())),e.xp6(1),e.hij(" ",n.securityService.licenseType," ")}}function Pa(l,h){1&l&&e.GkF(0)}function _a(l,h){1&l&&e.GkF(0)}function He(l,h){1&l&&e.GkF(0)}function o(l,h){if(1&l&&(e.TgZ(0,"li",20)(1,"a",21),e._UZ(2,"span",22),e.TgZ(3,"span",23),e._uU(4),e.qZA()()()),2&l){const n=h.title,d=h.link,A=h.icon;e.xp6(1),e.Q6J("href",d,e.LSH),e.xp6(1),e.Gre("",A," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.xp6(2),e.Oqu(n)}}const c=function(l,h){return{title:l,link:h,icon:"fad fa-file fa-swap-opacity"}},v=function(l,h){return{title:l,link:h,icon:"fad fa-file-code fa-swap-opacity"}},S=function(l,h){return{title:l,link:h,icon:"fad fa-envelope fa-swap-opacity"}};let I=(()=>{class l{constructor(n,d){this.titleService=n,this.securityService=d,this.titleService.setTitle(`Home - ${tt.de.SITE_TITLE}`)}get LinkConstants(){return al.U}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===ka.o.Demo}isNonProd(){return this.securityService.licenseType!==ka.o.Production}isLegacy(){return"Legacy"===this.securityService.organisation}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(yi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-index"]],decls:18,vars:25,consts:[[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],["commonDocsButton",""],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(n,d){if(1&n&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Eo,12,9,"div",1),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"ul",5),e.YNc(8,Pa,1,0,"ng-container",6),e.ALo(9,"translate"),e.YNc(10,_a,1,0,"ng-container",6),e.ALo(11,"translate"),e.YNc(12,He,1,0,"ng-container",6),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",7),e._UZ(15,"app-rss-feed",8),e.qZA()(),e.YNc(16,o,5,5,"ng-template",null,9,e.W1O)),2&n){const A=e.MAs(17);e.xp6(1),e.Oqu(e.lcZ(2,8,"Common.AppName")),e.xp6(2),e.Q6J("ngIf",!d.isLegacy()),e.xp6(5),e.Q6J("ngTemplateOutlet",A)("ngTemplateOutletContext",e.WLB(16,c,e.lcZ(9,10,"LandingPage.Documentation"),d.LinkConstants.DocsLink)),e.xp6(2),e.Q6J("ngTemplateOutlet",A)("ngTemplateOutletContext",e.WLB(19,v,e.lcZ(11,12,"LandingPage.APIDocs"),d.LinkConstants.ApiDocsLink)),e.xp6(2),e.Q6J("ngTemplateOutlet",A)("ngTemplateOutletContext",e.WLB(22,S,e.lcZ(13,14,"Nav.Support"),d.LinkConstants.SupportLink))}},dependencies:[ie.mk,ie.O5,ie.tP,Ll,vn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var H=p(7579),se=p(4004),he=p(8372),Ne=p(1884),F=p(3635),Ae=p(8675),D=p(5577),oe=p(9883),ht=p(4889),Gt=p(2294),xn=p(7696),Yn=p(8163);let Ii=(()=>{class l{constructor(){this.placeholder=null,this.onSearch=new e.vpe}search(n){this.onSearch.emit(n.target.value)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{onSearch:"onSearch"},decls:8,vars:4,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"placeholder","keyup"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._UZ(3,"span",3),e.TgZ(4,"span",4),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"input",5),e.NdJ("keyup",function(M){return d.search(M)}),e.qZA()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Common.Search")),e.xp6(2),e.Q6J("placeholder",d.placeholder))},dependencies:[vn.X$],encapsulation:2}),l})();class Ur{constructor(){this.selected=!1}}var ar=p(7608);const mr=["addRoleModal"],Bs=function(){return{animated:!1,backdrop:"static"}};let La=(()=>{class l{constructor(n,d,A,M,pe,Pe){this.rolesService=n,this.errorService=d,this.translate=A,this.router=M,this.fb=pe,this.toastr=Pe,this.added=new e.vpe}keydown(n){"Enter"===n.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",m.kI.required],description:["",m.kI.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let n=new Ur;n=this.addRoleForm.value,n.name=n.name.trim(),this.rolesService.addRole(n).subscribe(d=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+n.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},d=>{this.errorService.handleError(d)})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(oe.f),e.Y36(ht.T),e.Y36(vn.sK),e.Y36(ri.F0),e.Y36(m.QS),e.Y36(zi._W))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-role"]],viewQuery:function(n,d){if(1&n&&e.Gf(mr,7),2&n){let A;e.iGM(A=e.CRH())&&(d.addRoleModal=A.first)}},hostBindings:function(n,d){1&n&&e.NdJ("keydown",function(M){return d.keydown(M)},!1,e.evT)},outputs:{added:"added"},decls:33,vars:26,consts:[["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],["addRoleModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return d.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"form",10)(15,"app-form-row",11),e._UZ(16,"input",12),e.qZA(),e.TgZ(17,"app-form-row",13),e._UZ(18,"textarea",14),e.qZA()()(),e._UZ(19,"div",15),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.NdJ("click",function(){return d.addRole(),d.hide()}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"span",20)(27,"button",21),e.NdJ("click",function(){return d.addAnotherRole()}),e._uU(28),e.ALo(29,"translate"),e.qZA()()(),e.TgZ(30,"button",22),e.NdJ("click",function(){return d.hide()}),e._uU(31),e.ALo(32,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(25,Bs)),e.xp6(6),e.Oqu(e.lcZ(7,15,"Roles.NewRole")),e.xp6(5),e.Oqu(e.lcZ(12,17,"Common.Close")),e.xp6(3),e.Q6J("formGroup",d.addRoleForm),e.xp6(1),e.Q6J("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.xp6(2),e.Q6J("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.xp6(6),e.Q6J("disabled",!d.addRoleForm.valid),e.xp6(1),e.Oqu(e.lcZ(25,19,"Common.Save")),e.xp6(3),e.Q6J("disabled",!d.addRoleForm.valid),e.xp6(1),e.Oqu(e.lcZ(29,21,"Common.SaveAndAdd")),e.xp6(3),e.Oqu(e.lcZ(32,23,"Common.Cancel")))},dependencies:[m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,Ls.oB,ar.L,vn.X$],encapsulation:2}),l})();function Td(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(n),e.oxw();const A=e.MAs(3);return e.KtG(A.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Roles.AddRole")," "))}function va(l,h){1&l&&e._UZ(0,"app-simple-loader")}function cl(l,h){1&l&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Roles.NoRolesFound")))}function au(l,h){1&l&&e._UZ(0,"span",23)}function Do(l,h){1&l&&e._UZ(0,"span",24)}function Fr(l,h){1&l&&(e.TgZ(0,"span",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function oa(l,h){1&l&&(e.TgZ(0,"span",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const Qr=function(l,h){return{"fad fa-pencil":l,"fas fa-eye":h}};function qa(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr",25)(1,"td",26),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditRole(M))}),e.TgZ(2,"b",27),e._uU(3),e.qZA()(),e.TgZ(4,"td",28),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditRole(M))}),e._uU(5),e.qZA(),e.TgZ(6,"td",29),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditRole(M))}),e.YNc(7,Fr,3,3,"span",30),e.qZA(),e.TgZ(8,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditRole(M))}),e.YNc(9,oa,3,3,"span",32),e.qZA(),e.TgZ(10,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditRole(M))}),e.TgZ(11,"button",34),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditRole(M))}),e._UZ(12,"span",35),e.TgZ(13,"span",19),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit,d=e.oxw(2);e.xp6(3),e.Oqu(n.name),e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.Q6J("ngIf",d.isPolicyRole(n)),e.xp6(2),e.Q6J("ngIf",n.reserved),e.xp6(3),e.Q6J("ngClass",e.WLB(8,Qr,!d.isUserManagerReadOnly,d.isUserManagerReadOnly)),e.xp6(2),e.Oqu(e.lcZ(15,6,"Common.Edit"))}}function lu(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.sort())}),e.TgZ(4,"span",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,au,1,0,"span",15),e.YNc(8,Do,1,0,"span",16),e.qZA(),e.TgZ(9,"th",17),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",18)(13,"span",19),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",20)(17,"span",19),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"th",21)(21,"span",19),e._uU(22),e.ALo(23,"translate"),e.qZA()()()(),e.TgZ(24,"tbody"),e.YNc(25,qa,16,11,"tr",22),e.qZA()()}if(2&l){const n=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,8,"Common.Name")),e.xp6(2),e.Q6J("ngIf",n.sortIcon),e.xp6(1),e.Q6J("ngIf",!n.sortIcon),e.xp6(2),e.hij(" ",e.lcZ(11,10,"Common.Description")," "),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Policy")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(23,16,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.roles)}}function ul(l,h){if(1&l&&e._UZ(0,"app-pager",38),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.roles?null:n.roles.length)}}let aa=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe){this.rolesService=n,this.securityService=d,this.translate=A,this.router=M,this.titleService=pe,this.localize=Pe,this.errorService=Qe,this.roleListLength=0,this.sortCriteria="-name",this.term="",this.searchTermStream=new H.x,this.sortStream=new H.x}ngOnInit(){const n=this.translate.instant("Nav.Roles")+" - "+tt.de.SITE_TITLE;this.titleService.setTitle(n),this.isLoading=!0;const d=this.sortStream.pipe((0,se.U)(pe=>({search:this.term,sort:pe})));this.searchTermStream.pipe((0,he.b)(300),(0,Ne.x)(),(0,se.U)(pe=>(this.term=pe,{search:pe,sort:this.sortCriteria}))).pipe((0,F.b)(d),(0,Ae.O)({search:this.term,sort:this.sortCriteria}),(0,D.z)(pe=>this.rolesService.getRoles(pe.search,pe.sort))).subscribe({next:pe=>{this.roles=pe,this.isLoading=!1},error:pe=>{this.errorService.handleError(pe),this.isLoading=!1}})}search(n){this.searchTermStream.next(n)}update(){this.sortStream.next(this.sortCriteria)}sort(){this.sortCriteria=this.sortCriteria.startsWith("-")?"name":"-name",this.sortStream.next(this.sortCriteria),this.sortIcon=!this.sortIcon}viewOrEditRole(n){this.isUserManagerReadOnly?this.viewRole(n):this.editRole(n)}editRole(n){const d=[this.localize.translateRoute("/roles"),n.id];this.router.navigate(d)}viewRole(n){const d=[this.localize.translateRoute("/roles/view"),n.id];this.router.navigate(d)}allowedToEditRole(n){return!this.securityService.allView&&this.isPolicyRole(n)}isPolicyRole(n){const d=this.securityService.policyClaims;for(let A=0;A<d.length;A++)if("role"===d[A].type&&d[A].value===n.name)return!0;return!1}get isUserManagerReadOnly(){return(0,St.ub)(this.securityService.userPermissions)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(oe.f),e.Y36(yi.I),e.Y36(vn.sK),e.Y36(ri.F0),e.Y36(t.Dx),e.Y36(mi.An),e.Y36(ht.T))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:12,vars:11,consts:[[3,"title"],[3,"added"],["addRoleModal",""],["id","rolesList",1,"tw-container","mx-auto"],[3,"placeholder","onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["class","fas fa-caret-down","aria-hidden","true",4,"ngIf"],["class","fas fa-caret-up","aria-hidden","true",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill-warning"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(n,d){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-role",1,2),e.NdJ("added",function(){return d.update()}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(M){return d.search(M)}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Td,5,3,"app-action-bar",5),e.YNc(8,va,1,0,"app-simple-loader",5),e.YNc(9,cl,4,3,"div",6),e.YNc(10,lu,26,18,"table",7),e.YNc(11,ul,1,1,"app-pager",8),e.qZA()),2&n&&(e.Q6J("title",e.lcZ(1,7,"Nav.Roles")),e.xp6(5),e.Q6J("placeholder",e.lcZ(6,9,"Roles.SearchPlaceholder")),e.xp6(2),e.Q6J("ngIf",!d.isLoading&&!d.isUserManagerReadOnly),e.xp6(1),e.Q6J("ngIf",d.isLoading),e.xp6(1),e.Q6J("ngIf",(!d.roles||d.roles.length<=0)&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",d.roles&&d.roles.length>0&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",d.roles&&d.roles.length>0&&!d.isLoading))},dependencies:[ie.mk,ie.sg,ie.O5,Gt.G,xn.P,Yn.K,Ii,Co.w,La,vn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();function cu(l,h){1&l&&(e.TgZ(0,"p",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Errors.UnableToCompilePolicy")))}function Ba(l,h){1&l&&(e.TgZ(0,"p",7),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Errors.UnauthenticatedDescription")))}let vc=(()=>{class l{constructor(n){this.isEnforcerCompilationError=!1,this.getNavigationState(n)}getNavigationState(n){const d=n.getCurrentNavigation();if(null!=d&&null!=d.extras.state){const A=d.extras.state;A.enforcer&&(this.isEnforcerCompilationError=A.enforcer)}}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ri.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:5,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["normalError",""],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(n,d){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,cu,3,3,"p",4),e.YNc(8,Ba,3,3,"ng-template",null,5,e.W1O),e.qZA()()()()),2&n){const A=e.MAs(9);e.xp6(5),e.Oqu(e.lcZ(6,3,"Errors.UnauthenticatedTitle")),e.xp6(2),e.Q6J("ngIf",d.isEnforcerCompilationError)("ngIfElse",A)}},dependencies:[ie.O5,vn.X$],encapsulation:2}),l})(),dl=(()=>{class l{constructor(n){this.translate=n}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Errors.ForbiddenTitle")),e.xp6(3),e.Oqu(e.lcZ(9,4,"Errors.ForbiddenDescription")))},dependencies:[vn.X$],encapsulation:2}),l})();var Yo=p(6478),Ad=p(7073);function yc(l,h){1&l&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function h_(l,h){1&l&&(e.TgZ(0,"span",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}function Rp(l,h){if(1&l&&(e.ynx(0,5),e.YNc(1,yc,3,3,"span",6),e.YNc(2,h_,3,3,"span",7),e.BQk()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isPolicyRole()),e.xp6(1),e.Q6J("ngIf",n.role.reserved)}}const Cc=function(l,h){return{title:l,link:h}},uu=function(l){return[l]};let kp=(()=>{class l{constructor(n,d,A,M){this.activatedRoute=n,this.errorService=d,this.router=A,this.securityService=M}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(n=>{this.role=n.role},n=>{this.errorService.handleError(n)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const n=this.securityService.policyClaims;for(let d=0;d<n.length;d++)if("role"===n[d].type&&n[d].value===this.role.name)return!0;return!1}mobRoute(n){this.router.navigate([n],{relativeTo:this.activatedRoute})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ri.gz),e.Y36(ht.T),e.Y36(ri.F0),e.Y36(yi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:17,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(n,d){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.YNc(3,Rp,3,2,"ng-container",1),e.ynx(4,2),e.TgZ(5,"app-custom-tabs"),e._UZ(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.qZA(),e.BQk(),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"router-outlet"),e.qZA()),2&n&&(e.Q6J("title",d.role.name)("crumbs",e.VKq(15,uu,e.WLB(12,Cc,e.lcZ(1,8,"Nav.Roles"),e.lcZ(2,10,"/roles"))))("hasTabs",!0),e.xp6(3),e.Q6J("ngIf",d.isPolicyRole()||d.role.reserved),e.xp6(3),e.Q6J("tabTitle","Nav.Details")("tabValue","details"),e.xp6(1),e.Q6J("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[ie.O5,ri.lC,Gt.G,Yo.v,Ad.x,vn.X$,mi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})(),p_=(()=>{class l{constructor(n){this.translate=n}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Errors.NotFoundTitle")),e.xp6(3),e.Oqu(e.lcZ(9,4,"Errors.NotFoundDescription")))},dependencies:[vn.X$],encapsulation:2}),l})();var ya=p(8024),Ca=p(5683),so=p(146);class f_{}var la=p(160),Ul=p(799),uC=p(6592);function m_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"input",6),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.newEnumValue=A)}),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.onAdd())}),e._UZ(4,"span",8),e.TgZ(5,"span",9),e._uU(6),e.ALo(7,"translate"),e.qZA()()()()}if(2&l){const n=e.oxw();e.xp6(2),e.s9C("id",n.id+"-newValue-input"),e.Q6J("ngModel",n.newEnumValue),e.xp6(1),e.s9C("id",n.id+"-newValue-button"),e.Q6J("disabled",n.addDisabled),e.xp6(3),e.Oqu(e.lcZ(7,5,"Common.Add"))}}function g_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-pill-list",10),e.NdJ("onDelete",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.onDelete(A))}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("readonly",n.reserved)("id",n.id)("values",n.value)}}function __(l,h){if(1&l&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"number"),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.AsE("",e.lcZ(2,2,"ClaimTypes.TooManyAllowedValues")," (",e.lcZ(3,4,n.value.length),")")}}let bc=(()=>{class l{constructor(){this.id=(0,St.qs)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=n=>{},this.onTouched=()=>{}}writeValue(n){this.value=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){!this.newEnumValue||(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(n){this.value.splice(n,1),this.onChange(this.value)}isNullOrEmpty(n){return!n||null!==n.match(/^ *$/)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},features:[e._Bn([{provide:m.JU,useExisting:(0,e.Gpc)(()=>l),multi:!0},{provide:m.Cf,useExisting:(0,e.Gpc)(()=>l),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id","ngModel","ngModelChange"],[1,"tw-btn","tw-rounded-l-none",3,"id","disabled","click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"readonly","id","values","onDelete"],["id","too-many-values"]],template:function(n,d){1&n&&(e.YNc(0,m_,8,7,"div",0),e.TgZ(1,"div",1),e.YNc(2,g_,1,3,"app-pill-list",2),e.YNc(3,__,4,6,"span",3),e.qZA()),2&n&&(e.Q6J("ngIf",!d.reserved),e.xp6(2),e.Q6J("ngIf",d.value.length<=50||!d.reserved),e.xp6(1),e.Q6J("ngIf",d.value.length>50&&d.reserved))},dependencies:[ie.O5,m.Fj,m.JJ,m.On,uC.j,ie.JJ,vn.X$],encapsulation:2}),l})();const Pp=["addClaimTypeModal"];function v_(l,h){if(1&l&&(e.TgZ(0,"app-form-row",37),e._UZ(1,"app-edit-enum-claim-type",38),e.qZA()),2&l){const n=e.oxw();e.Q6J("label","Claims.AllowedValues"),e.xp6(1),e.Q6J("required","Enum"===n.addClaimTypeForm.get("valueType").value)}}function Lp(l,h){1&l&&(e.TgZ(0,"app-form-row",14),e._UZ(1,"input",39),e.qZA()),2&l&&e.Q6J("id","rules")("label","Claims.RegexRule")}function dC(l,h){1&l&&(e.TgZ(0,"app-form-row",14),e._UZ(1,"input",40),e.qZA()),2&l&&e.Q6J("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}const Bp=function(){return{animated:!1,backdrop:"static"}};let hC=(()=>{class l{constructor(n,d,A,M,pe,Pe){this.cdr=n,this.claimTypeService=d,this.errorService=A,this.translate=M,this.fb=pe,this.toastr=Pe,this.onSubmitted=new e.vpe,this.descFocus=!1}keydown(n){"Enter"===n.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",m.kI.required],name:["",m.kI.required],displayName:[""],description:["",m.kI.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,m.kI.required],userEditable:[!1,m.kI.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let n=new f_;n=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(n.rule=void 0,n.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(n).subscribe({next:d=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+n.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:d=>{(this.errorService.handleError(d)&la.s.Toast)!==la.s.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const n=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(n?.disable(),this.cdr.detectChanges()):(n?.setValue([]),n?.enable(),this.cdr.detectChanges())}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(e.sBO),e.Y36(so.M),e.Y36(ht.T),e.Y36(vn.sK),e.Y36(m.QS),e.Y36(zi._W))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-claimtype"]],viewQuery:function(n,d){if(1&n&&e.Gf(Pp,7),2&n){let A;e.iGM(A=e.CRH())&&(d.addClaimTypeModal=A.first)}},hostBindings:function(n,d){1&n&&e.NdJ("keydown",function(M){return d.keydown(M)},!1,e.evT)},outputs:{onSubmitted:"onSubmitted"},decls:62,vars:57,consts:[["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],["addClaimTypeModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return d.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"form",10)(15,"app-form-row",11),e._UZ(16,"input",12),e.qZA(),e.TgZ(17,"app-form-row",11),e._UZ(18,"input",13),e.qZA(),e.TgZ(19,"app-form-row",14)(20,"div",15)(21,"select",16),e.NdJ("change",function(){return d.onValueTypeChanged()}),e.TgZ(22,"option",17),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"option",18),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"option",19),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"option",20),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"option",21),e._uU(35),e.ALo(36,"translate"),e.qZA()()()(),e.YNc(37,v_,2,2,"app-form-row",22),e.TgZ(38,"app-form-row",14)(39,"textarea",23),e.NdJ("focus",function(){return d.descFocus=!d.descFocus})("blur",function(){return d.descFocus=!d.descFocus}),e.qZA()(),e.YNc(40,Lp,2,2,"app-form-row",24),e.YNc(41,dC,2,2,"app-form-row",24),e.TgZ(42,"app-form-row",11)(43,"app-form-toggle",25),e._UZ(44,"input",26),e.qZA()(),e.TgZ(45,"app-form-row",27)(46,"app-form-toggle",25),e._UZ(47,"input",28),e.qZA()()()(),e._UZ(48,"div",29),e.TgZ(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),e.NdJ("click",function(){return d.addClaimType()}),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"span",34)(56,"button",35),e.NdJ("click",function(){return d.addAnotherClaimType()}),e._uU(57),e.ALo(58,"translate"),e.qZA()()(),e.TgZ(59,"button",36),e.NdJ("click",function(){return d.hide()}),e._uU(60),e.ALo(61,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(56,Bp)),e.xp6(6),e.Oqu(e.lcZ(7,36,"Claims.New")),e.xp6(5),e.Oqu(e.lcZ(12,38,"Common.Close")),e.xp6(3),e.Q6J("formGroup",d.addClaimTypeForm),e.xp6(1),e.Q6J("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),e.xp6(2),e.Q6J("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),e.xp6(2),e.Q6J("id","type")("label","Common.Type"),e.xp6(4),e.Oqu(e.lcZ(24,40,"Common.Types.String")),e.xp6(3),e.Oqu(e.lcZ(27,42,"Common.Types.Int")),e.xp6(3),e.Oqu(e.lcZ(30,44,"Common.Types.DateTime")),e.xp6(3),e.Oqu(e.lcZ(33,46,"Common.Types.Boolean")),e.xp6(3),e.Oqu(e.lcZ(36,48,"Common.Types.Enum")),e.xp6(2),e.Q6J("ngIf","Enum"===d.addClaimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","description")("label","Common.Description"),e.xp6(2),e.Q6J("ngIf","String"===d.addClaimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("ngIf","String"===d.addClaimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),e.xp6(1),e.Q6J("id","required"),e.xp6(2),e.Q6J("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),e.xp6(1),e.Q6J("id","userEditable"),e.xp6(6),e.Q6J("disabled",!d.addClaimTypeForm.valid),e.xp6(1),e.Oqu(e.lcZ(54,50,"Common.Save")),e.xp6(3),e.Q6J("disabled",!d.addClaimTypeForm.valid),e.xp6(1),e.Oqu(e.lcZ(58,52,"Common.SaveAndAdd")),e.xp6(3),e.Oqu(e.lcZ(61,54,"Common.Cancel")))},dependencies:[ie.O5,m._Y,m.YN,m.Kr,m.Fj,m.Wl,m.EJ,m.JJ,m.JL,m.Q7,m.sg,m.u,Ls.oB,ar.L,Ul.O,bc,vn.X$],encapsulation:2}),l})();function Sd(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(n),e.oxw();const A=e.MAs(3);return e.KtG(A.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Claims.Add")," "))}function y_(l,h){1&l&&e._UZ(0,"app-simple-loader")}function Up(l,h){1&l&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Claims.NoClaimsFound")))}function du(l,h){1&l&&e._UZ(0,"span",25)}function xd(l,h){1&l&&e._UZ(0,"span",26)}function Fl(l,h){1&l&&e._UZ(0,"span",27)}function C_(l,h){1&l&&e._UZ(0,"span",25)}function b_(l,h){1&l&&e._UZ(0,"span",26)}function pC(l,h){1&l&&e._UZ(0,"span",27)}function hu(l,h){1&l&&e._UZ(0,"span",25)}function Ed(l,h){1&l&&e._UZ(0,"span",26)}function Fp(l,h){1&l&&e._UZ(0,"span",27)}function Zp(l,h){1&l&&e._UZ(0,"span",25)}function Vp(l,h){1&l&&e._UZ(0,"span",26)}function hl(l,h){1&l&&e._UZ(0,"span",27)}function w_(l,h){1&l&&(e.TgZ(0,"span",40)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.Yes")))}function T_(l,h){1&l&&(e.TgZ(0,"span",41)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.No")))}function A_(l,h){1&l&&(e.TgZ(0,"span",40)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.Yes")))}function S_(l,h){1&l&&(e.TgZ(0,"span",41)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.No")))}function x_(l,h){1&l&&(e.TgZ(0,"span",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const Ua=function(l,h){return{"fad fa-pencil":l,"fas fa-eye":h}};function Zl(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr",28)(1,"td",29),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditClaimType(M))}),e.TgZ(2,"b",30),e._uU(3),e.qZA()(),e.TgZ(4,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditClaimType(M))}),e.TgZ(5,"b",30),e._uU(6),e.qZA()(),e.TgZ(7,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditClaimType(M))}),e.TgZ(8,"code"),e._uU(9),e.qZA()(),e.TgZ(10,"td",32),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditClaimType(M))}),e._uU(11),e.qZA(),e.TgZ(12,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditClaimType(M))}),e.YNc(13,w_,4,3,"span",34),e.YNc(14,T_,4,3,"span",35),e.qZA(),e.TgZ(15,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditClaimType(M))}),e.YNc(16,A_,4,3,"span",34),e.YNc(17,S_,4,3,"span",35),e.qZA(),e.TgZ(18,"td",36),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditClaimType(M))}),e.YNc(19,x_,3,3,"span",37),e.qZA(),e.TgZ(20,"td",36),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditClaimType(M))}),e.TgZ(21,"button",38),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditClaimType(M))}),e._UZ(22,"span",39),e.TgZ(23,"span",23),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit,d=e.oxw(2);e.xp6(3),e.hij(" ",n.name," "),e.xp6(3),e.hij(" ",n.displayName," "),e.xp6(3),e.Oqu(n.valueType),e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.Q6J("ngIf",n.required),e.xp6(1),e.Q6J("ngIf",!n.required),e.xp6(2),e.Q6J("ngIf",n.userEditable),e.xp6(1),e.Q6J("ngIf",!n.userEditable),e.xp6(2),e.Q6J("ngIf",n.reserved),e.xp6(3),e.Q6J("ngClass",e.WLB(13,Ua,d.isAllPermission&&!d.isAllPermissionReadOnly,!d.isAllPermission)),e.xp6(2),e.Oqu(e.lcZ(25,11,"Common.Edit"))}}function E_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.sort("name"))}),e.TgZ(4,"span",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,du,1,0,"span",15),e.YNc(8,xd,1,0,"span",16),e.YNc(9,Fl,1,0,"span",17),e.qZA(),e.TgZ(10,"th",18),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",19),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.sort("valueType"))}),e.TgZ(14,"span",14),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,C_,1,0,"span",15),e.YNc(18,b_,1,0,"span",16),e.YNc(19,pC,1,0,"span",17),e.qZA(),e.TgZ(20,"th",20),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th",21),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.sort("required"))}),e.TgZ(24,"span",14),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.YNc(27,hu,1,0,"span",15),e.YNc(28,Ed,1,0,"span",16),e.YNc(29,Fp,1,0,"span",17),e.qZA(),e.TgZ(30,"th",21),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.sort("userEditable"))}),e.TgZ(31,"span",14),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.YNc(34,Zp,1,0,"span",15),e.YNc(35,Vp,1,0,"span",16),e.YNc(36,hl,1,0,"span",17),e.qZA(),e.TgZ(37,"th",22)(38,"span",23),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"th",22)(42,"span",23),e._uU(43),e.ALo(44,"translate"),e.qZA()()()(),e.TgZ(45,"tbody"),e.YNc(46,Zl,26,16,"tr",24),e.qZA()()}if(2&l){const n=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,21,"Common.Name")),e.xp6(2),e.Q6J("ngIf",!n.sortContains("name")),e.xp6(1),e.Q6J("ngIf","name"===n.sortCriteria),e.xp6(1),e.Q6J("ngIf","-name"===n.sortCriteria),e.xp6(2),e.hij(" ",e.lcZ(12,23,"Common.DisplayName")," "),e.xp6(4),e.Oqu(e.lcZ(16,25,"Common.Type")),e.xp6(2),e.Q6J("ngIf",!n.sortContains("valueType")),e.xp6(1),e.Q6J("ngIf","valueType"===n.sortCriteria),e.xp6(1),e.Q6J("ngIf","-valueType"===n.sortCriteria),e.xp6(2),e.hij(" ",e.lcZ(22,27,"Common.Description")," "),e.xp6(4),e.Oqu(e.lcZ(26,29,"Common.Required")),e.xp6(2),e.Q6J("ngIf",!n.sortContains("required")),e.xp6(1),e.Q6J("ngIf","required"===n.sortCriteria),e.xp6(1),e.Q6J("ngIf","-required"===n.sortCriteria),e.xp6(3),e.Oqu(e.lcZ(33,31,"Common.UserEditable")),e.xp6(2),e.Q6J("ngIf",!n.sortContains("userEditable")),e.xp6(1),e.Q6J("ngIf","userEditable"===n.sortCriteria),e.xp6(1),e.Q6J("ngIf","-userEditable"===n.sortCriteria),e.xp6(3),e.Oqu(e.lcZ(40,33,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(44,35,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.claimTypes)}}function D_(l,h){if(1&l&&e._UZ(0,"app-pager",43),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.claimTypes?null:n.claimTypes.length)}}let I_=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe){this.router=n,this.claimTypeService=d,this.errorService=A,this.translate=M,this.titleService=pe,this.localize=Pe,this.securityService=Qe,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new H.x,this.searchStream=new H.x}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+tt.de.SITE_TITLE);const n=this.searchStream.pipe((0,he.b)(300),(0,Ne.x)(),(0,se.U)(M=>(this.term=M,{search:M,sort:this.sortCriteria})));this.sortStream.pipe((0,se.U)(M=>(this.sortCriteria=M,{search:this.term,sort:M}))).pipe((0,Ca.T)(n),(0,Ae.O)({search:this.term,sort:this.sortCriteria}),(0,D.z)(M=>this.claimTypeService.getClaimTypes(M.search,M.sort,!0))).subscribe(M=>{this.claimTypes=M,this.isLoading=!1},M=>{this.errorService.handleError(M),this.isLoading=!1})}search(n){this.searchStream.next(n)}sort(n){this.sortCriteria=this.sortCriteria.startsWith("-")?n:"-"+n,this.sortStream.next(this.sortCriteria)}sortContains(n){return!!this.sortCriteria.includes(n)}onSubmitted(n){n&&this.sortStream.next(this.sortCriteria)}viewOrEditClaimType(n){this.isAllPermission?this.editClaimType(n):this.viewClaimType(n)}viewClaimType(n){const d=this.localize.translateRoute("/claim-types/view");this.router.navigate([d,n.id])}editClaimType(n){const d=this.localize.translateRoute("/claim-types");this.router.navigate([d,n.id])}get isAllPermission(){return(0,St.Zr)(this.securityService.userPermissions)}get isAllPermissionReadOnly(){return(0,St.Hr)(this.securityService.userPermissions)}get isIdentityServerManager(){return(0,St.hC)(this.securityService.userPermissions)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ri.F0),e.Y36(so.M),e.Y36(ht.T),e.Y36(vn.sK),e.Y36(t.Dx),e.Y36(mi.An),e.Y36(yi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:12,vars:11,consts:[[3,"title"],[3,"onSubmitted"],["addClaimTypeModal",""],["id","claimTypeList",1,"tw-container","tw-mx-auto"],[3,"placeholder","onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover","id","claimTypesTable",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],["class","group",4,"ngFor","ngForOf"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(n,d){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-claimtype",1,2),e.NdJ("onSubmitted",function(M){return d.onSubmitted(M)}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(M){return d.search(M)}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Sd,5,3,"app-action-bar",5),e.YNc(8,y_,1,0,"app-simple-loader",5),e.YNc(9,Up,4,3,"div",6),e.YNc(10,E_,47,37,"table",7),e.YNc(11,D_,1,1,"app-pager",8),e.qZA()),2&n&&(e.Q6J("title",e.lcZ(1,7,"Nav.ClaimTypes")),e.xp6(5),e.Q6J("placeholder",e.lcZ(6,9,"ClaimTypes.SearchPlaceholder")),e.xp6(2),e.Q6J("ngIf",!d.isLoading&&d.isIdentityServerManager),e.xp6(1),e.Q6J("ngIf",d.isLoading),e.xp6(1),e.Q6J("ngIf",(null==d.claimTypes?null:d.claimTypes.length)<1&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",(null==d.claimTypes?null:d.claimTypes.length)>0&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",(null==d.claimTypes?null:d.claimTypes.length)>0&&!d.isLoading))},dependencies:[ie.mk,ie.sg,ie.O5,Gt.G,xn.P,Yn.K,Ii,Co.w,hC,vn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var pu=p(9655),pl=p(3570),Vl=p(9658),fl=p(1216),fu=p(2830),mu=p(6252);function O_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"select",22),e.NdJ("change",function(){e.CHM(n);const A=e.oxw(2);return e.KtG(A.onValueTypeChanged())}),e.TgZ(1,"option",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"option",24),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"option",25),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"option",26),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",27),e._uU(14),e.ALo(15,"translate"),e.qZA()()}if(2&l){const n=e.oxw(2);e.xp6(1),e.Q6J("selected","String"==n.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(3,9,"Common.Types.String")),e.xp6(2),e.Q6J("selected","Int"==n.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(6,11,"Common.Types.Int")),e.xp6(2),e.Q6J("selected","DateTime"==n.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(9,13,"Common.Types.DateTime")),e.xp6(2),e.Q6J("selected","Boolean"==n.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(12,15,"Common.Types.Boolean")),e.xp6(3),e.Oqu(e.lcZ(15,17,"Common.Types.Enum"))}}const gu=function(l){return[l]};function _u(l,h){if(1&l&&(e._UZ(0,"app-readonly",9),e.ALo(1,"readOnlyValue")),2&l){const n=e.oxw(2);e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(4,gu,e.lcZ(1,2,n.claimType.valueType)))}}function Fa(l,h){if(1&l&&(e.TgZ(0,"app-form-row",28),e._UZ(1,"app-edit-enum-claim-type",29),e.qZA()),2&l){const n=e.oxw(2);e.Q6J("label","Claims.AllowedValues"),e.xp6(1),e.Q6J("reserved",n.claimType.reserved)("required","Enum"===n.claimTypeForm.get("valueType").value)}}function wc(l,h){1&l&&e._UZ(0,"textarea",30)}function Hp(l,h){if(1&l&&(e._UZ(0,"app-readonly",9),e.ALo(1,"readOnlyValue")),2&l){const n=e.oxw(2);e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(4,gu,e.lcZ(1,2,n.claimType.description)))}}function Jp(l,h){1&l&&(e.TgZ(0,"app-form-row",11),e._UZ(1,"input",31),e.qZA()),2&l&&e.Q6J("id","rule")("label","Claims.RegexRule")}function Wp(l,h){1&l&&(e.TgZ(0,"app-form-row",11),e._UZ(1,"input",32),e.qZA()),2&l&&e.Q6J("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function fC(l,h){if(1&l&&(e.TgZ(0,"div",6)(1,"form",7)(2,"app-form-row",8),e._UZ(3,"app-readonly",9),e.ALo(4,"readOnlyValue"),e.qZA(),e.TgZ(5,"app-form-row",8),e._UZ(6,"input",10),e.qZA(),e.TgZ(7,"app-form-row",11)(8,"div",12),e.YNc(9,O_,16,19,"select",13),e.YNc(10,_u,2,6,"app-readonly",14),e.qZA()(),e.YNc(11,Fa,2,3,"app-form-row",15),e.TgZ(12,"app-form-row",11),e.YNc(13,wc,1,0,"textarea",16),e.YNc(14,Hp,2,6,"app-readonly",14),e.qZA(),e.YNc(15,Jp,2,2,"app-form-row",17),e.YNc(16,Wp,2,2,"app-form-row",17),e.TgZ(17,"app-form-row",8)(18,"app-form-toggle",18),e._UZ(19,"input",19),e.qZA()(),e.TgZ(20,"app-form-row",20)(21,"app-form-toggle",18),e._UZ(22,"input",21),e.qZA()()()()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.claimTypeForm),e.xp6(1),e.Q6J("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),e.xp6(1),e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(31,gu,e.lcZ(4,29,n.claimType.name))),e.xp6(2),e.Q6J("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),e.xp6(2),e.Q6J("id","type")("label","Common.Type"),e.xp6(2),e.Q6J("ngIf",!n.claimType.reserved),e.xp6(1),e.Q6J("ngIf",n.claimType.reserved),e.xp6(1),e.Q6J("ngIf","Enum"===n.claimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","description")("label","Common.Description"),e.xp6(1),e.Q6J("ngIf",!n.claimType.reserved),e.xp6(1),e.Q6J("ngIf",n.claimType.reserved),e.xp6(1),e.Q6J("ngIf","String"===n.claimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("ngIf","String"===n.claimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),e.xp6(1),e.Q6J("id","required"),e.xp6(2),e.Q6J("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),e.xp6(1),e.Q6J("id","userEditable")}}const mC=function(){return{backdrop:"static",animated:!1}};function gC(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"h5",37),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",38),e._UZ(8,"span",39),e.TgZ(9,"span",40),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",41)(13,"p",42),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"strong"),e._uU(17),e.qZA(),e._uU(18,"?"),e.qZA(),e._UZ(19,"p",43),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"div",44),e.TgZ(22,"div",45)(23,"div",46)(24,"div",47)(25,"button",48),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.delete())}),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"button",49),e._uU(29),e.ALo(30,"translate"),e.qZA()()()()()()}if(2&l){const n=e.oxw();e.Q6J("config",e.DdM(20,mC)),e.xp6(5),e.Oqu(e.lcZ(6,8,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(11,10,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(15,12,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(n.claimType.name),e.xp6(2),e.Q6J("innerHTML",e.lcZ(20,14,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(27,16,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(30,18,"Common.Delete.No"))}}const Dd=function(l,h){return{title:l,link:h}};let Id=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe,xt,Ft,cn,bn){this.router=n,this.translate=d,this.toastr=A,this.fb=M,this.claimTypeService=pe,this.titleService=Pe,this.dialogService=Qe,this.localize=xt,this.errorService=Ft,this.securityService=cn,this.cdr=bn,this.claimType=null}get ReadOnlyFieldType(){return pu.O}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:n=>{this.claimType=n,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${tt.de.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(n)},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}canDeactivate(){return!this.claimTypeForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,m.kI.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[m.kI.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},m.kI.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},m.kI.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,m.kI.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const n=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(n.rule=void 0,n.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(n).subscribe({next:d=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(n),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:d=>{(this.errorService.handleError(d)&la.s.Toast)!==la.s.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:n=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const d=this.localize.translateRoute("/claim-types");this.router.navigate([d])},error:n=>{(this.errorService.handleError(n)&la.s.Toast)!==la.s.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const n=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(n?.disable(),this.cdr.detectChanges()):(n?.setValue(this.claimType.allowedValues||[]),n?.enable(),this.cdr.detectChanges())}get isIdentityServerManager(){return(0,St.hC)(this.securityService.userPermissions)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ri.F0),e.Y36(vn.sK),e.Y36(zi._W),e.Y36(m.QS),e.Y36(so.M),e.Y36(t.Dx),e.Y36(pl.x),e.Y36(mi.An),e.Y36(ht.T),e.Y36(yi.I),e.Y36(e.sBO))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:14,vars:21,consts:[[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["id","deleteBtn","type","button","data-toggle","modal","data-target","#deleteClaimTypeModal",1,"tw-btn-danger","tw-mb-3",3,"disabled"],["bsModal","","id","deleteClaimTypeModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"],["bsModal","","id","deleteClaimTypeModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(n,d){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.YNc(3,fC,23,33,"div",1),e.TgZ(4,"app-button-bar")(5,"button",2),e.NdJ("click",function(){return d.submit()}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.ynx(8,3),e.TgZ(9,"button",4),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(12,"app-can-deactivate"),e.YNc(13,gC,31,21,"div",5)),2&n&&(e.Q6J("title",d.claimType.name)("crumbs",e.VKq(19,gu,e.WLB(16,Dd,e.lcZ(1,8,"Nav.ClaimTypes"),e.lcZ(2,10,"/claim-types")))),e.xp6(3),e.Q6J("ngIf",d.claimType),e.xp6(2),e.Q6J("disabled",!(d.claimTypeForm.dirty&&d.claimTypeForm.valid)),e.xp6(1),e.hij(" ",e.lcZ(7,12,"Common.Save")," "),e.xp6(3),e.Q6J("disabled",d.claimType.reserved||!d.isIdentityServerManager),e.xp6(1),e.hij(" ",e.lcZ(11,14,"Common.Delete.Title")," "),e.xp6(3),e.Q6J("ngIf",d.claimType))},dependencies:[ie.O5,m._Y,m.YN,m.Kr,m.Fj,m.Wl,m.EJ,m.JJ,m.JL,m.Q7,m.sg,m.u,Ls.oB,Vl.J,Gt.G,fl.N,ar.L,Ul.O,fu.f,bc,vn.X$,mi.lO,mu.b],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Od=p(927),jp=p(8190),ba=p(8506),ca=p(6349),ml=p(8098);const M_=["IdentityResourcePicker"],N_=["tabs"],Kp=["addIdentityResourceModal"];function vu(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.EnterBasicDetails")))}function $p(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.AssignClaims")))}function Md(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("disabled",n.identityResourceForm.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function R_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.submit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("disabled",0==n.assignedClaims.length),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Save"))}}const Js=function(){return{animated:!1,backdrop:"static"}};let zp=(()=>{class l{constructor(n,d,A,M,pe,Pe){this.claimTypesService=n,this.errorService=d,this.identityResourceService=A,this.translate=M,this.fb=pe,this.toastr=Pe,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.vpe}keydown(n){"Enter"===n.key&&this.identityResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.availableClaims=n,this.allAvailableClaims=n},error:n=>{this.errorService.handleError(n)}}),this.identityResourceForm=this.fb.group({name:["",m.kI.required],displayName:["",m.kI.required],description:["",m.kI.maxLength(1e3)]})}ngAfterViewInit(){this.resourcesPicker.assignedStream.subscribe(n=>{this.availableClaims=(0,St.mn)(this.availableClaims.slice(),n);const d=this.assignedClaims.slice();this.assignedClaims=d.concat(n),this.resourcesPicker.availableCount=0}),this.resourcesPicker.unAssignedStream.subscribe(n=>{const d=this.availableClaims;this.assignedClaims=(0,St.mn)(this.assignedClaims.slice(),n),this.availableClaims=d.concat(n),this.resourcesPicker.assignedCount=0})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const n=(0,ca.UI)(this.assignedClaims,function(A){return A.name}),d=Object.assign(this.identityResourceForm.value,{allowedClaims:n});this.identityResourceService.addResource(d).subscribe(A=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.resetWizard(),this.hide(),this.onSubmit.emit()},A=>{let M;A.error.errors.length>0&&(M=A.error.errors[0]),this.toastr.error(M,this.translate.instant("Common.Error"))})}resetWizard(){this.identityResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvailableClaims}hide(){this.addIdentityResourceModal.hide()}show(){this.addIdentityResourceModal.show()}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(so.M),e.Y36(ht.T),e.Y36(ba.Q),e.Y36(vn.sK),e.Y36(m.QS),e.Y36(zi._W))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-identityresource"]],viewQuery:function(n,d){if(1&n&&(e.Gf(M_,7),e.Gf(N_,7),e.Gf(Kp,7)),2&n){let A;e.iGM(A=e.CRH())&&(d.resourcesPicker=A.first),e.iGM(A=e.CRH())&&(d.tabComponent=A.first),e.iGM(A=e.CRH())&&(d.addIdentityResourceModal=A.first)}},hostBindings:function(n,d){1&n&&e.NdJ("keydown",function(M){return d.keydown(M)},!1,e.evT)},outputs:{onSubmit:"onSubmit"},decls:47,vars:36,consts:[["bsModal","","id","addIdentityModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addIdentityResourceModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],["tabs",""],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],["IdentityResourcePicker",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"disabled","click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return d.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10,11)(16,"span",8),e._uU(17),e.qZA()()(),e.TgZ(18,"div",12)(19,"div",13),e.YNc(20,vu,3,3,"p",14),e.YNc(21,$p,3,3,"p",14),e.qZA(),e.TgZ(22,"tabset",15,16)(24,"tab")(25,"form",17)(26,"app-form-row",18),e._UZ(27,"input",19),e.qZA(),e.TgZ(28,"app-form-row",18),e._UZ(29,"input",20),e.qZA(),e.TgZ(30,"app-form-row",21)(31,"textarea",22),e.NdJ("focus",function(){return d.descFocus=!d.descFocus})("blur",function(){return d.descFocus=!d.descFocus}),e.qZA()()()(),e.TgZ(32,"tab"),e._UZ(33,"app-common-picker",23,24),e.qZA()()(),e._UZ(35,"div",25),e.TgZ(36,"div",26)(37,"div",27)(38,"div",28),e.YNc(39,Md,3,4,"button",29),e.YNc(40,R_,3,4,"button",30),e.TgZ(41,"button",31),e.NdJ("click",function(){return d.previousTab()}),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"button",32),e.NdJ("click",function(){return d.cancel()}),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(35,Js)),e.xp6(6),e.Oqu(e.lcZ(7,27,"IdentityResources.Create")),e.xp6(5),e.Oqu(e.lcZ(12,29,"Common.Close")),e.xp6(3),e.Udp("width",d.progressPercent+"%"),e.xp6(3),e.Oqu(d.progressPercent+"%"),e.xp6(3),e.Q6J("ngIf",d.tabComponent.tabs[0].active),e.xp6(1),e.Q6J("ngIf",d.tabComponent.tabs[1].active),e.xp6(4),e.Q6J("formGroup",d.identityResourceForm),e.xp6(1),e.Q6J("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp")("isLast",!0),e.xp6(3),e.Q6J("assignedInput",d.assignedClaims)("availableInput",d.availableClaims)("availableSearch",!0),e.xp6(6),e.Q6J("ngIf",d.tabIndex<d.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("ngIf",d.tabIndex==d.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("disabled",0==d.tabIndex),e.xp6(1),e.Oqu(e.lcZ(43,31,"Common.Back")),e.xp6(3),e.Oqu(e.lcZ(46,33,"Common.Cancel")))},dependencies:[ie.O5,m._Y,m.Fj,m.JJ,m.JL,m.nD,m.sg,m.u,Ki.wW,Ki.AH,ml.v,Ls.oB,ar.L,vn.X$],encapsulation:2}),l})();function k_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(n),e.oxw();const A=e.MAs(3);return e.KtG(A.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Resources.AddResource")," "))}function Nd(l,h){1&l&&e._UZ(0,"app-simple-loader")}function Gp(l,h){1&l&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"IdentityResources.NoIdentityResources")))}function P_(l,h){1&l&&(e.TgZ(0,"span",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const L_=function(l,h){return{"fad fa-pencil":l,"fas fa-eye":h}};function B_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr",20)(1,"td",21),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e.TgZ(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",22),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e._uU(5),e.qZA(),e.TgZ(6,"td",23),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e._uU(7),e.qZA(),e.TgZ(8,"td",24),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e.YNc(9,P_,3,3,"span",25),e.qZA(),e.TgZ(10,"td",24),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e.TgZ(11,"button",26),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e._UZ(12,"span",27),e.TgZ(13,"span",17),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit,d=e.oxw(2);e.ekj("inactive",!n.enabled||(null==n?null:n.nonEditable)),e.xp6(2),e.ekj("tw-text-blue-500",!n.nonEditable),e.xp6(1),e.Oqu(n.displayName),e.xp6(2),e.hij(" ",n.name," "),e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.Q6J("ngIf",n.nonEditable),e.xp6(3),e.Q6J("ngClass",e.WLB(12,L_,!d.isIdentityServerManagerReadOnly&&!n.nonEditable,d.isIdentityServerManagerReadOnly||n.nonEditable)),e.xp6(2),e.Oqu(e.lcZ(15,10,"Common.Edit"))}}function U_(l,h){if(1&l&&(e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",14),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",15),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",16)(13,"span",17),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",16)(17,"span",17),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody",18),e.YNc(21,B_,16,15,"tr",19),e.qZA()()),2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Common.Name")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Common.ID")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Common.Description")),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.resources)}}function F_(l,h){if(1&l&&e._UZ(0,"app-pager",29),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.resources?null:n.resources.length)}}let _C=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe){this.identityResourceService=n,this.translate=d,this.router=A,this.errorService=M,this.localize=pe,this.titleService=Pe,this.securityService=Qe,this.term="",this.resources=[],this.isLoading=!0,this.searchTermStream=new H.x}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.IdentityResources")+` - ${tt.de.SITE_TITLE}`),this.searchTermStream.pipe((0,he.b)(300),(0,Ne.x)(),(0,se.U)(A=>(this.term=A,{search:A}))).pipe((0,Ae.O)({search:this.term}),(0,D.z)(A=>this.identityResourceService.getIdentityResources(A.search))).subscribe({next:A=>{this.sortResources(A),this.isLoading=!1},error:A=>{this.errorService.handleError(A),this.isLoading=!1}})}sortResources(n){n.sort((d,A)=>Number(A.nonEditable)-Number(d.nonEditable)),this.resources=n}search(n){this.searchTermStream.next(n)}viewOrEditResource(n){this.isIdentityServerManagerReadOnly||n.nonEditable?this.viewResource(n):this.editResource(n)}viewResource(n){const d=this.localize.translateRoute("/identityresources/view");this.router.navigate([d,n.id])}editResource(n){const d=this.localize.translateRoute("/identityresources");this.router.navigate([d,n.id])}refreshList(){this.ngOnInit()}get isIdentityServerManagerReadOnly(){return(0,St.gR)(this.securityService.userPermissions)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ba.Q),e.Y36(vn.sK),e.Y36(ri.F0),e.Y36(ht.T),e.Y36(mi.An),e.Y36(t.Dx),e.Y36(yi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:12,vars:11,consts:[[3,"title"],[3,"onSubmit"],["addIdentityResourcesModal",""],["id","identityResourceList",1,"tw-container","tw-mx-auto"],[3,"placeholder","onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(n,d){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-identityresource",1,2),e.NdJ("onSubmit",function(){return d.refreshList()}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(M){return d.search(M)}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,k_,5,3,"app-action-bar",5),e.YNc(8,Nd,1,0,"app-simple-loader",5),e.YNc(9,Gp,4,3,"div",6),e.YNc(10,U_,22,16,"table",7),e.YNc(11,F_,1,1,"app-pager",8),e.qZA()),2&n&&(e.Q6J("title",e.lcZ(1,7,"Nav.IdentityResources")),e.xp6(5),e.Q6J("placeholder",e.lcZ(6,9,"Resources.SearchPlaceholder")),e.xp6(2),e.Q6J("ngIf",!d.isLoading&&!d.isIdentityServerManagerReadOnly),e.xp6(1),e.Q6J("ngIf",d.isLoading),e.xp6(1),e.Q6J("ngIf",(!d.resources||d.resources.length<=0)&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",d.resources&&d.resources.length>0&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",d.resources&&d.resources.length>0&&!d.isLoading))},dependencies:[ie.mk,ie.sg,ie.O5,Gt.G,xn.P,Yn.K,Ii,Co.w,zp,vn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var gl=p(426);const Tc=function(l,h){return{title:l,link:h}},Rd=function(l){return[l]},yu=function(){return["active"]},Qp=function(){return{backdrop:"static",animated:!1}};let qp=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe,xt,Ft,cn){this.fb=n,this.route=d,this.router=A,this.titleService=M,this.identityResourceService=pe,this.toastr=Pe,this.translate=Qe,this.localize=xt,this.claimTypesService=Ft,this.scopesClaimService=cn}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(n=>{this.identityResource=n,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tt.de.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.scopesClaimService.setClaimTypes(n)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}delete(){return this.identityResourceService.deleteIdentityResource(this.identityResource.id).toPromise().then(()=>{this.toastr.success(this.translate.instant("Resources.RemovedResource"),this.translate.instant("Notifications.Success"));const n=this.localize.translateRoute("/identityresources");this.router.navigate([n])},()=>{this.toastr.error(this.translate.instant("Resources.RemovedResource"),this.translate.instant("Notifications.Failed"))})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(ri.gz),e.Y36(ri.F0),e.Y36(t.Dx),e.Y36(ba.Q),e.Y36(zi._W),e.Y36(vn.sK),e.Y36(mi.An),e.Y36(so.M),e.Y36(gl.q))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:68,vars:64,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editIdentityResource",1,"tw-container","mx-auto"],["bsModal","","id","deleteIdentityResource","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(n,d){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(M){return d.mobRoute(M.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.qZA()()()(),e.TgZ(21,"ul",9),e.ALo(22,"translate"),e.TgZ(23,"li",10)(24,"button",11),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"li",10)(28,"button",12),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"li",10)(32,"button",13),e._uU(33),e.ALo(34,"translate"),e.qZA()()(),e.BQk(),e.qZA(),e.TgZ(35,"div",14),e._UZ(36,"router-outlet"),e.qZA(),e.TgZ(37,"div",15)(38,"div",16)(39,"div",17)(40,"div",18)(41,"h5",19),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"button",20),e._UZ(45,"span",21),e.TgZ(46,"span",22),e._uU(47),e.ALo(48,"translate"),e.qZA()()(),e.TgZ(49,"div",23)(50,"p",24),e._uU(51),e.ALo(52,"translate"),e.TgZ(53,"strong"),e._uU(54),e.qZA(),e._uU(55,"?"),e.qZA(),e._UZ(56,"p",25),e.ALo(57,"translate"),e.qZA(),e._UZ(58,"div",26),e.TgZ(59,"div",27)(60,"div",28)(61,"div",29)(62,"button",30),e.NdJ("click",function(){return d.delete()}),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.TgZ(65,"button",31),e._uU(66),e.ALo(67,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("title",null==d.identityResource?null:d.identityResource.name)("crumbs",e.VKq(58,Rd,e.WLB(55,Tc,e.lcZ(1,23,"IdentityResources.Title"),e.lcZ(2,25,"/identityresources"))))("hasTabs",!0),e.xp6(6),e.Oqu(e.lcZ(7,27,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,29,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,31,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,33,"Nav.Claims")),e.xp6(3),e.Oqu("Nav.Properties | translate"),e.xp6(1),e.uIk("aria-label",e.lcZ(22,35,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(60,yu)),e.xp6(1),e.Oqu(e.lcZ(26,37,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(61,yu)),e.xp6(1),e.Oqu(e.lcZ(30,39,"Nav.Claims")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(62,yu)),e.xp6(1),e.Oqu(e.lcZ(34,41,"Nav.Properties")),e.xp6(4),e.Q6J("config",e.DdM(63,Qp)),e.xp6(5),e.Oqu(e.lcZ(43,43,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(48,45,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(52,47,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(null==d.identityResource?null:d.identityResource.displayName),e.xp6(2),e.Q6J("innerHTML",e.lcZ(57,49,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(64,51,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(67,53,"Common.Delete.No")))},dependencies:[ri.lC,ri.rH,ri.Od,m.YN,m.Kr,Ls.oB,Gt.G,vn.X$,mi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Cu=p(515),bu=p(262),wu=p(4879);let Ac=(()=>{class l{constructor(n,d){this.identityResourceService=n,this.errorService=d}resolve(n,d){const A=n.paramMap.get("Id");return this.identityResourceService.getResource(A).pipe((0,se.U)(M=>(M&&this.identityResourceService.getCachedIdentityResource().next(M),M)),(0,bu.K)((M,pe)=>(404===M.status?this.errorService.resourceNotFound(wu._.identityResource):this.errorService.handleError(M),(0,Cu.c)())))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(ba.Q),e.LFG(ht.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var Yp=p(1005),kd=p(9046),Bo=p(7733);const Xp=["ClaimPicker"],ef=["tabs"],_l=["addProtectedModal"];function Z_(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.EnterBasicDetails")))}function Pd(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ProtectedResources.AssignClaims")))}function Tu(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("disabled",n.protectedResourceForm.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function V_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.submit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.Save")))}const Ld=function(){return{animated:!1,backdrop:"static"}};let Au=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe){this.claimTypesService=n,this.errorService=d,this.protectedResourceService=A,this.translate=M,this.fb=pe,this.toastr=Pe,this.titleService=Qe,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.resourceSecrets=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.vpe}keydown(n){"Enter"===n.key&&this.protectedResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.availableClaims=n,this.allAvailableClaims=n},error:n=>{this.errorService.handleError(n)}}),this.protectedResourceForm=this.fb.group({name:["",[m.kI.required,m.kI.pattern(/^\S*$/)]],displayName:["",m.kI.required],description:["",m.kI.maxLength(1e3)]})}ngAfterViewInit(){this.handleClaims()}handleClaims(){this.claimPicker.assignedStream.subscribe(n=>{this.availableClaims=(0,St.mn)(this.availableClaims.slice(),n);const d=this.assignedClaims.slice();this.assignedClaims=d.concat(n),this.claimPicker.availableCount=0}),this.claimPicker.unAssignedStream.subscribe(n=>{const d=this.availableClaims;this.assignedClaims=(0,St.mn)(this.assignedClaims.slice(),n),this.availableClaims=d.concat(n),this.claimPicker.assignedCount=0})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const n=(0,ca.UI)(this.assignedClaims,function(A){return A.name}),d=Object.assign(this.protectedResourceForm.value,{allowedClaims:n},{resourceSecrets:this.resourceSecrets});this.protectedResourceService.addResource(d).subscribe(A=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.onSubmit.emit(),this.resetWizard(),this.hide()},A=>{this.errorService.handleError(A)})}resetWizard(){this.protectedResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.resourceSecrets=[],this.availableClaims=this.allAvailableClaims}hide(){this.addProtectedModal.hide()}show(){this.addProtectedModal.show()}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(so.M),e.Y36(ht.T),e.Y36(Bo.m),e.Y36(vn.sK),e.Y36(m.QS),e.Y36(zi._W),e.Y36(t.Dx))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-protectedresource"]],viewQuery:function(n,d){if(1&n&&(e.Gf(Xp,7),e.Gf(ef,7),e.Gf(_l,7)),2&n){let A;e.iGM(A=e.CRH())&&(d.claimPicker=A.first),e.iGM(A=e.CRH())&&(d.tabComponent=A.first),e.iGM(A=e.CRH())&&(d.addProtectedModal=A.first)}},hostBindings:function(n,d){1&n&&e.NdJ("keydown",function(M){return d.keydown(M)},!1,e.evT)},outputs:{onSubmit:"onSubmit"},decls:45,vars:34,consts:[["bsModal","","id","addProtectedModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addProtectedModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],["tabs",""],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],["ClaimPicker",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return d.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9),e._UZ(14,"div",10,11),e.qZA(),e.TgZ(16,"div",12)(17,"div",13),e.YNc(18,Z_,3,3,"p",14),e.YNc(19,Pd,3,3,"p",14),e.qZA(),e.TgZ(20,"tabset",15,16)(22,"tab")(23,"form",17)(24,"app-form-row",18),e._UZ(25,"input",19),e.qZA(),e.TgZ(26,"app-form-row",18),e._UZ(27,"input",20),e.qZA(),e.TgZ(28,"app-form-row",18)(29,"textarea",21),e.NdJ("focus",function(){return d.descFocus=!d.descFocus})("blur",function(){return d.descFocus=!d.descFocus}),e.qZA()()()(),e.TgZ(30,"tab"),e._UZ(31,"app-common-picker",22,23),e.qZA()()(),e._UZ(33,"div",24),e.TgZ(34,"div",25)(35,"div",26)(36,"div",27),e.YNc(37,Tu,3,4,"button",28),e.YNc(38,V_,3,3,"button",29),e.TgZ(39,"button",30),e.NdJ("click",function(){return d.previousTab()}),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"button",31),e.NdJ("click",function(){return d.cancel()}),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(33,Ld)),e.xp6(6),e.Oqu(e.lcZ(7,25,"ProtectedResources.Create")),e.xp6(5),e.Oqu(e.lcZ(12,27,"Common.Close")),e.xp6(3),e.Udp("width",d.progressPercent+"%"),e.xp6(4),e.Q6J("ngIf",d.tabComponent.tabs[0].active),e.xp6(1),e.Q6J("ngIf",d.tabComponent.tabs[1].active),e.xp6(4),e.Q6J("formGroup",d.protectedResourceForm),e.xp6(1),e.Q6J("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.xp6(3),e.Q6J("assignedInput",d.assignedClaims)("availableInput",d.availableClaims)("availableSearch",!0),e.xp6(6),e.Q6J("ngIf",d.tabIndex<d.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("ngIf",d.tabIndex==d.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("disabled",0==d.tabIndex),e.xp6(1),e.Oqu(e.lcZ(41,29,"Common.Back")),e.xp6(3),e.Oqu(e.lcZ(44,31,"Common.Cancel")))},dependencies:[ie.O5,m._Y,m.Fj,m.JJ,m.JL,m.nD,m.sg,m.u,Ki.wW,Ki.AH,ml.v,Ls.oB,ar.L,vn.X$],encapsulation:2}),l})();function vl(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",13)(1,"label",14),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"select",15),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw(2);return e.KtG(M.pageSize=A)})("change",function(){e.CHM(n);const A=e.oxw(2);return e.KtG(A.setPageLength(+A.pageSize))}),e.TgZ(5,"option",16),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"option",17),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"option",18),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&l){const n=e.oxw(2);e.xp6(2),e.AsE("",n.pageSize," ",e.lcZ(3,6,"Nav.PerPage"),""),e.xp6(2),e.Q6J("ngModel",n.pageSize),e.xp6(2),e.hij("25 ",e.lcZ(7,8,"Nav.PerPage"),""),e.xp6(3),e.hij("50 ",e.lcZ(10,10,"Nav.PerPage"),""),e.xp6(3),e.hij("100 ",e.lcZ(13,12,"Nav.PerPage"),"")}}function tf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.YNc(2,vl,14,14,"div",10),e.BQk(),e.ynx(3,11),e.TgZ(4,"button",12),e.NdJ("click",function(){e.CHM(n),e.oxw();const A=e.MAs(3);return e.KtG(A.show())}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk(),e.qZA()}if(2&l){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.xp6(3),e.hij(" ",e.lcZ(6,2,"Resources.AddResource")," ")}}function Bd(l,h){1&l&&e._UZ(0,"app-simple-loader")}function H_(l,h){1&l&&(e.TgZ(0,"div",19)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ProtectedResources.NoneFound")))}function J_(l,h){1&l&&(e.TgZ(0,"span",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const nf=function(l,h){return{"fad fa-pencil":l,"fas fa-eye":h}};function Hl(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr",28)(1,"td",29),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e.TgZ(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",30),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e._uU(5),e.qZA(),e.TgZ(6,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e._uU(7),e.qZA(),e.TgZ(8,"td",32),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e.YNc(9,J_,3,3,"span",33),e.qZA(),e.TgZ(10,"td",32),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e.TgZ(11,"button",34),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.viewOrEditResource(M))}),e._UZ(12,"span",35),e.TgZ(13,"span",25),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit,d=e.oxw(2);e.ekj("inactive",!n.enabled||(null==n?null:n.nonEditable)),e.xp6(2),e.ekj("tw-text-blue-500",!n.nonEditable),e.xp6(1),e.Oqu(n.displayName),e.xp6(2),e.hij(" ",n.name," "),e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.Q6J("ngIf",n.nonEditable),e.xp6(3),e.Q6J("ngClass",e.WLB(12,nf,!d.isIdentityServerManagerReadOnly&&!n.nonEditable,d.isIdentityServerManagerReadOnly||n.nonEditable)),e.xp6(2),e.Oqu(e.lcZ(15,10,"Common.Edit"))}}function W_(l,h){if(1&l&&(e.TgZ(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",22),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",23),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",24)(13,"span",25),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",24)(17,"span",25),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody",26),e.YNc(21,Hl,16,15,"tr",27),e.qZA()()),2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Common.Name")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Common.ID")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Common.Description")),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.pagedResult.results)}}function j_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-pager",37),e.NdJ("onGoToPage",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.goToPage(A))}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}let K_=(()=>{class l extends kd.bk{constructor(n,d,A,M,pe,Pe,Qe,xt){super(Qe,Pe,!0),this.protectedResourcesService=n,this.router=d,this.errorService=A,this.localize=M,this.titleService=pe,this.translate=Pe,this.securityService=xt,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.pageStream=new H.x,this.pageSizeStream=new H.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(n){return this.term=n,this.page=1,{searchTerm:n,page:this.page,pageSize:this.pageSize}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ProtectedResources")+` - ${tt.de.SITE_TITLE}`);const n=this.pageStream.pipe((0,se.U)(M=>(this.page=M,{searchTerm:this.term,page:M,pageSize:this.pageSize}))),d=this.pageSizeStream.pipe((0,se.U)(M=>(this.pageSize=M,{searchTerm:this.term,page:this.page,pageSize:M})));n.pipe((0,F.b)(d),(0,F.b)(this.searchSource),(0,F.b)(this.enterKeySource),(0,Ae.O)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,D.z)(M=>(this.isLoading=!0,this.protectedResourcesService.getResourcesPaginated(M.searchTerm,M.page,M.pageSize).pipe((0,Yp.g)(200))))).subscribe({next:M=>{this.pagedResult=M,this.isLoading=!1},error:M=>{this.errorService.handleError(M),this.isLoading=!1}})}searchResource(n){this.searchTermStream.next(n)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}viewOrEditResource(n){this.isIdentityServerManagerReadOnly||n.nonEditable?this.viewResource(n):this.editResource(n)}viewResource(n){const d=this.localize.translateRoute("/protectedresources/view");this.router.navigate([d,n.id])}editResource(n){const d=this.localize.translateRoute("/protectedresources");this.router.navigate([d,n.id])}get isIdentityServerManagerReadOnly(){return(0,St.gR)(this.securityService.userPermissions)}refreshList(){this.ngOnInit()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Bo.m),e.Y36(ri.F0),e.Y36(ht.T),e.Y36(mi.An),e.Y36(t.Dx),e.Y36(vn.sK),e.Y36(zi._W),e.Y36(yi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],features:[e.qOj],decls:12,vars:11,consts:[[3,"title"],[3,"onSubmit"],["listProtectedResourcesModal",""],["id","protectedResourcesList",1,"tw-container","tw-mx-auto"],[3,"placeholder","onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(n,d){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-protectedresource",1,2),e.NdJ("onSubmit",function(){return d.refreshList()}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(M){return d.searchResource(M)}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,tf,7,4,"app-action-bar",5),e.YNc(8,Bd,1,0,"app-simple-loader",5),e.YNc(9,H_,4,3,"div",6),e.YNc(10,W_,22,16,"table",7),e.YNc(11,j_,1,3,"app-pager",8),e.qZA()),2&n&&(e.Q6J("title",e.lcZ(1,7,"ProtectedResources.TitlePlural")),e.xp6(5),e.Q6J("placeholder",e.lcZ(6,9,"Resources.SearchPlaceholder")),e.xp6(2),e.Q6J("ngIf",!d.isLoading&&!d.isIdentityServerManagerReadOnly),e.xp6(1),e.Q6J("ngIf",d.isLoading),e.xp6(1),e.Q6J("ngIf",(!d.pagedResult||d.pagedResult.results.length<=0)&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",d.pagedResult&&d.pagedResult.results.length>0&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",(null==d.pagedResult?null:d.pagedResult.results.length)>0&&!d.isLoading))},dependencies:[ie.mk,ie.sg,ie.O5,m.YN,m.Kr,m.EJ,m.JJ,m.On,Gt.G,xn.P,Yn.K,Ii,Co.w,Au,vn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})(),Ud=(()=>{class l{constructor(n,d){this.protectedResourceService=n,this.errorService=d}resolve(n,d){const A=n.paramMap.get("Id");return this.protectedResourceService.getResource(A).pipe((0,se.U)(M=>(M&&this.protectedResourceService.getCachedProtectedResource().next(M),M)),(0,bu.K)((M,pe)=>(404===M.status?this.errorService.resourceNotFound(wu._.protectedResource):this.errorService.handleError(M),(0,Cu.c)())))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(Bo.m),e.LFG(ht.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();function Fd(l,h){1&l&&(e.TgZ(0,"div",36),e._UZ(1,"router-outlet"),e.qZA())}const $_=function(l,h){return{title:l,link:h}},rf=function(l){return[l]},Sc=function(){return["active"]},sf=function(){return{backdrop:"static",animated:!1}};function z_(){return Object.assign(new Lo.gd,{closeOthers:!0})}let G_=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe,xt,Ft,cn){this.fb=n,this.route=d,this.router=A,this.titleService=M,this.protectedResourceService=pe,this.claimTypesService=Pe,this.toastr=Qe,this.translate=xt,this.localize=Ft,this.scopesClaimService=cn}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n;const d=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+tt.de.SITE_TITLE;this.titleService.setTitle(d)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.scopesClaimService.setClaimTypes(n)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}delete(){return this.protectedResourceService.deleteProtectedResource(this.protectedResource.id).toPromise().then(n=>{const d=this.localize.translateRoute("/protectedresources");this.router.navigate([d]),this.toastr.success(this.translate.instant("Resources.RemovedResource"),this.translate.instant("Notifications.Success"))},n=>{this.toastr.error("Removed Resource","Failed!")})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(ri.gz),e.Y36(ri.F0),e.Y36(t.Dx),e.Y36(Bo.m),e.Y36(so.M),e.Y36(zi._W),e.Y36(vn.sK),e.Y36(mi.An),e.Y36(gl.q))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-edit-protectedresource"]],features:[e._Bn([{provide:Lo.gd,useFactory:z_}])],decls:82,vars:83,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],["bsModal","","id","deleteProtectedResource","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"],["id","editProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(n,d){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(M){return d.mobRoute(M.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"option",9),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"option",10),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.TgZ(28,"ul",11),e.ALo(29,"translate"),e.TgZ(30,"li",12)(31,"button",13),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"li",12)(35,"button",14),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"li",12)(39,"button",15),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"li",12)(43,"button",16),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"li",12)(47,"button",17),e._uU(48),e.ALo(49,"translate"),e.qZA()()(),e.BQk(),e.qZA(),e.YNc(50,Fd,2,0,"div",18),e.TgZ(51,"div",19)(52,"div",20)(53,"div",21)(54,"div",22)(55,"h5",23),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"button",24),e._UZ(59,"span",25),e.TgZ(60,"span",26),e._uU(61),e.ALo(62,"translate"),e.qZA()()(),e.TgZ(63,"div",27)(64,"p",28),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"strong"),e._uU(68),e.qZA(),e._uU(69,"?"),e.qZA(),e._UZ(70,"p",29),e.ALo(71,"translate"),e.qZA(),e._UZ(72,"div",30),e.TgZ(73,"div",31)(74,"div",32)(75,"div",33)(76,"button",34),e.NdJ("click",function(){return d.delete()}),e._uU(77),e.ALo(78,"translate"),e.qZA()(),e.TgZ(79,"button",35),e._uU(80),e.ALo(81,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("title",null==d.protectedResource?null:d.protectedResource.name)("crumbs",e.VKq(75,rf,e.WLB(72,$_,e.lcZ(1,30,"ProtectedResources.Title"),e.lcZ(2,32,"/protectedresources"))))("hasTabs",!0),e.xp6(6),e.Oqu(e.lcZ(7,34,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,36,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,38,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,40,"Nav.Scopes")),e.xp6(3),e.Oqu(e.lcZ(21,42,"Nav.Claims")),e.xp6(3),e.Oqu(e.lcZ(24,44,"Nav.Secrets")),e.xp6(3),e.Oqu(e.lcZ(27,46,"Nav.Properties")),e.xp6(2),e.uIk("aria-label",e.lcZ(29,48,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(77,Sc)),e.xp6(1),e.Oqu(e.lcZ(33,50,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(78,Sc)),e.xp6(1),e.Oqu(e.lcZ(37,52,"Nav.Scopes")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(79,Sc)),e.xp6(1),e.Oqu(e.lcZ(41,54,"Nav.Claims")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(80,Sc)),e.xp6(1),e.Oqu(e.lcZ(45,56,"Nav.Secrets")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(81,Sc)),e.xp6(1),e.Oqu(e.lcZ(49,58,"Nav.Properties")),e.xp6(2),e.Q6J("ngIf",d.protectedResource),e.xp6(1),e.Q6J("config",e.DdM(82,sf)),e.xp6(5),e.Oqu(e.lcZ(57,60,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(62,62,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(66,64,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(d.protectedResource.displayName),e.xp6(2),e.Q6J("innerHTML",e.lcZ(71,66,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(78,68,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(81,70,"Common.Delete.No")))},dependencies:[ie.O5,ri.lC,ri.rH,ri.Od,m.YN,m.Kr,Ls.oB,Gt.G,vn.X$,mi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})(),xc=(()=>{class l{constructor(n,d,A){this.authService=n,this.securityService=d,this.appComponentViewService=A}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(n=>{this.authService.user=n.username,this.authService.isAuthenticated=n.isAuthenticated,n.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(n)})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(fr.e),e.Y36(yi.I),e.Y36($s.t))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-auth"]],decls:0,vars:0,template:function(n,d){},encapsulation:2}),l})();class Q_{}var wa=p(8564);let yl=(()=>{class l{constructor(n,d){this.http=n,this.headersService=d,this.actionUrl="policy",this.headers=d.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(n){return this.http.put(this.actionUrl,n,{headers:this.headers})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN),e.LFG(wa.s))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class q_{constructor(h,n,d){this.isDateTime=!1,this.type=h,this.value=n,this.permission=d}}var vC=p(274),Zd=p(4225);const Y_=["addPolicyModal"];function X_(l,h){if(1&l&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&l){const n=h.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.name," ")}}function ev(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",31),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.value=A)}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("ngModel",n.value)}}function af(l,h){if(1&l&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&l){const n=h.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.name," ")}}function tv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",11)(1,"select",32),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.value=A)}),e.YNc(2,af,2,1,"option",13),e.qZA()()}if(2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngModel",n.value),e.xp6(1),e.Q6J("ngForOf",n.avaliableRoles)}}function Vd(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",31),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.value=A)}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("ngModel",n.value)}}function nv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",33),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.value=A)}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("ngModel",n.value)}}function iv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",11)(1,"select",32),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.value=A)}),e.TgZ(2,"option",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"option",35),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngModel",n.value),e.xp6(2),e.Oqu(e.lcZ(4,3,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(7,5,"Common.False"))}}function Hd(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",36)(1,"app-enum-claim-type-input",37),e.NdJ("valueChanged",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.value=A)}),e.qZA()()}if(2&l){const n=e.oxw();e.Q6J("id","value-for-"+n.selectedClaimType.id),e.xp6(1),e.Q6J("id","claimsFormInput")("typeId",n.selectedClaimType.id)("hostingModal","addPolicyModal")("value",n.value)}}function yC(l,h){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",40),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw(2);return e.KtG(M.value=A)}),e.qZA(),e.BQk()}if(2&l){const n=e.oxw(2);e.xp6(1),e.Q6J("ngModel",n.value)}}function CC(l,h){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",41),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw(2);return e.KtG(M.value=A)}),e.qZA(),e.BQk()}if(2&l){const n=e.oxw(2);e.xp6(1),e.Q6J("ngModel",n.value)("displayType","date")}}function Jd(l,h){if(1&l&&(e.TgZ(0,"div",38),e.YNc(1,yC,2,1,"ng-container",39),e.YNc(2,CC,2,2,"ng-container",39),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf","birthdate"!=n.claimType),e.xp6(1),e.Q6J("ngIf","birthdate"==n.claimType)}}function bC(l,h){if(1&l&&(e.TgZ(0,"option",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const n=h.$implicit;e.s9C("value",n),e.xp6(1),e.hij(" ",e.lcZ(2,2,"Permission."+n)," ")}}const wC=function(){return{animated:!1,backdrop:"static"}};let TC=(()=>{class l{constructor(n){this.toastr=n,this.added=new e.vpe,this.addAnother=!1}keydown(n){"Enter"===n.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(n=>n.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const n=new q_(this.claimType,this.value,this.permission);this.added.next(n),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(zi._W))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-accesspolicy"]],viewQuery:function(n,d){if(1&n&&e.Gf(Y_,7),2&n){let A;e.iGM(A=e.CRH())&&(d.addPolicyModal=A.first)}},hostBindings:function(n,d){1&n&&e.NdJ("keydown",function(M){return d.keydown(M)},!1,e.evT)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},decls:46,vars:38,consts:[["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],["addPolicyModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],["value","true"],["value","false"],[1,"",3,"id"],[3,"id","typeId","hostingModal","value","valueChanged"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModel","ngModelChange"],["id","formClaimValue","required","true",3,"ngModel","displayType","ngModelChange"],[3,"value"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return d.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),e.NdJ("ngModelChange",function(M){return d.claimType=M})("ngModelChange",function(){return d.getClaimType()}),e._UZ(17,"option"),e.YNc(18,X_,2,1,"option",13),e.qZA()()(),e.TgZ(19,"app-form-row",14),e.YNc(20,ev,1,1,"input",15),e.YNc(21,tv,3,2,"div",16),e.YNc(22,Vd,1,1,"input",15),e.YNc(23,nv,1,1,"input",17),e.YNc(24,iv,8,7,"div",16),e.YNc(25,Hd,2,5,"div",18),e.YNc(26,Jd,3,2,"div",19),e.qZA(),e.TgZ(27,"app-form-row",20)(28,"div",11)(29,"select",21),e.NdJ("ngModelChange",function(M){return d.permission=M}),e._UZ(30,"option"),e.YNc(31,bC,3,4,"option",22),e.qZA()()()(),e._UZ(32,"div",23),e.TgZ(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),e.NdJ("click",function(){return d.addPolicy(),d.hide()}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"span",28)(40,"button",29),e.NdJ("click",function(){return d.addAnotherPolicy()}),e._uU(41),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",30),e.NdJ("click",function(){return d.hide()}),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(37,wC)),e.xp6(6),e.Oqu(e.lcZ(7,27,"Settings.AccessPolicy.NewPolicy")),e.xp6(5),e.Oqu(e.lcZ(12,29,"Common.Close")),e.xp6(3),e.Q6J("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),e.xp6(2),e.Q6J("ngModel",d.claimType),e.xp6(2),e.Q6J("ngForOf",d.avaliableClaimTypes),e.xp6(1),e.Q6J("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==d.selectedClaimType?null:d.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),e.xp6(1),e.Q6J("ngIf",null==d.claimType||""==d.claimType),e.xp6(1),e.Q6J("ngIf","role"==d.claimType),e.xp6(1),e.Q6J("ngIf","String"==(null==d.selectedClaimType?null:d.selectedClaimType.valueType)&&"role"!=d.claimType),e.xp6(1),e.Q6J("ngIf","Int"==(null==d.selectedClaimType?null:d.selectedClaimType.valueType)&&"role"!=d.claimType),e.xp6(1),e.Q6J("ngIf","Boolean"==(null==d.selectedClaimType?null:d.selectedClaimType.valueType)&&"role"!=d.claimType),e.xp6(1),e.Q6J("ngIf","Enum"==(null==d.selectedClaimType?null:d.selectedClaimType.valueType)),e.xp6(1),e.Q6J("ngIf","DateTime"==(null==d.selectedClaimType?null:d.selectedClaimType.valueType)&&"role"!=d.claimType),e.xp6(1),e.Q6J("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),e.xp6(2),e.Q6J("ngModel",d.permission),e.xp6(2),e.Q6J("ngForOf",d.avaliablePermissions),e.xp6(5),e.Q6J("disabled",!d.isValid()),e.xp6(1),e.Oqu(e.lcZ(38,31,"Common.Add")),e.xp6(3),e.Q6J("disabled",!d.isValid()),e.xp6(1),e.Oqu(e.lcZ(42,33,"Common.AddAndAdd")),e.xp6(3),e.Oqu(e.lcZ(45,35,"Common.Cancel")))},dependencies:[ie.sg,ie.O5,m.YN,m.Kr,m.Fj,m.wV,m.EJ,m.JJ,m.Q7,m.On,Ls.oB,ar.L,vC.V,Zd.j,vn.X$],encapsulation:2}),l})();var AC=p(3110);const SC=["deleteAccessPolicyModal"];function rv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,24),e.TgZ(2,"button",25),e.NdJ("click",function(){e.CHM(n),e.oxw();const A=e.MAs(1);return e.KtG(A.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Settings.AccessPolicy.Add")," "))}function lf(l,h){1&l&&e._UZ(0,"app-simple-loader")}function Wd(l,h){if(1&l&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&l){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.value," ")}}function cf(l,h){if(1&l&&(e.TgZ(0,"td",39),e._uU(1),e.ALo(2,"standardDate"),e.qZA()),2&l){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.value)," ")}}function uf(l,h){1&l&&(e.TgZ(0,"span",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}function df(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(n);const A=e.oxw().$implicit,M=e.oxw(2);return e.KtG(M.openDeletePolicyConfirmation(A.type,A.value,A.permission))}),e._UZ(1,"span",14),e.TgZ(2,"span",15),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Common.Remove.Title")," "))}const jd=function(l){return{"inactive disabled":l}};function sv(l,h){if(1&l&&(e.TgZ(0,"tr",32)(1,"td",33)(2,"b"),e._uU(3),e.qZA()(),e.YNc(4,Wd,2,1,"td",34),e.YNc(5,cf,3,3,"ng-template",null,35,e.W1O),e.TgZ(7,"td",36),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"td"),e.YNc(11,uf,3,3,"span",37),e.qZA(),e.TgZ(12,"td"),e.YNc(13,df,5,3,"button",38),e.qZA()()),2&l){const n=h.$implicit,d=e.MAs(6);e.Q6J("ngClass",e.VKq(9,jd,"role"===n.type&&"AdminUI Administrator"===n.value&&"All"===n.permission)),e.xp6(3),e.Oqu(n.type),e.xp6(1),e.Q6J("ngIf",!n.isDateTime)("ngIfElse",d),e.xp6(4),e.hij(" ",e.lcZ(9,7,"Permission."+n.permission)," "),e.xp6(3),e.Q6J("ngIf","role"===n.type&&"AdminUI Administrator"===n.value&&"All"===n.permission),e.xp6(2),e.Q6J("ngIf",!("role"==n.type&&"AdminUI Administrator"==n.value&&"All"==n.permission))}}function Kd(l,h){if(1&l&&(e.TgZ(0,"table",26)(1,"thead")(2,"tr")(3,"th",27),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",28),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",29),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",30)(13,"span",15),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",30)(17,"span",15),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody"),e.YNc(21,sv,14,11,"tr",31),e.qZA(),e._UZ(22,"tbody"),e.qZA()),2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Settings.AccessPolicy.ClaimType")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Settings.AccessPolicy.ClaimValue")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Settings.AccessPolicy.Permission")),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",null==n.accessPolicy?null:n.accessPolicy.policyClaims)}}function Ec(l,h){if(1&l&&e._UZ(0,"app-pager",42),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.accessPolicy||null==n.accessPolicy.policyClaims?null:n.accessPolicy.policyClaims.length)}}const ov=function(){return{animated:!1,backdrop:"static"}};let av=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe){this.accessPolicyService=n,this.translate=d,this.toastr=A,this.errorService=M,this.healthCheckService=pe,this.dialogService=Pe,this.activatedRoute=Qe,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(n=>{this.accessPolicyResolverData=n.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const d=this.accessPolicyResolverData.accessPolicy.policyClaims.find(A=>"role"===A.type&&"AdminUI Administrator"===A.value&&"All"===A.permission);this.accessPolicy=new Q_,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((A,M)=>A===d?-1:M===d?1:0),this.accessPolicy.policyClaims.forEach(A=>{Bi.ou.fromISO(A.value).isValid&&(A.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((A,M)=>A.name.toUpperCase()<M.name.toUpperCase()?-1:A.name.toUpperCase()>M.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1})}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(n=>n.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(n){this.hasChanged=!0,this.accessPolicy.policyClaims.push(n),this.warnToSave()}openDeletePolicyConfirmation(n,d,A){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(M=>M.type===n&&M.value===d&&M.permission===A),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(n){this.accessPolicy.policyClaims.splice(n,1),this.hasChanged=!0,this.deleteAccessPolicyModal.hide(),this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(n=>{this.accessPolicy=n;const d=this.accessPolicy.policyClaims.find(A=>"role"===A.type&&"AdminUI Administrator"===A.value&&"All"===A.permission);this.accessPolicy.policyClaims.sort((A,M)=>A===d?-1:M===d?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},n=>{"409"===n.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(n)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(yl),e.Y36(vn.sK),e.Y36(zi._W),e.Y36(ht.T),e.Y36(Pi.G),e.Y36(pl.x),e.Y36(ri.gz))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-update-accesspolicy"]],viewQuery:function(n,d){if(1&n&&e.Gf(SC,7),2&n){let A;e.iGM(A=e.CRH())&&(d.deleteAccessPolicyModal=A.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},decls:39,vars:29,consts:[[3,"avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy","added"],["addPolicyModal",""],[1,"tw-container","tw-mx-auto"],[4,"ngIf"],["class","datatable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["bsModal","","id","deleteAccessPolicyModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteAccessPolicyModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["right",""],[1,"tw-btn-success",3,"click"],[1,"datatable","hover"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],["dateTimePolicy",""],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],["class","tw-pill",4,"ngIf"],["id","remove","class","tw-btn-link tw-btn-small tw-text-red-500",3,"click",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-pill"],["id","remove",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["hidePager","true",3,"totalResults"]],template:function(n,d){1&n&&(e.TgZ(0,"app-add-accesspolicy",0,1),e.NdJ("added",function(M){return d.addPolicy(M)}),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,rv,5,3,"app-action-bar",3),e.YNc(4,lf,1,0,"app-simple-loader",3),e.YNc(5,Kd,23,16,"table",4),e.YNc(6,Ec,1,1,"app-pager",5),e.qZA(),e.TgZ(7,"app-button-bar")(8,"button",6),e.NdJ("click",function(){return d.updatePolicy()}),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",7,8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h5",12),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){return d.closeDeleteModal()}),e._UZ(20,"span",14),e.TgZ(21,"span",15),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"div",16)(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e._UZ(28,"div",18),e.TgZ(29,"div",19)(30,"div",20)(31,"div",21)(32,"button",22),e.NdJ("click",function(){return d.removePolicy(d.indexToDelete)}),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"button",23),e.NdJ("click",function(){return d.closeDeleteModal()}),e._uU(36),e.ALo(37,"translate"),e.qZA()()()()()(),e._UZ(38,"app-can-deactivate")),2&n&&(e.Q6J("avaliableClaimTypes",d.avaliableClaimTypes)("avaliableRoles",d.avaliableRoles)("avaliablePermissions",d.avaliablePermissions)("accessPolicy",d.accessPolicy),e.xp6(3),e.Q6J("ngIf",!d.isLoading),e.xp6(1),e.Q6J("ngIf",d.isLoading),e.xp6(1),e.Q6J("ngIf",(null==d.accessPolicy||null==d.accessPolicy.policyClaims?null:d.accessPolicy.policyClaims.length)>0&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",(null==d.accessPolicy||null==d.accessPolicy.policyClaims?null:d.accessPolicy.policyClaims.length)>0&&!d.isLoading),e.xp6(2),e.Q6J("disabled",d.saveDisabled),e.xp6(1),e.hij(" ",e.lcZ(10,16,"Common.Save")," "),e.xp6(2),e.Q6J("config",e.DdM(28,ov)),e.xp6(6),e.Oqu(e.lcZ(18,18,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(23,20,"Common.Close")),e.xp6(4),e.Oqu(e.lcZ(27,22,"Common.Delete.AreYouSureSimple3")),e.xp6(7),e.Oqu(e.lcZ(34,24,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(37,26,"Common.Delete.No")))},dependencies:[ie.mk,ie.sg,ie.O5,Ls.oB,Vl.J,xn.P,Co.w,Yn.K,fl.N,TC,vn.X$,AC.g9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Za=p(590),hf=p(2076),lv=p(1058);function cv(l,h){1&l&&e._UZ(0,"span",27)}let uv=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe){this.authService=n,this.securityService=d,this.titleService=A,this.healthCheckService=M,this.localizeRouter=pe,this.router=Pe,this.loginTrackingService=Qe,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${tt.de.SITE_TITLE}`),this.versionNumber=be;const xt=new Date;this.appCopyright=2017!==xt.getFullYear()?"2017 - "+xt.getFullYear():"2017"}get LinkConstants(){return al.U}ngOnInit(){this.startLogin=!1;const n=this.healthCheckService.idsHealthCheckComplete.pipe((0,Za.P)()),d=this.healthCheckService.uiHealthCheckComplete.pipe((0,Za.P)());(0,Ks.D)([n,d]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const n=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,hf.D)(this.router.navigate([n]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(fr.e),e.Y36(yi.I),e.Y36(t.Dx),e.Y36(Pi.G),e.Y36(mi.An),e.Y36(ri.F0),e.Y36(lv.U))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-landing-page"]],decls:49,vars:28,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],["href","mailto:sales@identityserver.com?subject=AdminUI",1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","trans"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"header",3),e._UZ(4,"img",4),e.TgZ(5,"span",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"h2",8),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p",9),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p",10),e._uU(16),e.ALo(17,"translate"),e.TgZ(18,"a",11),e._uU(19," sales@identityserver.com "),e.qZA()(),e.TgZ(20,"div",12)(21,"button",13),e.NdJ("click",function(){return d.login()}),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.YNc(24,cv,1,0,"span",14),e.qZA(),e.TgZ(25,"ul",15)(26,"li",16)(27,"a",17),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"span",18),e._uU(31,"\u2022"),e.qZA()(),e.TgZ(32,"li",16)(33,"a",17),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"span",18),e._uU(37,"\u2022"),e.qZA()(),e.TgZ(38,"li",19)(39,"a",20),e._uU(40),e.ALo(41,"translate"),e.qZA()()()(),e.TgZ(42,"div",21),e._UZ(43,"app-rss-feed",22),e.qZA(),e.TgZ(44,"footer",23)(45,"a",24),e._UZ(46,"img",25),e.TgZ(47,"span",26),e._uU(48),e.qZA()()()()()),2&n&&(e.xp6(6),e.hij("v",d.versionNumber,""),e.xp6(4),e.hij("",e.lcZ(11,14,"LandingPage.Welcome")," AdminUI"),e.xp6(3),e.Oqu(e.lcZ(14,16,"LandingPage.IntroParagraph1")),e.xp6(3),e.hij(" ",e.lcZ(17,18,"LandingPage.IntroParagraph2")," "),e.xp6(5),e.Q6J("disabled",!d.loginAllowed||d.startLogin),e.xp6(1),e.hij(" ",e.lcZ(23,20,"Nav.Login")," "),e.xp6(2),e.Q6J("ngIf",d.startLogin),e.xp6(3),e.s9C("href",d.LinkConstants.ApiDocsLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(29,22,"LandingPage.APIDocs")," "),e.xp6(5),e.s9C("href",d.LinkConstants.DocsLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(35,24,"LandingPage.Documentation")," "),e.xp6(5),e.s9C("href",d.LinkConstants.SupportLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(41,26,"Nav.Support")," "),e.xp6(8),e.hij("\xa9 ",d.appCopyright,""))},dependencies:[ie.O5,Ll,vn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Ms=p(8677);function $d(l,h){1&l&&(e.TgZ(0,"option",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Nav.AccessPolicy")))}function dv(l,h){1&l&&(e.TgZ(0,"option",16),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Nav.Keys")))}const zd=function(){return["active"]};function hv(l,h){1&l&&(e.TgZ(0,"li",17)(1,"button",18),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(1),e.Q6J("routerLinkActive",e.DdM(4,zd)),e.xp6(1),e.Oqu(e.lcZ(3,2,"Nav.AccessPolicy")))}function pf(l,h){1&l&&(e.TgZ(0,"li",19)(1,"button",20),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(1),e.Q6J("routerLinkActive",e.DdM(4,zd)),e.xp6(1),e.Oqu(e.lcZ(3,2,"Nav.Keys")))}let pv=(()=>{class l{constructor(n,d,A){this.titleService=n,this.translate=d,this.configService=A,this.targetIdentityServer4=!1,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,Za.P)()).subscribe(n=>{this.targetIdentityServer4=n.targetIdentityServer4,this.hideAccessPolicy=n.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${tt.de.SITE_TITLE}`)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(vn.sK),e.Y36(vs.E))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-settings"]],decls:26,vars:25,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Keys",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item","id","keysTab",4,"ngIf"],["value","Access Policy"],["value","Keys"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"],["id","keysTab",1,"tabs__item"],["routerLink","keys","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(n,d){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ynx(2,1),e.TgZ(3,"div",2)(4,"label",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",4)(8,"select",5)(9,"option",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.YNc(12,$d,3,3,"option",7),e.YNc(13,dv,3,3,"option",8),e.TgZ(14,"option",9),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"ul",10),e.ALo(18,"translate"),e.YNc(19,hv,4,5,"li",11),e.TgZ(20,"li",12)(21,"button",13),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.YNc(24,pf,4,5,"li",14),e.qZA(),e.BQk(),e.qZA(),e._UZ(25,"router-outlet")),2&n&&(e.Q6J("title",e.lcZ(1,12,"Nav.Settings"))("hasTabs",!0),e.xp6(5),e.Oqu(e.lcZ(6,14,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(11,16,"Nav.SubMenu"),"..."),e.xp6(2),e.Q6J("ngIf",!d.hideAccessPolicy),e.xp6(1),e.Q6J("ngIf",!d.targetIdentityServer4),e.xp6(2),e.Oqu(e.lcZ(16,18,"Nav.Webhooks")),e.xp6(2),e.uIk("aria-label",e.lcZ(18,20,"Nav.SubMenu")),e.xp6(2),e.Q6J("ngIf",!d.hideAccessPolicy),e.xp6(2),e.Q6J("routerLinkActive",e.DdM(24,zd)),e.xp6(1),e.Oqu(e.lcZ(23,22,"Nav.Webhooks")),e.xp6(2),e.Q6J("ngIf",!d.targetIdentityServer4))},dependencies:[ie.O5,m.YN,m.Kr,ri.lC,ri.rH,ri.Od,Gt.G,vn.X$],encapsulation:2}),l})(),fv=(()=>{class l{constructor(n,d){this.route=n,this.translate=d}ngOnInit(){const n=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=n in wu._?n:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ri.gz),e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Errors.ResourceNotFoundDescription")),e.xp6(3),e.Oqu(e.lcZ(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[vn.X$],encapsulation:2}),l})();var Io=p(4707),Su=p(3212);let ff=(()=>{class l extends Su._{constructor(n,d){super(),this.http=n,this.headersService=d,this.userSubject=new Io.t(1),this.actionUrl="auditedEvents",this.headers=this.headersService.setHeaders()}getAudits(n,d,A,M,pe,Pe,Qe){const xt=this.buildParams(n,A,d,M,pe,Pe,Qe);return this.http.get(this.actionUrl,{headers:this.headers,params:xt})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN),e.LFG(wa.s))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var Gd=p(7356);let bo=(()=>{class l{constructor(n,d){n.setTitle(d.instant("Nav.Auditing")+` - ${tt.de.SITE_TITLE}`)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-audits"]],features:[e._Bn([{provide:Su._,useClass:ff}])],decls:4,vars:3,consts:[[3,"title"],[1,"tw-container","tw-mx-auto"]],template:function(n,d){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"div",1),e._UZ(3,"app-audits-list"),e.qZA()),2&n&&e.Q6J("title",e.lcZ(1,1,"Nav.Auditing"))},dependencies:[Gd.$,Gt.G,vn.X$],encapsulation:2}),l})();const Dc=function(l){return[l]};let mf=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe,xt,Ft){this.fb=n,this.route=d,this.router=A,this.titleService=M,this.identityResourceService=pe,this.toastr=Pe,this.dialogService=Qe,this.translate=xt,this.localize=Ft}get ReadOnlyFieldType(){return pu.O}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(n=>{this.identityResource=n,this.buildForm(),this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tt.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}buildForm(){this.identityResourceForm=this.fb.group({id:[this.identityResource.id],name:[this.identityResource.name,m.kI.required],displayName:[this.identityResource.displayName,m.kI.required],description:[this.identityResource.description,[m.kI.required,m.kI.maxLength(1e3)]],showInDiscoveryDocument:[this.identityResource.showInDiscoveryDocument],emphasize:[this.identityResource.emphasize],required:[this.identityResource.required],enabled:[this.identityResource.enabled]})}canDeactivate(){return!!this.identityResourceForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}submit(){const n=Object.assign(this.identityResourceForm.value,{allowedClaims:this.identityResource.allowedClaims});return this.identityResourceService.updateResource(n).toPromise().then(d=>{this.identityResourceForm.markAsPristine(),this.identityResource=n,this.identityResourceService.getCachedIdentityResource().next(n),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(ri.gz),e.Y36(ri.F0),e.Y36(t.Dx),e.Y36(ba.Q),e.Y36(zi._W),e.Y36(pl.x),e.Y36(vn.sK),e.Y36(mi.An))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-identityresource-details"]],decls:29,vars:40,consts:[[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["id","displayNameInput","name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id"],["id","Required","formControlName","required","type","checkbox",1,"tw-form-switch__input"],["id","showInDiscoveryDocument","formControlName","showInDiscoveryDocument","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","emphasize","formControlName","emphasize","type","checkbox",1,"tw-form-switch__input"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["type","button","data-toggle","modal","data-target","#deleteIdentityResource",1,"tw-btn-danger","tw-mb-3"]],template:function(n,d){1&n&&(e.TgZ(0,"form",0)(1,"app-form-row",1)(2,"app-form-toggle",2),e._UZ(3,"input",3),e.qZA()(),e.TgZ(4,"app-form-row",4),e._UZ(5,"app-readonly",5),e.ALo(6,"readOnlyValue"),e.qZA(),e.TgZ(7,"app-form-row",4),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"app-form-row",4),e._UZ(10,"textarea",7),e.qZA(),e.TgZ(11,"app-form-row",4)(12,"app-form-toggle",8),e._UZ(13,"input",9),e.qZA()(),e.TgZ(14,"app-form-row",4)(15,"app-form-toggle",8),e._UZ(16,"input",10),e.qZA()(),e.TgZ(17,"app-form-row",11)(18,"app-form-toggle",8),e._UZ(19,"input",12),e.qZA()()(),e.TgZ(20,"app-button-bar")(21,"button",13),e.NdJ("click",function(){return d.submit()}),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.ynx(24,14),e.TgZ(25,"button",15),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(28,"app-can-deactivate")),2&n&&(e.Q6J("formGroup",d.identityResourceForm),e.xp6(1),e.Q6J("id","Status")("label","Common.Enabled"),e.xp6(1),e.Q6J("id","Status")("isTraffic",!0),e.xp6(2),e.Q6J("id","ResourceID")("label","Resources.ResourceID")("help","IdentityResources.IDHelp"),e.xp6(1),e.Q6J("fieldType",d.ReadOnlyFieldType.Single)("values",e.VKq(38,Dc,e.lcZ(6,32,d.identityResource.id))),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.xp6(2),e.Q6J("id","Required")("label","Common.Required")("help","IdentityResources.ConsentResource"),e.xp6(1),e.Q6J("id","Required"),e.xp6(2),e.Q6J("id","showInDiscoveryDocument")("label","IdentityResources.ShowInDiscoveryDocument")("help","IdentityResources.DiscoveryDocumentDescription"),e.xp6(1),e.Q6J("id","showInDiscoveryDocument"),e.xp6(2),e.Q6J("id","emphasize")("label","Common.Emphasize")("help","IdentityResources.ConsentScreen")("isLast",!0),e.xp6(1),e.Q6J("id","emphasize"),e.xp6(3),e.Q6J("disabled",d.identityResourceForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(23,34,"Common.Save")," "),e.xp6(4),e.hij(" ",e.lcZ(27,36,"Common.Delete.Title")," "))},dependencies:[m._Y,m.Fj,m.Wl,m.JJ,m.JL,m.Q7,m.sg,m.u,Vl.J,fl.N,ar.L,Ul.O,fu.f,vn.X$,mu.b],encapsulation:2}),l})();var gf=p(2718);class _f{}const vf=["ClaimsPicker"];let mv=(()=>{class l{constructor(n,d,A,M,pe){this.titleService=n,this.identityResourceService=d,this.scopeClaimService=A,this.toastr=M,this.translate=pe,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().pipe((0,gf.V)(this.scopeClaimService.cachedClaimTypes$),(0,se.U)(([n,d])=>({resource:n,claimTypes:d})),(0,Za.P)()).subscribe({next:n=>{this.identityResource=n.resource,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tt.de.SITE_TITLE}`),this.originalClaims=n.claimTypes.slice(),this.identityResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(n.claimTypes):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(n.claimTypes)}})}convertOriginalClaimTypesToPickerClaimTypes(n){let d=[];return n.map(A=>{const M=new _f;M.name=A.displayName?A.displayName:A.name,d.push(M)}),d}convertPickerClaimsToClaim(n){let d=[];return n.map(A=>{d.push(this.originalClaims.find(M=>M.displayName===A.name||M.name===A.name))}),d}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.toSendClaims=this.assignedClaims.concat(n),this.submit().then(d=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,St.mn)(this.availableClaims.slice(),n),this.claimsPicker.availableCount=0})}),this.claimsPicker.unAssignedStream.subscribe(n=>{this.toSendClaims=(0,St.mn)(this.assignedClaims,n),this.submit().then(d=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(n),this.claimsPicker.assignedCount=0})})}submit(){const n=(0,ca.UI)(this.convertPickerClaimsToClaim(this.toSendClaims),function(A){return A.name}),d=Object.assign(this.identityResource,{allowedClaims:n});return this.identityResourceService.updateResource(d).toPromise().then(A=>{this.identityResource=d,this.identityResourceService.getCachedIdentityResource().next(d),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(n){let d=[],A=n.filter(M=>(d.push(M),this.identityResource.allowedClaims.some(pe=>pe===M.name)));d=(0,St.mn)(d,A),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(d),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(A)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(ba.Q),e.Y36(gl.q),e.Y36(zi._W),e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-identity-resource-claims"]],viewQuery:function(n,d){if(1&n&&e.Gf(vf,7),2&n){let A;e.iGM(A=e.CRH())&&(d.claimsPicker=A.first)}},decls:6,vars:5,consts:[[1,"cms"],[3,"assignedInput","availableInput"],["ClaimsPicker",""]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e._UZ(4,"app-common-picker",1,2)),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,3,"IdentityResources.UserClaimTypes")),e.xp6(2),e.Q6J("assignedInput",d.assignedClaims)("availableInput",d.availableClaims))},dependencies:[ml.v,vn.X$],encapsulation:2}),l})();var yf=p(8381);function gv(l,h){1&l&&(e.TgZ(0,"app-form-row",4)(1,"app-form-toggle",14),e._UZ(2,"input",15),e.qZA()()),2&l&&(e.Q6J("id","requireResourceIndicatorInput")("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.xp6(1),e.Q6J("id","requireResourceIndicatorInput"))}const Cf=function(l){return[l]};let _v=(()=>{class l{constructor(n,d,A,M,pe,Pe){this.protectedResourceService=n,this.fb=d,this.toastr=A,this.translate=M,this.dialogService=pe,this.configService=Pe,this.targetIdentityServer4=!1}get ReadOnlyFieldType(){return pu.O}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n,this.configService.getConfig().pipe((0,Za.P)()).subscribe(d=>{this.targetIdentityServer4=d.targetIdentityServer4,this.buildForm()})})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}buildForm(){const n={id:[this.protectedResource.id],name:[this.protectedResource.name,m.kI.required],displayName:[this.protectedResource.displayName,m.kI.required],description:[this.protectedResource.description,[m.kI.maxLength(1e3)]],enabled:[this.protectedResource.enabled],allowedAccessTokenSigningAlgorithms:[this.protectedResource.allowedAccessTokenSigningAlgorithms]};this.targetIdentityServer4||(n.requireResourceIndicator=[this.protectedResource.requireResourceIndicator]),this.protectedResourceForm=this.fb.group(n)}canDeactivate(){return!!this.protectedResourceForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}submit(){const n={...this.protectedResourceForm.value,allowedClaims:this.protectedResource.allowedClaims,secrets:this.protectedResource.secrets,scopes:this.protectedResource.scopes,properties:this.protectedResource.properties};this.protectedResourceService.updateResource(n).subscribe({next:d=>{this.protectedResourceForm.markAsPristine(),this.protectedResource=n,this.protectedResourceService.getCachedProtectedResource().next(n),this.toastr.success(this.translate.instant("Resources.UpdatedSuccess"),this.translate.instant("Notifications.Success"))},error:d=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Bo.m),e.Y36(m.QS),e.Y36(zi._W),e.Y36(vn.sK),e.Y36(pl.x),e.Y36(vs.E))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protectedresource-details"]],decls:23,vars:33,consts:[[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","isLast"],[3,"form","algorithmControlName"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["type","button","data-toggle","modal","data-target","#deleteProtectedResource",1,"tw-btn-danger","tw-mb-3"],[3,"id"],["id","requireResourceIndicatorInput","type","checkbox","name","requireResourceIndicator","formControlName","requireResourceIndicator",1,"tw-form-switch__input"]],template:function(n,d){1&n&&(e.TgZ(0,"form",0)(1,"app-form-row",1)(2,"app-form-toggle",2),e._UZ(3,"input",3),e.qZA()(),e.TgZ(4,"app-form-row",4),e._UZ(5,"app-readonly",5),e.ALo(6,"readOnlyValue"),e.qZA(),e.TgZ(7,"app-form-row",4),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"app-form-row",4),e._UZ(10,"textarea",7),e.qZA(),e.YNc(11,gv,3,4,"app-form-row",8),e.TgZ(12,"app-form-row",9),e._UZ(13,"app-signing-algorithm-picker",10),e.qZA()(),e.TgZ(14,"app-button-bar")(15,"button",11),e.NdJ("click",function(){return d.submit()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.ynx(18,12),e.TgZ(19,"button",13),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(22,"app-can-deactivate")),2&n&&(e.Q6J("formGroup",d.protectedResourceForm),e.xp6(1),e.Q6J("id","Status")("label","Common.Enabled"),e.xp6(1),e.Q6J("id","Status")("isTraffic",!0),e.xp6(2),e.Q6J("id","ResourceID")("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.xp6(1),e.Q6J("fieldType",d.ReadOnlyFieldType.Single)("values",e.VKq(31,Cf,e.lcZ(6,25,d.protectedResource.id))),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","Resources.ResourceName"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.ResourceDescription"),e.xp6(2),e.Q6J("ngIf",!d.targetIdentityServer4),e.xp6(1),e.Q6J("id","allowedAccessTokenSigningAlgorithms")("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.xp6(1),e.Q6J("form",d.protectedResourceForm)("algorithmControlName","allowedAccessTokenSigningAlgorithms"),e.xp6(2),e.Q6J("disabled",!(d.protectedResourceForm.dirty&&d.protectedResourceForm.valid)),e.xp6(1),e.hij(" ",e.lcZ(17,27,"Common.Save")," "),e.xp6(4),e.hij(" ",e.lcZ(21,29,"Common.Delete.Title")," "))},dependencies:[ie.O5,m._Y,m.Fj,m.Wl,m.JJ,m.JL,m.sg,m.u,Vl.J,fl.N,ar.L,Ul.O,yf.m,fu.f,vn.X$,mu.b],encapsulation:2}),l})();var vv=p(727),xu=p(9272),Eu=p(6001);const yv=["ClaimPicker"],Jl=["tabs"];let Va=(()=>{class l{constructor(n,d,A,M,pe){this.fb=n,this.claimsService=d,this.translate=A,this.dialogService=M,this.scopesClaimService=pe,this._scope=new xu.s,this.isEdit=!0,this.submit=new e.vpe,this.delete=new e.vpe,this.availableClaims=[],this.assignedClaims=[],this.properties=[]}set scope(n){this._scope=n||new xu.s}get scope(){return this._scope}ngOnInit(){this.buildForm(),this.scopesClaimService.cachedClaimTypes$.subscribe(n=>{const d=n.slice();this.scope.userClaims.length>0?this.sortClaims(d):this.availableClaims=d}),this.properties=this.scope.properties}buildForm(){this.scopeForm=this.fb.group({id:[this.scope.id],name:[this.scope.name,m.kI.required],displayName:[this.scope.displayName,m.kI.required],description:[this.scope.description,[m.kI.required,m.kI.maxLength(1e3)]],showInDiscoveryDocument:[this.scope.showInDiscoveryDocument],emphasize:[this.scope.emphasize],required:[this.scope.required],enabled:[this.scope.enabled]})}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.assignClaims(n)}),this.claimsPicker.unAssignedStream.subscribe(n=>{this.unassignClaims(n)})}unassignClaims(n){const d=n.map(Pe=>Pe.name),A=this.assignedClaims.map(Pe=>Pe.name),M=(0,ca.e5)(A,d),pe=Object.assign(this.scopeForm.value,{userClaims:M});this.submit.emit(pe)}assignClaims(n){const d=[...this.assignedClaims,...n].map(M=>M.name),A={...this.scopeForm.value,userClaims:d};this.submit.emit(A)}submitForm(){const n=this.assignedClaims.map(A=>A.name),d=Object.assign(this.scopeForm.value,{userClaims:n},{properties:this.properties});this.submit.emit(d)}deleteScope(){this.delete.emit(this.scope)}sortClaims(n){const d=[];this.scope.userClaims.forEach(A=>{n.forEach((M,pe)=>{M.name===A&&(n.splice(pe,1),d.push(M))})}),this.availableClaims=n,this.assignedClaims=d}onPropertiesChanged(n){this.properties=n}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(so.M),e.Y36(vn.sK),e.Y36(pl.x),e.Y36(gl.q))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-api-scope"]],viewQuery:function(n,d){if(1&n&&(e.Gf(yv,7),e.Gf(Jl,7)),2&n){let A;e.iGM(A=e.CRH())&&(d.claimsPicker=A.first),e.iGM(A=e.CRH())&&(d.tabsComponent=A.first)}},inputs:{scope:"scope",isEdit:"isEdit"},outputs:{submit:"submit",delete:"delete"},decls:37,vars:49,consts:[["tabs",""],[3,"heading"],[1,"tw-pt-5",3,"formGroup"],[3,"id","label","help"],["type","text","readonly","",1,"tw-form-control",3,"id","value"],["name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control",3,"id"],["name","descriptionInput","type","text","formControlName","description","required","",1,"tw-form-control",3,"id"],[3,"id"],["type","checkbox","formControlName","required",1,"tw-form-switch__input",3,"id"],["type","checkbox","formControlName","showInDiscoveryDocument",1,"tw-form-switch__input",3,"id"],[3,"id","label","help","isLast"],["type","checkbox","formControlName","emphasize",1,"tw-form-switch__input",3,"id"],[1,"tw-flex","tw-items-center","tw-border-t","tw-border-grey-300","tw-mt-20","tw-pt-5"],[1,"tw-btn-success",3,"click"],["data-toggle","modal","id","deleteBtn",1,"tw-btn-danger","tw-ml-auto",3,"click"],[1,"cms","tw-pt-5"],[3,"assignedInput","availableInput","availableSearch"],["ClaimPicker",""],["id","propertiesEditor",3,"modalId","properties","propertiesChanged"]],template:function(n,d){1&n&&(e.TgZ(0,"tabset",null,0)(2,"tab",1),e.ALo(3,"translate"),e.TgZ(4,"div")(5,"form",2)(6,"app-form-row",3),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"app-form-row",3),e._UZ(9,"input",5),e.qZA(),e.TgZ(10,"app-form-row",3),e._UZ(11,"textarea",6),e.qZA(),e.TgZ(12,"app-form-row",3)(13,"app-form-toggle",7),e._UZ(14,"input",8),e.qZA()(),e.TgZ(15,"app-form-row",3)(16,"app-form-toggle",7),e._UZ(17,"input",9),e.qZA()(),e.TgZ(18,"app-form-row",10)(19,"app-form-toggle",7),e._UZ(20,"input",11),e.qZA()()(),e.TgZ(21,"div",12)(22,"button",13),e.NdJ("click",function(){return d.submitForm()}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"button",14),e.NdJ("click",function(){return d.deleteScope()}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.TgZ(28,"tab",1)(29,"div",15)(30,"p"),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e._UZ(33,"app-common-picker",16,17),e.qZA(),e.TgZ(35,"tab",1)(36,"app-properties-editor",18),e.NdJ("propertiesChanged",function(M){return d.onPropertiesChanged(M)}),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("heading",e.lcZ(3,41,"Nav.Details")),e.xp6(3),e.Q6J("formGroup",d.scopeForm),e.xp6(1),e.Q6J("id","scope"+d.scope.id+"Id")("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.xp6(1),e.MGl("id","scope",d.scope.id,"Id"),e.Q6J("value",d.scope.name),e.xp6(1),e.Q6J("id","scope"+d.scope.id+"Name")("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.xp6(1),e.MGl("id","scope",d.scope.id,"Name"),e.xp6(1),e.Q6J("id","scope"+d.scope.id+"Description")("label","Common.Description")("help","Resources.Scope.Description"),e.xp6(1),e.MGl("id","scope",d.scope.id,"Description"),e.xp6(1),e.Q6J("id","scope"+d.scope.id+"Required")("label","Common.Required")("help","Resources.Scope.Consent"),e.xp6(1),e.Q6J("id","scope"+d.scope.id+"Required"),e.xp6(1),e.MGl("id","scope",d.scope.id,"Required"),e.xp6(1),e.Q6J("id","scope"+d.scope.id+"Discovery")("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.xp6(1),e.Q6J("id","scope"+d.scope.id+"Discovery"),e.xp6(1),e.MGl("id","scope",d.scope.id,"Discovery"),e.xp6(1),e.Q6J("id","scope"+d.scope.id+"Emphasise")("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.xp6(1),e.Q6J("id","scope"+d.scope.id+"Emphasise"),e.xp6(1),e.MGl("id","scope",d.scope.id,"Emphasise"),e.xp6(3),e.Oqu(e.lcZ(24,43,"Common.Save")),e.xp6(3),e.Oqu(e.lcZ(27,45,"Common.Remove.Title")),e.xp6(2),e.Q6J("heading","Claims"),e.xp6(3),e.Oqu(e.lcZ(32,47,"Resources.Scope.UserClaimTypes")),e.xp6(2),e.Q6J("assignedInput",d.assignedClaims)("availableInput",d.availableClaims)("availableSearch",!0),e.xp6(2),e.Q6J("heading","Properties"),e.xp6(1),e.Q6J("modalId",d.scope.id)("properties",d.scope.properties))},dependencies:[ml.v,m._Y,m.Fj,m.Wl,m.JJ,m.JL,m.Q7,m.sg,m.u,Ki.wW,Ki.AH,ar.L,Ul.O,Eu.s,vn.X$],encapsulation:2,changeDetection:0}),l})();const Cv=["ClaimPicker"],bv=["tabs"];function xC(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.EnterBasicDetails")))}function EC(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.AssignClaims")))}function bf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("disabled",n.scopeForm.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function DC(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.addScope())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.Save")))}let Ta=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe){this.fb=n,this.claimsService=d,this.protectedResourceService=A,this.toastr=M,this.translate=pe,this.scopesClaimService=Pe,this.errorService=Qe,this.submitConfirmed=new e.vpe,this.cancelOut=new e.vpe,this.scope=new xu.s,this.allAvaliableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1}keydown(n){"Enter"===n.key&&this.scopeForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.scopeForm=this.fb.group({name:[this.scope.name,[m.kI.required,m.kI.pattern(/^\S*$/)]],displayName:[this.scope.displayName,m.kI.required],description:[this.scope.description,[m.kI.required,m.kI.maxLength(1e3)]],showInDiscoveryDocument:[!0],emphasize:[!1],required:[!1]}),this.claimsSubscription=this.scopesClaimService.cachedClaimTypes$.subscribe(n=>{const d=n.slice();this.scope.userClaims.length>0?this.sortClaims(d):(this.availableClaims=d,this.allAvaliableClaims=d)})}ngOnDestroy(){this.claimsSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.availableClaims=(0,St.mn)(this.availableClaims.slice(),n);const d=this.assignedClaims.slice();this.assignedClaims=d.concat(n),this.claimsPicker.availableCount=0}),this.claimsPicker.unAssignedStream.subscribe(n=>{const d=this.availableClaims;this.assignedClaims=(0,St.mn)(this.assignedClaims.slice(),n),this.availableClaims=d.concat(n),this.claimsPicker.assignedCount=0})}sortClaims(n){const d=[];this.scope.userClaims.forEach(A=>{n.forEach((M,pe)=>{M.name===A&&(n.splice(pe,1),d.push(M))})}),this.availableClaims=n,this.assignedClaims=d}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.cancelOut.emit(!0)}addScope(){const n=(0,ca.UI)(this.assignedClaims,A=>A.name),d=Object.assign(this.scopeForm.value,{userClaims:n});this.protectedResourceService.addResourceScope(this.resource.id,d).subscribe(A=>{this.submitConfirmed.emit(),this.resetWizard(),this.toastr.success(this.translate.instant("Resources.Scope.ScopeAdded"),this.translate.instant("Notifications.Success"))},A=>{this.errorService.handleError(A)})}resetWizard(){this.scopeForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvaliableClaims,this.scopeForm.controls.showInDiscoveryDocument.setValue(!0),this.scopeForm.controls.emphasize.setValue(!1),this.scopeForm.controls.required.setValue(!1)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(so.M),e.Y36(Bo.m),e.Y36(zi._W),e.Y36(vn.sK),e.Y36(gl.q),e.Y36(ht.T))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-protectedresource-scope"]],viewQuery:function(n,d){if(1&n&&(e.Gf(Cv,7),e.Gf(bv,7)),2&n){let A;e.iGM(A=e.CRH())&&(d.claimsPicker=A.first),e.iGM(A=e.CRH())&&(d.tabComponent=A.first)}},hostBindings:function(n,d){1&n&&e.NdJ("keydown",function(M){return d.keydown(M)},!1,e.evT)},inputs:{resource:"resource"},outputs:{submitConfirmed:"submitConfirmed",cancelOut:"cancelOut"},decls:43,vars:34,consts:[[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],["tabs",""],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],["ClaimPicker",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["data-dismiss","modal","class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["data-dismiss","modal","id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return d.cancel()}),e._UZ(7,"span",5),e.TgZ(8,"span",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7),e._UZ(12,"div",8,9),e.qZA(),e.TgZ(14,"div",10)(15,"div",11),e.YNc(16,xC,3,3,"p",12),e.YNc(17,EC,3,3,"p",12),e.qZA(),e.TgZ(18,"tabset",13,14)(20,"tab")(21,"form",15)(22,"app-form-row",16),e._UZ(23,"input",17),e.qZA(),e.TgZ(24,"app-form-row",16),e._UZ(25,"input",18),e.qZA(),e.TgZ(26,"app-form-row",19)(27,"textarea",20),e.NdJ("focus",function(){return d.descFocus=!d.descFocus})("blur",function(){return d.descFocus=!d.descFocus}),e.qZA()()()(),e.TgZ(28,"tab"),e._UZ(29,"app-common-picker",21,22),e.qZA()()(),e._UZ(31,"div",23),e.TgZ(32,"div",24)(33,"div",25)(34,"div",26),e.YNc(35,bf,3,4,"button",27),e.YNc(36,DC,3,3,"button",28),e.TgZ(37,"button",29),e.NdJ("click",function(){return d.previousTab()}),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"button",30),e.NdJ("click",function(){return d.cancel()}),e._uU(41),e.ALo(42,"translate"),e.qZA()()()()()),2&n&&(e.xp6(4),e.AsE("",e.lcZ(5,26,"Resources.Scope.NewScope")," ",d.resource.name,""),e.xp6(5),e.Oqu(e.lcZ(10,28,"Common.Close")),e.xp6(3),e.Udp("width",d.progressPercent+"%"),e.xp6(4),e.Q6J("ngIf",d.tabComponent.tabs[0].active),e.xp6(1),e.Q6J("ngIf",d.tabComponent.tabs[1].active),e.xp6(4),e.Q6J("formGroup",d.scopeForm),e.xp6(1),e.Q6J("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","Resources.Scope.DisplayName"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.Scope.Description")("isLast",!0),e.xp6(3),e.Q6J("assignedInput",d.assignedClaims)("availableInput",d.availableClaims)("availableSearch",!0),e.xp6(6),e.Q6J("ngIf",d.tabIndex<d.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("ngIf",d.tabIndex==d.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("disabled",0==d.tabIndex),e.xp6(1),e.Oqu(e.lcZ(39,30,"Common.Back")),e.xp6(3),e.Oqu(e.lcZ(42,32,"Common.Cancel")))},dependencies:[ie.O5,m._Y,m.Fj,m.JJ,m.JL,m.nD,m.sg,m.u,Ki.wW,Ki.AH,ml.v,ar.L,vn.X$],encapsulation:2}),l})();const Qd=["createScope"],qd=["addScope"],wv=["deleteScopeModal"],wf=["scopePicker"];function Tv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.addSharedScopeShow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ProtectedResources.AddSharedScope")))}function Ic(l,h){if(1&l&&e._UZ(0,"app-common-picker",35,36),2&l){const n=e.oxw();e.Q6J("assignedInput",n.pickerScopes.assignedScopes)("availableInput",n.pickerScopes.availableScopes)("availableSearch",!0)}}function Av(l,h){1&l&&(e.TgZ(0,"div",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.DisplayName")," "))}function Sv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"accordion-group",null,38)(2,"button",39)(3,"b",40),e._uU(4),e.qZA(),e.TgZ(5,"div",41),e._UZ(6,"span",42),e.qZA()(),e.TgZ(7,"div")(8,"app-api-scope",43),e.NdJ("delete",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.deleteScopeConfirm(A))})("submit",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.submitScopeClaims(A))}),e.qZA()()()}if(2&l){const n=h.$implicit;e.xp6(4),e.Oqu(n.displayName),e.xp6(4),e.Q6J("scope",n)}}function Yd(l,h){if(1&l&&e._UZ(0,"app-pager",44),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.protectedResource.scopes?null:n.protectedResource.scopes.length)}}function Xd(l,h){1&l&&(e._UZ(0,"p",45),e.ALo(1,"translate")),2&l&&e.Q6J("innerHTML",e.lcZ(1,1,"Common.Delete.FinalScopeOnResourceWarning"),e.oJD)}const Du=function(){return{animated:!1,backdrop:"static"}};class IC{constructor(h,n){this.availableScopes=[],this.assignedScopes=[],this.availableScopes=h,this.assignedScopes=n}}let Wl=(()=>{class l{constructor(n,d,A,M,pe){this.protectedResourceService=n,this.fb=d,this.toastr=A,this.translate=M,this.configService=pe,this.pageSubscriptions=new vv.w0}set content(n){this.pickerScopes&&(this.sharedScopePicker=n,this.pageSubscriptions.add(this.sharedScopePicker.assignedStream.subscribe(d=>{this.pickerScopes.assignedScopes.push(...d),d.forEach(A=>{let M=this.pickerScopes.availableScopes.findIndex(pe=>pe.name==A.name);this.pickerScopes.availableScopes.splice(M,1)})})),this.pageSubscriptions.add(this.sharedScopePicker.unAssignedStream.subscribe(d=>{this.pickerScopes.availableScopes.push(...d),d.forEach(A=>{let M=this.pickerScopes.assignedScopes.findIndex(pe=>pe.name==A.name);this.pickerScopes.assignedScopes.splice(M,1)})})))}ngOnInit(){this.configService.getConfig().pipe((0,Za.P)()).subscribe(n=>{this.sharedScopesEnabled=n.featureFlagOptions.enableSharedScopes}),this.pageSubscriptions.add(this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n,this.refreshScopes(n)}))}ngOnDestroy(){this.pageSubscriptions?.unsubscribe()}refreshResource(){this.createScopeModal.isShown&&this.createScopeModal.hide(),this.existingScopeModal.isShown&&this.existingScopeModal.hide(),this.protectedResourceService.getResource(this.protectedResource.id).subscribe(n=>{this.protectedResource=n,this.protectedResourceService.getCachedProtectedResource().next(n),this.refreshScopes(n)})}refreshScopes(n){this.protectedResourceService.getAllScopes().subscribe(d=>{const A=n.scopes;this.pickerScopes=new IC(d.filter(M=>-1===A.findIndex(pe=>pe.name==M.name)),[])})}submitScopeClaims(n){this.protectedResourceService.updateResourceScope(this.protectedResource.id,n,n.name).subscribe(d=>{this.refreshResource(),this.toastr.success(this.translate.instant("Resources.Scope.Updated"),this.translate.instant("Notifications.Saving Success Title"))},d=>{this.toastr.error(this.translate.instant("Resources.Scope.Failed"),this.translate.instant("Common.Error"))})}deleteScopeConfirm(n){this.scopeToDelete=n,this.deleteScopeConfirmModal.show()}deleteScope(n){return this.protectedResourceService.deleteScope(this.protectedResource.id,n).toPromise().then(d=>{this.refreshResource(),this.deleteScopeConfirmModal.hide(),this.toastr.success(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Success"))},d=>{this.toastr.error(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Failed"))})}commitScopeChanges(){return this.protectedResource.scopes.push(...this.pickerScopes.assignedScopes),this.protectedResourceService.updateResource(this.protectedResource).subscribe({next:()=>{this.refreshResource(),this.existingScopeModal.hide(),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))},error:()=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}createScopeShow(){this.createScopeModal.show()}addSharedScopeShow(){this.existingScopeModal.show()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Bo.m),e.Y36(m.QS),e.Y36(zi._W),e.Y36(vn.sK),e.Y36(vs.E))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protectedresource-scopes"]],viewQuery:function(n,d){if(1&n&&(e.Gf(Qd,7),e.Gf(qd,7),e.Gf(wv,7),e.Gf(wf,5)),2&n){let A;e.iGM(A=e.CRH())&&(d.createScopeModal=A.first),e.iGM(A=e.CRH())&&(d.existingScopeModal=A.first),e.iGM(A=e.CRH())&&(d.deleteScopeConfirmModal=A.first),e.iGM(A=e.CRH())&&(d.content=A.first)}},features:[e._Bn([{provide:Lo.gd,useFactory:z_}])],decls:75,vars:51,consts:[["right",""],[1,"tw-btn-success",3,"click"],["id","assignSharedScopesBtn","class","tw-btn ml-2",3,"click",4,"ngIf"],["bsModal","","id","createScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["createScope","bs-modal"],[3,"resource","cancelOut","submitConfirmed"],["bsModal","","id","addScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addScope","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"assignedInput","availableInput","availableSearch",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex"],[1,"tw-mr-auto"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","deleteScope","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteScopeModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],[1,"tw-flex","tw-item-center"],[1,"tw-btn-danger",3,"click"],["id","assignSharedScopesBtn",1,"tw-btn","ml-2",3,"click"],[3,"assignedInput","availableInput","availableSearch"],["scopePicker",""],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["group",""],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","trans"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"scope","delete","submit"],["hidePager","true",3,"totalResults"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(n,d){if(1&n){const A=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,0),e.TgZ(2,"button",1),e.NdJ("click",function(){return d.createScopeShow()}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Tv,3,3,"button",2),e.BQk(),e.qZA(),e.TgZ(6,"div",3,4)(8,"app-add-protectedresource-scope",5),e.NdJ("cancelOut",function(){return d.createScopeModal.hide()})("submitConfirmed",function(){return d.refreshResource()}),e.qZA()(),e.TgZ(9,"div",6,7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h5",11),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){e.CHM(A);const pe=e.MAs(10);return e.KtG(pe.hide())}),e._UZ(18,"span",13),e.TgZ(19,"span",14),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"div",15),e.YNc(23,Ic,2,3,"app-common-picker",16),e.qZA(),e._UZ(24,"div",17),e.TgZ(25,"div",18)(26,"div",19)(27,"div",20)(28,"button",1),e.NdJ("click",function(){return d.commitScopeChanges()}),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"button",21),e.NdJ("click",function(){e.CHM(A);const pe=e.MAs(10);return e.KtG(pe.hide())}),e._uU(32),e.ALo(33,"translate"),e.qZA()()()()()(),e.TgZ(34,"div",22),e.YNc(35,Av,3,3,"div",23),e.TgZ(36,"accordion"),e.YNc(37,Sv,9,2,"accordion-group",24),e.qZA(),e.YNc(38,Yd,1,1,"app-pager",25),e.qZA(),e.TgZ(39,"div",26,27)(41,"div",28)(42,"div",9)(43,"div",10)(44,"h5",11),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"button",12),e.NdJ("click",function(){e.CHM(A);const pe=e.MAs(40);return e.KtG(pe.hide())}),e._UZ(48,"span",13),e.TgZ(49,"span",14),e._uU(50),e.ALo(51,"translate"),e.qZA()()(),e.TgZ(52,"div",29)(53,"p",30),e._uU(54),e.ALo(55,"translate"),e.TgZ(56,"strong"),e._uU(57),e.qZA(),e._uU(58),e.ALo(59,"translate"),e.TgZ(60,"strong"),e._uU(61),e.qZA(),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.YNc(64,Xd,2,3,"p",31),e.qZA(),e._UZ(65,"div",17),e.TgZ(66,"div",18)(67,"div",32)(68,"div",20)(69,"button",33),e.NdJ("click",function(){return d.deleteScope(d.scopeToDelete.name)}),e._uU(70),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"button",21),e.NdJ("click",function(){e.CHM(A);const pe=e.MAs(40);return e.KtG(pe.hide())}),e._uU(73),e.ALo(74,"translate"),e.qZA()()()()()()}2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,24,"ProtectedResources.AddScope")),e.xp6(2),e.Q6J("ngIf",d.sharedScopesEnabled),e.xp6(1),e.Q6J("config",e.DdM(48,Du)),e.xp6(2),e.Q6J("resource",d.protectedResource),e.xp6(1),e.Q6J("config",e.DdM(49,Du)),e.xp6(6),e.hij(" ",e.lcZ(16,26,"ProtectedResources.AddSharedScope")," "),e.xp6(5),e.Oqu(e.lcZ(21,28,"Common.Close")),e.xp6(3),e.Q6J("ngIf",d.pickerScopes),e.xp6(6),e.Oqu(e.lcZ(30,30,"Common.Save")),e.xp6(3),e.Oqu(e.lcZ(33,32,"Common.Cancel")),e.xp6(3),e.Q6J("ngIf",d.protectedResource.scopes.length>0),e.xp6(2),e.Q6J("ngForOf",d.protectedResource.scopes),e.xp6(1),e.Q6J("ngIf",(null==d.protectedResource.scopes?null:d.protectedResource.scopes.length)>0),e.xp6(1),e.Q6J("config",e.DdM(50,Du)),e.xp6(6),e.hij(" ",e.lcZ(46,34,"Common.Delete.Confirm")," "),e.xp6(5),e.Oqu(e.lcZ(51,36,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(55,38,"Common.Delete.AreYouSureSimple2")," "),e.xp6(3),e.Oqu(null==d.scopeToDelete?null:d.scopeToDelete.displayName),e.xp6(1),e.hij(" ",e.lcZ(59,40,"Resources.Scope.ScopeFor")," "),e.xp6(3),e.Oqu(d.protectedResource.displayName),e.xp6(1),e.hij(" ",e.lcZ(63,42,"ProtectedResources.ProtectedResource"),""),e.xp6(2),e.Q6J("ngIf",null==d.scopeToDelete?null:d.scopeToDelete.isFinalInstanceOnResource),e.xp6(6),e.Oqu(e.lcZ(71,44,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(74,46,"Common.Delete.No")))},dependencies:[ie.sg,ie.O5,ml.v,Lo.Zf,Lo.U_,Ls.oB,Va,xn.P,Yn.K,Ta,vn.X$],encapsulation:2}),l})();const eh=["ClaimsPicker"];let Tf=(()=>{class l{constructor(n,d,A,M){this.protectedResourceService=n,this.scopeClaimService=d,this.toastr=A,this.translate=M,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().pipe((0,gf.V)(this.scopeClaimService.cachedClaimTypes$),(0,se.U)(([n,d])=>({resource:n,claimTypes:d})),(0,Za.P)()).subscribe({next:n=>{this.protectedResource=n.resource,this.originalClaims=n.claimTypes.slice();const d=n.claimTypes.slice();this.protectedResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(d):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(d)}})}convertOriginalClaimTypesToPickerClaimTypes(n){let d=[];return n.map(A=>{let M=new _f;M.name=A.displayName?A.displayName:A.name,d.push(M)}),d}convertPickerClaimsToClaim(n){let d=[];return n.map(A=>{d.push(this.originalClaims.find(M=>M.displayName===A.name||M.name===A.name))}),d}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.toSendClaims=this.assignedClaims.concat(n),this.submit().then(d=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,St.mn)(this.availableClaims.slice(),n),this.claimsPicker.availableCount=0})}),this.claimsPicker.unAssignedStream.subscribe(n=>{this.toSendClaims=(0,St.mn)(this.assignedClaims,n),this.submit().then(d=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(n),this.claimsPicker.assignedCount=0})})}submit(){const n=(0,ca.UI)(this.convertPickerClaimsToClaim(this.toSendClaims),function(A){return A.name}),d=Object.assign(this.protectedResource,{allowedClaims:n});return this.protectedResourceService.updateResource(d).toPromise().then(A=>{this.protectedResource=d,this.protectedResourceService.getCachedProtectedResource().next(d),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(n){let d=[],A=n.filter(M=>(d.push(M),this.protectedResource.allowedClaims.some(pe=>pe===M.name)));d=(0,St.mn)(d,A),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(d),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(A)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Bo.m),e.Y36(gl.q),e.Y36(zi._W),e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protectedresource-claims"]],viewQuery:function(n,d){if(1&n&&e.Gf(eh,7),2&n){let A;e.iGM(A=e.CRH())&&(d.claimsPicker=A.first)}},decls:6,vars:6,consts:[[1,"cms"],[3,"assignedInput","availableInput","availableSearch"],["ClaimsPicker",""]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e._UZ(4,"app-common-picker",1,2)),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"ProtectedResources.UserClaimTypes")),e.xp6(2),e.Q6J("assignedInput",d.assignedClaims)("availableInput",d.availableClaims)("availableSearch",!0))},dependencies:[ml.v,vn.X$],encapsulation:2}),l})();var xv=p(1660);const th=["SecretPicker"];let Ev=(()=>{class l{constructor(n){this.protectedResourceService=n,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.secretPicker.secretsAddStream.subscribe(n=>{n.id?this.editSecret(n):this.submitSecret(n)}),this.secretPicker.secretsRemoveStream.subscribe(n=>{this.removeSecret(n)})}submitSecret(n){this.protectedResourceService.addResourceSecret(this.protectedResource.id,n).subscribe(d=>{this.refreshResource()})}editSecret(n){this.protectedResourceService.updateResourceSecret(this.protectedResource.id,n).subscribe(d=>{this.refreshResource()})}removeSecret(n){this.protectedResourceService.removeResourceSecret(this.protectedResource.id,n.id).subscribe(d=>{this.refreshResource()})}refreshResource(){this.protectedResourceService.getResource(this.protectedResource.id).subscribe(n=>{this.protectedResource=n,this.resourceSecrets=this.protectedResource.secrets,this.protectedResourceService.getCachedProtectedResource().next(n)})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Bo.m))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protectedresource-secrets"]],viewQuery:function(n,d){if(1&n&&e.Gf(th,7),2&n){let A;e.iGM(A=e.CRH())&&(d.secretPicker=A.first)}},decls:2,vars:2,consts:[[3,"clientSecrets","nonModelCertPicker"],["SecretPicker",""]],template:function(n,d){1&n&&e._UZ(0,"app-secret-picker",0,1),2&n&&e.Q6J("clientSecrets",d.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[xv.P],encapsulation:2}),l})();function Dv(l,h){1&l&&e._UZ(0,"input",27)}const Af=function(l){return[l]};function Iv(l,h){if(1&l&&(e._UZ(0,"app-readonly",28),e.ALo(1,"readOnlyValue")),2&l){const n=e.oxw();e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(4,Af,e.lcZ(1,2,n.role.name)))}}function Ov(l,h){1&l&&e._UZ(0,"textarea",29)}function Mv(l,h){if(1&l&&(e._UZ(0,"app-readonly",28),e.ALo(1,"readOnlyValue")),2&l){const n=e.oxw();e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(4,Af,e.lcZ(1,2,n.role.description)))}}const Sf=function(){return{animated:!1,backdrop:"static"}};let nh=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe,xt,Ft,cn,bn){this.rolesService=n,this.route=d,this.securityService=A,this.router=M,this.fb=pe,this.titleService=Pe,this.toastr=Qe,this.dialogService=xt,this.translate=Ft,this.localize=cn,this.errorService=bn}get ReadOnlyFieldType(){return pu.O}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(n=>{this.role=n,this.buildForms(),this.initialData=JSON.stringify(n);const d=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+tt.de.SITE_TITLE;this.titleService.setTitle(d)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const n=this.translate.instant("Notifications.Saving Success Title"),d=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(d,n)},n=>{if(401===n.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const d={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(n,d)&la.s.Toast)!==la.s.Toast&&this.toastr.error(d.toastBody,d.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(n=>{const d=this.localize.translateRoute("/roles");this.router.navigate([d]),this.toastr.error(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},n=>{if(401===n.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const d={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(n,d)&la.s.Toast)!==la.s.Toast&&this.toastr.error(d.toastBody,d.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}canDeactivate(){return!!this.editRoleForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const n=this.securityService.policyClaims;for(let d=0;d<n.length;d++)if("role"===n[d].type&&n[d].value===this.role.name)return!0;return!1}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(oe.f),e.Y36(ri.gz),e.Y36(yi.I),e.Y36(ri.F0),e.Y36(m.QS),e.Y36(t.Dx),e.Y36(zi._W),e.Y36(pl.x),e.Y36(vn.sK),e.Y36(mi.An),e.Y36(ht.T))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-role-details"]],decls:48,vars:40,consts:[["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["id","showModal","data-toggle","modal","data-target","#deleteRoleModal","type","button",1,"tw-btn-danger","tw-mb-3",3,"disabled"],["bsModal","","id","deleteRoleModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","deleteRoleBtn","data-dismiss","modal",1,"tw-btn-danger",3,"click"],["id","closeModalBtn","data-dismiss","modal",1,"tw-btn-link","tw--mr-4"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"app-form-row",2),e.YNc(3,Dv,1,0,"input",3),e.YNc(4,Iv,2,6,"app-readonly",4),e.qZA(),e.TgZ(5,"app-form-row",5),e.YNc(6,Ov,1,0,"textarea",6),e.YNc(7,Mv,2,6,"app-readonly",4),e.qZA()()(),e.TgZ(8,"app-button-bar")(9,"button",7),e.NdJ("click",function(){return d.updateRole()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.ynx(12,8),e.TgZ(13,"button",9),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12)(19,"div",13)(20,"h5",14),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",15),e._UZ(24,"span",16),e.TgZ(25,"span",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"div",18)(29,"p",19),e._uU(30),e.ALo(31,"translate"),e.TgZ(32,"strong"),e._uU(33),e.qZA(),e._uU(34,"?"),e.qZA(),e._UZ(35,"p",20),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"div",21),e.TgZ(38,"div",22)(39,"div",23)(40,"div",24)(41,"button",25),e.NdJ("click",function(){return d.deleteRole()}),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"button",26),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()(),e._UZ(47,"app-can-deactivate")),2&n&&(e.xp6(1),e.Q6J("formGroup",d.editRoleForm),e.xp6(1),e.Q6J("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.xp6(1),e.Q6J("ngIf",!d.isControlDisabled()),e.xp6(1),e.Q6J("ngIf",d.isControlDisabled()),e.xp6(1),e.Q6J("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.xp6(1),e.Q6J("ngIf",!d.isControlDisabled()),e.xp6(1),e.Q6J("ngIf",d.isControlDisabled()),e.xp6(2),e.Q6J("disabled",!d.editRoleForm.dirty&&d.editRoleForm.valid||d.allowedToEditRole()||d.role.reserved),e.xp6(1),e.hij(" ",e.lcZ(11,23,"Common.Save")," "),e.xp6(3),e.Q6J("disabled",d.isControlDisabled()),e.xp6(1),e.hij(" ",e.lcZ(15,25,"Common.Delete.Title")," "),e.xp6(2),e.Q6J("config",e.DdM(39,Sf)),e.xp6(5),e.Oqu(e.lcZ(22,27,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(27,29,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(31,31,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(d.role.name),e.xp6(2),e.Q6J("innerHTML",e.lcZ(36,33,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(43,35,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(46,37,"Common.Delete.No")))},dependencies:[ie.O5,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,Ls.oB,Vl.J,fl.N,ar.L,fu.f,mu.b,vn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var jl=(()=>{return(l=jl||(jl={})).Remove="Remove",l.Add="Add",jl;var l})();const ih=["roleManagerUsers"];function Nv(l,h){1&l&&(e._UZ(0,"app-simple-loader",19),e.ALo(1,"translate")),2&l&&e.Q6J("text",e.lcZ(1,1,"Roles.SavingPleaseWait"))}function Rv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"li",38)(1,"label",39)(2,"input",40),e.NdJ("change",function(){const M=e.CHM(n).$implicit,pe=e.oxw(3);return e.KtG(pe.toggleIfInRole(M))}),e.qZA(),e.TgZ(3,"div",41)(4,"span",42),e._uU(5),e.qZA(),e.TgZ(6,"span",43),e._uU(7),e.qZA()()()()}if(2&l){const n=h.$implicit,d=e.oxw(3);e.xp6(2),e.Q6J("checked",d.checkChecked(n)),e.xp6(3),e.Oqu(n.userName),e.xp6(2),e.Oqu(n.email)}}function xf(l,h){if(1&l&&(e.TgZ(0,"div",35)(1,"ul",36),e.YNc(2,Rv,8,3,"li",37),e.qZA()()),2&l){const n=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",n.users)}}function Ef(l,h){1&l&&(e.TgZ(0,"p",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.NotSelected")," "))}function Cl(l,h){1&l&&(e.TgZ(0,"p",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.NoResults")," "))}function Df(l,h){1&l&&e._UZ(0,"app-simple-loader")}function If(l,h){1&l&&e.GkF(0)}function kv(l,h){1&l&&e.GkF(0)}const OC=function(l,h,n,d){return{id:"usersAddingSummary",title:l,data:h,label:n,empty:d}},Iu=function(l,h,n,d){return{id:"usersRemovingSummary",title:l,data:h,label:n,empty:d}};function Pv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div")(1,"div",20),e._UZ(2,"p",21),e.qZA(),e.TgZ(3,"div",22)(4,"h2",23),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",24)(8,"label",25)(9,"span",8),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"input",26),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.searchTerm=A)})("keyup",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.search(A))}),e.qZA()()(),e.TgZ(13,"div",27)(14,"div",28),e.YNc(15,xf,3,1,"div",29),e.YNc(16,Ef,3,3,"p",30),e.YNc(17,Cl,3,3,"p",30),e.YNc(18,Df,1,0,"app-simple-loader",11),e.qZA(),e.TgZ(19,"div",31)(20,"div",32),e.YNc(21,If,1,0,"ng-container",33),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",34),e.YNc(26,kv,1,0,"ng-container",33),e.ALo(27,"translate"),e.ALo(28,"translate"),e.ALo(29,"translate"),e.qZA()()()()}if(2&l){const n=e.oxw(),d=e.MAs(17);e.xp6(2),e.Q6J("innerHtml",n.summaryText,e.oJD),e.xp6(3),e.Oqu(e.lcZ(6,12,"Roles.SearchAllUsers")),e.xp6(5),e.Oqu(e.lcZ(11,14,"Roles.SearchUsers")),e.xp6(2),e.Q6J("ngModel",n.searchTerm),e.xp6(3),e.Q6J("ngIf",!n.isLoading&&n.hasSearched&&n.users.length>0),e.xp6(1),e.Q6J("ngIf",!n.isLoading&&!n.hasSearched&&n.users.length<1),e.xp6(1),e.Q6J("ngIf",!n.isLoading&&n.hasSearched&&n.users.length<1),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(3),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.l5B(28,OC,e.lcZ(22,16,"Roles.Adding"),n.usersAdding,e.lcZ(23,18,"Roles.CancelAdding"),e.lcZ(24,20,"Roles.NoUsersAdding"))),e.xp6(5),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.l5B(33,Iu,e.lcZ(27,22,"Roles.Removing"),n.usersRemoving,e.lcZ(28,24,"Roles.CancelRemoving"),e.lcZ(29,26,"Roles.NoUsersRemoving")))}}function Of(l,h){if(1&l&&(e.TgZ(0,"p",44),e._uU(1),e.qZA()),2&l){const n=e.oxw().empty;e.xp6(1),e.Oqu(n)}}function Mf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"li",52)(1,"button",53),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(3);return e.KtG(pe.toggleIfInRole(M))}),e.TgZ(2,"div",54),e._UZ(3,"span",55),e.TgZ(4,"span",56),e._uU(5),e.qZA()()()()}if(2&l){const n=h.$implicit,d=e.oxw(2).label;e.xp6(1),e.uIk("aria-label",d+" "+n.userName),e.xp6(4),e.Oqu(n.userName)}}function Nf(l,h){if(1&l&&(e.TgZ(0,"div",49)(1,"ul",50),e.YNc(2,Mf,6,2,"li",51),e.qZA()()),2&l){const n=e.oxw(),d=n.id,A=n.data;e.xp6(1),e.s9C("id",d),e.xp6(1),e.Q6J("ngForOf",A)}}function rh(l,h){if(1&l&&(e.TgZ(0,"h2",45),e._uU(1),e.TgZ(2,"span",46),e._uU(3),e.qZA()(),e.TgZ(4,"div",47),e.YNc(5,Of,2,1,"p",30),e.YNc(6,Nf,3,2,"div",48),e.qZA()),2&l){const n=h.title,d=h.data;e.xp6(1),e.hij(" ",n," "),e.xp6(2),e.hij("(",d.length,")"),e.xp6(2),e.Q6J("ngIf",d.length<1),e.xp6(1),e.Q6J("ngIf",d.length>0)}}const Rf=function(){return{animated:!1,backdrop:"static"}};let Ou=(()=>{class l extends kd.bk{constructor(n,d,A,M,pe){super(M,pe,!1),this.userService=n,this.rolesService=d,this.translateService=A,this.onSubmitted=new e.vpe,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,Ca.T)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(pe=>{this.users=pe.results;const Pe=[...this.users.filter(Qe=>Qe.isInRole),...this.usersInRole];this.usersInRole=ca.Tw(Pe,!1,Qe=>Qe.subject),this.isLoading=!1,this.hasSearched=!0},pe=>{this.isLoading=!1})})}mapSearchTerm(n){return{searchTerm:n}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(n){if(n.isInRole){const d=ca.cx(this.usersRemoving,A=>A.subject===n.subject);d>-1?(this.usersRemoving.splice(d,1),this.usersInRole.push(n)):(this.usersRemoving.push(n),this.usersInRole.splice(this.usersInRole.indexOf(n),1))}else{const d=ca.cx(this.usersAdding,A=>A.subject===n.subject);d>-1?(this.usersAdding.splice(d,1),this.usersInRole.splice(this.usersInRole.indexOf(n),1)):(this.usersAdding.push(n),this.usersInRole.push(n))}}checkChecked(n){let d;return n.isInRole?(d=ca.sE(this.usersRemoving,A=>A.subject===n.subject),void 0===d):(d=ca.sE(this.usersAdding,A=>A.subject===n.subject),void 0!==d)}addOrRemoveUsers(){const n=[];this.isSaving=!0,n.push(...this.usersAdding.map(d=>({username:d.userName,subject:d.subject,addOrRemove:jl.Add}))),n.push(...this.usersRemoving.map(d=>({username:d.userName,subject:d.subject,addOrRemove:jl.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,n).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},d=>{this.isSaving=!1,401===d.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(es.K),e.Y36(oe.f),e.Y36(vn.sK),e.Y36(zi._W),e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-role-manageusers"]],viewQuery:function(n,d){if(1&n&&e.Gf(ih,7),2&n){let A;e.iGM(A=e.CRH())&&(d.roleManagerUsers=A.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},features:[e.qOj],decls:28,vars:19,consts:[["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["roleManagerUsers","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],["commonSummaryGroup",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"disabled","click"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModel","ngModelChange","keyup"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"checked","change"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return d.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9),e.YNc(14,Nv,2,3,"app-simple-loader",10),e.YNc(15,Pv,30,38,"div",11),e.YNc(16,rh,7,4,"ng-template",null,12,e.W1O),e.qZA(),e._UZ(18,"div",13),e.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),e.NdJ("click",function(){return d.addOrRemoveUsers()}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"button",18),e.NdJ("click",function(){return d.hide()}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(18,Rf)),e.xp6(6),e.Oqu(e.lcZ(7,10,"Roles.RoleUserManagement")),e.xp6(2),e.Q6J("disabled",d.isSaving),e.xp6(3),e.Oqu(e.lcZ(12,12,"Common.Close")),e.xp6(3),e.Q6J("ngIf",d.isSaving),e.xp6(1),e.Q6J("ngIf",!d.isSaving),e.xp6(7),e.Q6J("disabled",d.isSaving||d.usersAdding.length<1&&d.usersRemoving.length<1),e.xp6(1),e.hij(" ",e.lcZ(24,14,"Common.Save")," "),e.xp6(2),e.Q6J("disabled",d.isSaving),e.xp6(1),e.Oqu(e.lcZ(27,16,"Common.Close")))},dependencies:[ie.sg,ie.O5,ie.tP,m.Fj,m.JJ,m.Q7,m.wO,m.nD,m.On,Ls.oB,Co.w,vn.X$],encapsulation:2}),l})();function Mu(l,h){if(1&l){const n=e.EpF();e.ynx(0,17),e.TgZ(1,"div",18)(2,"label",19),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",20),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw(2);return e.KtG(M.pageSize=A)})("change",function(){e.CHM(n);const A=e.oxw(2);return e.KtG(A.setPageLength(+A.pageSize))}),e.TgZ(6,"option",21),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"option",22),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"option",23),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.BQk()}if(2&l){const n=e.oxw(2);e.xp6(3),e.AsE("",n.pageSize," ",e.lcZ(4,6,"Nav.PerPage"),""),e.xp6(2),e.Q6J("ngModel",n.pageSize),e.xp6(2),e.hij("25 ",e.lcZ(8,8,"Nav.PerPage"),""),e.xp6(3),e.hij("50 ",e.lcZ(11,10,"Nav.PerPage"),""),e.xp6(3),e.hij("100 ",e.lcZ(14,12,"Nav.PerPage"),"")}}function kf(l,h){1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.ManageUsers")," "))}function sh(l,h){1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.AddUsers")," "))}function Pf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.YNc(1,Mu,15,14,"ng-container",14),e.ynx(2,15),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(n),e.oxw();const A=e.MAs(11);return e.KtG(A.show())}),e.YNc(4,kf,3,3,"span",7),e.YNc(5,sh,3,3,"span",7),e.qZA(),e.BQk(),e.qZA()}if(2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.xp6(3),e.Q6J("ngIf",n.users&&n.users.length>0),e.xp6(1),e.Q6J("ngIf",n.users&&n.users.length<1)}}function oh(l,h){1&l&&e._UZ(0,"app-simple-loader")}function Oc(l,h){1&l&&(e.TgZ(0,"div",24)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Users.NoUsersFound")))}function Lv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr")(1,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.goToUser(M))}),e.TgZ(2,"b",32),e._uU(3),e.qZA()(),e.TgZ(4,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.goToUser(M))}),e._uU(5),e.qZA(),e.TgZ(6,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.goToUser(M))}),e._uU(7),e.qZA(),e.TgZ(8,"td",34),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.removeUser(M))}),e.TgZ(9,"button",35),e.NdJ("click",function(){const M=e.CHM(n).$implicit,pe=e.oxw(2);return e.KtG(pe.removeUser(M))}),e._UZ(10,"span",36),e.TgZ(11,"span",5),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit;e.xp6(3),e.Oqu(n.username),e.xp6(2),e.hij(" ",n.firstName," "),e.xp6(2),e.hij(" ",n.lastName," "),e.xp6(5),e.Oqu(e.lcZ(13,4,"Common.Remove.Title"))}}function Lf(l,h){if(1&l&&(e.TgZ(0,"table",25)(1,"thead")(2,"tr")(3,"th",26),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",27),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",27),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",28)(13,"span",5),e._uU(14),e.ALo(15,"translate"),e.qZA()()()(),e.TgZ(16,"tbody",29),e.YNc(17,Lv,14,6,"tr",30),e.qZA()()),2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,5,"Users.Username")),e.xp6(3),e.Oqu(e.lcZ(8,7,"Users.FirstName")),e.xp6(3),e.Oqu(e.lcZ(11,9,"Users.LastName")),e.xp6(4),e.Oqu(e.lcZ(15,11,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.users)}}function Bv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-pager",37),e.NdJ("onGoToPage",function(A){e.CHM(n);const M=e.oxw();return e.KtG(M.goToPage(A))}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}const Uv=function(){return{animated:!1,backdrop:"static"}};function Bf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",43),e._UZ(8,"span",36),e.TgZ(9,"span",5),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",44),e._UZ(13,"p",45),e.qZA(),e._UZ(14,"div",46),e.TgZ(15,"div",47)(16,"div",48)(17,"div",49)(18,"button",50),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.delete())}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"button",51),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()()()}if(2&l){const n=e.oxw();e.Q6J("config",e.DdM(14,Uv)),e.xp6(5),e.Oqu(e.lcZ(6,6,"Common.Remove.Confirm")),e.xp6(5),e.Oqu(e.lcZ(11,8,"Common.Close")),e.xp6(3),e.Q6J("innerHtml",n.removeSummary,e.oJD),e.xp6(6),e.Oqu(e.lcZ(20,10,"Common.Remove.Title")),e.xp6(3),e.Oqu(e.lcZ(23,12,"Common.Remove.No"))}}let ah=(()=>{class l extends kd.bk{constructor(n,d,A,M,pe,Pe,Qe){super(pe,d,!0),this.rolesService=n,this.localize=A,this.router=M,this.errorService=Pe,this.userService=Qe,this.pageStream=new H.x,this.pageSizeStream=new H.x,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=d.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,Za.P)()).subscribe(n=>{this.role=n,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const d=this.pageStream.pipe((0,se.U)(pe=>(this.page=pe,{searchTerm:this.searchTerm,page:pe,pageSize:this.pageSize}))),A=this.pageSizeStream.pipe((0,se.U)(pe=>(this.pageSize=pe,{searchTerm:this.searchTerm,page:this.page,pageSize:pe})));d.pipe((0,Ca.T)(A),(0,Ca.T)(this.searchSource),(0,Ca.T)(this.enterKeySource),(0,Ae.O)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,D.z)(pe=>(this.isLoading=!0,this.rolesService.getUsersInRole(n.id,pe.page,pe.pageSize,pe.searchTerm).pipe((0,Yp.g)(200))))).subscribe(pe=>{this.pagedResult=pe,this.users=pe.results,this.isLoading=!1},pe=>{this.errorService.handleError(pe),this.isLoading=!1})})}mapSearchTerm(n){return this.searchTerm=n,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(n){this.pageStream.next(1)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}goToUser(n){const d=[this.localize.translateRoute("/users"),n.subject,"roles"];this.router.navigate(d)}removeUser(n){this.removeSummary=this.removeSummaryTranslation.replace("{0}",n.username),this.userToRemove=n}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(n=>{let d=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;d<1&&(d=1),this.goToPage(d),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},n=>{this.isLoading=!1,401===n.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(oe.f),e.Y36(vn.sK),e.Y36(mi.An),e.Y36(ri.F0),e.Y36(zi._W),e.Y36(ht.T),e.Y36(es.K))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-role-users"]],features:[e.qOj],decls:17,vars:11,consts:[[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","ngModelChange","keyup"],[4,"ngIf"],["id","manageUsersModal",3,"role","onSubmitted"],["manageUsersModal",""],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["bsModal","","id","removeUserModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],["data-toggle","modal","data-target","#removeUserModal",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"totalResults","currentPage","lastPage","onGoToPage"],["bsModal","","id","removeUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHtml"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._UZ(4,"span",4),e.TgZ(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(M){return d.searchTerm=M})("keyup",function(M){return d.search(M)}),e.qZA()()(),e.YNc(9,Pf,6,3,"app-action-bar",7),e.TgZ(10,"app-role-manageusers",8,9),e.NdJ("onSubmitted",function(M){return d.onSubmit(M)}),e.qZA(),e.YNc(12,oh,1,0,"app-simple-loader",7),e.YNc(13,Oc,4,3,"div",10),e.YNc(14,Lf,18,13,"table",11),e.YNc(15,Bv,1,3,"app-pager",12),e.qZA(),e.YNc(16,Bf,24,15,"div",13)),2&n&&(e.xp6(6),e.Oqu(e.lcZ(7,9,"Common.Search")),e.xp6(2),e.Q6J("ngModel",d.searchTerm),e.xp6(1),e.Q6J("ngIf",!d.isLoading),e.xp6(1),e.Q6J("role",d.role),e.xp6(2),e.Q6J("ngIf",d.isLoading),e.xp6(1),e.Q6J("ngIf",d.users&&0==d.users.length&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",d.users&&d.users.length>0&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",(null==d.pagedResult?null:d.pagedResult.results.length)>0&&!d.isLoading),e.xp6(1),e.Q6J("ngIf",d.userToRemove))},dependencies:[ie.sg,ie.O5,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.Q7,m.wO,m.nD,m.On,Ls.oB,xn.P,Yn.K,Co.w,Ou,vn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();class Uf{}var Fv=p(6548);let lh=(()=>{class l{constructor(n,d,A,M,pe){this.claimTypeService=n,this.permissionService=d,this.accessPolicyService=A,this.rolesService=M,this.errorService=pe}resolve(){const n=this.permissionService.getAvaliablePermissions(),d=this.accessPolicyService.getAccessPolicy(),A=this.claimTypeService.getClaimTypes(),M=this.rolesService.getRoles();return(0,Ks.D)([n,d,A,M]).pipe((0,se.U)(([Pe,Qe,xt,Ft])=>{const cn=new Uf;return cn.permissions=Pe,cn.claimTypes=xt,cn.accessPolicy=Qe,cn.roles=Ft,cn},Pe=>{this.errorService.handleError(Pe)}))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(so.M),e.LFG(Fv.$),e.LFG(yl),e.LFG(oe.f),e.LFG(ht.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})(),Zv=(()=>{class l{constructor(n,d,A,M){this.titleService=n,this.identityResourceService=d,this.toastr=A,this.translate=M,this.properties=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(n=>{this.identityResource=n,this.properties=this.identityResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tt.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}onPropertiesChanged(n){this.properties=n;const d=Object.assign(this.identityResource,{properties:this.properties});this.identityResourceService.updateResource(d).pipe((0,Le.q)(1)).subscribe(A=>{this.identityResource=d,this.identityResourceService.getCachedIdentityResource().next(d),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(ba.Q),e.Y36(zi._W),e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-identity-resource-properties"]],decls:1,vars:2,consts:[[3,"modalId","properties","propertiesChanged"]],template:function(n,d){1&n&&(e.TgZ(0,"app-properties-editor",0),e.NdJ("propertiesChanged",function(M){return d.onPropertiesChanged(M)}),e.qZA()),2&n&&e.Q6J("modalId",d.identityResource.id)("properties",d.properties)},dependencies:[Eu.s],encapsulation:2}),l})(),Ff=(()=>{class l{constructor(n,d,A,M){this.titleService=n,this.protectedResourceService=d,this.toastr=A,this.translate=M,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tt.de.SITE_TITLE}`),this.modalId=this.protectedResource.id})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}onPropertiesChanged(n){this.properties=n;const d=Object.assign(this.protectedResource,{properties:this.properties});this.protectedResourceService.updateResource(d).pipe((0,Le.q)(1)).subscribe(A=>{this.protectedResource=d,this.protectedResourceService.getCachedProtectedResource().next(d),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(Bo.m),e.Y36(zi._W),e.Y36(vn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protected-resource-properties"]],decls:1,vars:2,consts:[[3,"modalId","properties","propertiesChanged"]],template:function(n,d){1&n&&(e.TgZ(0,"app-properties-editor",0),e.NdJ("propertiesChanged",function(M){return d.onPropertiesChanged(M)}),e.qZA()),2&n&&e.Q6J("modalId",d.modalId)("properties",d.properties)},dependencies:[Eu.s],encapsulation:2}),l})();var Zf=p(572),Vv=p(1923);let Xo=(()=>{class l{constructor(n,d){this.http=n,this.headersService=d,this.actionUrl="signingkey",this.headers=d.setHeaders()}getKeys(){const n=new T.LE;return this.http.get(this.actionUrl,{headers:this.headers,params:n})}deleteKey(n){return this.http.delete(`${this.actionUrl}/${n}`,{headers:this.headers})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN),e.LFG(wa.s))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var Vf=p(8285),Hf=p(2808);let Hv=(()=>{class l{constructor(n,d,A,M,pe){this.keyService=n,this.toastr=d,this.translate=A,this.modalService=M,this.dataTableService=pe,this.keysDataTableActions=[Zf.Xz.Delete],this.deleteModalType=Vv.w.Warning,this.deleteModalId="deleteKeyModal"}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.getSerializedKeys(),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(n=>{this.startDeleteKey(n)})}getSerializedKeys(){this.keyService.getKeys().subscribe(n=>{this.keys=n})}startDeleteKey(n){this.keyToDelete=this.keys[n],this.modalService.showById(this.deleteModalId,null)}deleteKey(){return this.keyService.deleteKey(this.keyToDelete.id).toPromise().then(n=>{this.toastr.success(this.translate.instant("Settings.Keys.RemovedKey"),this.translate.instant("Notifications.Success")),this.getSerializedKeys(),this.resetAndCloseDeleteModal()},n=>{this.toastr.error("Removed Key","Failed!")})}resetAndCloseDeleteModal(){this.keyToDelete=null,this.modalService.hideById(this.deleteModalId)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Xo),e.Y36(zi._W),e.Y36(vn.sK),e.Y36(Gi.Z),e.Y36(Vf.n))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-list-keys"]],decls:14,vars:35,consts:[["id","keysList",1,"tw-container","tw-mx-auto"],["id","keysTable",3,"rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","date"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"title","modalId","actions","modalType","onCancel","onDelete"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"app-data-table",1),e._UZ(2,"app-data-table-column",2)(3,"app-data-table-column",2)(4,"app-data-table-column",2)(5,"app-data-table-column",3)(6,"app-data-table-column",4),e.qZA()(),e.TgZ(7,"app-custom-modal",5),e.NdJ("onCancel",function(){return d.resetAndCloseDeleteModal()})("onDelete",function(){return d.deleteKey()}),e.TgZ(8,"div",6)(9,"p",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p",8),e.ALo(13,"translate"),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("rows",d.keys)("actions",d.keysDataTableActions)("norowslabel","Settings.Keys.NoKeys"),e.xp6(1),e.Q6J("title","Common.ID")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","id"),e.xp6(1),e.Q6J("title","Settings.Keys.Version")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","version"),e.xp6(1),e.Q6J("title","Settings.Keys.Algorithm")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","algorithm"),e.xp6(1),e.Q6J("title","Settings.Keys.Created")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","created")("date",!0),e.xp6(1),e.Q6J("title","Settings.Keys.IsX509Certificate")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isX509Certificate")("isBoolean",!0),e.xp6(1),e.Q6J("title","Settings.Keys.DeleteKey")("modalId",d.deleteModalId)("actions",d.keysDataTableActions)("modalType",d.deleteModalType),e.xp6(3),e.Oqu(e.lcZ(11,31,"Common.Delete.AreYouSureSimple")),e.xp6(2),e.Q6J("innerHTML",e.lcZ(13,33,"Common.Delete.Warning"),e.oJD))},dependencies:[Zf.Qj,Hf.E,Gs.R,vn.X$],encapsulation:2}),l})();function Jv(l,h){1&l&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function Wv(l,h){1&l&&(e.TgZ(0,"span",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}function jv(l,h){if(1&l&&(e.ynx(0,5),e.YNc(1,Jv,3,3,"span",6),e.YNc(2,Wv,3,3,"span",7),e.BQk()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isPolicyRole()),e.xp6(1),e.Q6J("ngIf",n.role.reserved)}}const Jf=function(l,h){return{title:l,link:h}},Kv=function(l){return[l]};let $v=(()=>{class l{constructor(n,d,A,M){this.activatedRoute=n,this.errorService=d,this.router=A,this.securityService=M}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(n=>{this.role=n.role},n=>{this.errorService.handleError(n)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const n=this.securityService.policyClaims;for(let d=0;d<n.length;d++)if("role"===n[d].type&&n[d].value===this.role.name)return!0;return!1}mobRoute(n){this.router.navigate([n],{relativeTo:this.activatedRoute})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ri.gz),e.Y36(ht.T),e.Y36(ri.F0),e.Y36(yi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:18,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(n,d){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.YNc(3,jv,3,2,"ng-container",1),e.ynx(4,2),e.TgZ(5,"app-custom-tabs"),e._UZ(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.qZA(),e.BQk(),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"router-outlet"),e.qZA()),2&n&&(e.Q6J("title",d.role.name)("crumbs",e.VKq(16,Kv,e.WLB(13,Jf,e.lcZ(1,9,"Nav.Roles"),e.lcZ(2,11,"/roles"))))("hasTabs",!0)("isReadOnly",!0),e.xp6(3),e.Q6J("ngIf",d.isPolicyRole()||d.role.reserved),e.xp6(3),e.Q6J("tabTitle","Nav.Details")("tabValue","details"),e.xp6(1),e.Q6J("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[ie.O5,ri.lC,Gt.G,Yo.v,Ad.x,vn.X$,mi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();function zv(l,h){1&l&&(e.TgZ(0,"span",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Disabled")," "))}const Qi=function(l,h){return{title:l,link:h}},Wf=function(l){return[l]},Nu=function(){return["active"]};let jf=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe,xt){this.fb=n,this.route=d,this.router=A,this.titleService=M,this.identityResourceService=pe,this.translate=Pe,this.claimTypesService=Qe,this.scopesClaimService=xt}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(n=>{this.identityResource=n,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${tt.de.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.scopesClaimService.setClaimTypes(n)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(ri.gz),e.Y36(ri.F0),e.Y36(t.Dx),e.Y36(ba.Q),e.Y36(vn.sK),e.Y36(so.M),e.Y36(gl.q))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:39,vars:46,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewIdentityResource",1,"tw-container","mx-auto"],[1,"tw-pill-warning","tw-mr-2"]],template:function(n,d){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(M){return d.mobRoute(M.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.qZA()()()(),e.TgZ(21,"ul",9),e.ALo(22,"translate"),e.TgZ(23,"li",10)(24,"button",11),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"li",10)(28,"button",12),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"li",10)(32,"button",13),e._uU(33),e.ALo(34,"translate"),e.qZA()()(),e.BQk(),e.ynx(35,14),e.YNc(36,zv,3,3,"span",15),e.BQk(),e.qZA(),e.TgZ(37,"div",16),e._UZ(38,"router-outlet"),e.qZA()),2&n&&(e.Q6J("title",null==d.identityResource?null:d.identityResource.name)("crumbs",e.VKq(41,Wf,e.WLB(38,Qi,e.lcZ(1,18,"IdentityResources.Title"),e.lcZ(2,20,"/identityresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",d.identityResource.nonEditable),e.xp6(6),e.Oqu(e.lcZ(7,22,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,24,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,26,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,28,"Nav.Claims")),e.xp6(3),e.Oqu("Nav.Properties | translate"),e.xp6(1),e.uIk("aria-label",e.lcZ(22,30,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(43,Nu)),e.xp6(1),e.Oqu(e.lcZ(26,32,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(44,Nu)),e.xp6(1),e.Oqu(e.lcZ(30,34,"Nav.Claims")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(45,Nu)),e.xp6(1),e.Oqu(e.lcZ(34,36,"Nav.Properties")),e.xp6(3),e.Q6J("ngIf",!d.identityResource.enabled))},dependencies:[ie.O5,ri.lC,ri.rH,ri.Od,Gt.G,vn.X$,mi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Gv=p(3351),Qv=p(365);const Kf=["requiredClaimsForm"];function qv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",6)(1,"div",9)(2,"h2",10),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",11),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",12),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",13)(12,"span",14)(13,"button",15),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.signOutAndRedirectToLogin())}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()()}2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,4,"Notifications.Success")),e.xp6(3),e.hij(" ",e.lcZ(7,6,"InitialAdminCreation.SuccessMessage")," "),e.xp6(3),e.hij(" ",e.lcZ(10,8,"InitialAdminCreation.LoginMessage")," "),e.xp6(5),e.hij(" ",e.lcZ(15,10,"Nav.Login")," "))}function $f(l,h){1&l&&(e.TgZ(0,"span",40),e._uU(1,"Passwords must match"),e.qZA())}function Yv(l,h){1&l&&(e.TgZ(0,"ul",41)(1,"li"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"li"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"li"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"li"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"li"),e._uU(14),e.ALo(15,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"Users.Password.Requirements.1")),e.xp6(3),e.Oqu(e.lcZ(6,7,"Users.Password.Requirements.2")),e.xp6(3),e.Oqu(e.lcZ(9,9,"Users.Password.Requirements.3")),e.xp6(3),e.Oqu(e.lcZ(12,11,"Users.Password.Requirements.4")),e.xp6(3),e.Oqu(e.lcZ(15,13,"Users.Password.Requirements.5")))}function Xv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",50),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw().$implicit;return e.KtG(M.value=A)}),e.qZA()}if(2&l){const n=e.oxw(),A=n.$implicit;e.MGl("id","claim-",n.index,""),e.Q6J("ngModel",A.value)}}function MC(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",51),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw().$implicit;return e.KtG(M.value=A)}),e.qZA()}if(2&l){const n=e.oxw(),A=n.$implicit;e.MGl("id","claim-",n.index,""),e.Q6J("ngModel",A.value)}}function zf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",52)(1,"select",53),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw().$implicit;return e.KtG(M.value=A)}),e.TgZ(2,"option",54),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"option",55),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const n=e.oxw(),d=n.index,A=n.$implicit;e.xp6(1),e.MGl("id","claim-",d,""),e.Q6J("ngModel",A.value),e.xp6(2),e.Oqu(e.lcZ(4,4,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(7,6,"Common.False"))}}function Gf(l,h){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",58),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw(2).$implicit;return e.KtG(M.value=A)}),e.qZA(),e.BQk()}if(2&l){const n=e.oxw(2),d=n.index,A=n.$implicit;e.xp6(1),e.MGl("id","claim-",d,""),e.Q6J("ngModel",A.value)}}function bl(l,h){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",59),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw(2).$implicit;return e.KtG(M.value=A)}),e.qZA(),e.BQk()}if(2&l){const n=e.oxw(2),d=n.index,A=n.$implicit;e.xp6(1),e.MGl("id","claim-",d,""),e.Q6J("ngModel",A.value)("displayType","date")}}function e0(l,h){if(1&l&&(e.TgZ(0,"div",56),e.YNc(1,Gf,2,2,"ng-container",57),e.YNc(2,bl,2,3,"ng-container",57),e.qZA()),2&l){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","birthdate"!=n.name),e.xp6(1),e.Q6J("ngIf","birthdate"==n.name)}}function ch(l,h){if(1&l&&(e.TgZ(0,"option",62),e._uU(1),e.qZA()),2&l){const n=h.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function uh(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",52)(1,"select",60),e.NdJ("ngModelChange",function(A){e.CHM(n);const M=e.oxw().$implicit;return e.KtG(M.value=A)}),e.YNc(2,ch,2,2,"option",61),e.qZA()()}if(2&l){const n=e.oxw(),d=n.index,A=n.$implicit;e.xp6(1),e.MGl("id","claim-",d,""),e.Q6J("ngModel",A.value),e.xp6(1),e.Q6J("ngForOf",A.allowedValues)}}function t0(l,h){if(1&l&&(e.TgZ(0,"span",63),e._uU(1),e.qZA()),2&l){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.failureMessage," ")}}function NC(l,h){if(1&l&&(e.TgZ(0,"app-form-row",44),e.YNc(1,Xv,1,2,"input",45),e.YNc(2,MC,1,2,"input",46),e.YNc(3,zf,8,8,"div",47),e.YNc(4,e0,3,2,"div",48),e.YNc(5,uh,3,3,"div",47),e.YNc(6,t0,2,1,"span",49),e.qZA()),2&l){const n=h.$implicit,d=h.index,A=e.oxw(3);e.Q6J("id","claim-"+d)("label",n.name)("help","DateTime"==n.format?"Common.Dates.UTCWarning":"")("isLast",d===A.displayClaims.length-1),e.xp6(1),e.Q6J("ngIf","String"==n.format),e.xp6(1),e.Q6J("ngIf","Int"==n.format),e.xp6(1),e.Q6J("ngIf","Boolean"==n.format),e.xp6(1),e.Q6J("ngIf","DateTime"==n.format),e.xp6(1),e.Q6J("ngIf","Enum"==n.format),e.xp6(1),e.Q6J("ngIf",null!=n.failureMessage)}}function RC(l,h){if(1&l&&(e.TgZ(0,"div",42),e.YNc(1,NC,7,10,"app-form-row",43),e.qZA()),2&l){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.displayClaims)}}function kC(l,h){1&l&&e._UZ(0,"span",64)}function n0(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",9)(1,"h2",10),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"hr",16)(6,"p",17)(7,"p",18),e.ALo(8,"translate"),e.TgZ(9,"p",17),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"hr",16),e.TgZ(13,"form",19)(14,"app-form-row",20),e._UZ(15,"input",21),e.qZA(),e.TgZ(16,"app-form-row",20),e._UZ(17,"input",22),e.qZA(),e.TgZ(18,"app-form-row",20),e._UZ(19,"input",23),e.qZA(),e.TgZ(20,"app-form-row",20),e._UZ(21,"input",24),e.qZA(),e.TgZ(22,"app-form-row",20),e._UZ(23,"input",25),e.qZA(),e.TgZ(24,"app-form-row",20),e._UZ(25,"input",26),e.YNc(26,$f,2,0,"span",27),e.YNc(27,Yv,16,15,"ul",28),e.qZA()(),e.TgZ(28,"form",null,29),e.YNc(30,RC,2,1,"div",30),e.qZA(),e.TgZ(31,"div",13)(32,"span",14)(33,"button",31),e.NdJ("click",function(){e.CHM(n);const A=e.oxw();return e.KtG(A.addUser())}),e._uU(34),e.ALo(35,"translate"),e.YNc(36,kC,1,0,"span",32),e.qZA()()()(),e.TgZ(37,"ul",33)(38,"li",34)(39,"a",35),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"span",36),e._uU(43,"\u2022"),e.qZA()(),e.TgZ(44,"li",34)(45,"a",37),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"span",36),e._uU(49,"\u2022"),e.qZA()(),e.TgZ(50,"li",38)(51,"a",39),e._uU(52),e.ALo(53,"translate"),e.qZA()()()()}if(2&l){const n=e.MAs(29),d=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,26,"LandingPage.AdminCreation")),e.xp6(5),e.Q6J("innerHTML",e.lcZ(8,28,"InitialAdminCreation.PermissionsInfoMessage"),e.oJD),e.xp6(3),e.hij(" ",e.lcZ(11,30,"InitialAdminCreation.PasswordHashMessage")," "),e.xp6(3),e.Q6J("formGroup",d.addUserForm),e.xp6(1),e.Q6J("id","FirstName")("label","Users.FirstName"),e.xp6(2),e.Q6J("id","LastName")("label","Users.LastName"),e.xp6(2),e.Q6J("id","Username")("label","Users.Username"),e.xp6(2),e.Q6J("id","Email")("label","Users.Email"),e.xp6(2),e.Q6J("id","Password")("label","Users.Password.Title"),e.xp6(2),e.Q6J("id","Password")("label","UserDetails.Confirm Password"),e.xp6(2),e.Q6J("ngIf",d.addUserForm.hasError("notSame")),e.xp6(1),e.Q6J("ngIf",d.addUserForm.get("password").hasError("pattern")),e.xp6(3),e.Q6J("ngIf",d.displayClaims.length>0),e.xp6(3),e.Q6J("disabled",!d.addUserForm.valid||!n.form.valid||d.inFlight),e.xp6(1),e.hij(" ",e.lcZ(35,32,"Common.Save")," "),e.xp6(2),e.Q6J("ngIf",d.inFlight),e.xp6(3),e.s9C("href",d.apiDocsLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(41,34,"LandingPage.APIDocs")," "),e.xp6(6),e.hij(" ",e.lcZ(47,36,"LandingPage.Documentation")," "),e.xp6(6),e.hij(" ",e.lcZ(53,38,"Nav.Support")," ")}}let Qf=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe,xt){this.authService=n,this.titleService=d,this.toastr=A,this.fb=M,this.userService=pe,this.errorService=Pe,this.claimTypesService=Qe,this.appComponentViewService=xt,this.versionNumber="",this.createdAdmin=!1,this.displayClaims=[],this.checkPasswords=cn=>cn.get("password").value===cn.get("confirmPassword").value?null:{notSame:!0},this.titleService.setTitle(`${tt.de.SITE_TITLE}`),this.versionNumber=be;const Ft=new Date;this.appCopyright=2017!==Ft.getFullYear()?"2017 - "+Ft.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.createForms(),this.claimTypesService.getClaimTypes(null,null).subscribe(n=>{this.claimTypes=n;for(const A of this.claimTypes)A.required&&this.displayClaims.push({claimTypeId:A.id,format:A.valueType,name:A.name,value:null,failureMessage:A.ruleValidationFailureDescription,allowedValues:A.allowedValues})},n=>{this.errorService.handleError(n)})}addUser(){let n;n=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(n,{claims:[]});for(const d of this.displayClaims){if(null===d.value)continue;let A=d.value;"DateTime"===d.format&&(A=d.value),"Int"===d.format&&(A=A.toString()),n.claims.push({claimTypeId:d.claimTypeId,value:A,type:d.name})}this.inFlight=!0,this.userService.addInitialAdministrator(n).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},d=>{this.inFlight=!1,this.errorService.handleError(d)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[m.kI.required,(0,St.Fd)()]],email:["",Qv.J],firstName:["",m.kI.required],lastName:["",m.kI.required],password:["",m.kI.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(fr.e),e.Y36(t.Dx),e.Y36(zi._W),e.Y36(m.QS),e.Y36(es.K),e.Y36(ht.T),e.Y36(so.M),e.Y36($s.t))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-initial-admin-creation"]],viewQuery:function(n,d){if(1&n&&e.Gf(Kf,5),2&n){let A;e.iGM(A=e.CRH())&&(d.requiredClaimsForm=A.first)}},decls:10,vars:3,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["requiredClaimsForm","ngForm"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],["type","number","name","number","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"id","ngModel","ngModelChange"],["name","claimValue","required","",3,"id","ngModel","displayType","ngModelChange"],["name","enum","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"header",3),e._UZ(4,"img",4),e.TgZ(5,"span",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,qv,16,12,"div",7),e.YNc(9,n0,54,40,"div",8),e.qZA()()),2&n&&(e.xp6(6),e.hij("v",d.versionNumber,""),e.xp6(2),e.Q6J("ngIf",d.createdAdmin),e.xp6(1),e.Q6J("ngIf",!d.createdAdmin))},dependencies:[ie.sg,ie.O5,m._Y,m.YN,m.Kr,m.Fj,m.wV,m.EJ,m.JJ,m.JL,m.Q7,m.On,m.F,m.sg,m.u,ar.L,Zd.j,vn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})(),qf=(()=>{class l{constructor(n,d){this.http=n,this.headersService=d,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(n){const d=JSON.stringify(n);return this.http.put(this.actionUrl,d,{headers:this.headers})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(T.eN),e.LFG(wa.s))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})(),wl=(()=>{class l{constructor(n,d,A){this.webhookService=n,this.protectedResourceService=d,this.errorService=A}resolve(){return(0,Ks.D)({webhooks:this.webhookService.getWebhooks(),protectedResources:this.protectedResourceService.getProtectedResources()}).pipe((0,se.U)(n=>{const d=new r0;d.webhookConfiguration=n.webhooks;const A=[];return n.protectedResources.forEach(M=>{A.push(...M.scopes)}),d.scopeNames=A.map(M=>M.name).sort(),d},n=>{this.errorService.handleError(n)}))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(qf),e.LFG(Bo.m),e.LFG(ht.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class r0{}class Ru{constructor(h,n,d,A){this.webhooks={MfaReset:h,PasswordReset:n,UserRegistration:d,ServerSideSessionDelete:A}}}var ea=(()=>{return(l=ea||(ea={})).MFAReset="MfaReset",l.PasswordReset="PasswordReset",l.UserRegistration="UserRegistration",l.ServerSideSessionDelete="ServerSideSessionDelete",ea;var l})();function o0(l,h){if(1&l&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&l){const n=h.$implicit;e.Q6J("ngValue",n),e.xp6(1),e.Oqu(n)}}let a0=(()=>{class l{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},decls:11,vars:14,consts:[[3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"id","click"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),e.NdJ("click",function(){return d.toggle()}),e.qZA()()(),e.TgZ(5,"app-form-row",5),e._UZ(6,"input",6),e.qZA(),e.TgZ(7,"app-form-row",7)(8,"div",8)(9,"select",9),e.YNc(10,o0,2,2,"option",10),e.qZA()()()()()),2&n&&(e.Q6J("formGroup",d.parentForm),e.xp6(1),e.s9C("formGroupName",d.webhookName),e.xp6(1),e.Q6J("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),e.xp6(1),e.Q6J("id","WebhookEnabled"+d.webhookName)("isTraffic",!0)("isAlt",!1),e.xp6(1),e.Q6J("id","WebhookEnabled"+d.webhookName),e.xp6(1),e.Q6J("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),e.xp6(2),e.Q6J("label","Webhooks.ProtectingScope")("isLast",!0),e.xp6(3),e.Q6J("ngForOf",d.scopeNames))},dependencies:[ie.sg,m._Y,m.YN,m.Kr,m.Fj,m.Wl,m.EJ,m.JJ,m.JL,m.F,m.sg,m.u,m.x0,ar.L,Ul.O],encapsulation:2}),l})();const l0=["save"];function c0(l,h){if(1&l&&(e.TgZ(0,"div",5)(1,"form",6)(2,"h2",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"app-edit-webhook",8),e.TgZ(6,"h2",7),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"app-edit-webhook",8),e.TgZ(10,"h2",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"app-edit-webhook",8),e.TgZ(14,"h2",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"app-edit-webhook",8),e.qZA()()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(4,17,"Webhooks.MultiFactorHeading")),e.xp6(2),e.Q6J("webhookName",n.webhookNames.MFAReset)("scopeNames",n.scopeNames)("parentForm",n.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(8,19,"Webhooks.PasswordResetHeading")),e.xp6(2),e.Q6J("webhookName",n.webhookNames.PasswordReset)("scopeNames",n.scopeNames)("parentForm",n.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(12,21,"Webhooks.UserRegistrationHeading")),e.xp6(2),e.Q6J("webhookName",n.webhookNames.UserRegistration)("scopeNames",n.scopeNames)("parentForm",n.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(16,23,"Webhooks.ServerSideSessionDeleteHeading")),e.xp6(2),e.Q6J("webhookName",n.webhookNames.ServerSideSessionDelete)("scopeNames",n.scopeNames)("parentForm",n.webhooksForm)}}let u0=(()=>{class l{constructor(n,d,A,M,pe,Pe,Qe,xt){this.activatedRoute=n,this.errorService=d,this.fb=A,this.webhookService=M,this.translate=pe,this.toastr=Pe,this.modalService=Qe,this.dialogService=xt,this.webhookNames=ea,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[en.n.Save]}ngOnInit(){this.activatedRoute.data.pipe(function Yf(...l){const h=l.length;if(0===h)throw new Error("list of properties cannot be empty.");return(0,se.U)(n=>{let d=n;for(let A=0;A<h;A++){const M=d?.[l[A]];if(!(typeof M<"u"))return;d=M}return d})}("webhookResolverObject")).subscribe(n=>{this.webhookConfiguration=n.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=n.scopeNames,this.webhooksForm=this.fb.group({[ea.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[ea.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[ea.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[ea.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(d=>{this.saveLock=!(this.webhooksForm.controls[ea.MFAReset].valid&&this.webhooksForm.controls[ea.PasswordReset].valid&&this.webhooksForm.controls[ea.UserRegistration].valid&&this.webhooksForm.controls[ea.ServerSideSessionDelete].valid)})},n=>{this.errorService.handleError(n)})}createFormGroup(n){return this.fb.group({url:[{value:n.url,disabled:!n.enabled},m.kI.required],scopeName:[{value:n.scopeName,disabled:!n.enabled}],enabled:[n.enabled]})}processWebhookConfigurationUpdate(){const n=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(n)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(n)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const n=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(n).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(d=>{this.webhookConfiguration=d,this.webhooksEnabled=this.checkWebhooksEnabled()},d=>{this.errorService.handleError(d)}),this.webhooksForm.markAsPristine()},d=>{this.errorService.handleError(d)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const n=this.webhooksForm.getRawValue();return new Ru(n.MfaReset,n.PasswordReset,n.UserRegistration,n.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(n){return n.webhooks.PasswordReset.enabled||n.webhooks.UserRegistration.enabled||n.webhooks.MfaReset.enabled||n.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(n){return!(n.webhooks.PasswordReset.enabled||n.webhooks.UserRegistration.enabled||n.webhooks.MfaReset.enabled||n.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ri.gz),e.Y36(ht.T),e.Y36(m.QS),e.Y36(qf),e.Y36(vn.sK),e.Y36(zi._W),e.Y36(Gi.Z),e.Y36(pl.x))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-manage-webhooks"]],viewQuery:function(n,d){if(1&n&&e.Gf(l0,5),2&n){let A;e.iGM(A=e.CRH())&&(d.saveButtonRef=A.first)}},decls:20,vars:25,consts:[["class","tw-container tw-mx-auto",4,"ngIf"],[3,"saveText","actions","title","modalId","onCancel","onSave"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],[1,"tw-container","tw-mx-auto"],[3,"formGroup"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","scopeNames","parentForm"]],template:function(n,d){1&n&&(e.YNc(0,c0,18,25,"div",0),e.TgZ(1,"app-custom-modal",1),e.NdJ("onCancel",function(){return d.cancelWebhookUpdate()})("onSave",function(){return d.acceptClientCreation()}),e.TgZ(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",3),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"app-custom-modal",1),e.NdJ("onCancel",function(){return d.cancelWebhookUpdate()})("onSave",function(){return d.acceptClientCreation()}),e.TgZ(9,"h2",2),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p",3),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"app-button-bar")(16,"button",4),e.NdJ("click",function(){return d.processWebhookConfigurationUpdate()}),e._uU(17),e.ALo(18,"translate"),e.qZA()(),e._UZ(19,"app-can-deactivate")),2&n&&(e.Q6J("ngIf",d.webhookConfiguration),e.xp6(1),e.Q6J("saveText","Common.Continue")("actions",d.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",d.clientCreationConfirmationModalId),e.xp6(2),e.Oqu(e.lcZ(4,15,"Common.Warning")),e.xp6(3),e.hij(" ",e.lcZ(7,17,"Webhooks.ClientCreationWarningDescription")," "),e.xp6(2),e.Q6J("saveText","Common.Continue")("actions",d.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",d.clientDeletionConfirmationModalId),e.xp6(2),e.Oqu(e.lcZ(11,19,"Common.Warning")),e.xp6(3),e.hij(" ",e.lcZ(14,21,"Webhooks.ClientDeletionWarningDescription")," "),e.xp6(3),e.Q6J("disabled",d.saveLock),e.xp6(1),e.hij(" ",e.lcZ(18,23,"Common.Save")," "))},dependencies:[ie.O5,m._Y,m.JL,m.sg,Vl.J,fl.N,Gs.R,a0,vn.X$],encapsulation:2}),l})(),Xf=(()=>{class l{constructor(n,d,A){this.router=n,this.config=d,this.localizeRouter=A}canActivate(n,d){return this.config.getConfig().pipe((0,Za.P)(),(0,se.U)(A=>{if("accesspolicy"!=n.firstChild.routeConfig.path||!A.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const M=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([M])}}))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(ri.F0),e.LFG(vs.E),e.LFG(mi.An))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var d0=p(9512),ku=p(8308),Us=p(5046),dh=p(8229);const h0=[{path:"",component:uv},{path:"initial-admin-creation",component:Qf,canActivate:[Ms.B],data:{permissions:[qt.y[qt.y.All]]}},{path:"home",component:I,canActivate:[Ms.B,Us.h]},{path:"settings",component:pv,children:[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:av,canDeactivate:[ya.I],resolve:{accessPolicyObject:lh}},{path:"webhooks",component:u0,canDeactivate:[ya.I],resolve:{webhookResolverObject:wl}},{path:"keys",component:Hv,canDeactivate:[ya.I]}],canActivate:[Ms.B,Us.h,Xf],canDeactivate:[ya.I],data:{permissions:[qt.y[qt.y.All]]}},{path:"users",loadChildren:()=>Promise.resolve().then(p.bind(p,7360)).then(l=>l.UsersModule),canActivate:[Ms.B,Us.h]},{path:"roles",component:aa,canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.UserManager],qt.y[qt.y.UserManagerReadOnly],qt.y[qt.y.AllReadOnly],qt.y[qt.y.All]]}},{path:"roles/:Id",component:kp,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:nh,canDeactivate:[ya.I]},{path:"users",component:ah,canDeactivate:[ya.I]}],resolve:{role:Od.O},canDeactivate:[ya.I],canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.UserManager],qt.y[qt.y.All]]}},{path:"roles/view/:Id",component:$v,loadChildren:()=>p.e(333).then(p.bind(p,7333)).then(l=>l.ViewRolesModule),resolve:{role:Od.O},canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.UserManager],qt.y[qt.y.UserManagerReadOnly],qt.y[qt.y.AllReadOnly],qt.y[qt.y.All]]}},{path:"identityresources",component:_C,canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.IdentityServerManager],qt.y[qt.y.IdentityServerManagerReadOnly],qt.y[qt.y.AllReadOnly],qt.y[qt.y.All]]}},{path:"identityresources/:Id",component:qp,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:mf,canDeactivate:[ya.I]},{path:"claims",component:mv},{path:"properties",component:Zv}],resolve:{resource:Ac},canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.IdentityServerManager],qt.y[qt.y.All]]}},{path:"identityresources/view/:Id",component:jf,loadChildren:()=>p.e(451).then(p.bind(p,451)).then(l=>l.ViewIdentityResourcesModule),resolve:{resource:Ac},canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.IdentityServerManager],qt.y[qt.y.IdentityServerManagerReadOnly],qt.y[qt.y.AllReadOnly],qt.y[qt.y.All]]}},{path:"protectedresources",component:K_,canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.IdentityServerManager],qt.y[qt.y.IdentityServerManagerReadOnly],qt.y[qt.y.AllReadOnly],qt.y[qt.y.All]]}},{path:"protectedresources/:Id",component:G_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:_v,canDeactivate:[ya.I]},{path:"scopes",component:Wl},{path:"claims",component:Tf},{path:"secrets",component:Ev},{path:"properties",component:Ff}],resolve:{resource:Ud},canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.IdentityServerManager],qt.y[qt.y.All]]}},{path:"protectedresources/view/:Id",component:Gv.A,loadChildren:()=>p.e(785).then(p.bind(p,2785)).then(l=>l.ViewProtectedResourceModule),resolve:{resource:Ud},canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.IdentityServerManager],qt.y[qt.y.IdentityServerManagerReadOnly],qt.y[qt.y.AllReadOnly],qt.y[qt.y.All]]}},{path:"clients",loadChildren:()=>Promise.resolve().then(p.bind(p,3286)).then(l=>l.ClientModule),canActivate:[Ms.B,Us.h]},{path:"claim-types",component:I_,canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.UserManager],qt.y[qt.y.UserManagerReadOnly],qt.y[qt.y.AllReadOnly],qt.y[qt.y.All]]}},{path:"claim-types/:Id",component:Id,resolve:{resource:jp.F},canDeactivate:[ya.I],canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.UserManager],qt.y[qt.y.All]]}},{path:"claim-types/view/:Id",loadChildren:()=>p.e(233).then(p.bind(p,6233)).then(l=>l.ClaimTypesModule),resolve:{resource:jp.F},canActivate:[Ms.B,Us.h],data:{permissions:[qt.y[qt.y.UserManager],qt.y[qt.y.UserManagerReadOnly],qt.y[qt.y.AllReadOnly],qt.y[qt.y.All]]}},{path:"dynamic-auth",loadChildren:()=>Promise.resolve().then(p.bind(p,6417)).then(l=>l.DynamicAuthModule),canActivate:[Ms.B,Us.h,d0.n,ku.u]},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(p.bind(p,5232)).then(l=>l.StarterModeModule),canActivate:[Ms.B,dh.k]},{path:"auditing",component:bo,canActivate:[Ms.B,Us.h,ku.u],data:{permissions:[qt.y[qt.y.Auditer],qt.y[qt.y.AllReadOnly],qt.y[qt.y.All]]}},{path:"unauthorized",component:vc},{path:"forbidden",component:dl},{path:"auth",component:xc,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:fv,canActivate:[Ms.B,Us.h]},{path:"**",component:p_,canActivate:[Ms.B,Us.h]}];let BC=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ri.Bz.forRoot(h0,{scrollPositionRestoration:"enabled"}),ri.Bz]}),l})();var Ha=p(5503),tm=p(7360),Mc=p(7023),Tl=p(5084),$o=p(5785),Pu=p(4022),nm=p(7770),Kl=p(5971),Aa=p(1230),Nc=p(6980),Rc=p(9650),Lu=p(4091);let UC=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[Od.O],imports:[ie.ez,m.u5,m.UX,Ls.zk,Ha.D,ri.Bz,vn.aw,Mc._,mi.fQ,Tl.y,$o.U,Pu.p,nm.t,Kl.s,Aa.M,Nc.K,Rc.I,Lu.G]}),l})();var hh=p(8265),FC=p(8761),kc=p(8192),Bu=p(1436),ph=p(6493);let fh=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[Ac,Ud,gl.q],imports:[ie.ez,ri.Bz,vn.aw,m.u5,Ha.D,m.UX,Ki.P4,Ga.z8,FC.W,hh.j,Mc._,Lo.fx,Ls.zk,kc.h,mi.fQ,Tl.y,$o.U,Pu.p,nm.t,Kl.s,Nc.K,Rc.I,Bu.W,ph.l,Lu.G]}),l})();var mh=p(3286),p0=p(8002),f0=p(8783);class m0 extends mi.DJ{constructor(h,n,d,A,M="assets/locales.json"){super(h,n,d),this.http=A,this.path=M}load(h){return new Promise(n=>{this.http.get(`${this.path}`).subscribe(d=>{this.locales=d.locales,this.prefix=d.prefix||"",this.escapePrefix=d.escapePrefix||"",this.init(h).then(n)})})}}var gh=p(5898),im=p(4380),_h=p(8975);let ZC=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[lh,yl,yi.I,so.M,oe.f,Xo,wl,Vf.n],imports:[ie.ez,m.u5,m.UX,Ls.zk,vn.aw,Ha.D,ri.Bz,hh.j,Mc._,mi.fQ,Tl.y,im.t,$o.U,Kl.s,Pu.p,Nc.K,Rc.I,_h.d,gh.T,Aa.M,p0.Z]}),l})();var g0=p(7111),VC=p(4362);let rm=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[vn.aw,VC.l,ri.Bz,Tl.y,gh.T]}),l})();var sm=p(1274),vh=p(9751),Pc=p(9646),ta=p(4968),_0=p(5963),om=p(8421),v0=p(5797),y0=p(5403);p(1135),p(9841);var am=p(1848),Ya=p(3269);function zl(...l){const h=(0,Ya.jO)(l),n=(0,v0.k)(l);return n.length?new vh.y(d=>{let A=n.map(()=>[]),M=n.map(()=>!1);d.add(()=>{A=M=null});for(let pe=0;!d.closed&&pe<n.length;pe++)(0,om.Xf)(n[pe]).subscribe((0,y0.x)(d,Pe=>{if(A[pe].push(Pe),A.every(Qe=>Qe.length)){const Qe=A.map(xt=>xt.shift());d.next(h?h(...Qe):Qe),A.some((xt,Ft)=>!xt.length&&M[Ft])&&d.complete()}},()=>{M[pe]=!0,!A[pe].length&&d.complete()}));return()=>{A=M=null}}):Cu.E}var w0=p(7272),Ws=p(2722),yh=p(3900),Uu=p(8505),Ch=p(1365);Math,Math,Math;const Im=["*"],Hm=["dialog"];function td(l){return"string"==typeof l}function Nl(l){return null!=l}function lc(l){return(l||document.body).getBoundingClientRect()}const cg={animation:!0,transitionTimerDelayMs:5},by=()=>{},{transitionTimerDelayMs:wy}=cg,Jc=new Map,Mo=(l,h,n,d)=>{let A=d.context||{};const M=Jc.get(h);if(M)switch(d.runningTransition){case"continue":return Cu.E;case"stop":l.run(()=>M.transition$.complete()),A=Object.assign(M.context,A),Jc.delete(h)}const pe=n(h,d.animation,A)||by;if(!d.animation||"none"===window.getComputedStyle(h).transitionProperty)return l.run(()=>pe()),(0,Pc.of)(void 0).pipe(function yy(l){return h=>new vh.y(n=>h.subscribe({next:pe=>l.run(()=>n.next(pe)),error:pe=>l.run(()=>n.error(pe)),complete:()=>l.run(()=>n.complete())}))}(l));const Pe=new H.x,Qe=new H.x,xt=Pe.pipe(function lm(...l){return h=>(0,w0.z)(h,(0,Pc.of)(...l))}(!0));Jc.set(h,{transition$:Pe,complete:()=>{Qe.next(),Qe.complete()},context:A});const Ft=function Cy(l){const{transitionDelay:h,transitionDuration:n}=window.getComputedStyle(l);return 1e3*(parseFloat(h)+parseFloat(n))}(h);return l.runOutsideAngular(()=>{const cn=(0,ta.R)(h,"transitionend").pipe((0,Ws.R)(xt),(0,fe.h)(({target:En})=>En===h));(function C0(...l){return 1===(l=(0,v0.k)(l)).length?(0,om.Xf)(l[0]):new vh.y(function HC(l){return h=>{let n=[];for(let d=0;n&&!h.closed&&d<l.length;d++)n.push((0,om.Xf)(l[d]).subscribe((0,y0.x)(h,A=>{if(n){for(let M=0;M<n.length;M++)M!==d&&n[M].unsubscribe();n=null}h.next(A)})))}}(l))})((0,_0.H)(Ft+wy).pipe((0,Ws.R)(xt)),cn,Qe).pipe((0,Ws.R)(xt)).subscribe(()=>{Jc.delete(h),l.run(()=>{pe(),Pe.next(),Pe.complete()})})}),Pe.asObservable()};let Wc=(()=>{class l{constructor(){this.animation=cg.animation}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),pg=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),Ay=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),Dy=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),gg=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({}),l})();var oo=(()=>{return(l=oo||(oo={}))[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",oo;var l})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const bg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function wg(l){const h=Array.from(l.querySelectorAll(bg)).filter(n=>-1!==n.tabIndex);return[h[0],h[h.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Zg=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez,m.u5]}),l})(),d1=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({}),l})();class sl{constructor(h,n,d){this.nodes=h,this.viewRef=n,this.componentRef=d}}let Hg=(()=>{class l{constructor(n,d){this._el=n,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Le.q)(1)).subscribe(()=>{Mo(this._zone,this._el.nativeElement,(n,d)=>{d&&lc(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Mo(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(e.SBq),e.Y36(e.R0b))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,d){2&n&&(e.Tol("modal-backdrop"+(d.backdropClass?" "+d.backdropClass:"")),e.ekj("show",!d.animation)("fade",d.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,d){},encapsulation:2}),l})();class Jg{close(h){}dismiss(h){}}class p1{constructor(h,n,d,A){this._windowCmptRef=h,this._contentRef=n,this._backdropCmptRef=d,this._beforeDismiss=A,this._closed=new H.x,this._dismissed=new H.x,this._hidden=new H.x,h.instance.dismissEvent.subscribe(M=>{this.dismiss(M)}),this.result=new Promise((M,pe)=>{this._resolve=M,this._reject=pe}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Ws.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Ws.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(h){this._windowCmptRef&&(this._closed.next(h),this._resolve(h),this._removeModalElements())}_dismiss(h){this._dismissed.next(h),this._reject(h),this._removeModalElements()}dismiss(h){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function lg(l){return l&&l.then}(n)?!1!==n&&this._dismiss(h):n.then(d=>{!1!==d&&this._dismiss(h)},()=>{})}else this._dismiss(h)}_removeModalElements(){const h=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Pc.of)(void 0);h.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),zl(h,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var za=(()=>{return(l=za||(za={}))[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",za;var l})();let f1=(()=>{class l{constructor(n,d,A){this._document=n,this._elRef=d,this._zone=A,this._closed$=new H.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new H.x,this.hidden=new H.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":td(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Le.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,d={animation:this.animation,runningTransition:"stop"},pe=zl(Mo(this._zone,n,()=>n.classList.remove("show"),d),Mo(this._zone,this._dialogEl.nativeElement,()=>{},d));return pe.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),pe}_show(){const n={animation:this.animation,runningTransition:"continue"};zl(Mo(this._zone,this._elRef.nativeElement,(M,pe)=>{pe&&lc(M),M.classList.add("show")},n),Mo(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{(0,ta.R)(n,"keydown").pipe((0,Ws.R)(this._closed$),(0,fe.h)(A=>A.which===oo.Escape)).subscribe(A=>{this.keyboard?requestAnimationFrame(()=>{A.defaultPrevented||this._zone.run(()=>this.dismiss(za.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;(0,ta.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Ws.R)(this._closed$),(0,Uu.b)(()=>d=!1),(0,yh.w)(()=>(0,ta.R)(n,"mouseup").pipe((0,Ws.R)(this._closed$),(0,Le.q)(1))),(0,fe.h)(({target:A})=>n===A)).subscribe(()=>{d=!0}),(0,ta.R)(n,"click").pipe((0,Ws.R)(this._closed$)).subscribe(({target:A})=>{n===A&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(za.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const d=n.querySelector("[ngbAutofocus]"),A=wg(n)[0];(d||A||n).focus()}}_restoreFocus(){const n=this._document.body,d=this._elWithFocus;let A;A=d&&d.focus&&n.contains(d)?d:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>A.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Mo(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ie.K0),e.Y36(e.SBq),e.Y36(e.R0b))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(n,d){if(1&n&&e.Gf(Hm,7),2&n){let A;e.iGM(A=e.CRH())&&(d._dialogEl=A.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,d){2&n&&(e.uIk("aria-modal",!0)("aria-labelledby",d.ariaLabelledBy)("aria-describedby",d.ariaDescribedBy),e.Tol("modal d-block"+(d.windowClass?" "+d.windowClass:"")),e.ekj("fade",d.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Im,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,d){1&n&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&n&&e.Tol("modal-dialog"+(d.size?" modal-"+d.size:"")+(d.centered?" modal-dialog-centered":"")+d.fullscreenClass+(d.scrollable?" modal-dialog-scrollable":"")+(d.modalDialogClass?" "+d.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),l})(),mp=(()=>{class l{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,A=d.style,{overflow:M,paddingRight:pe}=A;if(n>0){const Pe=parseFloat(window.getComputedStyle(d).paddingRight);A.paddingRight=`${Pe+n}px`}return A.overflow="hidden",()=>{n>0&&(A.paddingRight=pe),A.overflow=M}}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(ie.K0))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Na=(()=>{class l{constructor(n,d,A,M,pe,Pe){this._applicationRef=n,this._injector=d,this._document=A,this._scrollBar=M,this._rendererFactory=pe,this._ngZone=Pe,this._activeWindowCmptHasChanged=new H.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Qe=this._windowCmpts[this._windowCmpts.length-1];((l,h,n,d=!1)=>{this._ngZone.runOutsideAngular(()=>{const A=(0,ta.R)(h,"focusin").pipe((0,Ws.R)(n),(0,se.U)(M=>M.target));(0,ta.R)(h,"keydown").pipe((0,Ws.R)(n),(0,fe.h)(M=>M.which===oo.Tab),(0,Ch.M)(A)).subscribe(([M,pe])=>{const[Pe,Qe]=wg(h);(pe===Pe||pe===h)&&M.shiftKey&&(Qe.focus(),M.preventDefault()),pe===Qe&&!M.shiftKey&&(Pe.focus(),M.preventDefault())}),d&&(0,ta.R)(h,"click").pipe((0,Ws.R)(n),(0,Ch.M)(A),(0,se.U)(M=>M[1])).subscribe(M=>M.focus())})})(0,Qe.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Qe.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,d,A){const M=A.container instanceof HTMLElement?A.container:Nl(A.container)?this._document.querySelector(A.container):this._document.body,pe=this._rendererFactory.createRenderer(null,null);if(!M)throw new Error(`The specified modal container "${A.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Pe=new Jg,Qe=this._getContentRef(A.injector||n,d,Pe,A);let xt=!1!==A.backdrop?this._attachBackdrop(M):void 0,Ft=this._attachWindowComponent(M,Qe.nodes),cn=new p1(Ft,Qe,xt,A.beforeDismiss);return this._registerModalRef(cn),this._registerWindowCmpt(Ft),cn.hidden.pipe((0,Le.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(pe.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Pe.close=bn=>{cn.close(bn)},Pe.dismiss=bn=>{cn.dismiss(bn)},this._applyWindowOptions(Ft.instance,A),1===this._modalRefs.length&&pe.addClass(this._document.body,"modal-open"),xt&&xt.instance&&(this._applyBackdropOptions(xt.instance,A),xt.changeDetectorRef.detectChanges()),Ft.changeDetectorRef.detectChanges(),cn}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(d=>d.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let d=(0,e.LMc)(Hg,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),n.appendChild(d.location.nativeElement),d}_attachWindowComponent(n,d){let A=(0,e.LMc)(f1,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(A.hostView),n.appendChild(A.location.nativeElement),A}_applyWindowOptions(n,d){this._windowAttributes.forEach(A=>{Nl(d[A])&&(n[A]=d[A])})}_applyBackdropOptions(n,d){this._backdropAttributes.forEach(A=>{Nl(d[A])&&(n[A]=d[A])})}_getContentRef(n,d,A,M){return d?d instanceof e.Rgc?this._createFromTemplateRef(d,A):td(d)?this._createFromString(d):this._createFromComponent(n,d,A,M):new sl([])}_createFromTemplateRef(n,d){const M=n.createEmbeddedView({$implicit:d,close(pe){d.close(pe)},dismiss(pe){d.dismiss(pe)}});return this._applicationRef.attachView(M),new sl([M.rootNodes],M)}_createFromString(n){const d=this._document.createTextNode(`${n}`);return new sl([[d]])}_createFromComponent(n,d,A,M){const pe=e.zs3.create({providers:[{provide:Jg,useValue:A}],parent:n}),Pe=(0,e.LMc)(d,{environmentInjector:this._applicationRef.injector,elementInjector:pe}),Qe=Pe.location.nativeElement;return M.scrollable&&Qe.classList.add("component-host-scrollable"),this._applicationRef.attachView(Pe.hostView),new sl([[Qe]],Pe.hostView,Pe)}_setAriaHidden(n){const d=n.parentElement;d&&n!==this._document.body&&(Array.from(d.children).forEach(A=>{A!==n&&"SCRIPT"!==A.nodeName&&(this._ariaHiddenValues.set(A,A.getAttribute("aria-hidden")),A.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,d)=>{n?d.setAttribute("aria-hidden",n):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const d=()=>{const A=this._modalRefs.indexOf(n);A>-1&&(this._modalRefs.splice(A,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(d,d)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const d=this._windowCmpts.indexOf(n);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(ie.K0),e.LFG(mp),e.LFG(e.FYo),e.LFG(e.R0b))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),m1=(()=>{class l{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(Wc))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),gp=(()=>{class l{constructor(n,d,A){this._injector=n,this._modalStack=d,this._config=A}open(n,d={}){const A={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,n,A)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(e.zs3),e.LFG(Na),e.LFG(m1))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),hc=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[gp]}),l})(),zg=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),yp=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),Ao=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),e_=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),wp=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),Tp=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),r_=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),vd=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({}),l})();new e.OlP("live announcer delay",{providedIn:"root",factory:function N1(){return 100}});let Sp=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ie.ez]}),l})(),xp=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({}),l})();const Z1=[pg,Ay,Dy,gg,Zg,d1,hc,zg,xp,yp,Ao,e_,wp,Tp,r_,vd,Sp];let V1=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[Z1,pg,Ay,Dy,gg,Zg,d1,hc,zg,xp,yp,Ao,e_,wp,Tp,r_,vd,Sp]}),l})();var dw=p(1888);let s_=(()=>{class l{intercept(n,d){if(n.url.startsWith("https://"))return d.handle(n);const A=(0,St.SV)(),M=n.clone({url:`${A}${n.url}`});return d.handle(M)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class hw{constructor(h,n="/assets/i18n/",d=".json"){this.http=h,this.prefix=n,this.suffix=d}getTranslation(h){return this.http.get(`${this.prefix}${h}${this.suffix}`)}}var pw=p(2843);let H1=(()=>{class l{}return l.EnforcerCompilationError=599,l.ExpiredTokenRedirect=413,l})(),fw=(()=>{class l{constructor(n,d,A,M){this.router=n,this.localizeRouterService=d,this.appComponentViewService=A,this.securityService=M}intercept(n,d){return d.handle(n).pipe((0,bu.K)(A=>{if(A.status===H1.ExpiredTokenRedirect)return this.securityService.startLogin(),am.C;if(A.status===H1.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const M=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([M],{state:{enforcer:!0}}),am.C}return(0,pw._)(()=>A)}))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(ri.F0),e.LFG(mi.An),e.LFG($s.t),e.LFG(yi.I))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var mw=p(4100),gw=p(6417),_w=p(1842),vw=p(9490),yd=p(5232);function yw(l,h,n,d){return new m0(l,h,n,d,"resources/locales.json?cb="+be)}function o_(l){return new hw(l,"./resources/",".json?cb="+be)}let Cd=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l,bootstrap:[Po]}),l.\u0275inj=e.cJS({providers:[mw.N,Fv.$,es.K,yi.I,Ms.B,Us.h,ku.u,oe.f,wa.s,so.M,tt.VK,f0.L,Od.O,jp.F,_w.w,ba.Q,Bo.m,mi.An,Pi.G,kr,vn.sK,Ro.E,vs.E,g0.n,ht.T,dw.B,qf,vw.o,{provide:T.TP,useClass:s_,multi:!0},{provide:T.TP,useClass:fw,multi:!0}],imports:[BC,ie.ez,m.u5,m.UX,jn,T.JF,Ha.D,tm.UsersModule,UC,mh.ClientModule,gw.DynamicAuthModule,yd.StarterModeModule,fh,vn.aw,Mc._,kc.h,vn.aw.forRoot({loader:{provide:vn.Zw,useFactory:o_,deps:[T.eN]}}),mi.fQ.forRoot(h0,{parser:{provide:mi.DJ,useFactory:yw,deps:[vn.sK,ie.Ye,mi.uh,T.eN]}}),Ls.zk.forRoot(),Ki.P4.forRoot(),Ga.z8.forRoot(),Lo.fx.forRoot(),p0.Z,zi.Rh.forRoot(),ZC,rm,sm.T,V1,Kl.s,im.t,_h.d,Rc.I,gh.T,mi.fQ]}),l})();(0,e.G48)(),t.q6().bootstrapModule(Cd)},5343:(dt,Ce)=>{"use strict";Ce.byteLength=function g(a){var k=b(a),Z=k[1];return 3*(k[0]+Z)/4-Z},Ce.toByteArray=function w(a){var k,J,L=b(a),Z=L[0],j=L[1],N=new e(function f(a,k,L){return 3*(k+L)/4-L}(0,Z,j)),B=0,V=j>0?Z-4:Z;for(J=0;J<V;J+=4)k=t[a.charCodeAt(J)]<<18|t[a.charCodeAt(J+1)]<<12|t[a.charCodeAt(J+2)]<<6|t[a.charCodeAt(J+3)],N[B++]=k>>16&255,N[B++]=k>>8&255,N[B++]=255&k;return 2===j&&(k=t[a.charCodeAt(J)]<<2|t[a.charCodeAt(J+1)]>>4,N[B++]=255&k),1===j&&(k=t[a.charCodeAt(J)]<<10|t[a.charCodeAt(J+1)]<<4|t[a.charCodeAt(J+2)]>>2,N[B++]=k>>8&255,N[B++]=255&k),N},Ce.fromByteArray=function P(a){for(var k,L=a.length,Z=L%3,j=[],N=16383,B=0,V=L-Z;B<V;B+=N)j.push(R(a,B,B+N>V?V:B+N));return 1===Z?j.push(p[(k=a[L-1])>>2]+p[k<<4&63]+"=="):2===Z&&j.push(p[(k=(a[L-2]<<8)+a[L-1])>>10]+p[k>>4&63]+p[k<<2&63]+"="),j.join("")};for(var p=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0,C=m.length;T<C;++T)p[T]=m[T],t[m.charCodeAt(T)]=T;function b(a){var k=a.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=a.indexOf("=");return-1===L&&(L=k),[L,L===k?0:4-L%4]}function _(a){return p[a>>18&63]+p[a>>12&63]+p[a>>6&63]+p[63&a]}function R(a,k,L){for(var j=[],N=k;N<L;N+=3)j.push(_((a[N]<<16&16711680)+(a[N+1]<<8&65280)+(255&a[N+2])));return j.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63},3172:(dt,Ce,p)=>{"use strict";const e=p(5343),m=p(8461),T="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ce.lW=f,Ce.h2=50;const C=2147483647;function g(ee){if(ee>C)throw new RangeError('The value "'+ee+'" is invalid for option "size"');const U=new Uint8Array(ee);return Object.setPrototypeOf(U,f.prototype),U}function f(ee,U,te){if("number"==typeof ee){if("string"==typeof U)throw new TypeError('The "string" argument must be of type string. Received type number');return P(ee)}return w(ee,U,te)}function w(ee,U,te){if("string"==typeof ee)return function a(ee,U){if(("string"!=typeof U||""===U)&&(U="utf8"),!f.isEncoding(U))throw new TypeError("Unknown encoding: "+U);const te=0|V(ee,U);let Re=g(te);const ot=Re.write(ee,U);return ot!==te&&(Re=Re.slice(0,ot)),Re}(ee,U);if(ArrayBuffer.isView(ee))return function L(ee){if(Fe(ee,Uint8Array)){const U=new Uint8Array(ee);return Z(U.buffer,U.byteOffset,U.byteLength)}return k(ee)}(ee);if(null==ee)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(Fe(ee,ArrayBuffer)||ee&&Fe(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(ee,SharedArrayBuffer)||ee&&Fe(ee.buffer,SharedArrayBuffer)))return Z(ee,U,te);if("number"==typeof ee)throw new TypeError('The "value" argument must not be of type number. Received type number');const Re=ee.valueOf&&ee.valueOf();if(null!=Re&&Re!==ee)return f.from(Re,U,te);const ot=function j(ee){if(f.isBuffer(ee)){const U=0|N(ee.length),te=g(U);return 0===te.length||ee.copy(te,0,0,U),te}return void 0!==ee.length?"number"!=typeof ee.length||Tt(ee.length)?g(0):k(ee):"Buffer"===ee.type&&Array.isArray(ee.data)?k(ee.data):void 0}(ee);if(ot)return ot;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ee[Symbol.toPrimitive])return f.from(ee[Symbol.toPrimitive]("string"),U,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}function _(ee){if("number"!=typeof ee)throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function P(ee){return _(ee),g(ee<0?0:0|N(ee))}function k(ee){const U=ee.length<0?0:0|N(ee.length),te=g(U);for(let Re=0;Re<U;Re+=1)te[Re]=255&ee[Re];return te}function Z(ee,U,te){if(U<0||ee.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<U+(te||0))throw new RangeError('"length" is outside of buffer bounds');let Re;return Re=void 0===U&&void 0===te?new Uint8Array(ee):void 0===te?new Uint8Array(ee,U):new Uint8Array(ee,U,te),Object.setPrototypeOf(Re,f.prototype),Re}function N(ee){if(ee>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return 0|ee}function V(ee,U){if(f.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||Fe(ee,ArrayBuffer))return ee.byteLength;if("string"!=typeof ee)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);const te=ee.length,Re=arguments.length>2&&!0===arguments[2];if(!Re&&0===te)return 0;let ot=!1;for(;;)switch(U){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return i(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*te;case"hex":return te>>>1;case"base64":return Ye(ee).length;default:if(ot)return Re?-1:i(ee).length;U=(""+U).toLowerCase(),ot=!0}}function J(ee,U,te){let Re=!1;if((void 0===U||U<0)&&(U=0),U>this.length||((void 0===te||te>this.length)&&(te=this.length),te<=0)||(te>>>=0)<=(U>>>=0))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return qe(this,U,te);case"utf8":case"utf-8":return me(this,U,te);case"ascii":return ze(this,U,te);case"latin1":case"binary":return Ee(this,U,te);case"base64":return le(this,U,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,U,te);default:if(Re)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),Re=!0}}function q(ee,U,te){const Re=ee[U];ee[U]=ee[te],ee[te]=Re}function re(ee,U,te,Re,ot){if(0===ee.length)return-1;if("string"==typeof te?(Re=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),Tt(te=+te)&&(te=ot?0:ee.length-1),te<0&&(te=ee.length+te),te>=ee.length){if(ot)return-1;te=ee.length-1}else if(te<0){if(!ot)return-1;te=0}if("string"==typeof U&&(U=f.from(U,Re)),f.isBuffer(U))return 0===U.length?-1:W(ee,U,te,Re,ot);if("number"==typeof U)return U&=255,"function"==typeof Uint8Array.prototype.indexOf?ot?Uint8Array.prototype.indexOf.call(ee,U,te):Uint8Array.prototype.lastIndexOf.call(ee,U,te):W(ee,[U],te,Re,ot);throw new TypeError("val must be string, number or Buffer")}function W(ee,U,te,Re,ot){let nn,ut=1,Dt=ee.length,Qt=U.length;if(void 0!==Re&&("ucs2"===(Re=String(Re).toLowerCase())||"ucs-2"===Re||"utf16le"===Re||"utf-16le"===Re)){if(ee.length<2||U.length<2)return-1;ut=2,Dt/=2,Qt/=2,te/=2}function mn(_n,sn){return 1===ut?_n[sn]:_n.readUInt16BE(sn*ut)}if(ot){let _n=-1;for(nn=te;nn<Dt;nn++)if(mn(ee,nn)===mn(U,-1===_n?0:nn-_n)){if(-1===_n&&(_n=nn),nn-_n+1===Qt)return _n*ut}else-1!==_n&&(nn-=nn-_n),_n=-1}else for(te+Qt>Dt&&(te=Dt-Qt),nn=te;nn>=0;nn--){let _n=!0;for(let sn=0;sn<Qt;sn++)if(mn(ee,nn+sn)!==mn(U,sn)){_n=!1;break}if(_n)return nn}return-1}function G(ee,U,te,Re){te=Number(te)||0;const ot=ee.length-te;Re?(Re=Number(Re))>ot&&(Re=ot):Re=ot;const ut=U.length;let Dt;for(Re>ut/2&&(Re=ut/2),Dt=0;Dt<Re;++Dt){const Qt=parseInt(U.substr(2*Dt,2),16);if(Tt(Qt))return Dt;ee[te+Dt]=Qt}return Dt}function X(ee,U,te,Re){return Xe(i(U,ee.length-te),ee,te,Re)}function E(ee,U,te,Re){return Xe(function we(ee){const U=[];for(let te=0;te<ee.length;++te)U.push(255&ee.charCodeAt(te));return U}(U),ee,te,Re)}function ne(ee,U,te,Re){return Xe(Ye(U),ee,te,Re)}function K(ee,U,te,Re){return Xe(function $e(ee,U){let te,Re,ot;const ut=[];for(let Dt=0;Dt<ee.length&&!((U-=2)<0);++Dt)te=ee.charCodeAt(Dt),Re=te>>8,ot=te%256,ut.push(ot),ut.push(Re);return ut}(U,ee.length-te),ee,te,Re)}function le(ee,U,te){return e.fromByteArray(0===U&&te===ee.length?ee:ee.slice(U,te))}function me(ee,U,te){te=Math.min(ee.length,te);const Re=[];let ot=U;for(;ot<te;){const ut=ee[ot];let Dt=null,Qt=ut>239?4:ut>223?3:ut>191?2:1;if(ot+Qt<=te){let mn,nn,_n,sn;switch(Qt){case 1:ut<128&&(Dt=ut);break;case 2:mn=ee[ot+1],128==(192&mn)&&(sn=(31&ut)<<6|63&mn,sn>127&&(Dt=sn));break;case 3:mn=ee[ot+1],nn=ee[ot+2],128==(192&mn)&&128==(192&nn)&&(sn=(15&ut)<<12|(63&mn)<<6|63&nn,sn>2047&&(sn<55296||sn>57343)&&(Dt=sn));break;case 4:mn=ee[ot+1],nn=ee[ot+2],_n=ee[ot+3],128==(192&mn)&&128==(192&nn)&&128==(192&_n)&&(sn=(15&ut)<<18|(63&mn)<<12|(63&nn)<<6|63&_n,sn>65535&&sn<1114112&&(Dt=sn))}}null===Dt?(Dt=65533,Qt=1):Dt>65535&&(Dt-=65536,Re.push(Dt>>>10&1023|55296),Dt=56320|1023&Dt),Re.push(Dt),ot+=Qt}return function ye(ee){const U=ee.length;if(U<=4096)return String.fromCharCode.apply(String,ee);let te="",Re=0;for(;Re<U;)te+=String.fromCharCode.apply(String,ee.slice(Re,Re+=4096));return te}(Re)}function ze(ee,U,te){let Re="";te=Math.min(ee.length,te);for(let ot=U;ot<te;++ot)Re+=String.fromCharCode(127&ee[ot]);return Re}function Ee(ee,U,te){let Re="";te=Math.min(ee.length,te);for(let ot=U;ot<te;++ot)Re+=String.fromCharCode(ee[ot]);return Re}function qe(ee,U,te){const Re=ee.length;(!U||U<0)&&(U=0),(!te||te<0||te>Re)&&(te=Re);let ot="";for(let ut=U;ut<te;++ut)ot+=vt[ee[ut]];return ot}function Te(ee,U,te){const Re=ee.slice(U,te);let ot="";for(let ut=0;ut<Re.length-1;ut+=2)ot+=String.fromCharCode(Re[ut]+256*Re[ut+1]);return ot}function nt(ee,U,te){if(ee%1!=0||ee<0)throw new RangeError("offset is not uint");if(ee+U>te)throw new RangeError("Trying to access beyond buffer length")}function at(ee,U,te,Re,ot,ut){if(!f.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>ot||U<ut)throw new RangeError('"value" argument is out of bounds');if(te+Re>ee.length)throw new RangeError("Index out of range")}function wt(ee,U,te,Re,ot){Q(U,Re,ot,ee,te,7);let ut=Number(U&BigInt(4294967295));ee[te++]=ut,ut>>=8,ee[te++]=ut,ut>>=8,ee[te++]=ut,ut>>=8,ee[te++]=ut;let Dt=Number(U>>BigInt(32)&BigInt(4294967295));return ee[te++]=Dt,Dt>>=8,ee[te++]=Dt,Dt>>=8,ee[te++]=Dt,Dt>>=8,ee[te++]=Dt,te}function lt(ee,U,te,Re,ot){Q(U,Re,ot,ee,te,7);let ut=Number(U&BigInt(4294967295));ee[te+7]=ut,ut>>=8,ee[te+6]=ut,ut>>=8,ee[te+5]=ut,ut>>=8,ee[te+4]=ut;let Dt=Number(U>>BigInt(32)&BigInt(4294967295));return ee[te+3]=Dt,Dt>>=8,ee[te+2]=Dt,Dt>>=8,ee[te+1]=Dt,Dt>>=8,ee[te]=Dt,te+8}function mt(ee,U,te,Re,ot,ut){if(te+Re>ee.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function pt(ee,U,te,Re,ot){return U=+U,te>>>=0,ot||mt(ee,0,te,4),m.write(ee,U,te,Re,23,4),te+4}function Yt(ee,U,te,Re,ot){return U=+U,te>>>=0,ot||mt(ee,0,te,8),m.write(ee,U,te,Re,52,8),te+8}!(f.TYPED_ARRAY_SUPPORT=function b(){try{const ee=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(ee,U),42===ee.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(ee,U,te){return w(ee,U,te)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(ee,U,te){return function R(ee,U,te){return _(ee),ee<=0?g(ee):void 0!==U?"string"==typeof te?g(ee).fill(U,te):g(ee).fill(U):g(ee)}(ee,U,te)},f.allocUnsafe=function(ee){return P(ee)},f.allocUnsafeSlow=function(ee){return P(ee)},f.isBuffer=function(U){return null!=U&&!0===U._isBuffer&&U!==f.prototype},f.compare=function(U,te){if(Fe(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),Fe(te,Uint8Array)&&(te=f.from(te,te.offset,te.byteLength)),!f.isBuffer(U)||!f.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===te)return 0;let Re=U.length,ot=te.length;for(let ut=0,Dt=Math.min(Re,ot);ut<Dt;++ut)if(U[ut]!==te[ut]){Re=U[ut],ot=te[ut];break}return Re<ot?-1:ot<Re?1:0},f.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(U,te){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(0===U.length)return f.alloc(0);let Re;if(void 0===te)for(te=0,Re=0;Re<U.length;++Re)te+=U[Re].length;const ot=f.allocUnsafe(te);let ut=0;for(Re=0;Re<U.length;++Re){let Dt=U[Re];if(Fe(Dt,Uint8Array))ut+Dt.length>ot.length?(f.isBuffer(Dt)||(Dt=f.from(Dt)),Dt.copy(ot,ut)):Uint8Array.prototype.set.call(ot,Dt,ut);else{if(!f.isBuffer(Dt))throw new TypeError('"list" argument must be an Array of Buffers');Dt.copy(ot,ut)}ut+=Dt.length}return ot},f.byteLength=V,f.prototype._isBuffer=!0,f.prototype.swap16=function(){const U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let te=0;te<U;te+=2)q(this,te,te+1);return this},f.prototype.swap32=function(){const U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let te=0;te<U;te+=4)q(this,te,te+3),q(this,te+1,te+2);return this},f.prototype.swap64=function(){const U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let te=0;te<U;te+=8)q(this,te,te+7),q(this,te+1,te+6),q(this,te+2,te+5),q(this,te+3,te+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){const U=this.length;return 0===U?"":0===arguments.length?me(this,0,U):J.apply(this,arguments)},f.prototype.equals=function(U){if(!f.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||0===f.compare(this,U)},f.prototype.inspect=function(){let U="";const te=Ce.h2;return U=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(U+=" ... "),"<Buffer "+U+">"},T&&(f.prototype[T]=f.prototype.inspect),f.prototype.compare=function(U,te,Re,ot,ut){if(Fe(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),!f.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(void 0===te&&(te=0),void 0===Re&&(Re=U?U.length:0),void 0===ot&&(ot=0),void 0===ut&&(ut=this.length),te<0||Re>U.length||ot<0||ut>this.length)throw new RangeError("out of range index");if(ot>=ut&&te>=Re)return 0;if(ot>=ut)return-1;if(te>=Re)return 1;if(this===U)return 0;let Dt=(ut>>>=0)-(ot>>>=0),Qt=(Re>>>=0)-(te>>>=0);const mn=Math.min(Dt,Qt),nn=this.slice(ot,ut),_n=U.slice(te,Re);for(let sn=0;sn<mn;++sn)if(nn[sn]!==_n[sn]){Dt=nn[sn],Qt=_n[sn];break}return Dt<Qt?-1:Qt<Dt?1:0},f.prototype.includes=function(U,te,Re){return-1!==this.indexOf(U,te,Re)},f.prototype.indexOf=function(U,te,Re){return re(this,U,te,Re,!0)},f.prototype.lastIndexOf=function(U,te,Re){return re(this,U,te,Re,!1)},f.prototype.write=function(U,te,Re,ot){if(void 0===te)ot="utf8",Re=this.length,te=0;else if(void 0===Re&&"string"==typeof te)ot=te,Re=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te>>>=0,isFinite(Re)?(Re>>>=0,void 0===ot&&(ot="utf8")):(ot=Re,Re=void 0)}const ut=this.length-te;if((void 0===Re||Re>ut)&&(Re=ut),U.length>0&&(Re<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");ot||(ot="utf8");let Dt=!1;for(;;)switch(ot){case"hex":return G(this,U,te,Re);case"utf8":case"utf-8":return X(this,U,te,Re);case"ascii":case"latin1":case"binary":return E(this,U,te,Re);case"base64":return ne(this,U,te,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,U,te,Re);default:if(Dt)throw new TypeError("Unknown encoding: "+ot);ot=(""+ot).toLowerCase(),Dt=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},f.prototype.slice=function(U,te){const Re=this.length;(U=~~U)<0?(U+=Re)<0&&(U=0):U>Re&&(U=Re),(te=void 0===te?Re:~~te)<0?(te+=Re)<0&&(te=0):te>Re&&(te=Re),te<U&&(te=U);const ot=this.subarray(U,te);return Object.setPrototypeOf(ot,f.prototype),ot},f.prototype.readUintLE=f.prototype.readUIntLE=function(U,te,Re){U>>>=0,te>>>=0,Re||nt(U,te,this.length);let ot=this[U],ut=1,Dt=0;for(;++Dt<te&&(ut*=256);)ot+=this[U+Dt]*ut;return ot},f.prototype.readUintBE=f.prototype.readUIntBE=function(U,te,Re){U>>>=0,te>>>=0,Re||nt(U,te,this.length);let ot=this[U+--te],ut=1;for(;te>0&&(ut*=256);)ot+=this[U+--te]*ut;return ot},f.prototype.readUint8=f.prototype.readUInt8=function(U,te){return U>>>=0,te||nt(U,1,this.length),this[U]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(U,te){return U>>>=0,te||nt(U,2,this.length),this[U]|this[U+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(U,te){return U>>>=0,te||nt(U,2,this.length),this[U]<<8|this[U+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(U,te){return U>>>=0,te||nt(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(U,te){return U>>>=0,te||nt(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},f.prototype.readBigUInt64LE=Ge(function(U){ce(U>>>=0,"offset");const te=this[U],Re=this[U+7];(void 0===te||void 0===Re)&&We(U,this.length-8);const ot=te+256*this[++U]+65536*this[++U]+this[++U]*2**24,ut=this[++U]+256*this[++U]+65536*this[++U]+Re*2**24;return BigInt(ot)+(BigInt(ut)<<BigInt(32))}),f.prototype.readBigUInt64BE=Ge(function(U){ce(U>>>=0,"offset");const te=this[U],Re=this[U+7];(void 0===te||void 0===Re)&&We(U,this.length-8);const ot=te*2**24+65536*this[++U]+256*this[++U]+this[++U],ut=this[++U]*2**24+65536*this[++U]+256*this[++U]+Re;return(BigInt(ot)<<BigInt(32))+BigInt(ut)}),f.prototype.readIntLE=function(U,te,Re){U>>>=0,te>>>=0,Re||nt(U,te,this.length);let ot=this[U],ut=1,Dt=0;for(;++Dt<te&&(ut*=256);)ot+=this[U+Dt]*ut;return ut*=128,ot>=ut&&(ot-=Math.pow(2,8*te)),ot},f.prototype.readIntBE=function(U,te,Re){U>>>=0,te>>>=0,Re||nt(U,te,this.length);let ot=te,ut=1,Dt=this[U+--ot];for(;ot>0&&(ut*=256);)Dt+=this[U+--ot]*ut;return ut*=128,Dt>=ut&&(Dt-=Math.pow(2,8*te)),Dt},f.prototype.readInt8=function(U,te){return U>>>=0,te||nt(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},f.prototype.readInt16LE=function(U,te){U>>>=0,te||nt(U,2,this.length);const Re=this[U]|this[U+1]<<8;return 32768&Re?4294901760|Re:Re},f.prototype.readInt16BE=function(U,te){U>>>=0,te||nt(U,2,this.length);const Re=this[U+1]|this[U]<<8;return 32768&Re?4294901760|Re:Re},f.prototype.readInt32LE=function(U,te){return U>>>=0,te||nt(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},f.prototype.readInt32BE=function(U,te){return U>>>=0,te||nt(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},f.prototype.readBigInt64LE=Ge(function(U){ce(U>>>=0,"offset");const te=this[U],Re=this[U+7];return(void 0===te||void 0===Re)&&We(U,this.length-8),(BigInt(this[U+4]+256*this[U+5]+65536*this[U+6]+(Re<<24))<<BigInt(32))+BigInt(te+256*this[++U]+65536*this[++U]+this[++U]*2**24)}),f.prototype.readBigInt64BE=Ge(function(U){ce(U>>>=0,"offset");const te=this[U],Re=this[U+7];(void 0===te||void 0===Re)&&We(U,this.length-8);const ot=(te<<24)+65536*this[++U]+256*this[++U]+this[++U];return(BigInt(ot)<<BigInt(32))+BigInt(this[++U]*2**24+65536*this[++U]+256*this[++U]+Re)}),f.prototype.readFloatLE=function(U,te){return U>>>=0,te||nt(U,4,this.length),m.read(this,U,!0,23,4)},f.prototype.readFloatBE=function(U,te){return U>>>=0,te||nt(U,4,this.length),m.read(this,U,!1,23,4)},f.prototype.readDoubleLE=function(U,te){return U>>>=0,te||nt(U,8,this.length),m.read(this,U,!0,52,8)},f.prototype.readDoubleBE=function(U,te){return U>>>=0,te||nt(U,8,this.length),m.read(this,U,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(U,te,Re,ot){U=+U,te>>>=0,Re>>>=0,ot||at(this,U,te,Re,Math.pow(2,8*Re)-1,0);let ut=1,Dt=0;for(this[te]=255&U;++Dt<Re&&(ut*=256);)this[te+Dt]=U/ut&255;return te+Re},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(U,te,Re,ot){U=+U,te>>>=0,Re>>>=0,ot||at(this,U,te,Re,Math.pow(2,8*Re)-1,0);let ut=Re-1,Dt=1;for(this[te+ut]=255&U;--ut>=0&&(Dt*=256);)this[te+ut]=U/Dt&255;return te+Re},f.prototype.writeUint8=f.prototype.writeUInt8=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,1,255,0),this[te]=255&U,te+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,2,65535,0),this[te]=255&U,this[te+1]=U>>>8,te+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,2,65535,0),this[te]=U>>>8,this[te+1]=255&U,te+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,4,4294967295,0),this[te+3]=U>>>24,this[te+2]=U>>>16,this[te+1]=U>>>8,this[te]=255&U,te+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,4,4294967295,0),this[te]=U>>>24,this[te+1]=U>>>16,this[te+2]=U>>>8,this[te+3]=255&U,te+4},f.prototype.writeBigUInt64LE=Ge(function(U,te=0){return wt(this,U,te,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Ge(function(U,te=0){return lt(this,U,te,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(U,te,Re,ot){if(U=+U,te>>>=0,!ot){const mn=Math.pow(2,8*Re-1);at(this,U,te,Re,mn-1,-mn)}let ut=0,Dt=1,Qt=0;for(this[te]=255&U;++ut<Re&&(Dt*=256);)U<0&&0===Qt&&0!==this[te+ut-1]&&(Qt=1),this[te+ut]=(U/Dt>>0)-Qt&255;return te+Re},f.prototype.writeIntBE=function(U,te,Re,ot){if(U=+U,te>>>=0,!ot){const mn=Math.pow(2,8*Re-1);at(this,U,te,Re,mn-1,-mn)}let ut=Re-1,Dt=1,Qt=0;for(this[te+ut]=255&U;--ut>=0&&(Dt*=256);)U<0&&0===Qt&&0!==this[te+ut+1]&&(Qt=1),this[te+ut]=(U/Dt>>0)-Qt&255;return te+Re},f.prototype.writeInt8=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,1,127,-128),U<0&&(U=255+U+1),this[te]=255&U,te+1},f.prototype.writeInt16LE=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,2,32767,-32768),this[te]=255&U,this[te+1]=U>>>8,te+2},f.prototype.writeInt16BE=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,2,32767,-32768),this[te]=U>>>8,this[te+1]=255&U,te+2},f.prototype.writeInt32LE=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,4,2147483647,-2147483648),this[te]=255&U,this[te+1]=U>>>8,this[te+2]=U>>>16,this[te+3]=U>>>24,te+4},f.prototype.writeInt32BE=function(U,te,Re){return U=+U,te>>>=0,Re||at(this,U,te,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[te]=U>>>24,this[te+1]=U>>>16,this[te+2]=U>>>8,this[te+3]=255&U,te+4},f.prototype.writeBigInt64LE=Ge(function(U,te=0){return wt(this,U,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Ge(function(U,te=0){return lt(this,U,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeFloatLE=function(U,te,Re){return pt(this,U,te,!0,Re)},f.prototype.writeFloatBE=function(U,te,Re){return pt(this,U,te,!1,Re)},f.prototype.writeDoubleLE=function(U,te,Re){return Yt(this,U,te,!0,Re)},f.prototype.writeDoubleBE=function(U,te,Re){return Yt(this,U,te,!1,Re)},f.prototype.copy=function(U,te,Re,ot){if(!f.isBuffer(U))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!ot&&0!==ot&&(ot=this.length),te>=U.length&&(te=U.length),te||(te=0),ot>0&&ot<Re&&(ot=Re),ot===Re||0===U.length||0===this.length)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(ot<0)throw new RangeError("sourceEnd out of bounds");ot>this.length&&(ot=this.length),U.length-te<ot-Re&&(ot=U.length-te+Re);const ut=ot-Re;return this===U&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(te,Re,ot):Uint8Array.prototype.set.call(U,this.subarray(Re,ot),te),ut},f.prototype.fill=function(U,te,Re,ot){if("string"==typeof U){if("string"==typeof te?(ot=te,te=0,Re=this.length):"string"==typeof Re&&(ot=Re,Re=this.length),void 0!==ot&&"string"!=typeof ot)throw new TypeError("encoding must be a string");if("string"==typeof ot&&!f.isEncoding(ot))throw new TypeError("Unknown encoding: "+ot);if(1===U.length){const Dt=U.charCodeAt(0);("utf8"===ot&&Dt<128||"latin1"===ot)&&(U=Dt)}}else"number"==typeof U?U&=255:"boolean"==typeof U&&(U=Number(U));if(te<0||this.length<te||this.length<Re)throw new RangeError("Out of range index");if(Re<=te)return this;let ut;if(te>>>=0,Re=void 0===Re?this.length:Re>>>0,U||(U=0),"number"==typeof U)for(ut=te;ut<Re;++ut)this[ut]=U;else{const Dt=f.isBuffer(U)?U:f.from(U,ot),Qt=Dt.length;if(0===Qt)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(ut=0;ut<Re-te;++ut)this[ut+te]=Dt[ut%Qt]}return this};const un={};function Nt(ee,U,te){un[ee]=class extends te{constructor(){super(),Object.defineProperty(this,"message",{value:U.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ee}]`,delete this.name}get code(){return ee}set code(ot){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ot,writable:!0})}toString(){return`${this.name} [${ee}]: ${this.message}`}}}function Mt(ee){let U="",te=ee.length;const Re="-"===ee[0]?1:0;for(;te>=Re+4;te-=3)U=`_${ee.slice(te-3,te)}${U}`;return`${ee.slice(0,te)}${U}`}function Q(ee,U,te,Re,ot,ut){if(ee>te||ee<U){const Dt="bigint"==typeof U?"n":"";let Qt;throw Qt=ut>3?0===U||U===BigInt(0)?`>= 0${Dt} and < 2${Dt} ** ${8*(ut+1)}${Dt}`:`>= -(2${Dt} ** ${8*(ut+1)-1}${Dt}) and < 2 ** ${8*(ut+1)-1}${Dt}`:`>= ${U}${Dt} and <= ${te}${Dt}`,new un.ERR_OUT_OF_RANGE("value",Qt,ee)}!function Y(ee,U,te){ce(U,"offset"),(void 0===ee[U]||void 0===ee[U+te])&&We(U,ee.length-(te+1))}(Re,ot,ut)}function ce(ee,U){if("number"!=typeof ee)throw new un.ERR_INVALID_ARG_TYPE(U,"number",ee)}function We(ee,U,te){throw Math.floor(ee)!==ee?(ce(ee,te),new un.ERR_OUT_OF_RANGE(te||"offset","an integer",ee)):U<0?new un.ERR_BUFFER_OUT_OF_BOUNDS:new un.ERR_OUT_OF_RANGE(te||"offset",`>= ${te?1:0} and <= ${U}`,ee)}Nt("ERR_BUFFER_OUT_OF_BOUNDS",function(ee){return ee?`${ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Nt("ERR_INVALID_ARG_TYPE",function(ee,U){return`The "${ee}" argument must be of type number. Received type ${typeof U}`},TypeError),Nt("ERR_OUT_OF_RANGE",function(ee,U,te){let Re=`The value of "${ee}" is out of range.`,ot=te;return Number.isInteger(te)&&Math.abs(te)>2**32?ot=Mt(String(te)):"bigint"==typeof te&&(ot=String(te),(te>BigInt(2)**BigInt(32)||te<-(BigInt(2)**BigInt(32)))&&(ot=Mt(ot)),ot+="n"),Re+=` It must be ${U}. Received ${ot}`,Re},RangeError);const Je=/[^+/0-9A-Za-z-_]/g;function i(ee,U){let te;U=U||1/0;const Re=ee.length;let ot=null;const ut=[];for(let Dt=0;Dt<Re;++Dt){if(te=ee.charCodeAt(Dt),te>55295&&te<57344){if(!ot){if(te>56319){(U-=3)>-1&&ut.push(239,191,189);continue}if(Dt+1===Re){(U-=3)>-1&&ut.push(239,191,189);continue}ot=te;continue}if(te<56320){(U-=3)>-1&&ut.push(239,191,189),ot=te;continue}te=65536+(ot-55296<<10|te-56320)}else ot&&(U-=3)>-1&&ut.push(239,191,189);if(ot=null,te<128){if((U-=1)<0)break;ut.push(te)}else if(te<2048){if((U-=2)<0)break;ut.push(te>>6|192,63&te|128)}else if(te<65536){if((U-=3)<0)break;ut.push(te>>12|224,te>>6&63|128,63&te|128)}else{if(!(te<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;ut.push(te>>18|240,te>>12&63|128,te>>6&63|128,63&te|128)}}return ut}function Ye(ee){return e.toByteArray(function Oe(ee){if((ee=(ee=ee.split("=")[0]).trim().replace(Je,"")).length<2)return"";for(;ee.length%4!=0;)ee+="=";return ee}(ee))}function Xe(ee,U,te,Re){let ot;for(ot=0;ot<Re&&!(ot+te>=U.length||ot>=ee.length);++ot)U[ot+te]=ee[ot];return ot}function Fe(ee,U){return ee instanceof U||null!=ee&&null!=ee.constructor&&null!=ee.constructor.name&&ee.constructor.name===U.name}function Tt(ee){return ee!=ee}const vt=function(){const ee="0123456789abcdef",U=new Array(256);for(let te=0;te<16;++te){const Re=16*te;for(let ot=0;ot<16;++ot)U[Re+ot]=ee[te]+ee[ot]}return U}();function Ge(ee){return typeof BigInt>"u"?de:ee}function de(){throw new Error("BigInt not supported")}},8461:(dt,Ce)=>{Ce.read=function(p,t,e,m,T){var C,b,g=8*T-m-1,f=(1<<g)-1,w=f>>1,_=-7,R=e?T-1:0,P=e?-1:1,a=p[t+R];for(R+=P,C=a&(1<<-_)-1,a>>=-_,_+=g;_>0;C=256*C+p[t+R],R+=P,_-=8);for(b=C&(1<<-_)-1,C>>=-_,_+=m;_>0;b=256*b+p[t+R],R+=P,_-=8);if(0===C)C=1-w;else{if(C===f)return b?NaN:1/0*(a?-1:1);b+=Math.pow(2,m),C-=w}return(a?-1:1)*b*Math.pow(2,C-m)},Ce.write=function(p,t,e,m,T,C){var b,g,f,w=8*C-T-1,_=(1<<w)-1,R=_>>1,P=23===T?Math.pow(2,-24)-Math.pow(2,-77):0,a=m?0:C-1,k=m?1:-1,L=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,b=_):(b=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-b))<1&&(b--,f*=2),(t+=b+R>=1?P/f:P*Math.pow(2,1-R))*f>=2&&(b++,f/=2),b+R>=_?(g=0,b=_):b+R>=1?(g=(t*f-1)*Math.pow(2,T),b+=R):(g=t*Math.pow(2,R-1)*Math.pow(2,T),b=0));T>=8;p[e+a]=255&g,a+=k,g/=256,T-=8);for(b=b<<T|g,w+=T;w>0;p[e+a]=255&b,a+=k,b/=256,w-=8);p[e+a-k]|=128*L}},1298:(dt,Ce,p)=>{var t=p(8659);function e(k,L){t.cipher.registerAlgorithm(k,function(){return new t.aes.Algorithm(k,L)})}p(3311),p(3481),p(4747),dt.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(k,L,Z,j){var N=a({key:k,output:Z,decrypt:!1,mode:j});return N.start(L),N},t.aes.createEncryptionCipher=function(k,L){return a({key:k,output:null,decrypt:!1,mode:L})},t.aes.startDecrypting=function(k,L,Z,j){var N=a({key:k,output:Z,decrypt:!0,mode:j});return N.start(L),N},t.aes.createDecryptionCipher=function(k,L){return a({key:k,output:null,decrypt:!0,mode:L})},t.aes.Algorithm=function(k,L){m||_();var Z=this;Z.name=k,Z.mode=new L({blockSize:16,cipher:{encrypt:function(j,N){return P(Z._w,j,N,!1)},decrypt:function(j,N){return P(Z._w,j,N,!0)}}}),Z._init=!1},t.aes.Algorithm.prototype.initialize=function(k){if(!this._init){var Z,L=k.key;if("string"!=typeof L||16!==L.length&&24!==L.length&&32!==L.length){if(t.util.isArray(L)&&(16===L.length||24===L.length||32===L.length)){Z=L,L=t.util.createBuffer();for(var j=0;j<Z.length;++j)L.putByte(Z[j])}}else L=t.util.createBuffer(L);if(!t.util.isArray(L)){Z=L,L=[];var N=Z.length();if(16===N||24===N||32===N)for(N>>>=2,j=0;j<N;++j)L.push(Z.getInt32())}if(!t.util.isArray(L)||4!==L.length&&6!==L.length&&8!==L.length)throw new Error("Invalid key parameter.");var V=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=R(L,k.decrypt&&!V),this._init=!0}},t.aes._expandKey=function(k,L){return m||_(),R(k,L)},t.aes._updateBlock=P,e("AES-ECB",t.cipher.modes.ecb),e("AES-CBC",t.cipher.modes.cbc),e("AES-CFB",t.cipher.modes.cfb),e("AES-OFB",t.cipher.modes.ofb),e("AES-CTR",t.cipher.modes.ctr),e("AES-GCM",t.cipher.modes.gcm);var C,b,g,f,w,m=!1;function _(){m=!0,g=[0,1,2,4,8,16,32,64,128,27,54];for(var k=new Array(256),L=0;L<128;++L)k[L]=L<<1,k[L+128]=L+128<<1^283;for(C=new Array(256),b=new Array(256),f=new Array(4),w=new Array(4),L=0;L<4;++L)f[L]=new Array(256),w[L]=new Array(256);var N,B,V,J,q,re,W,Z=0,j=0;for(L=0;L<256;++L){C[Z]=J=(J=j^j<<1^j<<2^j<<3^j<<4)>>8^255&J^99,b[J]=Z,re=(q=k[J])<<24^J<<16^J<<8^J^q,W=((N=k[Z])^(B=k[N])^(V=k[B]))<<24^(Z^V)<<16^(Z^B^V)<<8^Z^N^V;for(var G=0;G<4;++G)f[G][Z]=re,w[G][J]=W,re=re<<24|re>>>8,W=W<<24|W>>>8;0===Z?Z=j=1:(Z=N^k[k[k[N^V]]],j^=k[k[j]])}}function R(k,L){for(var j,Z=k.slice(0),N=1,B=Z.length,J=4*(B+6+1),q=B;q<J;++q)j=Z[q-1],q%B==0?(j=C[j>>>16&255]<<24^C[j>>>8&255]<<16^C[255&j]<<8^C[j>>>24]^g[N]<<24,N++):B>6&&q%B==4&&(j=C[j>>>24]<<24^C[j>>>16&255]<<16^C[j>>>8&255]<<8^C[255&j]),Z[q]=Z[q-B]^j;if(L){for(var re,W=w[0],G=w[1],X=w[2],E=w[3],ne=Z.slice(0),K=(q=0,(J=Z.length)-4);q<J;q+=4,K-=4)if(0===q||q===J-4)ne[q]=Z[K],ne[q+1]=Z[K+3],ne[q+2]=Z[K+2],ne[q+3]=Z[K+1];else for(var le=0;le<4;++le)ne[q+(3&-le)]=W[C[(re=Z[K+le])>>>24]]^G[C[re>>>16&255]]^X[C[re>>>8&255]]^E[C[255&re]];Z=ne}return Z}function P(k,L,Z,j){var B,V,J,q,re,W,G,X,E,ne,K,le,N=k.length/4-1;j?(B=w[0],V=w[1],J=w[2],q=w[3],re=b):(B=f[0],V=f[1],J=f[2],q=f[3],re=C),W=L[0]^k[0],G=L[j?3:1]^k[1],X=L[2]^k[2],E=L[j?1:3]^k[3];for(var me=3,Se=1;Se<N;++Se)ne=B[W>>>24]^V[G>>>16&255]^J[X>>>8&255]^q[255&E]^k[++me],K=B[G>>>24]^V[X>>>16&255]^J[E>>>8&255]^q[255&W]^k[++me],le=B[X>>>24]^V[E>>>16&255]^J[W>>>8&255]^q[255&G]^k[++me],E=B[E>>>24]^V[W>>>16&255]^J[G>>>8&255]^q[255&X]^k[++me],W=ne,G=K,X=le;Z[0]=re[W>>>24]<<24^re[G>>>16&255]<<16^re[X>>>8&255]<<8^re[255&E]^k[++me],Z[j?3:1]=re[G>>>24]<<24^re[X>>>16&255]<<16^re[E>>>8&255]<<8^re[255&W]^k[++me],Z[2]=re[X>>>24]<<24^re[E>>>16&255]<<16^re[W>>>8&255]<<8^re[255&G]^k[++me],Z[j?1:3]=re[E>>>24]<<24^re[W>>>16&255]<<16^re[G>>>8&255]<<8^re[255&X]^k[++me]}function a(k){var j,Z="AES-"+((k=k||{}).mode||"CBC").toUpperCase(),N=(j=k.decrypt?t.cipher.createDecipher(Z,k.key):t.cipher.createCipher(Z,k.key)).start;return j.start=function(B,V){var J=null;V instanceof t.util.ByteBuffer&&(J=V,V={}),(V=V||{}).output=J,V.iv=B,N.call(j,V)},j}},6683:(dt,Ce,p)=>{var t=p(8659);p(1298),p(2266);var e=dt.exports=t.tls;function m(w,_,R){var P=_.entity===t.tls.ConnectionEnd.client;w.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",P?R.keys.server_write_key:R.keys.client_write_key),iv:P?R.keys.server_write_IV:R.keys.client_write_IV},w.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",P?R.keys.client_write_key:R.keys.server_write_key),iv:P?R.keys.client_write_IV:R.keys.server_write_IV},w.read.cipherFunction=g,w.write.cipherFunction=T,w.read.macLength=w.write.macLength=R.mac_length,w.read.macFunction=w.write.macFunction=e.hmac_sha1}function T(w,_){var a,R=!1,P=_.macFunction(_.macKey,_.sequenceNumber,w);w.fragment.putBytes(P),_.updateSequenceNumber(),a=w.version.minor===e.Versions.TLS_1_0.minor?_.cipherState.init?null:_.cipherState.iv:t.random.getBytesSync(16),_.cipherState.init=!0;var k=_.cipherState.cipher;return k.start({iv:a}),w.version.minor>=e.Versions.TLS_1_1.minor&&k.output.putBytes(a),k.update(w.fragment),k.finish(C)&&(w.fragment=k.output,w.length=w.fragment.length(),R=!0),R}function C(w,_,R){if(!R){var P=w-_.length()%w;_.fillWithByte(P-1,P)}return!0}function b(w,_,R){var P=!0;if(R){for(var a=_.length(),k=_.last(),L=a-1-k;L<a-1;++L)P=P&&_.at(L)==k;P&&_.truncate(k+1)}return P}function g(w,_){var P,R=!1;P=w.version.minor===e.Versions.TLS_1_0.minor?_.cipherState.init?null:_.cipherState.iv:w.fragment.getBytes(16),_.cipherState.init=!0;var a=_.cipherState.cipher;a.start({iv:P}),a.update(w.fragment),R=a.finish(b);var k=_.macLength,L=t.random.getBytesSync(k),Z=a.output.length();Z>=k?(w.fragment=a.output.getBytes(Z-k),L=a.output.getBytes(k)):w.fragment=a.output.getBytes(),w.fragment=t.util.createBuffer(w.fragment),w.length=w.fragment.length();var j=_.macFunction(_.macKey,_.sequenceNumber,w);return _.updateSequenceNumber(),R=function f(w,_,R){var P=t.hmac.create();return P.start("SHA1",w),P.update(_),_=P.digest().getBytes(),P.start(null,null),P.update(R),_===(R=P.digest().getBytes())}(_.macKey,L,j)&&R,R}e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(w){w.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,w.cipher_type=e.CipherType.block,w.enc_key_length=16,w.block_length=16,w.fixed_iv_length=16,w.record_iv_length=16,w.mac_algorithm=e.MACAlgorithm.hmac_sha1,w.mac_length=20,w.mac_key_length=20},initConnectionState:m},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(w){w.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,w.cipher_type=e.CipherType.block,w.enc_key_length=32,w.block_length=16,w.fixed_iv_length=16,w.record_iv_length=16,w.mac_algorithm=e.MACAlgorithm.hmac_sha1,w.mac_length=20,w.mac_key_length=20},initConnectionState:m}},8877:(dt,Ce,p)=>{var t=p(8659);p(7791);var e=t.asn1;Ce.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Ce.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7791:(dt,Ce,p)=>{var t=p(8659);p(4747),p(6078);var e=dt.exports=t.asn1=t.asn1||{};function m(g,f,w){if(w>f){var _=new Error("Too few bytes to parse DER.");throw _.available=g.length(),_.remaining=f,_.requested=w,_}}function C(g,f,w,_){var R;m(g,f,2);var P=g.getByte();f--;var a=192&P,k=31&P;R=g.length();var L=function(g,f){var w=g.getByte();if(f--,128!==w){var _;if(128&w){var P=127&w;m(g,f,P),_=g.getInt(P<<3)}else _=w;if(_<0)throw new Error("Negative length: "+_);return _}}(g,f);if(f-=R-g.length(),void 0!==L&&L>f){if(_.strict){var Z=new Error("Too few bytes to read ASN.1 value.");throw Z.available=g.length(),Z.remaining=f,Z.requested=L,Z}L=f}var j,N,B=32==(32&P);if(B)if(j=[],void 0===L)for(;;){if(m(g,f,2),g.bytes(2)===String.fromCharCode(0,0)){g.getBytes(2),f-=2;break}R=g.length(),j.push(C(g,f,w+1,_)),f-=R-g.length()}else for(;L>0;)R=g.length(),j.push(C(g,L,w+1,_)),f-=R-g.length(),L-=R-g.length();if(void 0===j&&a===e.Class.UNIVERSAL&&k===e.Type.BITSTRING&&(N=g.bytes(L)),void 0===j&&_.decodeBitStrings&&a===e.Class.UNIVERSAL&&k===e.Type.BITSTRING&&L>1){var V=g.read,J=f,q=0;if(k===e.Type.BITSTRING&&(m(g,f,1),q=g.getByte(),f--),0===q)try{R=g.length();var W=C(g,f,w+1,{strict:!0,decodeBitStrings:!0}),G=R-g.length();f-=G,k==e.Type.BITSTRING&&G++;var X=W.tagClass;G===L&&(X===e.Class.UNIVERSAL||X===e.Class.CONTEXT_SPECIFIC)&&(j=[W])}catch{}void 0===j&&(g.read=V,f=J)}if(void 0===j){if(void 0===L){if(_.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");L=f}if(k===e.Type.BMPSTRING)for(j="";L>0;L-=2)m(g,f,2),j+=String.fromCharCode(g.getInt16()),f-=2;else j=g.getBytes(L),f-=L}return e.create(a,k,B,j,void 0===N?null:{bitStringContents:N})}e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(g,f,w,_,R){if(t.util.isArray(_)){for(var P=[],a=0;a<_.length;++a)void 0!==_[a]&&P.push(_[a]);_=P}var k={tagClass:g,type:f,constructed:w,composed:w||t.util.isArray(_),value:_};return R&&"bitStringContents"in R&&(k.bitStringContents=R.bitStringContents,k.original=e.copy(k)),k},e.copy=function(g,f){var w;if(t.util.isArray(g)){w=[];for(var _=0;_<g.length;++_)w.push(e.copy(g[_],f));return w}return"string"==typeof g?g:(w={tagClass:g.tagClass,type:g.type,constructed:g.constructed,composed:g.composed,value:e.copy(g.value,f)},f&&!f.excludeBitStringContents&&(w.bitStringContents=g.bitStringContents),w)},e.equals=function(g,f,w){if(t.util.isArray(g)){if(!t.util.isArray(f)||g.length!==f.length)return!1;for(var _=0;_<g.length;++_)if(!e.equals(g[_],f[_]))return!1;return!0}if(typeof g!=typeof f)return!1;if("string"==typeof g)return g===f;var R=g.tagClass===f.tagClass&&g.type===f.type&&g.constructed===f.constructed&&g.composed===f.composed&&e.equals(g.value,f.value);return w&&w.includeBitStringContents&&(R=R&&g.bitStringContents===f.bitStringContents),R},e.getBerValueLength=function(g){var f=g.getByte();if(128!==f)return 128&f?g.getInt((127&f)<<3):f},e.fromDer=function(g,f){void 0===f&&(f={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof f&&(f={strict:f,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in f||(f.strict=!0),"parseAllBytes"in f||(f.parseAllBytes=!0),"decodeBitStrings"in f||(f.decodeBitStrings=!0),"string"==typeof g&&(g=t.util.createBuffer(g));var w=g.length(),_=C(g,g.length(),0,f);if(f.parseAllBytes&&0!==g.length()){var R=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw R.byteCount=w,R.remaining=g.length(),R}return _},e.toDer=function(g){var f=t.util.createBuffer(),w=g.tagClass|g.type,_=t.util.createBuffer(),R=!1;if("bitStringContents"in g&&(R=!0,g.original&&(R=e.equals(g,g.original))),R)_.putBytes(g.bitStringContents);else if(g.composed){g.constructed?w|=32:_.putByte(0);for(var P=0;P<g.value.length;++P)void 0!==g.value[P]&&_.putBuffer(e.toDer(g.value[P]))}else if(g.type===e.Type.BMPSTRING)for(P=0;P<g.value.length;++P)_.putInt16(g.value.charCodeAt(P));else g.type===e.Type.INTEGER&&g.value.length>1&&(0===g.value.charCodeAt(0)&&0==(128&g.value.charCodeAt(1))||255===g.value.charCodeAt(0)&&128==(128&g.value.charCodeAt(1)))?_.putBytes(g.value.substr(1)):_.putBytes(g.value);if(f.putByte(w),_.length()<=127)f.putByte(127&_.length());else{var a=_.length(),k="";do{k+=String.fromCharCode(255&a),a>>>=8}while(a>0);for(f.putByte(128|k.length),P=k.length-1;P>=0;--P)f.putByte(k.charCodeAt(P))}return f.putBuffer(_),f},e.oidToDer=function(g){var f=g.split("."),w=t.util.createBuffer();w.putByte(40*parseInt(f[0],10)+parseInt(f[1],10));for(var _,R,P,a,k=2;k<f.length;++k){_=!0,R=[],P=parseInt(f[k],10);do{a=127&P,P>>>=7,_||(a|=128),R.push(a),_=!1}while(P>0);for(var L=R.length-1;L>=0;--L)w.putByte(R[L])}return w},e.derToOid=function(g){var f;"string"==typeof g&&(g=t.util.createBuffer(g));var w=g.getByte();f=Math.floor(w/40)+"."+w%40;for(var _=0;g.length()>0;)_<<=7,128&(w=g.getByte())?_+=127&w:(f+="."+(_+w),_=0);return f},e.utcTimeToDate=function(g){var f=new Date,w=parseInt(g.substr(0,2),10);w=w>=50?1900+w:2e3+w;var _=parseInt(g.substr(2,2),10)-1,R=parseInt(g.substr(4,2),10),P=parseInt(g.substr(6,2),10),a=parseInt(g.substr(8,2),10),k=0;if(g.length>11){var L=g.charAt(10),Z=10;"+"!==L&&"-"!==L&&(k=parseInt(g.substr(10,2),10),Z+=2)}if(f.setUTCFullYear(w,_,R),f.setUTCHours(P,a,k,0),Z&&("+"===(L=g.charAt(Z))||"-"===L)){var B=60*parseInt(g.substr(Z+1,2),10)+parseInt(g.substr(Z+4,2),10);B*=6e4,f.setTime("+"===L?+f-B:+f+B)}return f},e.generalizedTimeToDate=function(g){var f=new Date,w=parseInt(g.substr(0,4),10),_=parseInt(g.substr(4,2),10)-1,R=parseInt(g.substr(6,2),10),P=parseInt(g.substr(8,2),10),a=parseInt(g.substr(10,2),10),k=parseInt(g.substr(12,2),10),L=0,Z=0,j=!1;"Z"===g.charAt(g.length-1)&&(j=!0);var N=g.length-5,B=g.charAt(N);return"+"!==B&&"-"!==B||(Z=60*parseInt(g.substr(N+1,2),10)+parseInt(g.substr(N+4,2),10),Z*=6e4,"+"===B&&(Z*=-1),j=!0),"."===g.charAt(14)&&(L=1e3*parseFloat(g.substr(14),10)),j?(f.setUTCFullYear(w,_,R),f.setUTCHours(P,a,k,L),f.setTime(+f+Z)):(f.setFullYear(w,_,R),f.setHours(P,a,k,L)),f},e.dateToUtcTime=function(g){if("string"==typeof g)return g;var f="",w=[];w.push((""+g.getUTCFullYear()).substr(2)),w.push(""+(g.getUTCMonth()+1)),w.push(""+g.getUTCDate()),w.push(""+g.getUTCHours()),w.push(""+g.getUTCMinutes()),w.push(""+g.getUTCSeconds());for(var _=0;_<w.length;++_)w[_].length<2&&(f+="0"),f+=w[_];return f+"Z"},e.dateToGeneralizedTime=function(g){if("string"==typeof g)return g;var f="",w=[];w.push(""+g.getUTCFullYear()),w.push(""+(g.getUTCMonth()+1)),w.push(""+g.getUTCDate()),w.push(""+g.getUTCHours()),w.push(""+g.getUTCMinutes()),w.push(""+g.getUTCSeconds());for(var _=0;_<w.length;++_)w[_].length<2&&(f+="0"),f+=w[_];return f+"Z"},e.integerToDer=function(g){var f=t.util.createBuffer();if(g>=-128&&g<128)return f.putSignedInt(g,8);if(g>=-32768&&g<32768)return f.putSignedInt(g,16);if(g>=-8388608&&g<8388608)return f.putSignedInt(g,24);if(g>=-2147483648&&g<2147483648)return f.putSignedInt(g,32);var w=new Error("Integer too large; max is 32-bits.");throw w.integer=g,w},e.derToInteger=function(g){"string"==typeof g&&(g=t.util.createBuffer(g));var f=8*g.length();if(f>32)throw new Error("Integer too large; max is 32-bits.");return g.getSignedInt(f)},e.validate=function(g,f,w,_){var R=!1;if((g.tagClass===f.tagClass||typeof f.tagClass>"u")&&(g.type===f.type||typeof f.type>"u"))if(g.constructed===f.constructed||typeof f.constructed>"u"){if(R=!0,f.value&&t.util.isArray(f.value))for(var P=0,a=0;R&&a<f.value.length;++a)R=f.value[a].optional||!1,g.value[P]&&((R=e.validate(g.value[P],f.value[a],w,_))?++P:f.value[a].optional&&(R=!0)),!R&&_&&_.push("["+f.name+'] Tag class "'+f.tagClass+'", type "'+f.type+'" expected value length "'+f.value.length+'", got "'+g.value.length+'"');if(R&&w&&(f.capture&&(w[f.capture]=g.value),f.captureAsn1&&(w[f.captureAsn1]=g),f.captureBitStringContents&&"bitStringContents"in g&&(w[f.captureBitStringContents]=g.bitStringContents),f.captureBitStringValue&&"bitStringContents"in g))if(g.bitStringContents.length<2)w[f.captureBitStringValue]="";else{if(0!==g.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");w[f.captureBitStringValue]=g.bitStringContents.slice(1)}}else _&&_.push("["+f.name+'] Expected constructed "'+f.constructed+'", got "'+g.constructed+'"');else _&&(g.tagClass!==f.tagClass&&_.push("["+f.name+'] Expected tag class "'+f.tagClass+'", got "'+g.tagClass+'"'),g.type!==f.type&&_.push("["+f.name+'] Expected type "'+f.type+'", got "'+g.type+'"'));return R};var b=/[^\\u0000-\\u00ff]/;e.prettyPrint=function(g,f,w){var _="";w=w||2,(f=f||0)>0&&(_+="\n");for(var R="",P=0;P<f*w;++P)R+=" ";switch(_+=R+"Tag: ",g.tagClass){case e.Class.UNIVERSAL:_+="Universal:";break;case e.Class.APPLICATION:_+="Application:";break;case e.Class.CONTEXT_SPECIFIC:_+="Context-Specific:";break;case e.Class.PRIVATE:_+="Private:"}if(g.tagClass===e.Class.UNIVERSAL)switch(_+=g.type,g.type){case e.Type.NONE:_+=" (None)";break;case e.Type.BOOLEAN:_+=" (Boolean)";break;case e.Type.INTEGER:_+=" (Integer)";break;case e.Type.BITSTRING:_+=" (Bit string)";break;case e.Type.OCTETSTRING:_+=" (Octet string)";break;case e.Type.NULL:_+=" (Null)";break;case e.Type.OID:_+=" (Object Identifier)";break;case e.Type.ODESC:_+=" (Object Descriptor)";break;case e.Type.EXTERNAL:_+=" (External or Instance of)";break;case e.Type.REAL:_+=" (Real)";break;case e.Type.ENUMERATED:_+=" (Enumerated)";break;case e.Type.EMBEDDED:_+=" (Embedded PDV)";break;case e.Type.UTF8:_+=" (UTF8)";break;case e.Type.ROID:_+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:_+=" (Sequence)";break;case e.Type.SET:_+=" (Set)";break;case e.Type.PRINTABLESTRING:_+=" (Printable String)";break;case e.Type.IA5String:_+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:_+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:_+=" (Generalized time)";break;case e.Type.BMPSTRING:_+=" (BMP String)"}else _+=g.type;if(_+="\n",_+=R+"Constructed: "+g.constructed+"\n",g.composed){var a=0,k="";for(P=0;P<g.value.length;++P)void 0!==g.value[P]&&(a+=1,k+=e.prettyPrint(g.value[P],f+1,w),P+1<g.value.length&&(k+=","));_+=R+"Sub values: "+a+k}else{if(_+=R+"Value: ",g.type===e.Type.OID){var L=e.derToOid(g.value);_+=L,t.pki&&t.pki.oids&&L in t.pki.oids&&(_+=" ("+t.pki.oids[L]+") ")}if(g.type===e.Type.INTEGER)try{_+=e.derToInteger(g.value)}catch{_+="0x"+t.util.bytesToHex(g.value)}else if(g.type===e.Type.BITSTRING){if(_+=g.value.length>1?"0x"+t.util.bytesToHex(g.value.slice(1)):"(none)",g.value.length>0){var Z=g.value.charCodeAt(0);1==Z?_+=" (1 unused bit shown)":Z>1&&(_+=" ("+Z+" unused bits shown)")}}else if(g.type===e.Type.OCTETSTRING)b.test(g.value)||(_+="("+g.value+") "),_+="0x"+t.util.bytesToHex(g.value);else if(g.type===e.Type.UTF8)try{_+=t.util.decodeUtf8(g.value)}catch(j){if("URI malformed"!==j.message)throw j;_+="0x"+t.util.bytesToHex(g.value)+" (malformed UTF8)"}else g.type===e.Type.PRINTABLESTRING||g.type===e.Type.IA5String?_+=g.value:b.test(g.value)?_+="0x"+t.util.bytesToHex(g.value):_+=0===g.value.length?"[null]":g.value}return _}},2020:dt=>{var Ce={};dt.exports=Ce;var p={};Ce.encode=function(e,m,T){if("string"!=typeof m)throw new TypeError('"alphabet" must be a string.');if(void 0!==T&&"number"!=typeof T)throw new TypeError('"maxline" must be a number.');var C="";if(e instanceof Uint8Array){var b=0,g=m.length,f=m.charAt(0),w=[0];for(b=0;b<e.length;++b){for(var _=0,R=e[b];_<w.length;++_)w[_]=(R+=w[_]<<8)%g,R=R/g|0;for(;R>0;)w.push(R%g),R=R/g|0}for(b=0;0===e[b]&&b<e.length-1;++b)C+=f;for(b=w.length-1;b>=0;--b)C+=m[w[b]]}else C=function t(e,m){var T=0,C=m.length,b=m.charAt(0),g=[0];for(T=0;T<e.length();++T){for(var f=0,w=e.at(T);f<g.length;++f)g[f]=(w+=g[f]<<8)%C,w=w/C|0;for(;w>0;)g.push(w%C),w=w/C|0}var _="";for(T=0;0===e.at(T)&&T<e.length()-1;++T)_+=b;for(T=g.length-1;T>=0;--T)_+=m[g[T]];return _}(e,m);if(T){var P=new RegExp(".{1,"+T+"}","g");C=C.match(P).join("\r\n")}return C},Ce.decode=function(e,m){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof m)throw new TypeError('"alphabet" must be a string.');var T=p[m];if(!T){T=p[m]=[];for(var C=0;C<m.length;++C)T[m.charCodeAt(C)]=C}e=e.replace(/\s/g,"");var b=m.length,g=m.charAt(0),f=[0];for(C=0;C<e.length;C++){var w=T[e.charCodeAt(C)];if(void 0===w)return;for(var _=0,R=w;_<f.length;++_)f[_]=255&(R+=f[_]*b),R>>=8;for(;R>0;)f.push(255&R),R>>=8}for(var P=0;e[P]===g&&P<e.length-1;++P)f.push(0);return typeof Buffer<"u"?Buffer.from(f.reverse()):new Uint8Array(f.reverse())}},3311:(dt,Ce,p)=>{var t=p(8659);p(4747),dt.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(m,T){var C=m;if("string"==typeof C&&(C=t.cipher.getAlgorithm(C))&&(C=C()),!C)throw new Error("Unsupported algorithm: "+m);return new t.cipher.BlockCipher({algorithm:C,key:T,decrypt:!1})},t.cipher.createDecipher=function(m,T){var C=m;if("string"==typeof C&&(C=t.cipher.getAlgorithm(C))&&(C=C()),!C)throw new Error("Unsupported algorithm: "+m);return new t.cipher.BlockCipher({algorithm:C,key:T,decrypt:!0})},t.cipher.registerAlgorithm=function(m,T){m=m.toUpperCase(),t.cipher.algorithms[m]=T},t.cipher.getAlgorithm=function(m){return(m=m.toUpperCase())in t.cipher.algorithms?t.cipher.algorithms[m]:null};var e=t.cipher.BlockCipher=function(m){this.algorithm=m.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=m.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=m.decrypt,this.algorithm.initialize(m)};e.prototype.start=function(m){m=m||{};var T={};for(var C in m)T[C]=m[C];T.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=m.output||t.util.createBuffer(),this.mode.start(T)},e.prototype.update=function(m){for(m&&this._input.putBuffer(m);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(m){m&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(C){return m(this.blockSize,C,!1)},this.mode.unpad=function(C){return m(this.blockSize,C,!0)});var T={};return T.decrypt=this._decrypt,T.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,T)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,T))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,T))}},3481:(dt,Ce,p)=>{var t=p(8659);p(4747),t.cipher=t.cipher||{};var e=dt.exports=t.cipher.modes=t.cipher.modes||{};function m(b,g){if("string"==typeof b&&(b=t.util.createBuffer(b)),t.util.isArray(b)&&b.length>4){var f=b;b=t.util.createBuffer();for(var w=0;w<f.length;++w)b.putByte(f[w])}if(b.length()<g)throw new Error("Invalid IV length; got "+b.length()+" bytes and expected "+g+" bytes.");if(!t.util.isArray(b)){var _=[],R=g/4;for(w=0;w<R;++w)_.push(b.getInt32());b=_}return b}function T(b){b[b.length-1]=b[b.length-1]+1&4294967295}function C(b){return[b/4294967296|0,4294967295&b]}e.ecb=function(b){b=b||{},this.name="ECB",this.cipher=b.cipher,this.blockSize=b.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(b){},e.ecb.prototype.encrypt=function(b,g,f){if(b.length()<this.blockSize&&!(f&&b.length()>0))return!0;for(var w=0;w<this._ints;++w)this._inBlock[w]=b.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),w=0;w<this._ints;++w)g.putInt32(this._outBlock[w])},e.ecb.prototype.decrypt=function(b,g,f){if(b.length()<this.blockSize&&!(f&&b.length()>0))return!0;for(var w=0;w<this._ints;++w)this._inBlock[w]=b.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),w=0;w<this._ints;++w)g.putInt32(this._outBlock[w])},e.ecb.prototype.pad=function(b,g){var f=b.length()===this.blockSize?this.blockSize:this.blockSize-b.length();return b.fillWithByte(f,f),!0},e.ecb.prototype.unpad=function(b,g){if(g.overflow>0)return!1;var f=b.length(),w=b.at(f-1);return!(w>this.blockSize<<2||(b.truncate(w),0))},e.cbc=function(b){b=b||{},this.name="CBC",this.cipher=b.cipher,this.blockSize=b.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(b){if(null===b.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in b))throw new Error("Invalid IV parameter.");this._iv=m(b.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(b,g,f){if(b.length()<this.blockSize&&!(f&&b.length()>0))return!0;for(var w=0;w<this._ints;++w)this._inBlock[w]=this._prev[w]^b.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),w=0;w<this._ints;++w)g.putInt32(this._outBlock[w]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(b,g,f){if(b.length()<this.blockSize&&!(f&&b.length()>0))return!0;for(var w=0;w<this._ints;++w)this._inBlock[w]=b.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),w=0;w<this._ints;++w)g.putInt32(this._prev[w]^this._outBlock[w]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(b,g){var f=b.length()===this.blockSize?this.blockSize:this.blockSize-b.length();return b.fillWithByte(f,f),!0},e.cbc.prototype.unpad=function(b,g){if(g.overflow>0)return!1;var f=b.length(),w=b.at(f-1);return!(w>this.blockSize<<2||(b.truncate(w),0))},e.cfb=function(b){b=b||{},this.name="CFB",this.cipher=b.cipher,this.blockSize=b.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(b){if(!("iv"in b))throw new Error("Invalid IV parameter.");this._iv=m(b.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(b,g,f){var w=b.length();if(0===w)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&w>=this.blockSize)for(var _=0;_<this._ints;++_)this._inBlock[_]=b.getInt32()^this._outBlock[_],g.putInt32(this._inBlock[_]);else{var R=(this.blockSize-w)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialBlock[_]=b.getInt32()^this._outBlock[_],this._partialOutput.putInt32(this._partialBlock[_]);if(R>0)b.read-=this.blockSize;else for(_=0;_<this._ints;++_)this._inBlock[_]=this._partialBlock[_];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!f)return g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(b,g,f){var w=b.length();if(0===w)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&w>=this.blockSize)for(var _=0;_<this._ints;++_)this._inBlock[_]=b.getInt32(),g.putInt32(this._inBlock[_]^this._outBlock[_]);else{var R=(this.blockSize-w)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialBlock[_]=b.getInt32(),this._partialOutput.putInt32(this._partialBlock[_]^this._outBlock[_]);if(R>0)b.read-=this.blockSize;else for(_=0;_<this._ints;++_)this._inBlock[_]=this._partialBlock[_];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!f)return g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0}},e.ofb=function(b){b=b||{},this.name="OFB",this.cipher=b.cipher,this.blockSize=b.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(b){if(!("iv"in b))throw new Error("Invalid IV parameter.");this._iv=m(b.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(b,g,f){var w=b.length();if(0===b.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&w>=this.blockSize)for(var _=0;_<this._ints;++_)g.putInt32(b.getInt32()^this._outBlock[_]),this._inBlock[_]=this._outBlock[_];else{var R=(this.blockSize-w)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialOutput.putInt32(b.getInt32()^this._outBlock[_]);if(R>0)b.read-=this.blockSize;else for(_=0;_<this._ints;++_)this._inBlock[_]=this._outBlock[_];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!f)return g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(b){b=b||{},this.name="CTR",this.cipher=b.cipher,this.blockSize=b.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(b){if(!("iv"in b))throw new Error("Invalid IV parameter.");this._iv=m(b.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(b,g,f){var w=b.length();if(0===w)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&w>=this.blockSize)for(var _=0;_<this._ints;++_)g.putInt32(b.getInt32()^this._outBlock[_]);else{var R=(this.blockSize-w)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialOutput.putInt32(b.getInt32()^this._outBlock[_]);if(R>0&&(b.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!f)return g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0}T(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(b){b=b||{},this.name="GCM",this.cipher=b.cipher,this.blockSize=b.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(b){if(!("iv"in b))throw new Error("Invalid IV parameter.");var f,g=t.util.createBuffer(b.iv);if(this._cipherLength=0,f="additionalData"in b?t.util.createBuffer(b.additionalData):t.util.createBuffer(),this._tagLength="tagLength"in b?b.tagLength:128,this._tag=null,b.decrypt&&(this._tag=t.util.createBuffer(b.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var w=g.length();if(12===w)this._j0=[g.getInt32(),g.getInt32(),g.getInt32(),1];else{for(this._j0=[0,0,0,0];g.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[g.getInt32(),g.getInt32(),g.getInt32(),g.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(C(8*w)))}this._inBlock=this._j0.slice(0),T(this._inBlock),this._partialBytes=0,f=t.util.createBuffer(f),this._aDataLength=C(8*f.length());var _=f.length()%this.blockSize;for(_&&f.fillWithByte(0,this.blockSize-_),this._s=[0,0,0,0];f.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[f.getInt32(),f.getInt32(),f.getInt32(),f.getInt32()])},e.gcm.prototype.encrypt=function(b,g,f){var w=b.length();if(0===w)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&w>=this.blockSize){for(var _=0;_<this._ints;++_)g.putInt32(this._outBlock[_]^=b.getInt32());this._cipherLength+=this.blockSize}else{var R=(this.blockSize-w)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialOutput.putInt32(b.getInt32()^this._outBlock[_]);if(R<=0||f){if(f){var P=w%this.blockSize;this._cipherLength+=P,this._partialOutput.truncate(this.blockSize-P)}else this._cipherLength+=this.blockSize;for(_=0;_<this._ints;++_)this._outBlock[_]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!f)return b.read-=this.blockSize,g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(w-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),T(this._inBlock)},e.gcm.prototype.decrypt=function(b,g,f){var w=b.length();if(w<this.blockSize&&!(f&&w>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),T(this._inBlock),this._hashBlock[0]=b.getInt32(),this._hashBlock[1]=b.getInt32(),this._hashBlock[2]=b.getInt32(),this._hashBlock[3]=b.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var _=0;_<this._ints;++_)g.putInt32(this._outBlock[_]^this._hashBlock[_]);this._cipherLength+=w<this.blockSize?w%this.blockSize:this.blockSize},e.gcm.prototype.afterFinish=function(b,g){var f=!0;g.decrypt&&g.overflow&&b.truncate(this.blockSize-g.overflow),this.tag=t.util.createBuffer();var w=this._aDataLength.concat(C(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,w);var _=[];this.cipher.encrypt(this._j0,_);for(var R=0;R<this._ints;++R)this.tag.putInt32(this._s[R]^_[R]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),g.decrypt&&this.tag.bytes()!==this._tag&&(f=!1),f},e.gcm.prototype.multiply=function(b,g){for(var f=[0,0,0,0],w=g.slice(0),_=0;_<128;++_)b[_/32|0]&1<<31-_%32&&(f[0]^=w[0],f[1]^=w[1],f[2]^=w[2],f[3]^=w[3]),this.pow(w,w);return f},e.gcm.prototype.pow=function(b,g){for(var f=1&b[3],w=3;w>0;--w)g[w]=b[w]>>>1|(1&b[w-1])<<31;g[0]=b[0]>>>1,f&&(g[0]^=this._R)},e.gcm.prototype.tableMultiply=function(b){for(var g=[0,0,0,0],f=0;f<32;++f){var R=this._m[f][b[f/8|0]>>>4*(7-f%8)&15];g[0]^=R[0],g[1]^=R[1],g[2]^=R[2],g[3]^=R[3]}return g},e.gcm.prototype.ghash=function(b,g,f){return g[0]^=f[0],g[1]^=f[1],g[2]^=f[2],g[3]^=f[3],this.tableMultiply(g)},e.gcm.prototype.generateHashTable=function(b,g){for(var f=8/g,w=4*f,_=16*f,R=new Array(_),P=0;P<_;++P){var a=[0,0,0,0];a[P/w|0]=1<<g-1<<(w-1-P%w)*g,R[P]=this.generateSubHashTable(this.multiply(a,b),g)}return R},e.gcm.prototype.generateSubHashTable=function(b,g){var f=1<<g,w=f>>>1,_=new Array(f);_[w]=b.slice(0);for(var R=w>>>1;R>0;)this.pow(_[2*R],_[R]=[]),R>>=1;for(R=2;R<w;){for(var P=1;P<R;++P){var a=_[R],k=_[P];_[R+P]=[a[0]^k[0],a[1]^k[1],a[2]^k[2],a[3]^k[3]]}R*=2}for(_[0]=[0,0,0,0],R=w+1;R<f;++R){var L=_[R^w];_[R]=[b[0]^L[0],b[1]^L[1],b[2]^L[2],b[3]^L[3]]}return _}},279:(dt,Ce,p)=>{var t=p(8659);function e(k,L){t.cipher.registerAlgorithm(k,function(){return new t.des.Algorithm(k,L)})}p(3311),p(3481),p(4747),dt.exports=t.des=t.des||{},t.des.startEncrypting=function(k,L,Z,j){var N=a({key:k,output:Z,decrypt:!1,mode:j||(null===L?"ECB":"CBC")});return N.start(L),N},t.des.createEncryptionCipher=function(k,L){return a({key:k,output:null,decrypt:!1,mode:L})},t.des.startDecrypting=function(k,L,Z,j){var N=a({key:k,output:Z,decrypt:!0,mode:j||(null===L?"ECB":"CBC")});return N.start(L),N},t.des.createDecryptionCipher=function(k,L){return a({key:k,output:null,decrypt:!0,mode:L})},t.des.Algorithm=function(k,L){var Z=this;Z.name=k,Z.mode=new L({blockSize:8,cipher:{encrypt:function(j,N){return P(Z._keys,j,N,!1)},decrypt:function(j,N){return P(Z._keys,j,N,!0)}}}),Z._init=!1},t.des.Algorithm.prototype.initialize=function(k){if(!this._init){var L=t.util.createBuffer(k.key);if(0===this.name.indexOf("3DES")&&24!==L.length())throw new Error("Invalid Triple-DES key size: "+8*L.length());this._keys=function R(k){for(var ye,L=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],Z=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],j=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],N=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],B=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],V=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],J=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],q=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],re=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],W=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],G=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],X=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],E=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],ne=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],K=k.length()>8?3:1,le=[],me=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Se=0,ze=0;ze<K;ze++){var Ee=k.getInt32(),qe=k.getInt32();Ee^=(ye=252645135&(Ee>>>4^qe))<<4,Ee^=ye=65535&((qe^=ye)>>>-16^Ee),Ee^=(ye=858993459&(Ee>>>2^(qe^=ye<<-16)))<<2,Ee^=ye=65535&((qe^=ye)>>>-16^Ee),Ee^=(ye=1431655765&(Ee>>>1^(qe^=ye<<-16)))<<1,Ee^=ye=16711935&((qe^=ye)>>>8^Ee),ye=(Ee^=(ye=1431655765&(Ee>>>1^(qe^=ye<<8)))<<1)<<8|(qe^=ye)>>>20&240,Ee=qe<<24|qe<<8&16711680|qe>>>8&65280|qe>>>24&240,qe=ye;for(var Te=0;Te<me.length;++Te){me[Te]?(Ee=Ee<<2|Ee>>>26,qe=qe<<2|qe>>>26):(Ee=Ee<<1|Ee>>>27,qe=qe<<1|qe>>>27);var nt=L[(Ee&=-15)>>>28]|Z[Ee>>>24&15]|j[Ee>>>20&15]|N[Ee>>>16&15]|B[Ee>>>12&15]|V[Ee>>>8&15]|J[Ee>>>4&15],at=q[(qe&=-15)>>>28]|re[qe>>>24&15]|W[qe>>>20&15]|G[qe>>>16&15]|X[qe>>>12&15]|E[qe>>>8&15]|ne[qe>>>4&15];le[Se++]=nt^(ye=65535&(at>>>16^nt)),le[Se++]=at^ye<<16}}return le}(L),this._init=!0}},e("DES-ECB",t.cipher.modes.ecb),e("DES-CBC",t.cipher.modes.cbc),e("DES-CFB",t.cipher.modes.cfb),e("DES-OFB",t.cipher.modes.ofb),e("DES-CTR",t.cipher.modes.ctr),e("3DES-ECB",t.cipher.modes.ecb),e("3DES-CBC",t.cipher.modes.cbc),e("3DES-CFB",t.cipher.modes.cfb),e("3DES-OFB",t.cipher.modes.ofb),e("3DES-CTR",t.cipher.modes.ctr);var m=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],T=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],C=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],b=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],g=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],w=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],_=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function P(k,L,Z,j){var B,N=32===k.length?3:9;B=3===N?j?[30,-2,-2]:[0,32,2]:j?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var V,J=L[0],q=L[1];J^=(V=252645135&(J>>>4^q))<<4,J^=(V=65535&(J>>>16^(q^=V)))<<16,J^=V=858993459&((q^=V)>>>2^J),J^=V=16711935&((q^=V<<2)>>>8^J),J=(J^=(V=1431655765&(J>>>1^(q^=V<<8)))<<1)<<1|J>>>31,q=(q^=V)<<1|q>>>31;for(var re=0;re<N;re+=3){for(var W=B[re+1],G=B[re+2],X=B[re];X!=W;X+=G){var E=q^k[X],ne=(q>>>4|q<<28)^k[X+1];V=J,J=q,q=V^(T[E>>>24&63]|b[E>>>16&63]|f[E>>>8&63]|_[63&E]|m[ne>>>24&63]|C[ne>>>16&63]|g[ne>>>8&63]|w[63&ne])}V=J,J=q,q=V}q=q>>>1|q<<31,q^=V=1431655765&((J=J>>>1|J<<31)>>>1^q),q^=(V=16711935&(q>>>8^(J^=V<<1)))<<8,q^=(V=858993459&(q>>>2^(J^=V)))<<2,q^=V=65535&((J^=V)>>>16^q),q^=V=252645135&((J^=V<<16)>>>4^q),Z[0]=J^=V<<4,Z[1]=q}function a(k){var j,Z="DES-"+((k=k||{}).mode||"CBC").toUpperCase(),N=(j=k.decrypt?t.cipher.createDecipher(Z,k.key):t.cipher.createCipher(Z,k.key)).start;return j.start=function(B,V){var J=null;V instanceof t.util.ByteBuffer&&(J=V,V={}),(V=V||{}).output=J,V.iv=B,N.call(j,V)},j}},4187:(dt,Ce,p)=>{var t=p(8659);p(730),p(8365),p(8985),p(4747);var e=p(8877),m=e.publicKeyValidator,T=e.privateKeyValidator;if(typeof C>"u")var C=t.jsbn.BigInteger;var b=t.util.ByteBuffer,g=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},dt.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var f=t.ed25519;function w(Nt){var Mt=Nt.message;if(Mt instanceof Uint8Array||Mt instanceof g)return Mt;var Y=Nt.encoding;if(void 0===Mt){if(!Nt.md)throw new TypeError('"options.message" or "options.md" not specified.');Mt=Nt.md.digest().getBytes(),Y="binary"}if("string"==typeof Mt&&!Y)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof Mt){if(typeof Buffer<"u")return Buffer.from(Mt,Y);Mt=new b(Mt,Y)}else if(!(Mt instanceof b))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var Q=new g(Mt.length()),ce=0;ce<Q.length;++ce)Q[ce]=Mt.at(ce);return Q}f.constants={},f.constants.PUBLIC_KEY_BYTE_LENGTH=32,f.constants.PRIVATE_KEY_BYTE_LENGTH=64,f.constants.SEED_BYTE_LENGTH=32,f.constants.SIGN_BYTE_LENGTH=64,f.constants.HASH_BYTE_LENGTH=64,f.generateKeyPair=function(Nt){var Mt=(Nt=Nt||{}).seed;if(void 0===Mt)Mt=t.random.getBytesSync(f.constants.SEED_BYTE_LENGTH);else if("string"==typeof Mt){if(Mt.length!==f.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+f.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(Mt instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');Mt=w({message:Mt,encoding:"binary"});for(var Y=new g(f.constants.PUBLIC_KEY_BYTE_LENGTH),Q=new g(f.constants.PRIVATE_KEY_BYTE_LENGTH),ce=0;ce<32;++ce)Q[ce]=Mt[ce];return function B(Nt,Mt){var Q,Y=[lt(),lt(),lt(),lt()],ce=N(Mt,32);for(ce[0]&=248,ce[31]&=127,ce[31]|=64,qe(Y,ce),X(Nt,Y),Q=0;Q<32;++Q)Mt[Q+32]=Nt[Q]}(Y,Q),{publicKey:Y,privateKey:Q}},f.privateKeyFromAsn1=function(Nt){var Mt={},Y=[];if(!t.asn1.validate(Nt,T,Mt,Y)){var ce=new Error("Invalid Key.");throw ce.errors=Y,ce}var We=t.asn1.derToOid(Mt.privateKeyOid),Je=t.oids.EdDSA25519;if(We!==Je)throw new Error('Invalid OID "'+We+'"; OID must be "'+Je+'".');return{privateKeyBytes:w({message:t.asn1.fromDer(Mt.privateKey).value,encoding:"binary"})}},f.publicKeyFromAsn1=function(Nt){var Mt={},Y=[];if(!t.asn1.validate(Nt,m,Mt,Y)){var ce=new Error("Invalid Key.");throw ce.errors=Y,ce}var We=t.asn1.derToOid(Mt.publicKeyOid),Je=t.oids.EdDSA25519;if(We!==Je)throw new Error('Invalid OID "'+We+'"; OID must be "'+Je+'".');var Oe=Mt.ed25519PublicKey;if(Oe.length!==f.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return w({message:Oe,encoding:"binary"})},f.publicKeyFromPrivateKey=function(Nt){var Mt=w({message:(Nt=Nt||{}).privateKey,encoding:"binary"});if(Mt.length!==f.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+f.constants.PRIVATE_KEY_BYTE_LENGTH);for(var Y=new g(f.constants.PUBLIC_KEY_BYTE_LENGTH),Q=0;Q<Y.length;++Q)Y[Q]=Mt[32+Q];return Y},f.sign=function(Nt){var Mt=w(Nt=Nt||{}),Y=w({message:Nt.privateKey,encoding:"binary"});if(Y.length===f.constants.SEED_BYTE_LENGTH)Y=f.generateKeyPair({seed:Y}).privateKey;else if(Y.length!==f.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+f.constants.SEED_BYTE_LENGTH+" or "+f.constants.PRIVATE_KEY_BYTE_LENGTH);var ce=new g(f.constants.SIGN_BYTE_LENGTH+Mt.length);!function V(Nt,Mt,Y,Q){var ce,We,Je=new Float64Array(64),Oe=[lt(),lt(),lt(),lt()],i=N(Q,32);i[0]&=248,i[31]&=127,i[31]|=64;var we=Y+64;for(ce=0;ce<Y;++ce)Nt[64+ce]=Mt[ce];for(ce=0;ce<32;++ce)Nt[32+ce]=i[32+ce];var $e=N(Nt.subarray(32),Y+32);for(re($e),qe(Oe,$e),X(Nt,Oe),ce=32;ce<64;++ce)Nt[ce]=Q[ce];var Ye=N(Nt,Y+64);for(re(Ye),ce=32;ce<64;++ce)Je[ce]=0;for(ce=0;ce<32;++ce)Je[ce]=$e[ce];for(ce=0;ce<32;++ce)for(We=0;We<32;We++)Je[ce+We]+=Ye[ce]*i[We];q(Nt.subarray(32),Je)}(ce,Mt,Mt.length,Y);for(var We=new g(f.constants.SIGN_BYTE_LENGTH),Je=0;Je<We.length;++Je)We[Je]=ce[Je];return We},f.verify=function(Nt){var Mt=w(Nt=Nt||{});if(void 0===Nt.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var Y=w({message:Nt.signature,encoding:"binary"});if(Y.length!==f.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+f.constants.SIGN_BYTE_LENGTH);var Q=w({message:Nt.publicKey,encoding:"binary"});if(Q.length!==f.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+f.constants.PUBLIC_KEY_BYTE_LENGTH);var Je,ce=new g(f.constants.SIGN_BYTE_LENGTH+Mt.length),We=new g(f.constants.SIGN_BYTE_LENGTH+Mt.length);for(Je=0;Je<f.constants.SIGN_BYTE_LENGTH;++Je)ce[Je]=Y[Je];for(Je=0;Je<Mt.length;++Je)ce[Je+f.constants.SIGN_BYTE_LENGTH]=Mt[Je];return function J(Nt,Mt,Y,Q){var ce,Je=new g(32),Oe=[lt(),lt(),lt(),lt()],i=[lt(),lt(),lt(),lt()];if(Y<64||function ne(Nt,Mt){var Y=lt(),Q=lt(),ce=lt(),We=lt(),Je=lt(),Oe=lt(),i=lt();return Te(Nt[2],R),function K(Nt,Mt){var Y;for(Y=0;Y<16;++Y)Nt[Y]=Mt[2*Y]+(Mt[2*Y+1]<<8);Nt[15]&=32767}(Nt[1],Mt),Yt(ce,Nt[1]),un(We,ce,P),pt(ce,ce,Nt[2]),mt(We,Nt[2],We),Yt(Je,We),Yt(Oe,Je),un(i,Oe,Je),un(Y,i,ce),un(Y,Y,We),function le(Nt,Mt){var Q,Y=lt();for(Q=0;Q<16;++Q)Y[Q]=Mt[Q];for(Q=250;Q>=0;--Q)Yt(Y,Y),1!==Q&&un(Y,Y,Mt);for(Q=0;Q<16;++Q)Nt[Q]=Y[Q]}(Y,Y),un(Y,Y,ce),un(Y,Y,We),un(Y,Y,We),un(Nt[0],Y,We),Yt(Q,Nt[0]),un(Q,Q,We),me(Q,ce)&&un(Nt[0],Nt[0],j),Yt(Q,Nt[0]),un(Q,Q,We),me(Q,ce)?-1:(ze(Nt[0])===Mt[31]>>7&&pt(Nt[0],_,Nt[0]),un(Nt[3],Nt[0],Nt[1]),0)}(i,Q))return-1;for(ce=0;ce<Y;++ce)Nt[ce]=Mt[ce];for(ce=0;ce<32;++ce)Nt[ce+32]=Q[ce];var we=N(Nt,Y);if(re(we),Ee(Oe,i,we),qe(i,Mt.subarray(32)),W(Oe,i),X(Je,Oe),Y-=64,Se(Mt,0,Je,0)){for(ce=0;ce<Y;++ce)Nt[ce]=0;return-1}for(ce=0;ce<Y;++ce)Nt[ce]=Mt[ce+64];return Y}(We,ce,ce.length,Q)>=0};var _=lt(),R=lt([1]),P=lt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),a=lt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=lt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),L=lt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Z=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),j=lt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function N(Nt,Mt){var Y=t.md.sha512.create(),Q=new b(Nt);Y.update(Q.getBytes(Mt),"binary");var ce=Y.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(ce,"binary");for(var We=new g(f.constants.HASH_BYTE_LENGTH),Je=0;Je<64;++Je)We[Je]=ce.charCodeAt(Je);return We}function q(Nt,Mt){var Y,Q,ce,We;for(Q=63;Q>=32;--Q){for(Y=0,ce=Q-32,We=Q-12;ce<We;++ce)Mt[ce]+=Y-16*Mt[Q]*Z[ce-(Q-32)],Mt[ce]-=256*(Y=Mt[ce]+128>>8);Mt[ce]+=Y,Mt[Q]=0}for(Y=0,ce=0;ce<32;++ce)Mt[ce]+=Y-(Mt[31]>>4)*Z[ce],Y=Mt[ce]>>8,Mt[ce]&=255;for(ce=0;ce<32;++ce)Mt[ce]-=Y*Z[ce];for(Q=0;Q<32;++Q)Mt[Q+1]+=Mt[Q]>>8,Nt[Q]=255&Mt[Q]}function re(Nt){for(var Mt=new Float64Array(64),Y=0;Y<64;++Y)Mt[Y]=Nt[Y],Nt[Y]=0;q(Nt,Mt)}function W(Nt,Mt){var Y=lt(),Q=lt(),ce=lt(),We=lt(),Je=lt(),Oe=lt(),i=lt(),we=lt(),$e=lt();pt(Y,Nt[1],Nt[0]),pt($e,Mt[1],Mt[0]),un(Y,Y,$e),mt(Q,Nt[0],Nt[1]),mt($e,Mt[0],Mt[1]),un(Q,Q,$e),un(ce,Nt[3],Mt[3]),un(ce,ce,a),un(We,Nt[2],Mt[2]),mt(We,We,We),pt(Je,Q,Y),pt(Oe,We,ce),mt(i,We,ce),mt(we,Q,Y),un(Nt[0],Je,Oe),un(Nt[1],we,i),un(Nt[2],i,Oe),un(Nt[3],Je,we)}function G(Nt,Mt,Y){for(var Q=0;Q<4;++Q)wt(Nt[Q],Mt[Q],Y)}function X(Nt,Mt){var Y=lt(),Q=lt(),ce=lt();(function nt(Nt,Mt){var Q,Y=lt();for(Q=0;Q<16;++Q)Y[Q]=Mt[Q];for(Q=253;Q>=0;--Q)Yt(Y,Y),2!==Q&&4!==Q&&un(Y,Y,Mt);for(Q=0;Q<16;++Q)Nt[Q]=Y[Q]})(ce,Mt[2]),un(Y,Mt[0],ce),un(Q,Mt[1],ce),E(Nt,Q),Nt[31]^=ze(Y)<<7}function E(Nt,Mt){var Y,Q,ce,We=lt(),Je=lt();for(Y=0;Y<16;++Y)Je[Y]=Mt[Y];for(at(Je),at(Je),at(Je),Q=0;Q<2;++Q){for(We[0]=Je[0]-65517,Y=1;Y<15;++Y)We[Y]=Je[Y]-65535-(We[Y-1]>>16&1),We[Y-1]&=65535;We[15]=Je[15]-32767-(We[14]>>16&1),ce=We[15]>>16&1,We[14]&=65535,wt(Je,We,1-ce)}for(Y=0;Y<16;Y++)Nt[2*Y]=255&Je[Y],Nt[2*Y+1]=Je[Y]>>8}function me(Nt,Mt){var Y=new g(32),Q=new g(32);return E(Y,Nt),E(Q,Mt),Se(Y,0,Q,0)}function Se(Nt,Mt,Y,Q){return function ye(Nt,Mt,Y,Q,ce){var We,Je=0;for(We=0;We<ce;++We)Je|=Nt[Mt+We]^Y[Q+We];return(1&Je-1>>>8)-1}(Nt,Mt,Y,Q,32)}function ze(Nt){var Mt=new g(32);return E(Mt,Nt),1&Mt[0]}function Ee(Nt,Mt,Y){var Q,ce;for(Te(Nt[0],_),Te(Nt[1],R),Te(Nt[2],R),Te(Nt[3],_),ce=255;ce>=0;--ce)G(Nt,Mt,Q=Y[ce/8|0]>>(7&ce)&1),W(Mt,Nt),W(Nt,Nt),G(Nt,Mt,Q)}function qe(Nt,Mt){var Y=[lt(),lt(),lt(),lt()];Te(Y[0],k),Te(Y[1],L),Te(Y[2],R),un(Y[3],k,L),Ee(Nt,Y,Mt)}function Te(Nt,Mt){var Y;for(Y=0;Y<16;Y++)Nt[Y]=0|Mt[Y]}function at(Nt){var Mt,Y,Q=1;for(Mt=0;Mt<16;++Mt)Y=Nt[Mt]+Q+65535,Q=Math.floor(Y/65536),Nt[Mt]=Y-65536*Q;Nt[0]+=Q-1+37*(Q-1)}function wt(Nt,Mt,Y){for(var Q,ce=~(Y-1),We=0;We<16;++We)Nt[We]^=Q=ce&(Nt[We]^Mt[We]),Mt[We]^=Q}function lt(Nt){var Mt,Y=new Float64Array(16);if(Nt)for(Mt=0;Mt<Nt.length;++Mt)Y[Mt]=Nt[Mt];return Y}function mt(Nt,Mt,Y){for(var Q=0;Q<16;++Q)Nt[Q]=Mt[Q]+Y[Q]}function pt(Nt,Mt,Y){for(var Q=0;Q<16;++Q)Nt[Q]=Mt[Q]-Y[Q]}function Yt(Nt,Mt){un(Nt,Mt,Mt)}function un(Nt,Mt,Y){var Q,ce,We=0,Je=0,Oe=0,i=0,we=0,$e=0,Ye=0,Xe=0,Fe=0,Tt=0,vt=0,Ge=0,de=0,ee=0,U=0,te=0,Re=0,ot=0,ut=0,Dt=0,Qt=0,mn=0,nn=0,_n=0,sn=0,gt=0,dn=0,It=0,Xt=0,fn=0,An=0,kn=Y[0],Gn=Y[1],ti=Y[2],ii=Y[3],$t=Y[4],Qn=Y[5],Nn=Y[6],bt=Y[7],_t=Y[8],Ot=Y[9],Ze=Y[10],Ke=Y[11],it=Y[12],yt=Y[13],Jt=Y[14],on=Y[15];We+=(Q=Mt[0])*kn,Je+=Q*Gn,Oe+=Q*ti,i+=Q*ii,we+=Q*$t,$e+=Q*Qn,Ye+=Q*Nn,Xe+=Q*bt,Fe+=Q*_t,Tt+=Q*Ot,vt+=Q*Ze,Ge+=Q*Ke,de+=Q*it,ee+=Q*yt,U+=Q*Jt,te+=Q*on,Je+=(Q=Mt[1])*kn,Oe+=Q*Gn,i+=Q*ti,we+=Q*ii,$e+=Q*$t,Ye+=Q*Qn,Xe+=Q*Nn,Fe+=Q*bt,Tt+=Q*_t,vt+=Q*Ot,Ge+=Q*Ze,de+=Q*Ke,ee+=Q*it,U+=Q*yt,te+=Q*Jt,Re+=Q*on,Oe+=(Q=Mt[2])*kn,i+=Q*Gn,we+=Q*ti,$e+=Q*ii,Ye+=Q*$t,Xe+=Q*Qn,Fe+=Q*Nn,Tt+=Q*bt,vt+=Q*_t,Ge+=Q*Ot,de+=Q*Ze,ee+=Q*Ke,U+=Q*it,te+=Q*yt,Re+=Q*Jt,ot+=Q*on,i+=(Q=Mt[3])*kn,we+=Q*Gn,$e+=Q*ti,Ye+=Q*ii,Xe+=Q*$t,Fe+=Q*Qn,Tt+=Q*Nn,vt+=Q*bt,Ge+=Q*_t,de+=Q*Ot,ee+=Q*Ze,U+=Q*Ke,te+=Q*it,Re+=Q*yt,ot+=Q*Jt,ut+=Q*on,we+=(Q=Mt[4])*kn,$e+=Q*Gn,Ye+=Q*ti,Xe+=Q*ii,Fe+=Q*$t,Tt+=Q*Qn,vt+=Q*Nn,Ge+=Q*bt,de+=Q*_t,ee+=Q*Ot,U+=Q*Ze,te+=Q*Ke,Re+=Q*it,ot+=Q*yt,ut+=Q*Jt,Dt+=Q*on,$e+=(Q=Mt[5])*kn,Ye+=Q*Gn,Xe+=Q*ti,Fe+=Q*ii,Tt+=Q*$t,vt+=Q*Qn,Ge+=Q*Nn,de+=Q*bt,ee+=Q*_t,U+=Q*Ot,te+=Q*Ze,Re+=Q*Ke,ot+=Q*it,ut+=Q*yt,Dt+=Q*Jt,Qt+=Q*on,Ye+=(Q=Mt[6])*kn,Xe+=Q*Gn,Fe+=Q*ti,Tt+=Q*ii,vt+=Q*$t,Ge+=Q*Qn,de+=Q*Nn,ee+=Q*bt,U+=Q*_t,te+=Q*Ot,Re+=Q*Ze,ot+=Q*Ke,ut+=Q*it,Dt+=Q*yt,Qt+=Q*Jt,mn+=Q*on,Xe+=(Q=Mt[7])*kn,Fe+=Q*Gn,Tt+=Q*ti,vt+=Q*ii,Ge+=Q*$t,de+=Q*Qn,ee+=Q*Nn,U+=Q*bt,te+=Q*_t,Re+=Q*Ot,ot+=Q*Ze,ut+=Q*Ke,Dt+=Q*it,Qt+=Q*yt,mn+=Q*Jt,nn+=Q*on,Fe+=(Q=Mt[8])*kn,Tt+=Q*Gn,vt+=Q*ti,Ge+=Q*ii,de+=Q*$t,ee+=Q*Qn,U+=Q*Nn,te+=Q*bt,Re+=Q*_t,ot+=Q*Ot,ut+=Q*Ze,Dt+=Q*Ke,Qt+=Q*it,mn+=Q*yt,nn+=Q*Jt,_n+=Q*on,Tt+=(Q=Mt[9])*kn,vt+=Q*Gn,Ge+=Q*ti,de+=Q*ii,ee+=Q*$t,U+=Q*Qn,te+=Q*Nn,Re+=Q*bt,ot+=Q*_t,ut+=Q*Ot,Dt+=Q*Ze,Qt+=Q*Ke,mn+=Q*it,nn+=Q*yt,_n+=Q*Jt,sn+=Q*on,vt+=(Q=Mt[10])*kn,Ge+=Q*Gn,de+=Q*ti,ee+=Q*ii,U+=Q*$t,te+=Q*Qn,Re+=Q*Nn,ot+=Q*bt,ut+=Q*_t,Dt+=Q*Ot,Qt+=Q*Ze,mn+=Q*Ke,nn+=Q*it,_n+=Q*yt,sn+=Q*Jt,gt+=Q*on,Ge+=(Q=Mt[11])*kn,de+=Q*Gn,ee+=Q*ti,U+=Q*ii,te+=Q*$t,Re+=Q*Qn,ot+=Q*Nn,ut+=Q*bt,Dt+=Q*_t,Qt+=Q*Ot,mn+=Q*Ze,nn+=Q*Ke,_n+=Q*it,sn+=Q*yt,gt+=Q*Jt,dn+=Q*on,de+=(Q=Mt[12])*kn,ee+=Q*Gn,U+=Q*ti,te+=Q*ii,Re+=Q*$t,ot+=Q*Qn,ut+=Q*Nn,Dt+=Q*bt,Qt+=Q*_t,mn+=Q*Ot,nn+=Q*Ze,_n+=Q*Ke,sn+=Q*it,gt+=Q*yt,dn+=Q*Jt,It+=Q*on,ee+=(Q=Mt[13])*kn,U+=Q*Gn,te+=Q*ti,Re+=Q*ii,ot+=Q*$t,ut+=Q*Qn,Dt+=Q*Nn,Qt+=Q*bt,mn+=Q*_t,nn+=Q*Ot,_n+=Q*Ze,sn+=Q*Ke,gt+=Q*it,dn+=Q*yt,It+=Q*Jt,Xt+=Q*on,U+=(Q=Mt[14])*kn,te+=Q*Gn,Re+=Q*ti,ot+=Q*ii,ut+=Q*$t,Dt+=Q*Qn,Qt+=Q*Nn,mn+=Q*bt,nn+=Q*_t,_n+=Q*Ot,sn+=Q*Ze,gt+=Q*Ke,dn+=Q*it,It+=Q*yt,Xt+=Q*Jt,fn+=Q*on,te+=(Q=Mt[15])*kn,Je+=38*(ot+=Q*ti),Oe+=38*(ut+=Q*ii),i+=38*(Dt+=Q*$t),we+=38*(Qt+=Q*Qn),$e+=38*(mn+=Q*Nn),Ye+=38*(nn+=Q*bt),Xe+=38*(_n+=Q*_t),Fe+=38*(sn+=Q*Ot),Tt+=38*(gt+=Q*Ze),vt+=38*(dn+=Q*Ke),Ge+=38*(It+=Q*it),de+=38*(Xt+=Q*yt),ee+=38*(fn+=Q*Jt),U+=38*(An+=Q*on),We=(Q=(We+=38*(Re+=Q*Gn))+(ce=1)+65535)-65536*(ce=Math.floor(Q/65536)),Je=(Q=Je+ce+65535)-65536*(ce=Math.floor(Q/65536)),Oe=(Q=Oe+ce+65535)-65536*(ce=Math.floor(Q/65536)),i=(Q=i+ce+65535)-65536*(ce=Math.floor(Q/65536)),we=(Q=we+ce+65535)-65536*(ce=Math.floor(Q/65536)),$e=(Q=$e+ce+65535)-65536*(ce=Math.floor(Q/65536)),Ye=(Q=Ye+ce+65535)-65536*(ce=Math.floor(Q/65536)),Xe=(Q=Xe+ce+65535)-65536*(ce=Math.floor(Q/65536)),Fe=(Q=Fe+ce+65535)-65536*(ce=Math.floor(Q/65536)),Tt=(Q=Tt+ce+65535)-65536*(ce=Math.floor(Q/65536)),vt=(Q=vt+ce+65535)-65536*(ce=Math.floor(Q/65536)),Ge=(Q=Ge+ce+65535)-65536*(ce=Math.floor(Q/65536)),de=(Q=de+ce+65535)-65536*(ce=Math.floor(Q/65536)),ee=(Q=ee+ce+65535)-65536*(ce=Math.floor(Q/65536)),U=(Q=U+ce+65535)-65536*(ce=Math.floor(Q/65536)),te=(Q=te+ce+65535)-65536*(ce=Math.floor(Q/65536)),We=(Q=(We+=ce-1+37*(ce-1))+(ce=1)+65535)-65536*(ce=Math.floor(Q/65536)),Je=(Q=Je+ce+65535)-65536*(ce=Math.floor(Q/65536)),Oe=(Q=Oe+ce+65535)-65536*(ce=Math.floor(Q/65536)),i=(Q=i+ce+65535)-65536*(ce=Math.floor(Q/65536)),we=(Q=we+ce+65535)-65536*(ce=Math.floor(Q/65536)),$e=(Q=$e+ce+65535)-65536*(ce=Math.floor(Q/65536)),Ye=(Q=Ye+ce+65535)-65536*(ce=Math.floor(Q/65536)),Xe=(Q=Xe+ce+65535)-65536*(ce=Math.floor(Q/65536)),Fe=(Q=Fe+ce+65535)-65536*(ce=Math.floor(Q/65536)),Tt=(Q=Tt+ce+65535)-65536*(ce=Math.floor(Q/65536)),vt=(Q=vt+ce+65535)-65536*(ce=Math.floor(Q/65536)),Ge=(Q=Ge+ce+65535)-65536*(ce=Math.floor(Q/65536)),de=(Q=de+ce+65535)-65536*(ce=Math.floor(Q/65536)),ee=(Q=ee+ce+65535)-65536*(ce=Math.floor(Q/65536)),U=(Q=U+ce+65535)-65536*(ce=Math.floor(Q/65536)),te=(Q=te+ce+65535)-65536*(ce=Math.floor(Q/65536)),Nt[0]=We+=ce-1+37*(ce-1),Nt[1]=Je,Nt[2]=Oe,Nt[3]=i,Nt[4]=we,Nt[5]=$e,Nt[6]=Ye,Nt[7]=Xe,Nt[8]=Fe,Nt[9]=Tt,Nt[10]=vt,Nt[11]=Ge,Nt[12]=de,Nt[13]=ee,Nt[14]=U,Nt[15]=te}},8659:dt=>{dt.exports={options:{usePureJavaScript:!1}}},9032:(dt,Ce,p)=>{var t=p(8659);p(979),p(4747),(dt.exports=t.hmac=t.hmac||{}).create=function(){var m=null,T=null,C=null,b=null,g={start:function(f,w){if(null!==f)if("string"==typeof f){if(!((f=f.toLowerCase())in t.md.algorithms))throw new Error('Unknown hash algorithm "'+f+'"');T=t.md.algorithms[f].create()}else T=f;if(null===w)w=m;else{if("string"==typeof w)w=t.util.createBuffer(w);else if(t.util.isArray(w)){var _=w;w=t.util.createBuffer();for(var R=0;R<_.length;++R)w.putByte(_[R])}var P=w.length();for(P>T.blockLength&&(T.start(),T.update(w.bytes()),w=T.digest()),C=t.util.createBuffer(),b=t.util.createBuffer(),P=w.length(),R=0;R<P;++R)_=w.at(R),C.putByte(54^_),b.putByte(92^_);if(P<T.blockLength)for(_=T.blockLength-P,R=0;R<_;++R)C.putByte(54),b.putByte(92);m=w,C=C.bytes(),b=b.bytes()}T.start(),T.update(C)},update:function(f){T.update(f)},getMac:function(){var f=T.digest().bytes();return T.start(),T.update(b),T.update(f),T.digest()}};return g.digest=g.getMac,g}},592:(dt,Ce,p)=>{dt.exports=p(8659),p(1298),p(6683),p(7791),p(3311),p(279),p(4187),p(9032),p(7196),p(6113),p(4752),p(8449),p(7949),p(8604),p(7246),p(562),p(422),p(1965),p(9709),p(4473),p(7256),p(8365),p(209),p(1015),p(2266),p(4747)},730:(dt,Ce,p)=>{var e,t=p(8659);function C(Be,et,ft){this.data=[],null!=Be&&("number"==typeof Be?this.fromNumber(Be,et,ft):this.fromString(Be,null==et&&"string"!=typeof Be?256:et))}function b(){return new C(null)}function w(Be,et,ft,Lt,pn,hn){for(var In=16383&et,Rn=et>>14;--hn>=0;){var xi=16383&this.data[Be],fi=this.data[Be++]>>14,qn=Rn*xi+fi*In;pn=((xi=In*xi+((16383&qn)<<14)+ft.data[Lt]+pn)>>28)+(qn>>14)+Rn*fi,ft.data[Lt++]=268435455&xi}return pn}dt.exports=t.jsbn=t.jsbn||{},t.jsbn.BigInteger=C,typeof navigator>"u"?(C.prototype.am=w,e=28):"Microsoft Internet Explorer"==navigator.appName?(C.prototype.am=function f(Be,et,ft,Lt,pn,hn){for(var In=32767&et,Rn=et>>15;--hn>=0;){var xi=32767&this.data[Be],fi=this.data[Be++]>>15,qn=Rn*xi+fi*In;pn=((xi=In*xi+((32767&qn)<<15)+ft.data[Lt]+(1073741823&pn))>>>30)+(qn>>>15)+Rn*fi+(pn>>>30),ft.data[Lt++]=1073741823&xi}return pn},e=30):"Netscape"!=navigator.appName?(C.prototype.am=function g(Be,et,ft,Lt,pn,hn){for(;--hn>=0;){var In=et*this.data[Be++]+ft.data[Lt]+pn;pn=Math.floor(In/67108864),ft.data[Lt++]=67108863&In}return pn},e=26):(C.prototype.am=w,e=28),C.prototype.DB=e,C.prototype.DM=(1<<e)-1,C.prototype.DV=1<<e,C.prototype.FV=Math.pow(2,52),C.prototype.F1=52-e,C.prototype.F2=2*e-52;var a,k,P=new Array;for(a="0".charCodeAt(0),k=0;k<=9;++k)P[a++]=k;for(a="a".charCodeAt(0),k=10;k<36;++k)P[a++]=k;for(a="A".charCodeAt(0),k=10;k<36;++k)P[a++]=k;function L(Be){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(Be)}function Z(Be,et){return P[Be.charCodeAt(et)]??-1}function B(Be){var et=b();return et.fromInt(Be),et}function X(Be){var ft,et=1;return 0!=(ft=Be>>>16)&&(Be=ft,et+=16),0!=(ft=Be>>8)&&(Be=ft,et+=8),0!=(ft=Be>>4)&&(Be=ft,et+=4),0!=(ft=Be>>2)&&(Be=ft,et+=2),0!=(ft=Be>>1)&&(Be=ft,et+=1),et}function Te(Be){this.m=Be}function Yt(Be){this.m=Be,this.mp=Be.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<Be.DB-15)-1,this.mt2=2*Be.t}function Re(Be,et){return Be&et}function ut(Be,et){return Be|et}function Qt(Be,et){return Be^et}function nn(Be,et){return Be&~et}function It(Be){if(0==Be)return-1;var et=0;return 0==(65535&Be)&&(Be>>=16,et+=16),0==(255&Be)&&(Be>>=8,et+=8),0==(15&Be)&&(Be>>=4,et+=4),0==(3&Be)&&(Be>>=2,et+=2),0==(1&Be)&&++et,et}function fn(Be){for(var et=0;0!=Be;)Be&=Be-1,++et;return et}function Jt(){}function on(Be){return Be}function Zn(Be){this.r2=b(),this.q3=b(),C.ONE.dlShiftTo(2*Be.t,this.r2),this.mu=this.r2.divide(Be),this.m=Be}Te.prototype.convert=function nt(Be){return Be.s<0||Be.compareTo(this.m)>=0?Be.mod(this.m):Be},Te.prototype.revert=function at(Be){return Be},Te.prototype.reduce=function wt(Be){Be.divRemTo(this.m,null,Be)},Te.prototype.mulTo=function lt(Be,et,ft){Be.multiplyTo(et,ft),this.reduce(ft)},Te.prototype.sqrTo=function mt(Be,et){Be.squareTo(et),this.reduce(et)},Yt.prototype.convert=function un(Be){var et=b();return Be.abs().dlShiftTo(this.m.t,et),et.divRemTo(this.m,null,et),Be.s<0&&et.compareTo(C.ZERO)>0&&this.m.subTo(et,et),et},Yt.prototype.revert=function Nt(Be){var et=b();return Be.copyTo(et),this.reduce(et),et},Yt.prototype.reduce=function Mt(Be){for(;Be.t<=this.mt2;)Be.data[Be.t++]=0;for(var et=0;et<this.m.t;++et){var ft=32767&Be.data[et],Lt=ft*this.mpl+((ft*this.mph+(Be.data[et]>>15)*this.mpl&this.um)<<15)&Be.DM;for(Be.data[ft=et+this.m.t]+=this.m.am(0,Lt,Be,et,0,this.m.t);Be.data[ft]>=Be.DV;)Be.data[ft]-=Be.DV,Be.data[++ft]++}Be.clamp(),Be.drShiftTo(this.m.t,Be),Be.compareTo(this.m)>=0&&Be.subTo(this.m,Be)},Yt.prototype.mulTo=function Q(Be,et,ft){Be.multiplyTo(et,ft),this.reduce(ft)},Yt.prototype.sqrTo=function Y(Be,et){Be.squareTo(et),this.reduce(et)},C.prototype.copyTo=function j(Be){for(var et=this.t-1;et>=0;--et)Be.data[et]=this.data[et];Be.t=this.t,Be.s=this.s},C.prototype.fromInt=function N(Be){this.t=1,this.s=Be<0?-1:0,Be>0?this.data[0]=Be:Be<-1?this.data[0]=Be+this.DV:this.t=0},C.prototype.fromString=function V(Be,et){var ft;if(16==et)ft=4;else if(8==et)ft=3;else if(256==et)ft=8;else if(2==et)ft=1;else if(32==et)ft=5;else{if(4!=et)return void this.fromRadix(Be,et);ft=2}this.t=0,this.s=0;for(var Lt=Be.length,pn=!1,hn=0;--Lt>=0;){var In=8==ft?255&Be[Lt]:Z(Be,Lt);In<0?"-"==Be.charAt(Lt)&&(pn=!0):(pn=!1,0==hn?this.data[this.t++]=In:hn+ft>this.DB?(this.data[this.t-1]|=(In&(1<<this.DB-hn)-1)<<hn,this.data[this.t++]=In>>this.DB-hn):this.data[this.t-1]|=In<<hn,(hn+=ft)>=this.DB&&(hn-=this.DB))}8==ft&&0!=(128&Be[0])&&(this.s=-1,hn>0&&(this.data[this.t-1]|=(1<<this.DB-hn)-1<<hn)),this.clamp(),pn&&C.ZERO.subTo(this,this)},C.prototype.clamp=function J(){for(var Be=this.s&this.DM;this.t>0&&this.data[this.t-1]==Be;)--this.t},C.prototype.dlShiftTo=function ne(Be,et){var ft;for(ft=this.t-1;ft>=0;--ft)et.data[ft+Be]=this.data[ft];for(ft=Be-1;ft>=0;--ft)et.data[ft]=0;et.t=this.t+Be,et.s=this.s},C.prototype.drShiftTo=function K(Be,et){for(var ft=Be;ft<this.t;++ft)et.data[ft-Be]=this.data[ft];et.t=Math.max(this.t-Be,0),et.s=this.s},C.prototype.lShiftTo=function le(Be,et){var Rn,ft=Be%this.DB,Lt=this.DB-ft,pn=(1<<Lt)-1,hn=Math.floor(Be/this.DB),In=this.s<<ft&this.DM;for(Rn=this.t-1;Rn>=0;--Rn)et.data[Rn+hn+1]=this.data[Rn]>>Lt|In,In=(this.data[Rn]&pn)<<ft;for(Rn=hn-1;Rn>=0;--Rn)et.data[Rn]=0;et.data[hn]=In,et.t=this.t+hn+1,et.s=this.s,et.clamp()},C.prototype.rShiftTo=function me(Be,et){et.s=this.s;var ft=Math.floor(Be/this.DB);if(ft>=this.t)et.t=0;else{var Lt=Be%this.DB,pn=this.DB-Lt,hn=(1<<Lt)-1;et.data[0]=this.data[ft]>>Lt;for(var In=ft+1;In<this.t;++In)et.data[In-ft-1]|=(this.data[In]&hn)<<pn,et.data[In-ft]=this.data[In]>>Lt;Lt>0&&(et.data[this.t-ft-1]|=(this.s&hn)<<pn),et.t=this.t-ft,et.clamp()}},C.prototype.subTo=function Se(Be,et){for(var ft=0,Lt=0,pn=Math.min(Be.t,this.t);ft<pn;)Lt+=this.data[ft]-Be.data[ft],et.data[ft++]=Lt&this.DM,Lt>>=this.DB;if(Be.t<this.t){for(Lt-=Be.s;ft<this.t;)Lt+=this.data[ft],et.data[ft++]=Lt&this.DM,Lt>>=this.DB;Lt+=this.s}else{for(Lt+=this.s;ft<Be.t;)Lt-=Be.data[ft],et.data[ft++]=Lt&this.DM,Lt>>=this.DB;Lt-=Be.s}et.s=Lt<0?-1:0,Lt<-1?et.data[ft++]=this.DV+Lt:Lt>0&&(et.data[ft++]=Lt),et.t=ft,et.clamp()},C.prototype.multiplyTo=function ye(Be,et){var ft=this.abs(),Lt=Be.abs(),pn=ft.t;for(et.t=pn+Lt.t;--pn>=0;)et.data[pn]=0;for(pn=0;pn<Lt.t;++pn)et.data[pn+ft.t]=ft.am(0,Lt.data[pn],et,pn,0,ft.t);et.s=0,et.clamp(),this.s!=Be.s&&C.ZERO.subTo(et,et)},C.prototype.squareTo=function ze(Be){for(var et=this.abs(),ft=Be.t=2*et.t;--ft>=0;)Be.data[ft]=0;for(ft=0;ft<et.t-1;++ft){var Lt=et.am(ft,et.data[ft],Be,2*ft,0,1);(Be.data[ft+et.t]+=et.am(ft+1,2*et.data[ft],Be,2*ft+1,Lt,et.t-ft-1))>=et.DV&&(Be.data[ft+et.t]-=et.DV,Be.data[ft+et.t+1]=1)}Be.t>0&&(Be.data[Be.t-1]+=et.am(ft,et.data[ft],Be,2*ft,0,1)),Be.s=0,Be.clamp()},C.prototype.divRemTo=function Ee(Be,et,ft){var Lt=Be.abs();if(!(Lt.t<=0)){var pn=this.abs();if(pn.t<Lt.t)return et?.fromInt(0),void(null!=ft&&this.copyTo(ft));null==ft&&(ft=b());var hn=b(),In=this.s,Rn=Be.s,xi=this.DB-X(Lt.data[Lt.t-1]);xi>0?(Lt.lShiftTo(xi,hn),pn.lShiftTo(xi,ft)):(Lt.copyTo(hn),pn.copyTo(ft));var fi=hn.t,qn=hn.data[fi-1];if(0!=qn){var or=qn*(1<<this.F1)+(fi>1?hn.data[fi-2]>>this.F2:0),Yi=this.FV/or,hr=(1<<this.F1)/or,Ei=1<<this.F2,gr=ft.t,Mi=gr-fi,Hi=et??b();for(hn.dlShiftTo(Mi,Hi),ft.compareTo(Hi)>=0&&(ft.data[ft.t++]=1,ft.subTo(Hi,ft)),C.ONE.dlShiftTo(fi,Hi),Hi.subTo(hn,hn);hn.t<fi;)hn.data[hn.t++]=0;for(;--Mi>=0;){var Nr=ft.data[--gr]==qn?this.DM:Math.floor(ft.data[gr]*Yi+(ft.data[gr-1]+Ei)*hr);if((ft.data[gr]+=hn.am(0,Nr,ft,Mi,0,fi))<Nr)for(hn.dlShiftTo(Mi,Hi),ft.subTo(Hi,ft);ft.data[gr]<--Nr;)ft.subTo(Hi,ft)}null!=et&&(ft.drShiftTo(fi,et),In!=Rn&&C.ZERO.subTo(et,et)),ft.t=fi,ft.clamp(),xi>0&&ft.rShiftTo(xi,ft),In<0&&C.ZERO.subTo(ft,ft)}}},C.prototype.invDigit=function pt(){if(this.t<1)return 0;var Be=this.data[0];if(0==(1&Be))return 0;var et=3&Be;return(et=(et=(et=(et=et*(2-(15&Be)*et)&15)*(2-(255&Be)*et)&255)*(2-((65535&Be)*et&65535))&65535)*(2-Be*et%this.DV)%this.DV)>0?this.DV-et:-et},C.prototype.isEven=function ce(){return 0==(this.t>0?1&this.data[0]:this.s)},C.prototype.exp=function We(Be,et){if(Be>4294967295||Be<1)return C.ONE;var ft=b(),Lt=b(),pn=et.convert(this),hn=X(Be)-1;for(pn.copyTo(ft);--hn>=0;)if(et.sqrTo(ft,Lt),(Be&1<<hn)>0)et.mulTo(Lt,pn,ft);else{var In=ft;ft=Lt,Lt=In}return et.revert(ft)},C.prototype.toString=function q(Be){if(this.s<0)return"-"+this.negate().toString(Be);var et;if(16==Be)et=4;else if(8==Be)et=3;else if(2==Be)et=1;else if(32==Be)et=5;else{if(4!=Be)return this.toRadix(Be);et=2}var Lt,ft=(1<<et)-1,pn=!1,hn="",In=this.t,Rn=this.DB-In*this.DB%et;if(In-- >0)for(Rn<this.DB&&(Lt=this.data[In]>>Rn)>0&&(pn=!0,hn=L(Lt));In>=0;)Rn<et?(Lt=(this.data[In]&(1<<Rn)-1)<<et-Rn,Lt|=this.data[--In]>>(Rn+=this.DB-et)):(Lt=this.data[In]>>(Rn-=et)&ft,Rn<=0&&(Rn+=this.DB,--In)),Lt>0&&(pn=!0),pn&&(hn+=L(Lt));return pn?hn:"0"},C.prototype.negate=function re(){var Be=b();return C.ZERO.subTo(this,Be),Be},C.prototype.abs=function W(){return this.s<0?this.negate():this},C.prototype.compareTo=function G(Be){var et=this.s-Be.s;if(0!=et)return et;var ft=this.t;if(0!=(et=ft-Be.t))return this.s<0?-et:et;for(;--ft>=0;)if(0!=(et=this.data[ft]-Be.data[ft]))return et;return 0},C.prototype.bitLength=function E(){return this.t<=0?0:this.DB*(this.t-1)+X(this.data[this.t-1]^this.s&this.DM)},C.prototype.mod=function qe(Be){var et=b();return this.abs().divRemTo(Be,null,et),this.s<0&&et.compareTo(C.ZERO)>0&&Be.subTo(et,et),et},C.prototype.modPowInt=function Je(Be,et){var ft;return ft=Be<256||et.isEven()?new Te(et):new Yt(et),this.exp(Be,ft)},C.ZERO=B(0),C.ONE=B(1),Jt.prototype.convert=on,Jt.prototype.revert=on,Jt.prototype.mulTo=function Bt(Be,et,ft){Be.multiplyTo(et,ft)},Jt.prototype.sqrTo=function Mn(Be,et){Be.squareTo(et)},Zn.prototype.convert=function di(Be){if(Be.s<0||Be.t>2*this.m.t)return Be.mod(this.m);if(Be.compareTo(this.m)<0)return Be;var et=b();return Be.copyTo(et),this.reduce(et),et},Zn.prototype.revert=function Un(Be){return Be},Zn.prototype.reduce=function Ui(Be){for(Be.drShiftTo(this.m.t-1,this.r2),Be.t>this.m.t+1&&(Be.t=this.m.t+1,Be.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);Be.compareTo(this.r2)<0;)Be.dAddOffset(1,this.m.t+1);for(Be.subTo(this.r2,Be);Be.compareTo(this.m)>=0;)Be.subTo(this.m,Be)},Zn.prototype.mulTo=function pi(Be,et,ft){Be.multiplyTo(et,ft),this.reduce(ft)},Zn.prototype.sqrTo=function bi(Be,et){Be.squareTo(et),this.reduce(et)};var kt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],zt=(1<<26)/kt[kt.length-1];C.prototype.chunkSize=function Ye(Be){return Math.floor(Math.LN2*this.DB/Math.log(Be))},C.prototype.toRadix=function Fe(Be){if(null==Be&&(Be=10),0==this.signum()||Be<2||Be>36)return"0";var et=this.chunkSize(Be),ft=Math.pow(Be,et),Lt=B(ft),pn=b(),hn=b(),In="";for(this.divRemTo(Lt,pn,hn);pn.signum()>0;)In=(ft+hn.intValue()).toString(Be).substr(1)+In,pn.divRemTo(Lt,pn,hn);return hn.intValue().toString(Be)+In},C.prototype.fromRadix=function Tt(Be,et){this.fromInt(0),null==et&&(et=10);for(var ft=this.chunkSize(et),Lt=Math.pow(et,ft),pn=!1,hn=0,In=0,Rn=0;Rn<Be.length;++Rn){var xi=Z(Be,Rn);xi<0?"-"==Be.charAt(Rn)&&0==this.signum()&&(pn=!0):(In=et*In+xi,++hn>=ft&&(this.dMultiply(Lt),this.dAddOffset(In,0),hn=0,In=0))}hn>0&&(this.dMultiply(Math.pow(et,hn)),this.dAddOffset(In,0)),pn&&C.ZERO.subTo(this,this)},C.prototype.fromNumber=function vt(Be,et,ft){if("number"==typeof et)if(Be<2)this.fromInt(1);else for(this.fromNumber(Be,ft),this.testBit(Be-1)||this.bitwiseTo(C.ONE.shiftLeft(Be-1),ut,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(et);)this.dAddOffset(2,0),this.bitLength()>Be&&this.subTo(C.ONE.shiftLeft(Be-1),this);else{var Lt=new Array,pn=7&Be;Lt.length=1+(Be>>3),et.nextBytes(Lt),pn>0?Lt[0]&=(1<<pn)-1:Lt[0]=0,this.fromString(Lt,256)}},C.prototype.bitwiseTo=function te(Be,et,ft){var Lt,pn,hn=Math.min(Be.t,this.t);for(Lt=0;Lt<hn;++Lt)ft.data[Lt]=et(this.data[Lt],Be.data[Lt]);if(Be.t<this.t){for(pn=Be.s&this.DM,Lt=hn;Lt<this.t;++Lt)ft.data[Lt]=et(this.data[Lt],pn);ft.t=this.t}else{for(pn=this.s&this.DM,Lt=hn;Lt<Be.t;++Lt)ft.data[Lt]=et(pn,Be.data[Lt]);ft.t=Be.t}ft.s=et(this.s,Be.s),ft.clamp()},C.prototype.changeBit=function Gn(Be,et){var ft=C.ONE.shiftLeft(Be);return this.bitwiseTo(ft,et,ft),ft},C.prototype.addTo=function Qn(Be,et){for(var ft=0,Lt=0,pn=Math.min(Be.t,this.t);ft<pn;)Lt+=this.data[ft]+Be.data[ft],et.data[ft++]=Lt&this.DM,Lt>>=this.DB;if(Be.t<this.t){for(Lt+=Be.s;ft<this.t;)Lt+=this.data[ft],et.data[ft++]=Lt&this.DM,Lt>>=this.DB;Lt+=this.s}else{for(Lt+=this.s;ft<Be.t;)Lt+=Be.data[ft],et.data[ft++]=Lt&this.DM,Lt>>=this.DB;Lt+=Be.s}et.s=Lt<0?-1:0,Lt>0?et.data[ft++]=Lt:Lt<-1&&(et.data[ft++]=this.DV+Lt),et.t=ft,et.clamp()},C.prototype.dMultiply=function it(Be){this.data[this.t]=this.am(0,Be-1,this,0,0,this.t),++this.t,this.clamp()},C.prototype.dAddOffset=function yt(Be,et){if(0!=Be){for(;this.t<=et;)this.data[this.t++]=0;for(this.data[et]+=Be;this.data[et]>=this.DV;)this.data[et]-=this.DV,++et>=this.t&&(this.data[this.t++]=0),++this.data[et]}},C.prototype.multiplyLowerTo=function _i(Be,et,ft){var pn,Lt=Math.min(this.t+Be.t,et);for(ft.s=0,ft.t=Lt;Lt>0;)ft.data[--Lt]=0;for(pn=ft.t-this.t;Lt<pn;++Lt)ft.data[Lt+this.t]=this.am(0,Be.data[Lt],ft,Lt,0,this.t);for(pn=Math.min(Be.t,et);Lt<pn;++Lt)this.am(0,Be.data[Lt],ft,Lt,0,et-Lt);ft.clamp()},C.prototype.multiplyUpperTo=function Cn(Be,et,ft){--et;var Lt=ft.t=this.t+Be.t-et;for(ft.s=0;--Lt>=0;)ft.data[Lt]=0;for(Lt=Math.max(et-this.t,0);Lt<Be.t;++Lt)ft.data[this.t+Lt-et]=this.am(et-Lt,Be.data[Lt],ft,0,0,this.t+Lt-et);ft.clamp(),ft.drShiftTo(1,ft)},C.prototype.modInt=function Wt(Be){if(Be<=0)return 0;var et=this.DV%Be,ft=this.s<0?Be-1:0;if(this.t>0)if(0==et)ft=this.data[0]%Be;else for(var Lt=this.t-1;Lt>=0;--Lt)ft=(et*ft+this.data[Lt])%Be;return ft},C.prototype.millerRabin=function Ln(Be){var et=this.subtract(C.ONE),ft=et.getLowestSetBit();if(ft<=0)return!1;for(var hn,Lt=et.shiftRight(ft),pn=function zn(){return{nextBytes:function(Be){for(var et=0;et<Be.length;++et)Be[et]=Math.floor(256*Math.random())}}}(),In=0;In<Be;++In){do{hn=new C(this.bitLength(),pn)}while(hn.compareTo(C.ONE)<=0||hn.compareTo(et)>=0);var Rn=hn.modPow(Lt,this);if(0!=Rn.compareTo(C.ONE)&&0!=Rn.compareTo(et)){for(var xi=1;xi++<ft&&0!=Rn.compareTo(et);)if(0==(Rn=Rn.modPowInt(2,this)).compareTo(C.ONE))return!1;if(0!=Rn.compareTo(et))return!1}}return!0},C.prototype.clone=function Oe(){var Be=b();return this.copyTo(Be),Be},C.prototype.intValue=function i(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},C.prototype.byteValue=function we(){return 0==this.t?this.s:this.data[0]<<24>>24},C.prototype.shortValue=function $e(){return 0==this.t?this.s:this.data[0]<<16>>16},C.prototype.signum=function Xe(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},C.prototype.toByteArray=function Ge(){var Be=this.t,et=new Array;et[0]=this.s;var Lt,ft=this.DB-Be*this.DB%8,pn=0;if(Be-- >0)for(ft<this.DB&&(Lt=this.data[Be]>>ft)!=(this.s&this.DM)>>ft&&(et[pn++]=Lt|this.s<<this.DB-ft);Be>=0;)ft<8?(Lt=(this.data[Be]&(1<<ft)-1)<<8-ft,Lt|=this.data[--Be]>>(ft+=this.DB-8)):(Lt=this.data[Be]>>(ft-=8)&255,ft<=0&&(ft+=this.DB,--Be)),0!=(128&Lt)&&(Lt|=-256),0==pn&&(128&this.s)!=(128&Lt)&&++pn,(pn>0||Lt!=this.s)&&(et[pn++]=Lt);return et},C.prototype.equals=function de(Be){return 0==this.compareTo(Be)},C.prototype.min=function ee(Be){return this.compareTo(Be)<0?this:Be},C.prototype.max=function U(Be){return this.compareTo(Be)>0?this:Be},C.prototype.and=function ot(Be){var et=b();return this.bitwiseTo(Be,Re,et),et},C.prototype.or=function Dt(Be){var et=b();return this.bitwiseTo(Be,ut,et),et},C.prototype.xor=function mn(Be){var et=b();return this.bitwiseTo(Be,Qt,et),et},C.prototype.andNot=function _n(Be){var et=b();return this.bitwiseTo(Be,nn,et),et},C.prototype.not=function sn(){for(var Be=b(),et=0;et<this.t;++et)Be.data[et]=this.DM&~this.data[et];return Be.t=this.t,Be.s=~this.s,Be},C.prototype.shiftLeft=function gt(Be){var et=b();return Be<0?this.rShiftTo(-Be,et):this.lShiftTo(Be,et),et},C.prototype.shiftRight=function dn(Be){var et=b();return Be<0?this.lShiftTo(-Be,et):this.rShiftTo(Be,et),et},C.prototype.getLowestSetBit=function Xt(){for(var Be=0;Be<this.t;++Be)if(0!=this.data[Be])return Be*this.DB+It(this.data[Be]);return this.s<0?this.t*this.DB:-1},C.prototype.bitCount=function An(){for(var Be=0,et=this.s&this.DM,ft=0;ft<this.t;++ft)Be+=fn(this.data[ft]^et);return Be},C.prototype.testBit=function kn(Be){var et=Math.floor(Be/this.DB);return et>=this.t?0!=this.s:0!=(this.data[et]&1<<Be%this.DB)},C.prototype.setBit=function ti(Be){return this.changeBit(Be,ut)},C.prototype.clearBit=function ii(Be){return this.changeBit(Be,nn)},C.prototype.flipBit=function $t(Be){return this.changeBit(Be,Qt)},C.prototype.add=function Nn(Be){var et=b();return this.addTo(Be,et),et},C.prototype.subtract=function bt(Be){var et=b();return this.subTo(Be,et),et},C.prototype.multiply=function _t(Be){var et=b();return this.multiplyTo(Be,et),et},C.prototype.divide=function Ot(Be){var et=b();return this.divRemTo(Be,et,null),et},C.prototype.remainder=function Ze(Be){var et=b();return this.divRemTo(Be,null,et),et},C.prototype.divideAndRemainder=function Ke(Be){var et=b(),ft=b();return this.divRemTo(Be,et,ft),new Array(et,ft)},C.prototype.modPow=function ci(Be,et){var Lt,hn,ft=Be.bitLength(),pn=B(1);if(ft<=0)return pn;Lt=ft<18?1:ft<48?3:ft<144?4:ft<768?5:6,hn=ft<8?new Te(et):et.isEven()?new Zn(et):new Yt(et);var In=new Array,Rn=3,xi=Lt-1,fi=(1<<Lt)-1;if(In[1]=hn.convert(this),Lt>1){var qn=b();for(hn.sqrTo(In[1],qn);Rn<=fi;)In[Rn]=b(),hn.mulTo(qn,In[Rn-2],In[Rn]),Rn+=2}var Yi,gr,or=Be.t-1,hr=!0,Ei=b();for(ft=X(Be.data[or])-1;or>=0;){for(ft>=xi?Yi=Be.data[or]>>ft-xi&fi:(Yi=(Be.data[or]&(1<<ft+1)-1)<<xi-ft,or>0&&(Yi|=Be.data[or-1]>>this.DB+ft-xi)),Rn=Lt;0==(1&Yi);)Yi>>=1,--Rn;if((ft-=Rn)<0&&(ft+=this.DB,--or),hr)In[Yi].copyTo(pn),hr=!1;else{for(;Rn>1;)hn.sqrTo(pn,Ei),hn.sqrTo(Ei,pn),Rn-=2;Rn>0?hn.sqrTo(pn,Ei):(gr=pn,pn=Ei,Ei=gr),hn.mulTo(Ei,In[Yi],pn)}for(;or>=0&&0==(Be.data[or]&1<<ft);)hn.sqrTo(pn,Ei),gr=pn,pn=Ei,Ei=gr,--ft<0&&(ft=this.DB-1,--or)}return hn.revert(pn)},C.prototype.modInverse=function Pn(Be){var et=Be.isEven();if(this.isEven()&&et||0==Be.signum())return C.ZERO;for(var ft=Be.clone(),Lt=this.clone(),pn=B(1),hn=B(0),In=B(0),Rn=B(1);0!=ft.signum();){for(;ft.isEven();)ft.rShiftTo(1,ft),et?((!pn.isEven()||!hn.isEven())&&(pn.addTo(this,pn),hn.subTo(Be,hn)),pn.rShiftTo(1,pn)):hn.isEven()||hn.subTo(Be,hn),hn.rShiftTo(1,hn);for(;Lt.isEven();)Lt.rShiftTo(1,Lt),et?((!In.isEven()||!Rn.isEven())&&(In.addTo(this,In),Rn.subTo(Be,Rn)),In.rShiftTo(1,In)):Rn.isEven()||Rn.subTo(Be,Rn),Rn.rShiftTo(1,Rn);ft.compareTo(Lt)>=0?(ft.subTo(Lt,ft),et&&pn.subTo(In,pn),hn.subTo(Rn,hn)):(Lt.subTo(ft,Lt),et&&In.subTo(pn,In),Rn.subTo(hn,Rn))}return 0!=Lt.compareTo(C.ONE)?C.ZERO:Rn.compareTo(Be)>=0?Rn.subtract(Be):Rn.signum()<0?(Rn.addTo(Be,Rn),Rn.signum()<0?Rn.add(Be):Rn):Rn},C.prototype.pow=function Jn(Be){return this.exp(Be,new Jt)},C.prototype.gcd=function Fi(Be){var et=this.s<0?this.negate():this.clone(),ft=Be.s<0?Be.negate():Be.clone();if(et.compareTo(ft)<0){var Lt=et;et=ft,ft=Lt}var pn=et.getLowestSetBit(),hn=ft.getLowestSetBit();if(hn<0)return et;for(pn<hn&&(hn=pn),hn>0&&(et.rShiftTo(hn,et),ft.rShiftTo(hn,ft));et.signum()>0;)(pn=et.getLowestSetBit())>0&&et.rShiftTo(pn,et),(pn=ft.getLowestSetBit())>0&&ft.rShiftTo(pn,ft),et.compareTo(ft)>=0?(et.subTo(ft,et),et.rShiftTo(1,et)):(ft.subTo(et,ft),ft.rShiftTo(1,ft));return hn>0&&ft.lShiftTo(hn,ft),ft},C.prototype.isProbablePrime=function Sn(Be){var et,ft=this.abs();if(1==ft.t&&ft.data[0]<=kt[kt.length-1]){for(et=0;et<kt.length;++et)if(ft.data[0]==kt[et])return!0;return!1}if(ft.isEven())return!1;for(et=1;et<kt.length;){for(var Lt=kt[et],pn=et+1;pn<kt.length&&Lt<zt;)Lt*=kt[pn++];for(Lt=ft.modInt(Lt);et<pn;)if(Lt%kt[et++]==0)return!1}return ft.millerRabin(Be)}},7196:(dt,Ce,p)=>{var t=p(8659);p(4747),p(8365),p(730),dt.exports=t.kem=t.kem||{};var e=t.jsbn.BigInteger;function m(T,C,b,g){T.generate=function(f,w){for(var _=new t.util.ByteBuffer,R=Math.ceil(w/g)+b,P=new t.util.ByteBuffer,a=b;a<R;++a){P.putInt32(a),C.start(),C.update(f+P.getBytes());var k=C.digest();_.putBytes(k.getBytes(g))}return _.truncate(_.length()-w),_.getBytes()}}t.kem.rsa={},t.kem.rsa.create=function(T,C){var b=(C=C||{}).prng||t.random;return{encrypt:function(f,w){var R,_=Math.ceil(f.n.bitLength()/8);do{R=new e(t.util.bytesToHex(b.getBytesSync(_)),16).mod(f.n)}while(R.compareTo(e.ONE)<=0);var P=_-(R=t.util.hexToBytes(R.toString(16))).length;return P>0&&(R=t.util.fillString(String.fromCharCode(0),P)+R),{encapsulation:f.encrypt(R,"NONE"),key:T.generate(R,w)}},decrypt:function(f,w,_){var R=f.decrypt(w,"NONE");return T.generate(R,_)}}},t.kem.kdf1=function(T,C){m(this,T,0,C||T.digestLength)},t.kem.kdf2=function(T,C){m(this,T,1,C||T.digestLength)}},6113:(dt,Ce,p)=>{var t=p(8659);p(4747),dt.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},m=[],T=null;t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8;for(var C=0;C<t.log.levels.length;++C){var b=t.log.levels[C];e[b]={index:C,name:b.toUpperCase()}}t.log.logMessage=function(a){for(var k=e[a.level].index,L=0;L<m.length;++L){var Z=m[L];Z.flags&t.log.NO_LEVEL_CHECK?Z.f(a):k<=e[Z.level].index&&Z.f(Z,a)}},t.log.prepareStandard=function(a){"standard"in a||(a.standard=e[a.level].name+" ["+a.category+"] "+a.message)},t.log.prepareFull=function(a){if(!("full"in a)){var k=[a.message];k=k.concat([]),a.full=t.util.format.apply(this,k)}},t.log.prepareStandardFull=function(a){"standardFull"in a||(t.log.prepareStandard(a),a.standardFull=a.standard)};var g=["error","warning","info","debug","verbose"];for(C=0;C<g.length;++C)!function(k){t.log[k]=function(L,Z){var j=Array.prototype.slice.call(arguments).slice(2),N={timestamp:new Date,level:k,category:L,message:Z,arguments:j};t.log.logMessage(N)}}(g[C]);if(t.log.makeLogger=function(a){var k={flags:0,f:a};return t.log.setLevel(k,"none"),k},t.log.setLevel=function(a,k){var L=!1;if(a&&!(a.flags&t.log.LEVEL_LOCKED))for(var Z=0;Z<t.log.levels.length;++Z)if(k==t.log.levels[Z]){a.level=k,L=!0;break}return L},t.log.lock=function(a,k){typeof k>"u"||k?a.flags|=t.log.LEVEL_LOCKED:a.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(a){m.push(a)},typeof console<"u"&&"log"in console){var f;if(console.error&&console.warn&&console.info&&console.debug){var w={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},_=function(a,k){t.log.prepareStandard(k);var L=w[k.level],Z=[k.standard];Z=Z.concat(k.arguments.slice()),L.apply(console,Z)};f=t.log.makeLogger(_)}else _=function(k,L){t.log.prepareStandardFull(L),console.log(L.standardFull)},f=t.log.makeLogger(_);t.log.setLevel(f,"debug"),t.log.addLogger(f),T=f}else console={log:function(){}};if(null!==T&&typeof window<"u"&&window.location){var R=new URL(window.location.href).searchParams;R.has("console.level")&&t.log.setLevel(T,R.get("console.level").slice(-1)[0]),R.has("console.lock")&&"true"==R.get("console.lock").slice(-1)[0]&&t.log.lock(T)}t.log.consoleLogger=T},4752:(dt,Ce,p)=>{dt.exports=p(979),p(2687),p(7690),p(1594),p(8985)},979:(dt,Ce,p)=>{var t=p(8659);dt.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}},2687:(dt,Ce,p)=>{var t=p(8659);p(979),p(4747);var e=dt.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=e,e.create=function(){g||function f(){m=String.fromCharCode(128),m+=t.util.fillString(String.fromCharCode(0),64),T=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],C=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],b=new Array(64);for(var _=0;_<64;++_)b[_]=Math.floor(4294967296*Math.abs(Math.sin(_+1)));g=!0}();var _=null,R=t.util.createBuffer(),P=new Array(16),a={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var k=a.messageLengthSize/4,L=0;L<k;++L)a.fullMessageLength.push(0);return R=t.util.createBuffer(),_={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},a}};return a.start(),a.update=function(k,L){"utf8"===L&&(k=t.util.encodeUtf8(k));var Z=k.length;a.messageLength+=Z,Z=[Z/4294967296>>>0,Z>>>0];for(var j=a.fullMessageLength.length-1;j>=0;--j)a.fullMessageLength[j]+=Z[1],Z[1]=Z[0]+(a.fullMessageLength[j]/4294967296>>>0),a.fullMessageLength[j]=a.fullMessageLength[j]>>>0,Z[0]=Z[1]/4294967296>>>0;return R.putBytes(k),w(_,P,R),(R.read>2048||0===R.length())&&R.compact(),a},a.digest=function(){var k=t.util.createBuffer();k.putBytes(R.bytes()),k.putBytes(m.substr(0,a.blockLength-(a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1)));for(var j,N=0,B=a.fullMessageLength.length-1;B>=0;--B)N=(j=8*a.fullMessageLength[B]+N)/4294967296>>>0,k.putInt32Le(j>>>0);var V={h0:_.h0,h1:_.h1,h2:_.h2,h3:_.h3};w(V,P,k);var J=t.util.createBuffer();return J.putInt32Le(V.h0),J.putInt32Le(V.h1),J.putInt32Le(V.h2),J.putInt32Le(V.h3),J},a};var m=null,T=null,C=null,b=null,g=!1;function w(_,R,P){for(var a,k,L,Z,j,B,V,J=P.length();J>=64;){for(k=_.h0,L=_.h1,Z=_.h2,j=_.h3,V=0;V<16;++V)R[V]=P.getInt32Le(),a=k+(j^L&(Z^j))+b[V]+R[V],k=j,j=Z,Z=L,L+=a<<(B=C[V])|a>>>32-B;for(;V<32;++V)a=k+(Z^j&(L^Z))+b[V]+R[T[V]],k=j,j=Z,Z=L,L+=a<<(B=C[V])|a>>>32-B;for(;V<48;++V)a=k+(L^Z^j)+b[V]+R[T[V]],k=j,j=Z,Z=L,L+=a<<(B=C[V])|a>>>32-B;for(;V<64;++V)a=k+(Z^(L|~j))+b[V]+R[T[V]],k=j,j=Z,Z=L,L+=a<<(B=C[V])|a>>>32-B;_.h0=_.h0+k|0,_.h1=_.h1+L|0,_.h2=_.h2+Z|0,_.h3=_.h3+j|0,J-=64}}},9386:(dt,Ce,p)=>{var t=p(8659);p(8449),dt.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1},8449:(dt,Ce,p)=>{var t=p(8659);p(4747),t.mgf=t.mgf||{},(dt.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{}).create=function(m){return{generate:function(C,b){for(var g=new t.util.ByteBuffer,f=Math.ceil(b/m.digestLength),w=0;w<f;w++){var _=new t.util.ByteBuffer;_.putInt32(w),m.start(),m.update(C+_.getBytes()),g.putBuffer(m.digest())}return g.truncate(g.length()-b),g.getBytes()}}}},6078:(dt,Ce,p)=>{var t=p(8659);t.pki=t.pki||{};var e=dt.exports=t.pki.oids=t.oids=t.oids||{};function m(C,b){e[C]=b,e[b]=C}function T(C,b){e[C]=b}m("1.2.840.113549.1.1.1","rsaEncryption"),m("1.2.840.113549.1.1.4","md5WithRSAEncryption"),m("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),m("1.2.840.113549.1.1.7","RSAES-OAEP"),m("1.2.840.113549.1.1.8","mgf1"),m("1.2.840.113549.1.1.9","pSpecified"),m("1.2.840.113549.1.1.10","RSASSA-PSS"),m("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),m("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),m("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),m("1.3.101.112","EdDSA25519"),m("1.2.840.10040.4.3","dsa-with-sha1"),m("1.3.14.3.2.7","desCBC"),m("1.3.14.3.2.26","sha1"),m("1.3.14.3.2.29","sha1WithRSASignature"),m("2.16.840.1.101.3.4.2.1","sha256"),m("2.16.840.1.101.3.4.2.2","sha384"),m("2.16.840.1.101.3.4.2.3","sha512"),m("2.16.840.1.101.3.4.2.4","sha224"),m("2.16.840.1.101.3.4.2.5","sha512-224"),m("2.16.840.1.101.3.4.2.6","sha512-256"),m("1.2.840.113549.2.2","md2"),m("1.2.840.113549.2.5","md5"),m("1.2.840.113549.1.7.1","data"),m("1.2.840.113549.1.7.2","signedData"),m("1.2.840.113549.1.7.3","envelopedData"),m("1.2.840.113549.1.7.4","signedAndEnvelopedData"),m("1.2.840.113549.1.7.5","digestedData"),m("1.2.840.113549.1.7.6","encryptedData"),m("1.2.840.113549.1.9.1","emailAddress"),m("1.2.840.113549.1.9.2","unstructuredName"),m("1.2.840.113549.1.9.3","contentType"),m("1.2.840.113549.1.9.4","messageDigest"),m("1.2.840.113549.1.9.5","signingTime"),m("1.2.840.113549.1.9.6","counterSignature"),m("1.2.840.113549.1.9.7","challengePassword"),m("1.2.840.113549.1.9.8","unstructuredAddress"),m("1.2.840.113549.1.9.14","extensionRequest"),m("1.2.840.113549.1.9.20","friendlyName"),m("1.2.840.113549.1.9.21","localKeyId"),m("1.2.840.113549.1.9.22.1","x509Certificate"),m("1.2.840.113549.1.12.10.1.1","keyBag"),m("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),m("1.2.840.113549.1.12.10.1.3","certBag"),m("1.2.840.113549.1.12.10.1.4","crlBag"),m("1.2.840.113549.1.12.10.1.5","secretBag"),m("1.2.840.113549.1.12.10.1.6","safeContentsBag"),m("1.2.840.113549.1.5.13","pkcs5PBES2"),m("1.2.840.113549.1.5.12","pkcs5PBKDF2"),m("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),m("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),m("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),m("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),m("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),m("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),m("1.2.840.113549.2.7","hmacWithSHA1"),m("1.2.840.113549.2.8","hmacWithSHA224"),m("1.2.840.113549.2.9","hmacWithSHA256"),m("1.2.840.113549.2.10","hmacWithSHA384"),m("1.2.840.113549.2.11","hmacWithSHA512"),m("1.2.840.113549.3.7","des-EDE3-CBC"),m("2.16.840.1.101.3.4.1.2","aes128-CBC"),m("2.16.840.1.101.3.4.1.22","aes192-CBC"),m("2.16.840.1.101.3.4.1.42","aes256-CBC"),m("2.5.4.3","commonName"),m("2.5.4.4","surname"),m("2.5.4.5","serialNumber"),m("2.5.4.6","countryName"),m("2.5.4.7","localityName"),m("2.5.4.8","stateOrProvinceName"),m("2.5.4.9","streetAddress"),m("2.5.4.10","organizationName"),m("2.5.4.11","organizationalUnitName"),m("2.5.4.12","title"),m("2.5.4.13","description"),m("2.5.4.15","businessCategory"),m("2.5.4.17","postalCode"),m("2.5.4.42","givenName"),m("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),m("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),m("2.16.840.1.113730.1.1","nsCertType"),m("2.16.840.1.113730.1.13","nsComment"),T("2.5.29.1","authorityKeyIdentifier"),T("2.5.29.2","keyAttributes"),T("2.5.29.3","certificatePolicies"),T("2.5.29.4","keyUsageRestriction"),T("2.5.29.5","policyMapping"),T("2.5.29.6","subtreesConstraint"),T("2.5.29.7","subjectAltName"),T("2.5.29.8","issuerAltName"),T("2.5.29.9","subjectDirectoryAttributes"),T("2.5.29.10","basicConstraints"),T("2.5.29.11","nameConstraints"),T("2.5.29.12","policyConstraints"),T("2.5.29.13","basicConstraints"),m("2.5.29.14","subjectKeyIdentifier"),m("2.5.29.15","keyUsage"),T("2.5.29.16","privateKeyUsagePeriod"),m("2.5.29.17","subjectAltName"),m("2.5.29.18","issuerAltName"),m("2.5.29.19","basicConstraints"),T("2.5.29.20","cRLNumber"),T("2.5.29.21","cRLReason"),T("2.5.29.22","expirationDate"),T("2.5.29.23","instructionCode"),T("2.5.29.24","invalidityDate"),T("2.5.29.25","cRLDistributionPoints"),T("2.5.29.26","issuingDistributionPoint"),T("2.5.29.27","deltaCRLIndicator"),T("2.5.29.28","issuingDistributionPoint"),T("2.5.29.29","certificateIssuer"),T("2.5.29.30","nameConstraints"),m("2.5.29.31","cRLDistributionPoints"),m("2.5.29.32","certificatePolicies"),T("2.5.29.33","policyMappings"),T("2.5.29.34","policyConstraints"),m("2.5.29.35","authorityKeyIdentifier"),T("2.5.29.36","policyConstraints"),m("2.5.29.37","extKeyUsage"),T("2.5.29.46","freshestCRL"),T("2.5.29.54","inhibitAnyPolicy"),m("1.3.6.1.4.1.11129.2.4.2","timestampList"),m("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),m("1.3.6.1.5.5.7.3.1","serverAuth"),m("1.3.6.1.5.5.7.3.2","clientAuth"),m("1.3.6.1.5.5.7.3.3","codeSigning"),m("1.3.6.1.5.5.7.3.4","emailProtection"),m("1.3.6.1.5.5.7.3.8","timeStamping")},2158:(dt,Ce,p)=>{var t=p(8659);if(p(1298),p(7791),p(279),p(979),p(6078),p(7949),p(8604),p(8365),p(209),p(5517),p(4747),typeof e>"u")var e=t.jsbn.BigInteger;var m=t.asn1,T=t.pki=t.pki||{};dt.exports=T.pbe=t.pbe=t.pbe||{};var C=T.oids,b={name:"EncryptedPrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},g={name:"PBES2Algorithms",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},f={name:"pkcs-12PbeParams",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"iterations"}]};function w(a,k){return a.start().update(k).digest().getBytes()}function _(a){var k;if(a){if(!(k=T.oids[m.derToOid(a)])){var L=new Error("Unsupported PRF OID.");throw L.oid=a,L.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],L}}else k="hmacWithSHA1";return R(k)}function R(a){var k=t.md;switch(a){case"hmacWithSHA224":k=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":a=a.substr(8).toLowerCase();break;default:var L=new Error("Unsupported PRF algorithm.");throw L.algorithm=a,L.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],L}if(!k||!(a in k))throw new Error("Unknown hash algorithm: "+a);return k[a].create()}T.encryptPrivateKeyInfo=function(a,k,L){(L=L||{}).saltSize=L.saltSize||8,L.count=L.count||2048,L.algorithm=L.algorithm||"aes128",L.prfAlgorithm=L.prfAlgorithm||"sha1";var B,V,J,Z=t.random.getBytesSync(L.saltSize),j=L.count,N=m.integerToDer(j);if(0===L.algorithm.indexOf("aes")||"des"===L.algorithm){var q,re,W;switch(L.algorithm){case"aes128":B=16,q=16,re=C["aes128-CBC"],W=t.aes.createEncryptionCipher;break;case"aes192":B=24,q=16,re=C["aes192-CBC"],W=t.aes.createEncryptionCipher;break;case"aes256":B=32,q=16,re=C["aes256-CBC"],W=t.aes.createEncryptionCipher;break;case"des":B=8,q=8,re=C.desCBC,W=t.des.createEncryptionCipher;break;default:throw(G=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=L.algorithm,G}var X="hmacWith"+L.prfAlgorithm.toUpperCase(),E=R(X),ne=t.pkcs5.pbkdf2(k,Z,j,B,E),K=t.random.getBytesSync(q);(le=W(ne)).start(K),le.update(m.toDer(a)),le.finish(),J=le.output.getBytes();var me=function P(a,k,L,Z){var j=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,a),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,k.getBytes())]);return"hmacWithSHA1"!==Z&&j.value.push(m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,t.util.hexToBytes(L.toString(16))),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(T.oids[Z]).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")])),j}(Z,N,B,X);V=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(C.pkcs5PBES2).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(C.pkcs5PBKDF2).getBytes()),me]),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(re).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,K)])])])}else{var G;if("3des"!==L.algorithm)throw(G=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=L.algorithm,G;B=24;var le,Se=new t.util.ByteBuffer(Z);ne=T.pbe.generatePkcs12Key(k,Se,1,j,B),K=T.pbe.generatePkcs12Key(k,Se,2,j,B),(le=t.des.createEncryptionCipher(ne)).start(K),le.update(m.toDer(a)),le.finish(),J=le.output.getBytes(),V=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(C["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,Z),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,N.getBytes())])])}return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[V,m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,J)])},T.decryptPrivateKeyInfo=function(a,k){var L=null,Z={},j=[];if(!m.validate(a,b,Z,j)){var N=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw N.errors=j,N}var B=m.derToOid(Z.encryptionOid),V=T.pbe.getCipher(B,Z.encryptionParams,k),J=t.util.createBuffer(Z.encryptedData);return V.update(J),V.finish()&&(L=m.fromDer(V.output)),L},T.encryptedPrivateKeyToPem=function(a,k){var L={type:"ENCRYPTED PRIVATE KEY",body:m.toDer(a).getBytes()};return t.pem.encode(L,{maxline:k})},T.encryptedPrivateKeyFromPem=function(a){var k=t.pem.decode(a)[0];if("ENCRYPTED PRIVATE KEY"!==k.type){var L=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw L.headerType=k.type,L}if(k.procType&&"ENCRYPTED"===k.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return m.fromDer(k.body)},T.encryptRsaPrivateKey=function(a,k,L){if(!(L=L||{}).legacy){var Z=T.wrapRsaPrivateKey(T.privateKeyToAsn1(a));return Z=T.encryptPrivateKeyInfo(Z,k,L),T.encryptedPrivateKeyToPem(Z)}var j,N,B,V;switch(L.algorithm){case"aes128":j="AES-128-CBC",B=16,N=t.random.getBytesSync(16),V=t.aes.createEncryptionCipher;break;case"aes192":j="AES-192-CBC",B=24,N=t.random.getBytesSync(16),V=t.aes.createEncryptionCipher;break;case"aes256":j="AES-256-CBC",B=32,N=t.random.getBytesSync(16),V=t.aes.createEncryptionCipher;break;case"3des":j="DES-EDE3-CBC",B=24,N=t.random.getBytesSync(8),V=t.des.createEncryptionCipher;break;case"des":j="DES-CBC",B=8,N=t.random.getBytesSync(8),V=t.des.createEncryptionCipher;break;default:var J=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+L.algorithm+'".');throw J.algorithm=L.algorithm,J}var re=V(t.pbe.opensslDeriveBytes(k,N.substr(0,8),B));re.start(N),re.update(m.toDer(T.privateKeyToAsn1(a))),re.finish();var W={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:j,parameters:t.util.bytesToHex(N).toUpperCase()},body:re.output.getBytes()};return t.pem.encode(W)},T.decryptRsaPrivateKey=function(a,k){var L=null,Z=t.pem.decode(a)[0];if("ENCRYPTED PRIVATE KEY"!==Z.type&&"PRIVATE KEY"!==Z.type&&"RSA PRIVATE KEY"!==Z.type)throw(j=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=j,j;if(Z.procType&&"ENCRYPTED"===Z.procType.type){var N,B;switch(Z.dekInfo.algorithm){case"DES-CBC":N=8,B=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":N=24,B=t.des.createDecryptionCipher;break;case"AES-128-CBC":N=16,B=t.aes.createDecryptionCipher;break;case"AES-192-CBC":N=24,B=t.aes.createDecryptionCipher;break;case"AES-256-CBC":N=32,B=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":N=5,B=function(W){return t.rc2.createDecryptionCipher(W,40)};break;case"RC2-64-CBC":N=8,B=function(W){return t.rc2.createDecryptionCipher(W,64)};break;case"RC2-128-CBC":N=16,B=function(W){return t.rc2.createDecryptionCipher(W,128)};break;default:var j;throw(j=new Error('Could not decrypt private key; unsupported encryption algorithm "'+Z.dekInfo.algorithm+'".')).algorithm=Z.dekInfo.algorithm,j}var V=t.util.hexToBytes(Z.dekInfo.parameters),q=B(t.pbe.opensslDeriveBytes(k,V.substr(0,8),N));if(q.start(V),q.update(t.util.createBuffer(Z.body)),!q.finish())return L;L=q.output.getBytes()}else L=Z.body;return null!==(L="ENCRYPTED PRIVATE KEY"===Z.type?T.decryptPrivateKeyInfo(m.fromDer(L),k):m.fromDer(L))&&(L=T.privateKeyFromAsn1(L)),L},T.pbe.generatePkcs12Key=function(a,k,L,Z,j,N){var B,V;if(typeof N>"u"||null===N){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');N=t.md.sha1.create()}var J=N.digestLength,q=N.blockLength,re=new t.util.ByteBuffer,W=new t.util.ByteBuffer;if(null!=a){for(V=0;V<a.length;V++)W.putInt16(a.charCodeAt(V));W.putInt16(0)}var G=W.length(),X=k.length(),E=new t.util.ByteBuffer;E.fillWithByte(L,q);var ne=q*Math.ceil(X/q),K=new t.util.ByteBuffer;for(V=0;V<ne;V++)K.putByte(k.at(V%X));var le=q*Math.ceil(G/q),me=new t.util.ByteBuffer;for(V=0;V<le;V++)me.putByte(W.at(V%G));var Se=K;Se.putBuffer(me);for(var ye=Math.ceil(j/J),ze=1;ze<=ye;ze++){var Ee=new t.util.ByteBuffer;Ee.putBytes(E.bytes()),Ee.putBytes(Se.bytes());for(var qe=0;qe<Z;qe++)N.start(),N.update(Ee.getBytes()),Ee=N.digest();var Te=new t.util.ByteBuffer;for(V=0;V<q;V++)Te.putByte(Ee.at(V%J));var nt=Math.ceil(X/q)+Math.ceil(G/q),at=new t.util.ByteBuffer;for(B=0;B<nt;B++){var wt=new t.util.ByteBuffer(Se.getBytes(q)),lt=511;for(V=Te.length()-1;V>=0;V--)lt>>=8,lt+=Te.at(V)+wt.at(V),wt.setAt(V,255&lt);at.putBuffer(wt)}Se=at,re.putBuffer(Ee)}return re.truncate(re.length()-j),re},T.pbe.getCipher=function(a,k,L){switch(a){case T.oids.pkcs5PBES2:return T.pbe.getCipherForPBES2(a,k,L);case T.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case T.oids["pbewithSHAAnd40BitRC2-CBC"]:return T.pbe.getCipherForPKCS12PBE(a,k,L);default:var Z=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw Z.oid=a,Z.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],Z}},T.pbe.getCipherForPBES2=function(a,k,L){var N,Z={},j=[];if(!m.validate(k,g,Z,j))throw(N=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=j,N;if((a=m.derToOid(Z.kdfOid))!==T.oids.pkcs5PBKDF2)throw(N=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=a,N.supportedOids=["pkcs5PBKDF2"],N;if((a=m.derToOid(Z.encOid))!==T.oids["aes128-CBC"]&&a!==T.oids["aes192-CBC"]&&a!==T.oids["aes256-CBC"]&&a!==T.oids["des-EDE3-CBC"]&&a!==T.oids.desCBC)throw(N=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=a,N.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],N;var J,q,B=Z.kdfSalt,V=t.util.createBuffer(Z.kdfIterationCount);switch(V=V.getInt(V.length()<<3),T.oids[a]){case"aes128-CBC":J=16,q=t.aes.createDecryptionCipher;break;case"aes192-CBC":J=24,q=t.aes.createDecryptionCipher;break;case"aes256-CBC":J=32,q=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":J=24,q=t.des.createDecryptionCipher;break;case"desCBC":J=8,q=t.des.createDecryptionCipher}var re=_(Z.prfOid),W=t.pkcs5.pbkdf2(L,B,V,J,re),G=Z.encIv,X=q(W);return X.start(G),X},T.pbe.getCipherForPKCS12PBE=function(a,k,L){var Z={},j=[];if(!m.validate(k,f,Z,j))throw(N=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=j,N;var J,q,re,B=t.util.createBuffer(Z.salt),V=t.util.createBuffer(Z.iterations);switch(V=V.getInt(V.length()<<3),a){case T.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:J=24,q=8,re=t.des.startDecrypting;break;case T.oids["pbewithSHAAnd40BitRC2-CBC"]:J=5,q=8,re=function(ne,K){var le=t.rc2.createDecryptionCipher(ne,40);return le.start(K,null),le};break;default:var N;throw(N=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=a,N}var W=_(Z.prfOid),G=T.pbe.generatePkcs12Key(L,B,1,V,J,W);return W.start(),re(G,T.pbe.generatePkcs12Key(L,B,2,V,q,W))},T.pbe.opensslDeriveBytes=function(a,k,L,Z){if(typeof Z>"u"||null===Z){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');Z=t.md.md5.create()}null===k&&(k="");for(var j=[w(Z,a+k)],N=16,B=1;N<L;++B,N+=16)j.push(w(Z,j[B-1]+a+k));return j.join("").substr(0,L)}},7949:(dt,Ce,p)=>{var t=p(8659);p(9032),p(979),p(4747);var m,e=t.pkcs5=t.pkcs5||{};t.util.isNodejs&&!t.options.usePureJavaScript&&(m=p(5819)),dt.exports=t.pbkdf2=e.pbkdf2=function(T,C,b,g,f,w){if("function"==typeof f&&(w=f,f=null),t.util.isNodejs&&!t.options.usePureJavaScript&&m.pbkdf2&&(null===f||"object"!=typeof f)&&(m.pbkdf2Sync.length>4||!f||"sha1"===f))return"string"!=typeof f&&(f="sha1"),T=Buffer.from(T,"binary"),C=Buffer.from(C,"binary"),w?4===m.pbkdf2Sync.length?m.pbkdf2(T,C,b,g,function(re,W){if(re)return w(re);w(null,W.toString("binary"))}):m.pbkdf2(T,C,b,g,f,function(re,W){if(re)return w(re);w(null,W.toString("binary"))}):4===m.pbkdf2Sync.length?m.pbkdf2Sync(T,C,b,g).toString("binary"):m.pbkdf2Sync(T,C,b,g,f).toString("binary");if((typeof f>"u"||null===f)&&(f="sha1"),"string"==typeof f){if(!(f in t.md.algorithms))throw new Error("Unknown hash algorithm: "+f);f=t.md[f].create()}var _=f.digestLength;if(g>4294967295*_){var R=new Error("Derived key is too long.");if(w)return w(R);throw R}var P=Math.ceil(g/_),a=g-(P-1)*_,k=t.hmac.create();k.start(f,T);var Z,j,N,L="";if(!w){for(var B=1;B<=P;++B){k.start(null,null),k.update(C),k.update(t.util.int32ToBytes(B)),Z=N=k.digest().getBytes();for(var V=2;V<=b;++V)k.start(null,null),k.update(N),j=k.digest().getBytes(),Z=t.util.xorBytes(Z,j,_),N=j;L+=B<P?Z:Z.substr(0,a)}return L}function J(){if(B>P)return w(null,L);k.start(null,null),k.update(C),k.update(t.util.int32ToBytes(B)),Z=N=k.digest().getBytes(),V=2,q()}function q(){if(V<=b)return k.start(null,null),k.update(N),j=k.digest().getBytes(),Z=t.util.xorBytes(Z,j,_),N=j,++V,t.util.setImmediate(q);L+=B<P?Z:Z.substr(0,a),++B,J()}B=1,J()}},8604:(dt,Ce,p)=>{var t=p(8659);p(4747);var e=dt.exports=t.pem=t.pem||{};function m(C){for(var b=C.name+": ",g=[],f=function(a,k){return" "+k},w=0;w<C.values.length;++w)g.push(C.values[w].replace(/^(\S+\r\n)/,f));b+=g.join(",")+"\r\n";var _=0,R=-1;for(w=0;w<b.length;++w,++_)if(_>65&&-1!==R){var P=b[R];","===P?(++R,b=b.substr(0,R)+"\r\n "+b.substr(R)):b=b.substr(0,R)+"\r\n"+P+b.substr(R+1),_=w-R-1,R=-1,++w}else(" "===b[w]||"\t"===b[w]||","===b[w])&&(R=w);return b}function T(C){return C.replace(/^\s+/,"")}e.encode=function(C,b){b=b||{};var f,g="-----BEGIN "+C.type+"-----\r\n";if(C.procType&&(g+=m(f={name:"Proc-Type",values:[String(C.procType.version),C.procType.type]})),C.contentDomain&&(g+=m(f={name:"Content-Domain",values:[C.contentDomain]})),C.dekInfo&&(f={name:"DEK-Info",values:[C.dekInfo.algorithm]},C.dekInfo.parameters&&f.values.push(C.dekInfo.parameters),g+=m(f)),C.headers)for(var w=0;w<C.headers.length;++w)g+=m(C.headers[w]);return C.procType&&(g+="\r\n"),(g+=t.util.encode64(C.body,b.maxline||64)+"\r\n")+"-----END "+C.type+"-----\r\n"},e.decode=function(C){for(var _,b=[],g=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,f=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,w=/\r?\n/;_=g.exec(C);){var R=_[1];"NEW CERTIFICATE REQUEST"===R&&(R="CERTIFICATE REQUEST");var P={type:R,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(_[3])};if(b.push(P),_[2]){for(var a=_[2].split(w),k=0;_&&k<a.length;){for(var L=a[k].replace(/\s+$/,""),Z=k+1;Z<a.length;++Z){var j=a[Z];if(!/\s/.test(j[0]))break;L+=j,k=Z}if(_=L.match(f)){for(var N={name:_[1],values:[]},B=_[2].split(","),V=0;V<B.length;++V)N.values.push(T(B[V]));if(P.procType)if(P.contentDomain||"Content-Domain"!==N.name)if(P.dekInfo||"DEK-Info"!==N.name)P.headers.push(N);else{if(0===N.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');P.dekInfo={algorithm:B[0],parameters:B[1]||null}}else P.contentDomain=B[0]||"";else{if("Proc-Type"!==N.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==N.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');P.procType={version:B[0],type:B[1]}}}++k}if("ENCRYPTED"===P.procType&&!P.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===b.length)throw new Error("Invalid PEM formatted message.");return b}},7246:(dt,Ce,p)=>{var t=p(8659);p(4747),p(8365),p(7690);var e=dt.exports=t.pkcs1=t.pkcs1||{};function m(T,C,b){b||(b=t.md.sha1.create());for(var g="",f=Math.ceil(C/b.digestLength),w=0;w<f;++w){var _=String.fromCharCode(w>>24&255,w>>16&255,w>>8&255,255&w);b.start(),b.update(T+_),g+=b.digest().getBytes()}return g.substring(0,C)}e.encode_rsa_oaep=function(T,C,b){var g,f,w,_;"string"==typeof b?(g=b,f=arguments[3]||void 0,w=arguments[4]||void 0):b&&(g=b.label||void 0,f=b.seed||void 0,w=b.md||void 0,b.mgf1&&b.mgf1.md&&(_=b.mgf1.md)),w?w.start():w=t.md.sha1.create(),_||(_=w);var R=Math.ceil(T.n.bitLength()/8),P=R-2*w.digestLength-2;if(C.length>P)throw(a=new Error("RSAES-OAEP input message length is too long.")).length=C.length,a.maxLength=P,a;g||(g=""),w.update(g,"raw");for(var k=w.digest(),L="",Z=P-C.length,j=0;j<Z;j++)L+="\0";var N=k.getBytes()+L+"\x01"+C;if(f){if(f.length!==w.digestLength){var a;throw(a=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=f.length,a.digestLength=w.digestLength,a}}else f=t.random.getBytes(w.digestLength);var B=m(f,R-w.digestLength-1,_),V=t.util.xorBytes(N,B,N.length),J=m(V,w.digestLength,_),q=t.util.xorBytes(f,J,f.length);return"\0"+q+V},e.decode_rsa_oaep=function(T,C,b){var g,f,w;"string"==typeof b?(g=b,f=arguments[3]||void 0):b&&(g=b.label||void 0,f=b.md||void 0,b.mgf1&&b.mgf1.md&&(w=b.mgf1.md));var _=Math.ceil(T.n.bitLength()/8);if(C.length!==_)throw(V=new Error("RSAES-OAEP encoded message length is invalid.")).length=C.length,V.expectedLength=_,V;if(void 0===f?f=t.md.sha1.create():f.start(),w||(w=f),_<2*f.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");g||(g=""),f.update(g,"raw");for(var R=f.digest().getBytes(),P=C.charAt(0),a=C.substring(1,f.digestLength+1),k=C.substring(1+f.digestLength),L=m(k,f.digestLength,w),Z=t.util.xorBytes(a,L,a.length),j=m(Z,_-f.digestLength-1,w),N=t.util.xorBytes(k,j,k.length),B=N.substring(0,f.digestLength),V="\0"!==P,J=0;J<f.digestLength;++J)V|=R.charAt(J)!==B.charAt(J);for(var q=1,re=f.digestLength,W=f.digestLength;W<N.length;W++){var G=N.charCodeAt(W),X=1&G^1,E=q?65534:0;V|=G&E,re+=q&=X}if(V||1!==N.charCodeAt(re))throw new Error("Invalid RSAES-OAEP padding.");return N.substring(re+1)}},562:(dt,Ce,p)=>{var t=p(8659);p(7791),p(9032),p(6078),p(4957),p(2158),p(8365),p(5517),p(7690),p(4747),p(5911);var e=t.asn1,m=t.pki,T=dt.exports=t.pkcs12=t.pkcs12||{},C={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},b={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},C,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},g={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},f={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},w={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function _(Z,j,N,B){for(var V=[],J=0;J<Z.length;J++)for(var q=0;q<Z[J].safeBags.length;q++){var re=Z[J].safeBags[q];if(void 0===B||re.type===B){if(null===j){V.push(re);continue}void 0!==re.attributes[j]&&re.attributes[j].indexOf(N)>=0&&V.push(re)}}return V}function R(Z){if(Z.composed||Z.constructed){for(var j=t.util.createBuffer(),N=0;N<Z.value.length;++N)j.putBytes(Z.value[N].value);Z.composed=Z.constructed=!1,Z.value=j.getBytes()}return Z}function a(Z,j){var N={},B=[];if(!e.validate(Z,t.pkcs7.asn1.encryptedDataValidator,N,B))throw(V=new Error("Cannot read EncryptedContentInfo.")).errors=B,V;var V,J=e.derToOid(N.contentType);if(J!==m.oids.data)throw(V=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=J,V;J=e.derToOid(N.encAlgorithm);var q=m.pbe.getCipher(J,N.encParameter,j),re=R(N.encryptedContentAsn1),W=t.util.createBuffer(re.value);if(q.update(W),!q.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return q.output.getBytes()}function k(Z,j,N){if(!j&&0===Z.length)return[];if((Z=e.fromDer(Z,j)).tagClass!==e.Class.UNIVERSAL||Z.type!==e.Type.SEQUENCE||!0!==Z.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var B=[],V=0;V<Z.value.length;V++){var q={},re=[];if(!e.validate(Z.value[V],g,q,re))throw(W=new Error("Cannot read SafeBag.")).errors=re,W;var G={type:e.derToOid(q.bagId),attributes:L(q.bagAttributes)};B.push(G);var X,E,ne=q.bagValue.value[0];switch(G.type){case m.oids.pkcs8ShroudedKeyBag:if(null===(ne=m.decryptPrivateKeyInfo(ne,N)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case m.oids.keyBag:try{G.key=m.privateKeyFromAsn1(ne)}catch{G.key=null,G.asn1=ne}continue;case m.oids.certBag:X=w,E=function(){if(e.derToOid(q.certId)!==m.oids.x509Certificate){var le=new Error("Unsupported certificate type, only X.509 supported.");throw le.oid=e.derToOid(q.certId),le}var me=e.fromDer(q.cert,j);try{G.cert=m.certificateFromAsn1(me,!0)}catch{G.cert=null,G.asn1=me}};break;default:var W;throw(W=new Error("Unsupported PKCS#12 SafeBag type.")).oid=G.type,W}if(void 0!==X&&!e.validate(ne,X,q,re))throw(W=new Error("Cannot read PKCS#12 "+X.name)).errors=re,W;E()}return B}function L(Z){var j={};if(void 0!==Z)for(var N=0;N<Z.length;++N){var B={},V=[];if(!e.validate(Z[N],f,B,V)){var J=new Error("Cannot read PKCS#12 BagAttribute.");throw J.errors=V,J}var q=e.derToOid(B.oid);if(void 0!==m.oids[q]){j[m.oids[q]]=[];for(var re=0;re<B.values.length;++re)j[m.oids[q]].push(B.values[re].value)}}return j}T.pkcs12FromAsn1=function(Z,j,N){"string"==typeof j?(N=j,j=!0):void 0===j&&(j=!0);var B={};if(!e.validate(Z,b,B,[]))throw(J=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=J,J;var J,q={version:B.version.charCodeAt(0),safeContents:[],getBags:function(Se){var ze,ye={};return"localKeyId"in Se?ze=Se.localKeyId:"localKeyIdHex"in Se&&(ze=t.util.hexToBytes(Se.localKeyIdHex)),void 0===ze&&!("friendlyName"in Se)&&"bagType"in Se&&(ye[Se.bagType]=_(q.safeContents,null,null,Se.bagType)),void 0!==ze&&(ye.localKeyId=_(q.safeContents,"localKeyId",ze,Se.bagType)),"friendlyName"in Se&&(ye.friendlyName=_(q.safeContents,"friendlyName",Se.friendlyName,Se.bagType)),ye},getBagsByFriendlyName:function(Se,ye){return _(q.safeContents,"friendlyName",Se,ye)},getBagsByLocalKeyId:function(Se,ye){return _(q.safeContents,"localKeyId",Se,ye)}};if(3!==B.version.charCodeAt(0))throw(J=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=B.version.charCodeAt(0),J;if(e.derToOid(B.contentType)!==m.oids.data)throw(J=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=e.derToOid(B.contentType),J;var re=B.content.value[0];if(re.tagClass!==e.Class.UNIVERSAL||re.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(re=R(re),B.mac){var W=null,G=0,X=e.derToOid(B.macAlgorithm);switch(X){case m.oids.sha1:W=t.md.sha1.create(),G=20;break;case m.oids.sha256:W=t.md.sha256.create(),G=32;break;case m.oids.sha384:W=t.md.sha384.create(),G=48;break;case m.oids.sha512:W=t.md.sha512.create(),G=64;break;case m.oids.md5:W=t.md.md5.create(),G=16}if(null===W)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+X);var E=new t.util.ByteBuffer(B.macSalt),ne="macIterations"in B?parseInt(t.util.bytesToHex(B.macIterations),16):1,K=T.generateKey(N,E,3,ne,G,W),le=t.hmac.create();if(le.start(W,K),le.update(re.value),le.getMac().getBytes()!==B.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function P(Z,j,N,B){if((j=e.fromDer(j,N)).tagClass!==e.Class.UNIVERSAL||j.type!==e.Type.SEQUENCE||!0!==j.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var V=0;V<j.value.length;V++){var q={},re=[];if(!e.validate(j.value[V],C,q,re))throw(W=new Error("Cannot read ContentInfo.")).errors=re,W;var G={encrypted:!1},X=null,E=q.content.value[0];switch(e.derToOid(q.contentType)){case m.oids.data:if(E.tagClass!==e.Class.UNIVERSAL||E.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");X=R(E).value;break;case m.oids.encryptedData:X=a(E,B),G.encrypted=!0;break;default:var W;throw(W=new Error("Unsupported PKCS#12 contentType.")).contentType=e.derToOid(q.contentType),W}G.safeBags=k(X,N,B),Z.safeContents.push(G)}}(q,re.value,j,N),q},T.toPkcs12Asn1=function(Z,j,N,B){(B=B||{}).saltSize=B.saltSize||8,B.count=B.count||2048,B.algorithm=B.algorithm||B.encAlgorithm||"aes128","useMac"in B||(B.useMac=!0),"localKeyId"in B||(B.localKeyId=null),"generateLocalKeyId"in B||(B.generateLocalKeyId=!0);var J,V=B.localKeyId;if(null!==V)V=t.util.hexToBytes(V);else if(B.generateLocalKeyId)if(j){var q=t.util.isArray(j)?j[0]:j;"string"==typeof q&&(q=m.certificateFromPem(q)),(re=t.md.sha1.create()).update(e.toDer(m.certificateToAsn1(q)).getBytes()),V=re.digest().getBytes()}else V=t.random.getBytes(20);var W=[];null!==V&&W.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,V)])])),"friendlyName"in B&&W.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,B.friendlyName)])])),W.length>0&&(J=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,W));var G=[],X=[];null!==j&&(X=t.util.isArray(j)?j:[j]);for(var E=[],ne=0;ne<X.length;++ne){"string"==typeof(j=X[ne])&&(j=m.certificateFromPem(j));var K=0===ne?J:void 0,le=m.certificateToAsn1(j),me=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(le).getBytes())])])]),K]);E.push(me)}if(E.length>0){var Se=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,E),ye=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Se).getBytes())])]);G.push(ye)}var ze=null;if(null!==Z){var Ee=m.wrapRsaPrivateKey(m.privateKeyToAsn1(Z));ze=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,null===N?[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Ee]),J]:[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[m.encryptPrivateKeyInfo(Ee,N,B)]),J]);var qe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[ze]),Te=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(qe).getBytes())])]);G.push(Te)}var at,nt=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,G);if(B.useMac){var re=t.md.sha1.create(),wt=new t.util.ByteBuffer(t.random.getBytes(B.saltSize)),lt=B.count,mt=(Z=T.generateKey(N,wt,3,lt,20),t.hmac.create());mt.start(re,Z),mt.update(e.toDer(nt).getBytes());var pt=mt.getMac();at=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,pt.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,wt.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(lt).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(nt).getBytes())])]),at])},T.generateKey=t.pbe.generatePkcs12Key},422:(dt,Ce,p)=>{var t=p(8659);p(1298),p(7791),p(279),p(6078),p(8604),p(4957),p(8365),p(4747),p(5911);var e=t.asn1,m=dt.exports=t.pkcs7=t.pkcs7||{};function T(Z){var j={},N=[];if(!e.validate(Z,m.asn1.recipientInfoValidator,j,N)){var B=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw B.errors=N,B}return{version:j.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(j.issuer),serialNumber:t.util.createBuffer(j.serial).toHex(),encryptedContent:{algorithm:e.derToOid(j.encAlgorithm),parameter:j.encParameter?j.encParameter.value:void 0,content:j.encKey}}}function C(Z){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Z.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:Z.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,t.util.hexToBytes(Z.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Z.encryptedContent.content)])}function g(Z){for(var j=[],N=0;N<Z.length;++N)j.push(C(Z[N]));return j}function w(Z){var j=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Z.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:Z.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,t.util.hexToBytes(Z.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(Z.authenticatedAttributesAsn1&&j.value.push(Z.authenticatedAttributesAsn1),j.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),j.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Z.signature)),Z.unauthenticatedAttributes.length>0){for(var N=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),B=0;B<Z.unauthenticatedAttributes.length;++B)N.values.push(P(Z.unauthenticatedAttributes[B]));j.value.push(N)}return j}function P(Z){var j;if(Z.type===t.pki.oids.contentType)j=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.value).getBytes());else if(Z.type===t.pki.oids.messageDigest)j=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Z.value.bytes());else if(Z.type===t.pki.oids.signingTime){var N=new Date("1950-01-01T00:00:00Z"),B=new Date("2050-01-01T00:00:00Z"),V=Z.value;if("string"==typeof V){var J=Date.parse(V);V=isNaN(J)?13===V.length?e.utcTimeToDate(V):e.generalizedTimeToDate(V):new Date(J)}j=V>=N&&V<B?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(V)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(V))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[j])])}function a(Z){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.algorithm).getBytes()),Z.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Z.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Z.content.getBytes())])]}function k(Z,j,N){var B={};if(!e.validate(j,N,B,[])){var J=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw J.errors=J,J}if(e.derToOid(B.contentType)!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(B.encryptedContent){var re="";if(t.util.isArray(B.encryptedContent))for(var W=0;W<B.encryptedContent.length;++W){if(B.encryptedContent[W].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");re+=B.encryptedContent[W].value}else re=B.encryptedContent;Z.encryptedContent={algorithm:e.derToOid(B.encAlgorithm),parameter:t.util.createBuffer(B.encParameter.value),content:t.util.createBuffer(re)}}if(B.content){if(re="",t.util.isArray(B.content))for(W=0;W<B.content.length;++W){if(B.content[W].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");re+=B.content[W].value}else re=B.content;Z.content=t.util.createBuffer(re)}return Z.version=B.version.charCodeAt(0),Z.rawCapture=B,B}function L(Z){if(void 0===Z.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===Z.content){var j;switch(Z.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:j=t.aes.createDecryptionCipher(Z.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:j=t.des.createDecryptionCipher(Z.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+Z.encryptedContent.algorithm)}if(j.start(Z.encryptedContent.parameter),j.update(Z.encryptedContent.content),!j.finish())throw new Error("Symmetric decryption failed.");Z.content=j.output}}m.messageFromPem=function(Z){var j=t.pem.decode(Z)[0];if("PKCS7"!==j.type){var N=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw N.headerType=j.type,N}if(j.procType&&"ENCRYPTED"===j.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var B=e.fromDer(j.body);return m.messageFromAsn1(B)},m.messageToPem=function(Z,j){var N={type:"PKCS7",body:e.toDer(Z.toAsn1()).getBytes()};return t.pem.encode(N,{maxline:j})},m.messageFromAsn1=function(Z){var j={},N=[];if(!e.validate(Z,m.asn1.contentInfoValidator,j,N)){var B=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw B.errors=N,B}var J,V=e.derToOid(j.contentType);switch(V){case t.pki.oids.envelopedData:J=m.createEnvelopedData();break;case t.pki.oids.encryptedData:J=m.createEncryptedData();break;case t.pki.oids.signedData:J=m.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+V+" is not (yet) supported.")}return J.fromAsn1(j.content.value[0]),J},m.createSignedData=function(){var Z=null;return Z={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(B){if(k(Z,B,m.asn1.signedDataValidator),Z.certificates=[],Z.crls=[],Z.digestAlgorithmIdentifiers=[],Z.contentInfo=null,Z.signerInfos=[],Z.rawCapture.certificates)for(var V=Z.rawCapture.certificates.value,J=0;J<V.length;++J)Z.certificates.push(t.pki.certificateFromAsn1(V[J]))},toAsn1:function(){Z.contentInfo||Z.sign();for(var B=[],V=0;V<Z.certificates.length;++V)B.push(t.pki.certificateToAsn1(Z.certificates[V]));var J=[],q=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Z.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,Z.digestAlgorithmIdentifiers),Z.contentInfo])]);return B.length>0&&q.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,B)),J.length>0&&q.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,J)),q.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,Z.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.type).getBytes()),q])},addSigner:function(B){var V=B.issuer,J=B.serialNumber;if(B.certificate){var q=B.certificate;"string"==typeof q&&(q=t.pki.certificateFromPem(q)),V=q.issuer.attributes,J=q.serialNumber}var re=B.key;if(!re)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof re&&(re=t.pki.privateKeyFromPem(re));var W=B.digestAlgorithm||t.pki.oids.sha1;switch(W){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+W)}var G=B.authenticatedAttributes||[];if(G.length>0){for(var X=!1,E=!1,ne=0;ne<G.length;++ne){var K=G[ne];if(X||K.type!==t.pki.oids.contentType){if(E||K.type!==t.pki.oids.messageDigest);else if(E=!0,X)break}else if(X=!0,E)break}if(!X||!E)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}Z.signers.push({key:re,version:1,issuer:V,serialNumber:J,digestAlgorithm:W,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:G,unauthenticatedAttributes:[]})},sign:function(B){var V;if(B=B||{},"object"==typeof Z.content&&null!==Z.contentInfo||(Z.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.pki.oids.data).getBytes())]),!("content"in Z))||(Z.content instanceof t.util.ByteBuffer?V=Z.content.bytes():"string"==typeof Z.content&&(V=t.util.encodeUtf8(Z.content)),B.detached?Z.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,V):Z.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,V)]))),0!==Z.signers.length){var J=function j(){for(var B={},V=0;V<Z.signers.length;++V){var J=Z.signers[V];(q=J.digestAlgorithm)in B||(B[q]=t.md[t.pki.oids[q]].create()),J.md=0===J.authenticatedAttributes.length?B[q]:t.md[t.pki.oids[q]].create()}for(var q in Z.digestAlgorithmIdentifiers=[],B)Z.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(q).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return B}();!function N(B){var V;if(!(V=Z.detachedContent?Z.detachedContent:(V=Z.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var J=e.derToOid(Z.contentInfo.value[0].value),q=e.toDer(V);for(var re in q.getByte(),e.getBerValueLength(q),q=q.getBytes(),B)B[re].start().update(q);for(var W=new Date,G=0;G<Z.signers.length;++G){var X=Z.signers[G];if(0===X.authenticatedAttributes.length){if(J!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{X.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var E=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),ne=0;ne<X.authenticatedAttributes.length;++ne){var K=X.authenticatedAttributes[ne];K.type===t.pki.oids.messageDigest?K.value=B[X.digestAlgorithm].digest():K.type===t.pki.oids.signingTime&&(K.value||(K.value=W)),E.value.push(P(K)),X.authenticatedAttributesAsn1.value.push(P(K))}q=e.toDer(E).getBytes(),X.md.start().update(q)}X.signature=X.key.sign(X.md,"RSASSA-PKCS1-V1_5")}Z.signerInfos=function R(Z){for(var j=[],N=0;N<Z.length;++N)j.push(w(Z[N]));return j}(Z.signers)}(J)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(B){"string"==typeof B&&(B=t.pki.certificateFromPem(B)),Z.certificates.push(B)},addCertificateRevokationList:function(B){throw new Error("PKCS#7 CRL support not yet implemented.")}}},m.createEncryptedData=function(){var Z=null;return Z={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(j){k(Z,j,m.asn1.encryptedDataValidator)},decrypt:function(j){void 0!==j&&(Z.encryptedContent.key=j),L(Z)}}},m.createEnvelopedData=function(){var Z=null;return Z={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(j){var N=k(Z,j,m.asn1.envelopedDataValidator);Z.recipients=function b(Z){for(var j=[],N=0;N<Z.length;++N)j.push(T(Z[N]));return j}(N.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Z.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,g(Z.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,a(Z.encryptedContent))])])])},findRecipient:function(j){for(var N=j.issuer.attributes,B=0;B<Z.recipients.length;++B){var V=Z.recipients[B],J=V.issuer;if(V.serialNumber===j.serialNumber&&J.length===N.length){for(var q=!0,re=0;re<N.length;++re)if(J[re].type!==N[re].type||J[re].value!==N[re].value){q=!1;break}if(q)return V}}return null},decrypt:function(j,N){if(void 0===Z.encryptedContent.key&&void 0!==j&&void 0!==N)switch(j.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var B=N.decrypt(j.encryptedContent.content);Z.encryptedContent.key=t.util.createBuffer(B);break;default:throw new Error("Unsupported asymmetric cipher, OID "+j.encryptedContent.algorithm)}L(Z)},addRecipient:function(j){Z.recipients.push({version:0,issuer:j.issuer.attributes,serialNumber:j.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:j.publicKey}})},encrypt:function(j,N){if(void 0===Z.encryptedContent.content){var B,V,J;switch(j=j||Z.encryptedContent.key,N=N||Z.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:B=16,V=16,J=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:B=24,V=16,J=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:B=32,V=16,J=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:B=24,V=8,J=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+N)}if(void 0===j)j=t.util.createBuffer(t.random.getBytes(B));else if(j.length()!=B)throw new Error("Symmetric key has wrong length; got "+j.length()+" bytes, expected "+B+".");Z.encryptedContent.algorithm=N,Z.encryptedContent.key=j,Z.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(V));var q=J(j);if(q.start(Z.encryptedContent.parameter.copy()),q.update(Z.content),!q.finish())throw new Error("Symmetric encryption failed.");Z.encryptedContent.content=q.output}for(var re=0;re<Z.recipients.length;++re){var W=Z.recipients[re];if(void 0===W.encryptedContent.content){if(W.encryptedContent.algorithm!==t.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+W.encryptedContent.algorithm);W.encryptedContent.content=W.encryptedContent.key.encrypt(Z.encryptedContent.key.data)}}}}}},4957:(dt,Ce,p)=>{var t=p(8659);p(7791),p(4747);var e=t.asn1,m=dt.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=m;var T={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};m.contentInfoValidator=T;var C={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};m.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(C)},m.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(C)},m.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},T,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},m.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},1965:(dt,Ce,p)=>{var t=p(8659);p(7791),p(6078),p(2158),p(8604),p(7949),p(562),p(7256),p(5517),p(4747),p(5911);var e=t.asn1,m=dt.exports=t.pki=t.pki||{};m.pemToDer=function(T){var C=t.pem.decode(T)[0];if(C.procType&&"ENCRYPTED"===C.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(C.body)},m.privateKeyFromPem=function(T){var C=t.pem.decode(T)[0];if("PRIVATE KEY"!==C.type&&"RSA PRIVATE KEY"!==C.type){var b=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw b.headerType=C.type,b}if(C.procType&&"ENCRYPTED"===C.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var g=e.fromDer(C.body);return m.privateKeyFromAsn1(g)},m.privateKeyToPem=function(T,C){var b={type:"RSA PRIVATE KEY",body:e.toDer(m.privateKeyToAsn1(T)).getBytes()};return t.pem.encode(b,{maxline:C})},m.privateKeyInfoToPem=function(T,C){var b={type:"PRIVATE KEY",body:e.toDer(T).getBytes()};return t.pem.encode(b,{maxline:C})}},9709:(dt,Ce,p)=>{var t=p(8659);p(4747),p(730),p(8365),function(){if(t.prime)dt.exports=t.prime;else{var e=dt.exports=t.prime=t.prime||{},m=t.jsbn.BigInteger,T=[6,4,2,4,2,4,6,2],C=new m(null);C.fromInt(30);var b=function(a,k){return a|k};e.generateProbablePrime=function(a,k,L){"function"==typeof k&&(L=k,k={});var Z=(k=k||{}).algorithm||"PRIMEINC";"string"==typeof Z&&(Z={name:Z}),Z.options=Z.options||{};var j=k.prng||t.random;if("PRIMEINC"===Z.name)return function g(a,k,L,Z){return"workers"in L?function _(a,k,L,Z){if(typeof Worker>"u")return f(a,k,L,Z);var j=R(a,k),N=L.workers,B=L.workLoad||100,V=30*B/8,J=L.workerScript||"forge/prime.worker.js";if(-1===N)return t.util.estimateCores(function(re,W){re&&(W=2),N=W-1,q()});function q(){N=Math.max(1,N);for(var re=[],W=0;W<N;++W)re[W]=new Worker(J);for(W=0;W<N;++W)re[W].addEventListener("message",E);var X=!1;function E(ne){if(!X){var K=ne.data;if(K.found){for(var le=0;le<re.length;++le)re[le].terminate();return X=!0,Z(null,new m(K.prime,16))}j.bitLength()>a&&(j=R(a,k));var me=j.toString(16);ne.target.postMessage({hex:me,workLoad:B}),j.dAddOffset(V,0)}}}q()}(a,k,L,Z):f(a,k,L,Z)}(a,{nextBytes:function(B){for(var V=j.getBytesSync(B.length),J=0;J<B.length;++J)B[J]=V.charCodeAt(J)}},Z.options,L);throw new Error("Invalid prime generation algorithm: "+Z.name)}}function f(a,k,L,Z){var j=R(a,k),B=function P(a){return a<=100?27:a<=150?18:a<=200?15:a<=250?12:a<=300?9:a<=350?8:a<=400?7:a<=500?6:a<=600?5:a<=800?4:a<=1250?3:2}(j.bitLength());"millerRabinTests"in L&&(B=L.millerRabinTests);var V=10;"maxBlockTime"in L&&(V=L.maxBlockTime),w(j,a,k,0,B,V,Z)}function w(a,k,L,Z,j,N,B){var V=+new Date;do{if(a.bitLength()>k&&(a=R(k,L)),a.isProbablePrime(j))return B(null,a);a.dAddOffset(T[Z++%8],0)}while(N<0||+new Date-V<N);t.util.setImmediate(function(){w(a,k,L,Z,j,N,B)})}function R(a,k){var L=new m(a,k),Z=a-1;return L.testBit(Z)||L.bitwiseTo(m.ONE.shiftLeft(Z),b,L),L.dAddOffset(31-L.mod(C).byteValue(),0),L}}()},4473:(dt,Ce,p)=>{var t=p(8659);p(4747);var e=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=p(5819)),(dt.exports=t.prng=t.prng||{}).create=function(T){for(var C={plugin:T,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},b=T.md,g=new Array(32),f=0;f<32;++f)g[f]=b.create();function _(){if(C.pools[0].messageLength>=32)return R();C.collect(C.seedFileSync(32-C.pools[0].messageLength<<5)),R()}function R(){C.reseeds=4294967295===C.reseeds?0:C.reseeds+1;var a=C.plugin.md.create();a.update(C.keyBytes);for(var k=1,L=0;L<32;++L)C.reseeds%k==0&&(a.update(C.pools[L].digest().getBytes()),C.pools[L].start()),k<<=1;C.keyBytes=a.digest().getBytes(),a.start(),a.update(C.keyBytes);var Z=a.digest().getBytes();C.key=C.plugin.formatKey(C.keyBytes),C.seed=C.plugin.formatSeed(Z),C.generated=0}function P(a){var k=null,L=t.util.globalScope,Z=L.crypto||L.msCrypto;Z&&Z.getRandomValues&&(k=function(G){return Z.getRandomValues(G)});var j=t.util.createBuffer();if(k)for(;j.length()<a;){var N=Math.max(1,Math.min(a-j.length(),65536)/4),B=new Uint32Array(Math.floor(N));try{k(B);for(var V=0;V<B.length;++V)j.putInt32(B[V])}catch(G){if(!(typeof QuotaExceededError<"u"&&G instanceof QuotaExceededError))throw G}}if(j.length()<a)for(var J,q,re,W=Math.floor(65536*Math.random());j.length()<a;)for(q=16807*(65535&W),q+=(32767&(J=16807*(W>>16)))<<16,W=4294967295&(q=(2147483647&(q+=J>>15))+(q>>31)),V=0;V<3;++V)re=W>>>(V<<3),re^=Math.floor(256*Math.random()),j.putByte(255&re);return j.getBytes(a)}return C.pools=g,C.pool=0,C.generate=function(a,k){if(!k)return C.generateSync(a);var L=C.plugin.cipher,Z=C.plugin.increment,j=C.plugin.formatKey,N=C.plugin.formatSeed,B=t.util.createBuffer();C.key=null,function V(J){if(J)return k(J);if(B.length()>=a)return k(null,B.getBytes(a));if(C.generated>1048575&&(C.key=null),null===C.key)return t.util.nextTick(function(){!function w(a){if(C.pools[0].messageLength>=32)return R(),a();C.seedFile(32-C.pools[0].messageLength<<5,function(L,Z){if(L)return a(L);C.collect(Z),R(),a()})}(V)});var q=L(C.key,C.seed);C.generated+=q.length,B.putBytes(q),C.key=j(L(C.key,Z(C.seed))),C.seed=N(L(C.key,C.seed)),t.util.setImmediate(V)}()},C.generateSync=function(a){var k=C.plugin.cipher,L=C.plugin.increment,Z=C.plugin.formatKey,j=C.plugin.formatSeed;C.key=null;for(var N=t.util.createBuffer();N.length()<a;){C.generated>1048575&&(C.key=null),null===C.key&&_();var B=k(C.key,C.seed);C.generated+=B.length,N.putBytes(B),C.key=Z(k(C.key,L(C.seed))),C.seed=j(k(C.key,C.seed))}return N.getBytes(a)},e?(C.seedFile=function(a,k){e.randomBytes(a,function(L,Z){if(L)return k(L);k(null,Z.toString())})},C.seedFileSync=function(a){return e.randomBytes(a).toString()}):(C.seedFile=function(a,k){try{k(null,P(a))}catch(L){k(L)}},C.seedFileSync=P),C.collect=function(a){for(var k=a.length,L=0;L<k;++L)C.pools[C.pool].update(a.substr(L,1)),C.pool=31===C.pool?0:C.pool+1},C.collectInt=function(a,k){for(var L="",Z=0;Z<k;Z+=8)L+=String.fromCharCode(a>>Z&255);C.collect(L)},C.registerWorker=function(a){a===self?C.seedFile=function(L,Z){self.addEventListener("message",function j(N){var B=N.data;B.forge&&B.forge.prng&&(self.removeEventListener("message",j),Z(B.forge.prng.err,B.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:L}}})}:a.addEventListener("message",function(L){var Z=L.data;Z.forge&&Z.forge.prng&&C.seedFile(Z.forge.prng.needed,function(j,N){a.postMessage({forge:{prng:{err:j,bytes:N}}})})})},C}},7256:(dt,Ce,p)=>{var t=p(8659);p(8365),p(4747),(dt.exports=t.pss=t.pss||{}).create=function(m){3===arguments.length&&(m={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var f,T=m.md,C=m.mgf,b=T.digestLength,g=m.salt||null;if("string"==typeof g&&(g=t.util.createBuffer(g)),"saltLength"in m)f=m.saltLength;else{if(null===g)throw new Error("Salt length not specified or specific salt not given.");f=g.length()}if(null!==g&&g.length()!==f)throw new Error("Given salt length does not match length of given salt.");var w=m.prng||t.random,_={encode:function(R,P){var a,j,k=P-1,L=Math.ceil(k/8),Z=R.digest().getBytes();if(L<b+f+2)throw new Error("Message is too long to encrypt.");j=null===g?w.getBytesSync(f):g.bytes();var N=new t.util.ByteBuffer;N.fillWithByte(0,8),N.putBytes(Z),N.putBytes(j),T.start(),T.update(N.getBytes());var B=T.digest().getBytes(),V=new t.util.ByteBuffer;V.fillWithByte(0,L-f-b-2),V.putByte(1),V.putBytes(j);var J=V.getBytes(),q=L-b-1,re=C.generate(B,q),W="";for(a=0;a<q;a++)W+=String.fromCharCode(J.charCodeAt(a)^re.charCodeAt(a));var G=65280>>8*L-k&255;return(W=String.fromCharCode(W.charCodeAt(0)&~G)+W.substr(1))+B+String.fromCharCode(188)},verify:function(R,P,a){var k,L=a-1,Z=Math.ceil(L/8);if(P=P.substr(-Z),Z<b+f+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==P.charCodeAt(Z-1))throw new Error("Encoded message does not end in 0xBC.");var j=Z-b-1,N=P.substr(0,j),B=P.substr(j,b),V=65280>>8*Z-L&255;if(0!=(N.charCodeAt(0)&V))throw new Error("Bits beyond keysize not zero as expected.");var J=C.generate(B,j),q="";for(k=0;k<j;k++)q+=String.fromCharCode(N.charCodeAt(k)^J.charCodeAt(k));q=String.fromCharCode(q.charCodeAt(0)&~V)+q.substr(1);var re=Z-b-f-2;for(k=0;k<re;k++)if(0!==q.charCodeAt(k))throw new Error("Leftmost octets not zero as expected");if(1!==q.charCodeAt(re))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var W=q.substr(-f),G=new t.util.ByteBuffer;return G.fillWithByte(0,8),G.putBytes(R),G.putBytes(W),T.start(),T.update(G.getBytes()),B===T.digest().getBytes()}};return _}},8365:(dt,Ce,p)=>{var t=p(8659);p(1298),p(1594),p(4473),p(4747),t.random&&t.random.getBytes?dt.exports=t.random:function(e){var m={},T=new Array(4),C=t.util.createBuffer();function b(){var a=t.prng.create(m);return a.getBytes=function(k,L){return a.generate(k,L)},a.getBytesSync=function(k){return a.generate(k)},a}m.formatKey=function(a){var k=t.util.createBuffer(a);return(a=new Array(4))[0]=k.getInt32(),a[1]=k.getInt32(),a[2]=k.getInt32(),a[3]=k.getInt32(),t.aes._expandKey(a,!1)},m.formatSeed=function(a){var k=t.util.createBuffer(a);return(a=new Array(4))[0]=k.getInt32(),a[1]=k.getInt32(),a[2]=k.getInt32(),a[3]=k.getInt32(),a},m.cipher=function(a,k){return t.aes._updateBlock(a,k,T,!1),C.putInt32(T[0]),C.putInt32(T[1]),C.putInt32(T[2]),C.putInt32(T[3]),C.getBytes()},m.increment=function(a){return++a[3],a},m.md=t.md.sha256;var g=b(),f=null,w=t.util.globalScope,_=w.crypto||w.msCrypto;if(_&&_.getRandomValues&&(f=function(a){return _.getRandomValues(a)}),t.options.usePureJavaScript||!t.util.isNodejs&&!f){if(typeof window>"u"||window,g.collectInt(+new Date,32),typeof navigator<"u"){var R="";for(var P in navigator)try{"string"==typeof navigator[P]&&(R+=navigator[P])}catch{}g.collect(R),R=null}e&&(e().mousemove(function(a){g.collectInt(a.clientX,16),g.collectInt(a.clientY,16)}),e().keypress(function(a){g.collectInt(a.charCode,8)}))}if(t.random)for(var P in g)t.random[P]=g[P];else t.random=g;t.random.createInstance=b,dt.exports=t.random}(typeof jQuery<"u"?jQuery:null)},209:(dt,Ce,p)=>{var t=p(8659);p(4747);var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],m=[1,2,3,5],T=function(g,f){return g<<f&65535|(65535&g)>>16-f},C=function(g,f){return(65535&g)>>f|g<<16-f&65535};dt.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(g,f){"string"==typeof g&&(g=t.util.createBuffer(g)),f=f||128;var k,w=g,_=g.length(),R=f,P=Math.ceil(R/8),a=255>>(7&R);for(k=_;k<128;k++)w.putByte(e[w.at(k-1)+w.at(k-_)&255]);for(w.setAt(128-P,e[w.at(128-P)&a]),k=127-P;k>=0;k--)w.setAt(k,e[w.at(k+1)^w.at(k+P)]);return w};var b=function(g,f,w){var k,L,Z,j,_=!1,R=null,P=null,a=null,N=[];for(g=t.rc2.expandKey(g,f),Z=0;Z<64;Z++)N.push(g.getInt16Le());w?(k=function(J){for(Z=0;Z<4;Z++)J[Z]+=N[j]+(J[(Z+3)%4]&J[(Z+2)%4])+(~J[(Z+3)%4]&J[(Z+1)%4]),J[Z]=T(J[Z],m[Z]),j++},L=function(J){for(Z=0;Z<4;Z++)J[Z]+=N[63&J[(Z+3)%4]]}):(k=function(J){for(Z=3;Z>=0;Z--)J[Z]=C(J[Z],m[Z]),J[Z]-=N[j]+(J[(Z+3)%4]&J[(Z+2)%4])+(~J[(Z+3)%4]&J[(Z+1)%4]),j--},L=function(J){for(Z=3;Z>=0;Z--)J[Z]-=N[63&J[(Z+3)%4]]});var B=function(J){var q=[];for(Z=0;Z<4;Z++){var re=R.getInt16Le();null!==a&&(w?re^=a.getInt16Le():a.putInt16Le(re)),q.push(65535&re)}j=w?0:63;for(var W=0;W<J.length;W++)for(var G=0;G<J[W][0];G++)J[W][1](q);for(Z=0;Z<4;Z++)null!==a&&(w?a.putInt16Le(q[Z]):q[Z]^=a.getInt16Le()),P.putInt16Le(q[Z])},V=null;return V={start:function(J,q){J&&"string"==typeof J&&(J=t.util.createBuffer(J)),_=!1,R=t.util.createBuffer(),P=q||new t.util.createBuffer,a=J,V.output=P},update:function(J){for(_||R.putBuffer(J);R.length()>=8;)B([[5,k],[1,L],[6,k],[1,L],[5,k]])},finish:function(J){var q=!0;if(w)if(J)q=J(8,R,!w);else{var re=8===R.length()?8:8-R.length();R.fillWithByte(re,re)}if(q&&(_=!0,V.update()),!w&&(q=0===R.length()))if(J)q=J(8,P,!w);else{var W=P.length(),G=P.at(W-1);G>W?q=!1:P.truncate(G)}return q}}};t.rc2.startEncrypting=function(g,f,w){var _=t.rc2.createEncryptionCipher(g,128);return _.start(f,w),_},t.rc2.createEncryptionCipher=function(g,f){return b(g,f,!0)},t.rc2.startDecrypting=function(g,f,w){var _=t.rc2.createDecryptionCipher(g,128);return _.start(f,w),_},t.rc2.createDecryptionCipher=function(g,f){return b(g,f,!1)}},5517:(dt,Ce,p)=>{var t=p(8659);if(p(7791),p(730),p(6078),p(7246),p(9709),p(8365),p(4747),typeof e>"u")var e=t.jsbn.BigInteger;var m=t.util.isNodejs?p(5819):null,T=t.asn1,C=t.util;t.pki=t.pki||{},dt.exports=t.pki.rsa=t.rsa=t.rsa||{};var b=t.pki,g=[6,4,2,4,2,4,6,2],f={name:"PrivateKeyInfo",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:T.Class.UNIVERSAL,type:T.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},w={name:"RSAPrivateKey",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},_={name:"RSAPublicKey",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:T.Class.UNIVERSAL,type:T.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},R=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:T.Class.UNIVERSAL,type:T.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},P={name:"DigestInfo",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:T.Class.UNIVERSAL,type:T.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:T.Class.UNIVERSAL,type:T.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:T.Class.UNIVERSAL,type:T.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:T.Class.UNIVERSAL,type:T.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},a=function(E){if(!(E.algorithm in b.oids)){var K=new Error("Unknown message digest algorithm.");throw K.algorithm=E.algorithm,K}var le=T.oidToDer(b.oids[E.algorithm]).getBytes(),me=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]),Se=T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[]);Se.value.push(T.create(T.Class.UNIVERSAL,T.Type.OID,!1,le)),Se.value.push(T.create(T.Class.UNIVERSAL,T.Type.NULL,!1,""));var ye=T.create(T.Class.UNIVERSAL,T.Type.OCTETSTRING,!1,E.digest().getBytes());return me.value.push(Se),me.value.push(ye),T.toDer(me).getBytes()},k=function(E,ne,K){if(K)return E.modPow(ne.e,ne.n);if(!ne.p||!ne.q)return E.modPow(ne.d,ne.n);var le;ne.dP||(ne.dP=ne.d.mod(ne.p.subtract(e.ONE))),ne.dQ||(ne.dQ=ne.d.mod(ne.q.subtract(e.ONE))),ne.qInv||(ne.qInv=ne.q.modInverse(ne.p));do{le=new e(t.util.bytesToHex(t.random.getBytes(ne.n.bitLength()/8)),16)}while(le.compareTo(ne.n)>=0||!le.gcd(ne.n).equals(e.ONE));for(var me=(E=E.multiply(le.modPow(ne.e,ne.n)).mod(ne.n)).mod(ne.p).modPow(ne.dP,ne.p),Se=E.mod(ne.q).modPow(ne.dQ,ne.q);me.compareTo(Se)<0;)me=me.add(ne.p);var ye=me.subtract(Se).multiply(ne.qInv).mod(ne.p).multiply(ne.q).add(Se);return ye.multiply(le.modInverse(ne.n)).mod(ne.n)};function L(E,ne,K){var le=t.util.createBuffer(),me=Math.ceil(ne.n.bitLength()/8);if(E.length>me-11){var Se=new Error("Message is too long for PKCS#1 v1.5 padding.");throw Se.length=E.length,Se.max=me-11,Se}le.putByte(0),le.putByte(K);var ze,ye=me-3-E.length;if(0===K||1===K){ze=0===K?0:255;for(var Ee=0;Ee<ye;++Ee)le.putByte(ze)}else for(;ye>0;){var qe=0,Te=t.random.getBytes(ye);for(Ee=0;Ee<ye;++Ee)0===(ze=Te.charCodeAt(Ee))?++qe:le.putByte(ze);ye=qe}return le.putByte(0),le.putBytes(E),le}function Z(E,ne,K,le){var me=Math.ceil(ne.n.bitLength()/8),Se=t.util.createBuffer(E),ye=Se.getByte(),ze=Se.getByte();if(0!==ye||K&&0!==ze&&1!==ze||!K&&2!=ze||K&&0===ze&&typeof le>"u")throw new Error("Encryption block is invalid.");var Ee=0;if(0===ze){Ee=me-3-le;for(var qe=0;qe<Ee;++qe)if(0!==Se.getByte())throw new Error("Encryption block is invalid.")}else if(1===ze)for(Ee=0;Se.length()>1;){if(255!==Se.getByte()){--Se.read;break}++Ee}else if(2===ze)for(Ee=0;Se.length()>1;){if(0===Se.getByte()){--Se.read;break}++Ee}if(0!==Se.getByte()||Ee!==me-3-Se.length())throw new Error("Encryption block is invalid.");return Se.getBytes()}function j(E,ne,K){"function"==typeof ne&&(K=ne,ne={});var le={algorithm:{name:(ne=ne||{}).algorithm||"PRIMEINC",options:{workers:ne.workers||2,workLoad:ne.workLoad||100,workerScript:ne.workerScript}}};function me(){Se(E.pBits,function(ze,Ee){return ze?K(ze):(E.p=Ee,null!==E.q?ye(ze,E.q):void Se(E.qBits,ye))})}function Se(ze,Ee){t.prime.generateProbablePrime(ze,le,Ee)}function ye(ze,Ee){if(ze)return K(ze);if(E.q=Ee,E.p.compareTo(E.q)<0){var qe=E.p;E.p=E.q,E.q=qe}if(0!==E.p.subtract(e.ONE).gcd(E.e).compareTo(e.ONE))return E.p=null,void me();if(0!==E.q.subtract(e.ONE).gcd(E.e).compareTo(e.ONE))return E.q=null,void Se(E.qBits,ye);if(E.p1=E.p.subtract(e.ONE),E.q1=E.q.subtract(e.ONE),E.phi=E.p1.multiply(E.q1),0!==E.phi.gcd(E.e).compareTo(e.ONE))return E.p=E.q=null,void me();if(E.n=E.p.multiply(E.q),E.n.bitLength()!==E.bits)return E.q=null,void Se(E.qBits,ye);var Te=E.e.modInverse(E.phi);E.keys={privateKey:b.rsa.setPrivateKey(E.n,E.e,Te,E.p,E.q,Te.mod(E.p1),Te.mod(E.q1),E.q.modInverse(E.p)),publicKey:b.rsa.setPublicKey(E.n,E.e)},K(null,E.keys)}"prng"in ne&&(le.prng=ne.prng),me()}function N(E){var ne=E.toString(16);ne[0]>="8"&&(ne="00"+ne);var K=t.util.hexToBytes(ne);return K.length>1&&(0===K.charCodeAt(0)&&0==(128&K.charCodeAt(1))||255===K.charCodeAt(0)&&128==(128&K.charCodeAt(1)))?K.substr(1):K}function B(E){return E<=100?27:E<=150?18:E<=200?15:E<=250?12:E<=300?9:E<=350?8:E<=400?7:E<=500?6:E<=600?5:E<=800?4:E<=1250?3:2}function V(E){return t.util.isNodejs&&"function"==typeof m[E]}function J(E){return typeof C.globalScope<"u"&&"object"==typeof C.globalScope.crypto&&"object"==typeof C.globalScope.crypto.subtle&&"function"==typeof C.globalScope.crypto.subtle[E]}function q(E){return typeof C.globalScope<"u"&&"object"==typeof C.globalScope.msCrypto&&"object"==typeof C.globalScope.msCrypto.subtle&&"function"==typeof C.globalScope.msCrypto.subtle[E]}function re(E){for(var ne=t.util.hexToBytes(E.toString(16)),K=new Uint8Array(ne.length),le=0;le<ne.length;++le)K[le]=ne.charCodeAt(le);return K}b.rsa.encrypt=function(E,ne,K){var me,le=K,Se=Math.ceil(ne.n.bitLength()/8);!1!==K&&!0!==K?(le=2===K,me=L(E,ne,K)):(me=t.util.createBuffer()).putBytes(E);for(var ye=new e(me.toHex(),16),Ee=k(ye,ne,le).toString(16),qe=t.util.createBuffer(),Te=Se-Math.ceil(Ee.length/2);Te>0;)qe.putByte(0),--Te;return qe.putBytes(t.util.hexToBytes(Ee)),qe.getBytes()},b.rsa.decrypt=function(E,ne,K,le){var me=Math.ceil(ne.n.bitLength()/8);if(E.length!==me){var Se=new Error("Encrypted message length is invalid.");throw Se.length=E.length,Se.expected=me,Se}var ye=new e(t.util.createBuffer(E).toHex(),16);if(ye.compareTo(ne.n)>=0)throw new Error("Encrypted message is invalid.");for(var Ee=k(ye,ne,K).toString(16),qe=t.util.createBuffer(),Te=me-Math.ceil(Ee.length/2);Te>0;)qe.putByte(0),--Te;return qe.putBytes(t.util.hexToBytes(Ee)),!1!==le?Z(qe.getBytes(),ne,K):qe.getBytes()},b.rsa.createKeyPairGenerationState=function(E,ne,K){"string"==typeof E&&(E=parseInt(E,10)),E=E||2048;var ye,le=(K=K||{}).prng||t.random,me={nextBytes:function(ze){for(var Ee=le.getBytesSync(ze.length),qe=0;qe<ze.length;++qe)ze[qe]=Ee.charCodeAt(qe)}},Se=K.algorithm||"PRIMEINC";if("PRIMEINC"!==Se)throw new Error("Invalid key generation algorithm: "+Se);return(ye={algorithm:Se,state:0,bits:E,rng:me,eInt:ne||65537,e:new e(null),p:null,q:null,qBits:E>>1,pBits:E-(E>>1),pqState:0,num:null,keys:null}).e.fromInt(ye.eInt),ye},b.rsa.stepKeyPairGenerationState=function(E,ne){"algorithm"in E||(E.algorithm="PRIMEINC");var K=new e(null);K.fromInt(30);for(var ye,le=0,me=function(nt,at){return nt|at},Se=+new Date,ze=0;null===E.keys&&(ne<=0||ze<ne);){if(0===E.state){var Ee=null===E.p?E.pBits:E.qBits,qe=Ee-1;0===E.pqState?(E.num=new e(Ee,E.rng),E.num.testBit(qe)||E.num.bitwiseTo(e.ONE.shiftLeft(qe),me,E.num),E.num.dAddOffset(31-E.num.mod(K).byteValue(),0),le=0,++E.pqState):1===E.pqState?E.num.bitLength()>Ee?E.pqState=0:E.num.isProbablePrime(B(E.num.bitLength()))?++E.pqState:E.num.dAddOffset(g[le++%8],0):2===E.pqState?E.pqState=0===E.num.subtract(e.ONE).gcd(E.e).compareTo(e.ONE)?3:0:3===E.pqState&&(E.pqState=0,null===E.p?E.p=E.num:E.q=E.num,null!==E.p&&null!==E.q&&++E.state,E.num=null)}else if(1===E.state)E.p.compareTo(E.q)<0&&(E.num=E.p,E.p=E.q,E.q=E.num),++E.state;else if(2===E.state)E.p1=E.p.subtract(e.ONE),E.q1=E.q.subtract(e.ONE),E.phi=E.p1.multiply(E.q1),++E.state;else if(3===E.state)0===E.phi.gcd(E.e).compareTo(e.ONE)?++E.state:(E.p=null,E.q=null,E.state=0);else if(4===E.state)E.n=E.p.multiply(E.q),E.n.bitLength()===E.bits?++E.state:(E.q=null,E.state=0);else if(5===E.state){var Te=E.e.modInverse(E.phi);E.keys={privateKey:b.rsa.setPrivateKey(E.n,E.e,Te,E.p,E.q,Te.mod(E.p1),Te.mod(E.q1),E.q.modInverse(E.p)),publicKey:b.rsa.setPublicKey(E.n,E.e)}}ze+=(ye=+new Date)-Se,Se=ye}return null!==E.keys},b.rsa.generateKeyPair=function(E,ne,K,le){if(1===arguments.length?"object"==typeof E?(K=E,E=void 0):"function"==typeof E&&(le=E,E=void 0):2===arguments.length?"number"==typeof E?"function"==typeof ne?(le=ne,ne=void 0):"number"!=typeof ne&&(K=ne,ne=void 0):(K=E,le=ne,E=void 0,ne=void 0):3===arguments.length&&("number"==typeof ne?"function"==typeof K&&(le=K,K=void 0):(le=K,K=ne,ne=void 0)),K=K||{},void 0===E&&(E=K.bits||2048),void 0===ne&&(ne=K.e||65537),!t.options.usePureJavaScript&&!K.prng&&E>=256&&E<=16384&&(65537===ne||3===ne))if(le){if(V("generateKeyPair"))return m.generateKeyPair("rsa",{modulusLength:E,publicExponent:ne,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(ze,Ee,qe){if(ze)return le(ze);le(null,{privateKey:b.privateKeyFromPem(qe),publicKey:b.publicKeyFromPem(Ee)})});if(J("generateKey")&&J("exportKey"))return C.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:E,publicExponent:re(ne),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(ze){return C.globalScope.crypto.subtle.exportKey("pkcs8",ze.privateKey)}).then(void 0,function(ze){le(ze)}).then(function(ze){if(ze){var Ee=b.privateKeyFromAsn1(T.fromDer(t.util.createBuffer(ze)));le(null,{privateKey:Ee,publicKey:b.setRsaPublicKey(Ee.n,Ee.e)})}});if(q("generateKey")&&q("exportKey")){var me=C.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:E,publicExponent:re(ne),hash:{name:"SHA-256"}},!0,["sign","verify"]);return me.oncomplete=function(ze){var qe=C.globalScope.msCrypto.subtle.exportKey("pkcs8",ze.target.result.privateKey);qe.oncomplete=function(Te){var at=b.privateKeyFromAsn1(T.fromDer(t.util.createBuffer(Te.target.result)));le(null,{privateKey:at,publicKey:b.setRsaPublicKey(at.n,at.e)})},qe.onerror=function(Te){le(Te)}},void(me.onerror=function(ze){le(ze)})}}else if(V("generateKeyPairSync")){var Se=m.generateKeyPairSync("rsa",{modulusLength:E,publicExponent:ne,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:b.privateKeyFromPem(Se.privateKey),publicKey:b.publicKeyFromPem(Se.publicKey)}}var ye=b.rsa.createKeyPairGenerationState(E,ne,K);if(!le)return b.rsa.stepKeyPairGenerationState(ye,0),ye.keys;j(ye,K,le)},b.setRsaPublicKey=b.rsa.setPublicKey=function(E,ne){var K={n:E,e:ne,encrypt:function(le,me,Se){if("string"==typeof me?me=me.toUpperCase():void 0===me&&(me="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===me)me={encode:function(ze,Ee,qe){return L(ze,Ee,2).getBytes()}};else if("RSA-OAEP"===me||"RSAES-OAEP"===me)me={encode:function(ze,Ee){return t.pkcs1.encode_rsa_oaep(Ee,ze,Se)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(me))me={encode:function(ze){return ze}};else if("string"==typeof me)throw new Error('Unsupported encryption scheme: "'+me+'".');var ye=me.encode(le,K,!0);return b.rsa.encrypt(ye,K,!0)},verify:function(le,me,Se,ye){"string"==typeof Se?Se=Se.toUpperCase():void 0===Se&&(Se="RSASSA-PKCS1-V1_5"),void 0===ye&&(ye={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in ye||(ye._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===Se?Se={verify:function(Ee,qe){qe=Z(qe,K,!0);var Te=T.fromDer(qe,{parseAllBytes:ye._parseAllDigestBytes}),nt={},at=[];if(!T.validate(Te,P,nt,at))throw(wt=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=at,wt;var wt,lt=T.derToOid(nt.algorithmIdentifier);if(lt!==t.oids.md2&&lt!==t.oids.md5&&lt!==t.oids.sha1&&lt!==t.oids.sha224&&lt!==t.oids.sha256&&lt!==t.oids.sha384&&lt!==t.oids.sha512&&lt!==t.oids["sha512-224"]&&lt!==t.oids["sha512-256"])throw(wt=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=lt,wt;if((lt===t.oids.md2||lt===t.oids.md5)&&!("parameters"in nt))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return Ee===nt.digest}}:("NONE"===Se||"NULL"===Se||null===Se)&&(Se={verify:function(Ee,qe){return Ee===Z(qe,K,!0)}});var ze=b.rsa.decrypt(me,K,!0,!1);return Se.verify(le,ze,K.n.bitLength())}};return K},b.setRsaPrivateKey=b.rsa.setPrivateKey=function(E,ne,K,le,me,Se,ye,ze){var Ee={n:E,e:ne,d:K,p:le,q:me,dP:Se,dQ:ye,qInv:ze,decrypt:function(qe,Te,nt){"string"==typeof Te?Te=Te.toUpperCase():void 0===Te&&(Te="RSAES-PKCS1-V1_5");var at=b.rsa.decrypt(qe,Ee,!1,!1);if("RSAES-PKCS1-V1_5"===Te)Te={decode:Z};else if("RSA-OAEP"===Te||"RSAES-OAEP"===Te)Te={decode:function(wt,lt){return t.pkcs1.decode_rsa_oaep(lt,wt,nt)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(Te))throw new Error('Unsupported encryption scheme: "'+Te+'".');Te={decode:function(wt){return wt}}}return Te.decode(at,Ee,!1)},sign:function(qe,Te){var nt=!1;"string"==typeof Te&&(Te=Te.toUpperCase()),void 0===Te||"RSASSA-PKCS1-V1_5"===Te?(Te={encode:a},nt=1):("NONE"===Te||"NULL"===Te||null===Te)&&(Te={encode:function(){return qe}},nt=1);var at=Te.encode(qe,Ee.n.bitLength());return b.rsa.encrypt(at,Ee,nt)}};return Ee},b.wrapRsaPrivateKey=function(E){return T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,T.integerToDer(0).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(b.oids.rsaEncryption).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.NULL,!1,"")]),T.create(T.Class.UNIVERSAL,T.Type.OCTETSTRING,!1,T.toDer(E).getBytes())])},b.privateKeyFromAsn1=function(E){var me,Se,ye,ze,Ee,qe,Te,nt,ne={},K=[];if(T.validate(E,f,ne,K)&&(E=T.fromDer(t.util.createBuffer(ne.privateKey))),!T.validate(E,w,ne={},K=[])){var le=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw le.errors=K,le}return me=t.util.createBuffer(ne.privateKeyModulus).toHex(),Se=t.util.createBuffer(ne.privateKeyPublicExponent).toHex(),ye=t.util.createBuffer(ne.privateKeyPrivateExponent).toHex(),ze=t.util.createBuffer(ne.privateKeyPrime1).toHex(),Ee=t.util.createBuffer(ne.privateKeyPrime2).toHex(),qe=t.util.createBuffer(ne.privateKeyExponent1).toHex(),Te=t.util.createBuffer(ne.privateKeyExponent2).toHex(),nt=t.util.createBuffer(ne.privateKeyCoefficient).toHex(),b.setRsaPrivateKey(new e(me,16),new e(Se,16),new e(ye,16),new e(ze,16),new e(Ee,16),new e(qe,16),new e(Te,16),new e(nt,16))},b.privateKeyToAsn1=b.privateKeyToRSAPrivateKey=function(E){return T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,T.integerToDer(0).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.n)),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.e)),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.d)),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.p)),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.q)),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.dP)),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.dQ)),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.qInv))])},b.publicKeyFromAsn1=function(E){var ne={},K=[];if(T.validate(E,R,ne,K)){var me,le=T.derToOid(ne.publicKeyOid);if(le!==b.oids.rsaEncryption)throw(me=new Error("Cannot read public key. Unknown OID.")).oid=le,me;E=ne.rsaPublicKey}if(!T.validate(E,_,ne,K=[]))throw(me=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=K,me;var Se=t.util.createBuffer(ne.publicKeyModulus).toHex(),ye=t.util.createBuffer(ne.publicKeyExponent).toHex();return b.setRsaPublicKey(new e(Se,16),new e(ye,16))},b.publicKeyToAsn1=b.publicKeyToSubjectPublicKeyInfo=function(E){return T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.OID,!1,T.oidToDer(b.oids.rsaEncryption).getBytes()),T.create(T.Class.UNIVERSAL,T.Type.NULL,!1,"")]),T.create(T.Class.UNIVERSAL,T.Type.BITSTRING,!1,[b.publicKeyToRSAPublicKey(E)])])},b.publicKeyToRSAPublicKey=function(E){return T.create(T.Class.UNIVERSAL,T.Type.SEQUENCE,!0,[T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.n)),T.create(T.Class.UNIVERSAL,T.Type.INTEGER,!1,N(E.e))])}},7690:(dt,Ce,p)=>{var t=p(8659);p(979),p(4747);var e=dt.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=e,e.create=function(){T||function C(){m=String.fromCharCode(128),m+=t.util.fillString(String.fromCharCode(0),64),T=!0}();var g=null,f=t.util.createBuffer(),w=new Array(80),_={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){_.messageLength=0,_.fullMessageLength=_.messageLength64=[];for(var R=_.messageLengthSize/4,P=0;P<R;++P)_.fullMessageLength.push(0);return f=t.util.createBuffer(),g={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},_}};return _.start(),_.update=function(R,P){"utf8"===P&&(R=t.util.encodeUtf8(R));var a=R.length;_.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var k=_.fullMessageLength.length-1;k>=0;--k)_.fullMessageLength[k]+=a[1],a[1]=a[0]+(_.fullMessageLength[k]/4294967296>>>0),_.fullMessageLength[k]=_.fullMessageLength[k]>>>0,a[0]=a[1]/4294967296>>>0;return f.putBytes(R),b(g,w,f),(f.read>2048||0===f.length())&&f.compact(),_},_.digest=function(){var R=t.util.createBuffer();R.putBytes(f.bytes()),R.putBytes(m.substr(0,_.blockLength-(_.fullMessageLength[_.fullMessageLength.length-1]+_.messageLengthSize&_.blockLength-1)));for(var k,Z=8*_.fullMessageLength[0],j=0;j<_.fullMessageLength.length-1;++j)R.putInt32((Z+=(k=8*_.fullMessageLength[j+1])/4294967296>>>0)>>>0),Z=k>>>0;R.putInt32(Z);var N={h0:g.h0,h1:g.h1,h2:g.h2,h3:g.h3,h4:g.h4};b(N,w,R);var B=t.util.createBuffer();return B.putInt32(N.h0),B.putInt32(N.h1),B.putInt32(N.h2),B.putInt32(N.h3),B.putInt32(N.h4),B},_};var m=null,T=!1;function b(g,f,w){for(var _,R,P,a,k,L,j,N=w.length();N>=64;){for(R=g.h0,P=g.h1,a=g.h2,k=g.h3,L=g.h4,j=0;j<16;++j)_=w.getInt32(),f[j]=_,_=(R<<5|R>>>27)+(k^P&(a^k))+L+1518500249+_,L=k,k=a,a=(P<<30|P>>>2)>>>0,P=R,R=_;for(;j<20;++j)f[j]=_=(_=f[j-3]^f[j-8]^f[j-14]^f[j-16])<<1|_>>>31,_=(R<<5|R>>>27)+(k^P&(a^k))+L+1518500249+_,L=k,k=a,a=(P<<30|P>>>2)>>>0,P=R,R=_;for(;j<32;++j)f[j]=_=(_=f[j-3]^f[j-8]^f[j-14]^f[j-16])<<1|_>>>31,_=(R<<5|R>>>27)+(P^a^k)+L+1859775393+_,L=k,k=a,a=(P<<30|P>>>2)>>>0,P=R,R=_;for(;j<40;++j)f[j]=_=(_=f[j-6]^f[j-16]^f[j-28]^f[j-32])<<2|_>>>30,_=(R<<5|R>>>27)+(P^a^k)+L+1859775393+_,L=k,k=a,a=(P<<30|P>>>2)>>>0,P=R,R=_;for(;j<60;++j)f[j]=_=(_=f[j-6]^f[j-16]^f[j-28]^f[j-32])<<2|_>>>30,_=(R<<5|R>>>27)+(P&a|k&(P^a))+L+2400959708+_,L=k,k=a,a=(P<<30|P>>>2)>>>0,P=R,R=_;for(;j<80;++j)f[j]=_=(_=f[j-6]^f[j-16]^f[j-28]^f[j-32])<<2|_>>>30,_=(R<<5|R>>>27)+(P^a^k)+L+3395469782+_,L=k,k=a,a=(P<<30|P>>>2)>>>0,P=R,R=_;g.h0=g.h0+R|0,g.h1=g.h1+P|0,g.h2=g.h2+a|0,g.h3=g.h3+k|0,g.h4=g.h4+L|0,N-=64}}},1594:(dt,Ce,p)=>{var t=p(8659);p(979),p(4747);var e=dt.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=e,e.create=function(){T||function b(){m=String.fromCharCode(128),m+=t.util.fillString(String.fromCharCode(0),64),C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],T=!0}();var f=null,w=t.util.createBuffer(),_=new Array(64),R={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){R.messageLength=0,R.fullMessageLength=R.messageLength64=[];for(var P=R.messageLengthSize/4,a=0;a<P;++a)R.fullMessageLength.push(0);return w=t.util.createBuffer(),f={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},R}};return R.start(),R.update=function(P,a){"utf8"===a&&(P=t.util.encodeUtf8(P));var k=P.length;R.messageLength+=k,k=[k/4294967296>>>0,k>>>0];for(var L=R.fullMessageLength.length-1;L>=0;--L)R.fullMessageLength[L]+=k[1],k[1]=k[0]+(R.fullMessageLength[L]/4294967296>>>0),R.fullMessageLength[L]=R.fullMessageLength[L]>>>0,k[0]=k[1]/4294967296>>>0;return w.putBytes(P),g(f,_,w),(w.read>2048||0===w.length())&&w.compact(),R},R.digest=function(){var P=t.util.createBuffer();P.putBytes(w.bytes()),P.putBytes(m.substr(0,R.blockLength-(R.fullMessageLength[R.fullMessageLength.length-1]+R.messageLengthSize&R.blockLength-1)));for(var L,j=8*R.fullMessageLength[0],N=0;N<R.fullMessageLength.length-1;++N)P.putInt32((j+=(L=8*R.fullMessageLength[N+1])/4294967296>>>0)>>>0),j=L>>>0;P.putInt32(j);var B={h0:f.h0,h1:f.h1,h2:f.h2,h3:f.h3,h4:f.h4,h5:f.h5,h6:f.h6,h7:f.h7};g(B,_,P);var V=t.util.createBuffer();return V.putInt32(B.h0),V.putInt32(B.h1),V.putInt32(B.h2),V.putInt32(B.h3),V.putInt32(B.h4),V.putInt32(B.h5),V.putInt32(B.h6),V.putInt32(B.h7),V},R};var m=null,T=!1,C=null;function g(f,w,_){for(var R,P,Z,j,N,B,V,J,q,re,W,G,X=_.length();X>=64;){for(j=0;j<16;++j)w[j]=_.getInt32();for(;j<64;++j)w[j]=(R=((R=w[j-2])>>>17|R<<15)^(R>>>19|R<<13)^R>>>10)+w[j-7]+(P=((P=w[j-15])>>>7|P<<25)^(P>>>18|P<<14)^P>>>3)+w[j-16]|0;for(N=f.h0,B=f.h1,V=f.h2,J=f.h3,q=f.h4,re=f.h5,W=f.h6,G=f.h7,j=0;j<64;++j)Z=N&B|V&(N^B),R=G+((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))+(W^q&(re^W))+C[j]+w[j],G=W,W=re,re=q,q=J+R>>>0,J=V,V=B,B=N,N=R+(P=((N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10))+Z)>>>0;f.h0=f.h0+N|0,f.h1=f.h1+B|0,f.h2=f.h2+V|0,f.h3=f.h3+J|0,f.h4=f.h4+q|0,f.h5=f.h5+re|0,f.h6=f.h6+W|0,f.h7=f.h7+G|0,X-=64}}},8985:(dt,Ce,p)=>{var t=p(8659);p(979),p(4747);var e=dt.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=e;var m=t.sha384=t.sha512.sha384=t.sha512.sha384||{};m.create=function(){return e.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=m,t.sha512.sha256=t.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,e.create=function(_){if(C||function f(){T=String.fromCharCode(128),T+=t.util.fillString(String.fromCharCode(0),128),b=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(g={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],g["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],g["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],g["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],C=!0}(),typeof _>"u"&&(_="SHA-512"),!(_ in g))throw new Error("Invalid SHA-512 algorithm: "+_);for(var R=g[_],P=null,a=t.util.createBuffer(),k=new Array(80),L=0;L<80;++L)k[L]=new Array(2);var Z=64;switch(_){case"SHA-384":Z=48;break;case"SHA-512/256":Z=32;break;case"SHA-512/224":Z=28}var j={algorithm:_.replace("-","").toLowerCase(),blockLength:128,digestLength:Z,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){j.messageLength=0,j.fullMessageLength=j.messageLength128=[];for(var N=j.messageLengthSize/4,B=0;B<N;++B)j.fullMessageLength.push(0);for(a=t.util.createBuffer(),P=new Array(R.length),B=0;B<R.length;++B)P[B]=R[B].slice(0);return j}};return j.start(),j.update=function(N,B){"utf8"===B&&(N=t.util.encodeUtf8(N));var V=N.length;j.messageLength+=V,V=[V/4294967296>>>0,V>>>0];for(var J=j.fullMessageLength.length-1;J>=0;--J)j.fullMessageLength[J]+=V[1],V[1]=V[0]+(j.fullMessageLength[J]/4294967296>>>0),j.fullMessageLength[J]=j.fullMessageLength[J]>>>0,V[0]=V[1]/4294967296>>>0;return a.putBytes(N),w(P,k,a),(a.read>2048||0===a.length())&&a.compact(),j},j.digest=function(){var N=t.util.createBuffer();N.putBytes(a.bytes()),N.putBytes(T.substr(0,j.blockLength-(j.fullMessageLength[j.fullMessageLength.length-1]+j.messageLengthSize&j.blockLength-1)));for(var J,re=8*j.fullMessageLength[0],W=0;W<j.fullMessageLength.length-1;++W)N.putInt32((re+=(J=8*j.fullMessageLength[W+1])/4294967296>>>0)>>>0),re=J>>>0;N.putInt32(re);var G=new Array(P.length);for(W=0;W<P.length;++W)G[W]=P[W].slice(0);w(G,k,N);var E,X=t.util.createBuffer();for(E="SHA-512"===_?G.length:"SHA-384"===_?G.length-2:G.length-4,W=0;W<E;++W)X.putInt32(G[W][0]),(W!==E-1||"SHA-512/224"!==_)&&X.putInt32(G[W][1]);return X},j};var T=null,C=!1,b=null,g=null;function w(_,R,P){for(var a,k,L,Z,G,X,E,ne,K,le,me,Se,ye,ze,Ee,qe,Te,nt,at,wt,lt,mt,pt,Yt,un,Nt,Mt,Y=P.length();Y>=128;){for(lt=0;lt<16;++lt)R[lt][0]=P.getInt32()>>>0,R[lt][1]=P.getInt32()>>>0;for(;lt<80;++lt)k=(((mt=(Yt=R[lt-2])[0])<<13|(pt=Yt[1])>>>19)^(pt<<3|mt>>>29)^(mt<<26|pt>>>6))>>>0,R[lt][0]=(a=((mt>>>19|pt<<13)^(pt>>>29|mt<<3)^mt>>>6)>>>0)+(un=R[lt-7])[0]+(L=(((mt=(Nt=R[lt-15])[0])>>>1|(pt=Nt[1])<<31)^(mt>>>8|pt<<24)^mt>>>7)>>>0)+(Mt=R[lt-16])[0]+((pt=k+un[1]+(Z=((mt<<31|pt>>>1)^(mt<<24|pt>>>8)^(mt<<25|pt>>>7))>>>0)+Mt[1])/4294967296>>>0)>>>0,R[lt][1]=pt>>>0;for(G=_[0][0],X=_[0][1],E=_[1][0],ne=_[1][1],K=_[2][0],le=_[2][1],me=_[3][0],Se=_[3][1],ye=_[4][0],ze=_[4][1],Ee=_[5][0],qe=_[5][1],Te=_[6][0],nt=_[6][1],at=_[7][0],wt=_[7][1],lt=0;lt<80;++lt)a=at+(((ye>>>14|ze<<18)^(ye>>>18|ze<<14)^(ze>>>9|ye<<23))>>>0)+((Te^ye&(Ee^Te))>>>0)+b[lt][0]+R[lt][0]+((pt=wt+(((ye<<18|ze>>>14)^(ye<<14|ze>>>18)^(ze<<23|ye>>>9))>>>0)+((nt^ze&(qe^nt))>>>0)+b[lt][1]+R[lt][1])/4294967296>>>0)>>>0,k=pt>>>0,L=(((G>>>28|X<<4)^(X>>>2|G<<30)^(X>>>7|G<<25))>>>0)+((G&E|K&(G^E))>>>0)+((pt=(((G<<4|X>>>28)^(X<<30|G>>>2)^(X<<25|G>>>7))>>>0)+((X&ne|le&(X^ne))>>>0))/4294967296>>>0)>>>0,Z=pt>>>0,at=Te,wt=nt,Te=Ee,nt=qe,Ee=ye,qe=ze,ye=me+a+((pt=Se+k)/4294967296>>>0)>>>0,ze=pt>>>0,me=K,Se=le,K=E,le=ne,E=G,ne=X,G=a+L+((pt=k+Z)/4294967296>>>0)>>>0,X=pt>>>0;_[0][0]=_[0][0]+G+((pt=_[0][1]+X)/4294967296>>>0)>>>0,_[0][1]=pt>>>0,_[1][0]=_[1][0]+E+((pt=_[1][1]+ne)/4294967296>>>0)>>>0,_[1][1]=pt>>>0,_[2][0]=_[2][0]+K+((pt=_[2][1]+le)/4294967296>>>0)>>>0,_[2][1]=pt>>>0,_[3][0]=_[3][0]+me+((pt=_[3][1]+Se)/4294967296>>>0)>>>0,_[3][1]=pt>>>0,_[4][0]=_[4][0]+ye+((pt=_[4][1]+ze)/4294967296>>>0)>>>0,_[4][1]=pt>>>0,_[5][0]=_[5][0]+Ee+((pt=_[5][1]+qe)/4294967296>>>0)>>>0,_[5][1]=pt>>>0,_[6][0]=_[6][0]+Te+((pt=_[6][1]+nt)/4294967296>>>0)>>>0,_[6][1]=pt>>>0,_[7][0]=_[7][0]+at+((pt=_[7][1]+wt)/4294967296>>>0)>>>0,_[7][1]=pt>>>0,Y-=128}}},1015:(dt,Ce,p)=>{var t=p(8659);p(1298),p(9032),p(2687),p(7690),p(4747);var e=dt.exports=t.ssh=t.ssh||{};function m(b,g){var f=g.toString(16);f[0]>="8"&&(f="00"+f);var w=t.util.hexToBytes(f);b.putInt32(w.length),b.putBytes(w)}function T(b,g){b.putInt32(g.length),b.putString(g)}function C(){for(var b=t.md.sha1.create(),g=arguments.length,f=0;f<g;++f)b.update(arguments[f]);return b.digest()}e.privateKeyToPutty=function(b,g,f){var w="ssh-rsa",_=""===(g=g||"")?"none":"aes256-cbc",R="PuTTY-User-Key-File-2: "+w+"\r\n";R+="Encryption: "+_+"\r\n",R+="Comment: "+(f=f||"")+"\r\n";var P=t.util.createBuffer();T(P,w),m(P,b.e),m(P,b.n);var a=t.util.encode64(P.bytes(),64),k=Math.floor(a.length/66)+1;R+="Public-Lines: "+k+"\r\n",R+=a;var Z,L=t.util.createBuffer();if(m(L,b.d),m(L,b.p),m(L,b.q),m(L,b.qInv),g){var j=L.length()+16-1;j-=j%16;var N=C(L.bytes());N.truncate(N.length()-j+L.length()),L.putBuffer(N);var B=t.util.createBuffer();B.putBuffer(C("\0\0\0\0",g)),B.putBuffer(C("\0\0\0\x01",g));var V=t.aes.createEncryptionCipher(B.truncate(8),"CBC");V.start(t.util.createBuffer().fillWithByte(0,16)),V.update(L.copy()),V.finish();var J=V.output;J.truncate(16),Z=t.util.encode64(J.bytes(),64)}else Z=t.util.encode64(L.bytes(),64);R+="\r\nPrivate-Lines: "+(k=Math.floor(Z.length/66)+1)+"\r\n",R+=Z;var q=C("putty-private-key-file-mac-key",g),re=t.util.createBuffer();T(re,w),T(re,_),T(re,f),re.putInt32(P.length()),re.putBuffer(P),re.putInt32(L.length()),re.putBuffer(L);var W=t.hmac.create();return W.start("sha1",q),W.update(re.bytes()),R+"\r\nPrivate-MAC: "+W.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(b,g){var f="ssh-rsa";g=g||"";var w=t.util.createBuffer();return T(w,f),m(w,b.e),m(w,b.n),f+" "+t.util.encode64(w.bytes())+" "+g},e.privateKeyToOpenSSH=function(b,g){return g?t.pki.encryptRsaPrivateKey(b,g,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(b)},e.getPublicKeyFingerprint=function(b,g){var f=(g=g||{}).md||t.md.md5.create(),_=t.util.createBuffer();T(_,"ssh-rsa"),m(_,b.e),m(_,b.n),f.start(),f.update(_.getBytes());var R=f.digest();if("hex"===g.encoding){var P=R.toHex();return g.delimiter?P.match(/.{2}/g).join(g.delimiter):P}if("binary"===g.encoding)return R.getBytes();if(g.encoding)throw new Error('Unknown encoding "'+g.encoding+'".');return R}},2266:(dt,Ce,p)=>{var t=p(8659);p(7791),p(9032),p(2687),p(8604),p(1965),p(8365),p(7690),p(4747);var e=function(Y,Q,ce,We){var Je=t.util.createBuffer(),Oe=Y.length>>1,i=Oe+(1&Y.length),we=Y.substr(0,i),$e=Y.substr(Oe,i),Ye=t.util.createBuffer(),Xe=t.hmac.create();ce=Q+ce;var Fe=Math.ceil(We/16),Tt=Math.ceil(We/20);Xe.start("MD5",we);var vt=t.util.createBuffer();Ye.putBytes(ce);for(var Ge=0;Ge<Fe;++Ge)Xe.start(null,null),Xe.update(Ye.getBytes()),Ye.putBuffer(Xe.digest()),Xe.start(null,null),Xe.update(Ye.bytes()+ce),vt.putBuffer(Xe.digest());Xe.start("SHA1",$e);var de=t.util.createBuffer();for(Ye.clear(),Ye.putBytes(ce),Ge=0;Ge<Tt;++Ge)Xe.start(null,null),Xe.update(Ye.getBytes()),Ye.putBuffer(Xe.digest()),Xe.start(null,null),Xe.update(Ye.bytes()+ce),de.putBuffer(Xe.digest());return Je.putBytes(t.util.xorBytes(vt.getBytes(),de.getBytes(),We)),Je},C=function(Y,Q,ce){var We=!1;try{var Je=Y.deflate(Q.fragment.getBytes());Q.fragment=t.util.createBuffer(Je),Q.length=Je.length,We=!0}catch{}return We},b=function(Y,Q,ce){var We=!1;try{var Je=Y.inflate(Q.fragment.getBytes());Q.fragment=t.util.createBuffer(Je),Q.length=Je.length,We=!0}catch{}return We},g=function(Y,Q){var ce=0;switch(Q){case 1:ce=Y.getByte();break;case 2:ce=Y.getInt16();break;case 3:ce=Y.getInt24();break;case 4:ce=Y.getInt32()}return t.util.createBuffer(Y.getBytes(ce))},f=function(Y,Q,ce){Y.putInt(ce.length(),Q<<3),Y.putBuffer(ce)},w={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};w.SupportedVersions=[w.Versions.TLS_1_1,w.Versions.TLS_1_0],w.Version=w.SupportedVersions[0],w.MaxFragment=15360,w.ConnectionEnd={server:0,client:1},w.PRFAlgorithm={tls_prf_sha256:0},w.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},w.CipherType={stream:0,block:1,aead:2},w.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},w.CompressionMethod={none:0,deflate:1},w.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},w.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},w.Alert={},w.Alert.Level={warning:1,fatal:2},w.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},w.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},w.CipherSuites={},w.getCipherSuite=function(Y){var Q=null;for(var ce in w.CipherSuites){var We=w.CipherSuites[ce];if(We.id[0]===Y.charCodeAt(0)&&We.id[1]===Y.charCodeAt(1)){Q=We;break}}return Q},w.handleUnexpected=function(Y,Q){!Y.open&&Y.entity===w.ConnectionEnd.client||Y.error(Y,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.unexpected_message}})},w.handleHelloRequest=function(Y,Q,ce){!Y.handshaking&&Y.handshakes>0&&(w.queue(Y,w.createAlert(Y,{level:w.Alert.Level.warning,description:w.Alert.Description.no_renegotiation})),w.flush(Y)),Y.process()},w.parseHelloMessage=function(Y,Q,ce){var We=null,Je=Y.entity===w.ConnectionEnd.client;if(ce<38)Y.error(Y,{message:Je?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});else{var Oe=Q.fragment,i=Oe.length();if(We={version:{major:Oe.getByte(),minor:Oe.getByte()},random:t.util.createBuffer(Oe.getBytes(32)),session_id:g(Oe,1),extensions:[]},Je?(We.cipher_suite=Oe.getBytes(2),We.compression_method=Oe.getByte()):(We.cipher_suites=g(Oe,2),We.compression_methods=g(Oe,1)),(i=ce-(i-Oe.length()))>0){for(var we=g(Oe,2);we.length()>0;)We.extensions.push({type:[we.getByte(),we.getByte()],data:g(we,2)});if(!Je)for(var $e=0;$e<We.extensions.length;++$e){var Ye=We.extensions[$e];if(0===Ye.type[0]&&0===Ye.type[1])for(var Xe=g(Ye.data,2);Xe.length()>0&&0===Xe.getByte();)Y.session.extensions.server_name.serverNameList.push(g(Xe,2).getBytes())}}if(Y.session.version&&(We.version.major!==Y.session.version.major||We.version.minor!==Y.session.version.minor))return Y.error(Y,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.protocol_version}});if(Je)Y.session.cipherSuite=w.getCipherSuite(We.cipher_suite);else for(var Tt=t.util.createBuffer(We.cipher_suites.bytes());Tt.length()>0&&(Y.session.cipherSuite=w.getCipherSuite(Tt.getBytes(2)),null===Y.session.cipherSuite););if(null===Y.session.cipherSuite)return Y.error(Y,{message:"No cipher suites in common.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(We.cipher_suite)});Y.session.compressionMethod=Je?We.compression_method:w.CompressionMethod.none}return We},w.createSecurityParameters=function(Y,Q){var ce=Y.entity===w.ConnectionEnd.client,We=Q.random.bytes(),Je=ce?Y.session.sp.client_random:We,Oe=ce?We:w.createRandom().getBytes();Y.session.sp={entity:Y.entity,prf_algorithm:w.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:Y.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Je,server_random:Oe}},w.handleServerHello=function(Y,Q,ce){var We=w.parseHelloMessage(Y,Q,ce);if(!Y.fail){if(!(We.version.minor<=Y.version.minor))return Y.error(Y,{message:"Incompatible TLS version.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.protocol_version}});Y.version.minor=We.version.minor,Y.session.version=Y.version;var Je=We.session_id.bytes();Je.length>0&&Je===Y.session.id?(Y.expect=L,Y.session.resuming=!0,Y.session.sp.server_random=We.random.bytes()):(Y.expect=R,Y.session.resuming=!1,w.createSecurityParameters(Y,We)),Y.session.id=Je,Y.process()}},w.handleClientHello=function(Y,Q,ce){var We=w.parseHelloMessage(Y,Q,ce);if(!Y.fail){var Je=We.session_id.bytes(),Oe=null;if(Y.sessionCache&&(null===(Oe=Y.sessionCache.getSession(Je))?Je="":(Oe.version.major!==We.version.major||Oe.version.minor>We.version.minor)&&(Oe=null,Je="")),0===Je.length&&(Je=t.random.getBytes(32)),Y.session.id=Je,Y.session.clientHelloVersion=We.version,Y.session.sp={},Oe)Y.version=Y.session.version=Oe.version,Y.session.sp=Oe.sp;else{for(var i,we=1;we<w.SupportedVersions.length&&!((i=w.SupportedVersions[we]).minor<=We.version.minor);++we);Y.version={major:i.major,minor:i.minor},Y.session.version=Y.version}null!==Oe?(Y.expect=re,Y.session.resuming=!0,Y.session.sp.client_random=We.random.bytes()):(Y.expect=!1!==Y.verifyClient?V:J,Y.session.resuming=!1,w.createSecurityParameters(Y,We)),Y.open=!0,w.queue(Y,w.createRecord(Y,{type:w.ContentType.handshake,data:w.createServerHello(Y)})),Y.session.resuming?(w.queue(Y,w.createRecord(Y,{type:w.ContentType.change_cipher_spec,data:w.createChangeCipherSpec()})),Y.state.pending=w.createConnectionState(Y),Y.state.current.write=Y.state.pending.write,w.queue(Y,w.createRecord(Y,{type:w.ContentType.handshake,data:w.createFinished(Y)}))):(w.queue(Y,w.createRecord(Y,{type:w.ContentType.handshake,data:w.createCertificate(Y)})),Y.fail||(w.queue(Y,w.createRecord(Y,{type:w.ContentType.handshake,data:w.createServerKeyExchange(Y)})),!1!==Y.verifyClient&&w.queue(Y,w.createRecord(Y,{type:w.ContentType.handshake,data:w.createCertificateRequest(Y)})),w.queue(Y,w.createRecord(Y,{type:w.ContentType.handshake,data:w.createServerHelloDone(Y)})))),w.flush(Y),Y.process()}},w.handleCertificate=function(Y,Q,ce){if(ce<3)return Y.error(Y,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});var Oe,i,Je={certificate_list:g(Q.fragment,3)},we=[];try{for(;Je.certificate_list.length()>0;)Oe=g(Je.certificate_list,3),i=t.asn1.fromDer(Oe),Oe=t.pki.certificateFromAsn1(i,!0),we.push(Oe)}catch(Ye){return Y.error(Y,{message:"Could not parse certificate list.",cause:Ye,send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.bad_certificate}})}var $e=Y.entity===w.ConnectionEnd.client;!$e&&!0!==Y.verifyClient||0!==we.length?0===we.length?Y.expect=$e?P:J:($e?Y.session.serverCertificate=we[0]:Y.session.clientCertificate=we[0],w.verifyCertificateChain(Y,we)&&(Y.expect=$e?P:J)):Y.error(Y,{message:$e?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}}),Y.process()},w.handleServerKeyExchange=function(Y,Q,ce){if(ce>0)return Y.error(Y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.unsupported_certificate}});Y.expect=a,Y.process()},w.handleClientKeyExchange=function(Y,Q,ce){if(ce<48)return Y.error(Y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.unsupported_certificate}});var Je={enc_pre_master_secret:g(Q.fragment,2).getBytes()},Oe=null;if(Y.getPrivateKey)try{Oe=Y.getPrivateKey(Y,Y.session.serverCertificate),Oe=t.pki.privateKeyFromPem(Oe)}catch($e){Y.error(Y,{message:"Could not get private key.",cause:$e,send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}})}if(null===Oe)return Y.error(Y,{message:"No private key set.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}});try{var i=Y.session.sp;i.pre_master_secret=Oe.decrypt(Je.enc_pre_master_secret);var we=Y.session.clientHelloVersion;if(we.major!==i.pre_master_secret.charCodeAt(0)||we.minor!==i.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{i.pre_master_secret=t.random.getBytes(48)}Y.expect=re,null!==Y.session.clientCertificate&&(Y.expect=q),Y.process()},w.handleCertificateRequest=function(Y,Q,ce){if(ce<3)return Y.error(Y,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});var We=Q.fragment,Je={certificate_types:g(We,1),certificate_authorities:g(We,2)};Y.session.certificateRequest=Je,Y.expect=k,Y.process()},w.handleCertificateVerify=function(Y,Q,ce){if(ce<2)return Y.error(Y,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});var We=Q.fragment;We.read-=4;var Je=We.bytes();We.read+=4;var Oe={signature:g(We,2).getBytes()},i=t.util.createBuffer();i.putBuffer(Y.session.md5.digest()),i.putBuffer(Y.session.sha1.digest()),i=i.getBytes();try{if(!Y.session.clientCertificate.publicKey.verify(i,Oe.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");Y.session.md5.update(Je),Y.session.sha1.update(Je)}catch{return Y.error(Y,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.handshake_failure}})}Y.expect=re,Y.process()},w.handleServerHelloDone=function(Y,Q,ce){if(ce>0)return Y.error(Y,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.record_overflow}});if(null===Y.serverCertificate){var We={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.insufficient_security}},Oe=Y.verify(Y,We.alert.description,0,[]);if(!0!==Oe)return(Oe||0===Oe)&&("object"!=typeof Oe||t.util.isArray(Oe)?"number"==typeof Oe&&(We.alert.description=Oe):(Oe.message&&(We.message=Oe.message),Oe.alert&&(We.alert.description=Oe.alert))),Y.error(Y,We)}null!==Y.session.certificateRequest&&(Q=w.createRecord(Y,{type:w.ContentType.handshake,data:w.createCertificate(Y)}),w.queue(Y,Q)),Q=w.createRecord(Y,{type:w.ContentType.handshake,data:w.createClientKeyExchange(Y)}),w.queue(Y,Q),Y.expect=N;var i=function(we,$e){null!==we.session.certificateRequest&&null!==we.session.clientCertificate&&w.queue(we,w.createRecord(we,{type:w.ContentType.handshake,data:w.createCertificateVerify(we,$e)})),w.queue(we,w.createRecord(we,{type:w.ContentType.change_cipher_spec,data:w.createChangeCipherSpec()})),we.state.pending=w.createConnectionState(we),we.state.current.write=we.state.pending.write,w.queue(we,w.createRecord(we,{type:w.ContentType.handshake,data:w.createFinished(we)})),we.expect=L,w.flush(we),we.process()};if(null===Y.session.certificateRequest||null===Y.session.clientCertificate)return i(Y,null);w.getClientSignature(Y,i)},w.handleChangeCipherSpec=function(Y,Q){if(1!==Q.fragment.getByte())return Y.error(Y,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.illegal_parameter}});var ce=Y.entity===w.ConnectionEnd.client;(Y.session.resuming&&ce||!Y.session.resuming&&!ce)&&(Y.state.pending=w.createConnectionState(Y)),Y.state.current.read=Y.state.pending.read,(!Y.session.resuming&&ce||Y.session.resuming&&!ce)&&(Y.state.pending=null),Y.expect=ce?Z:W,Y.process()},w.handleFinished=function(Y,Q,ce){var We=Q.fragment;We.read-=4;var Je=We.bytes();We.read+=4;var Oe=Q.fragment.getBytes();(We=t.util.createBuffer()).putBuffer(Y.session.md5.digest()),We.putBuffer(Y.session.sha1.digest());var i=Y.entity===w.ConnectionEnd.client;if((We=e(Y.session.sp.master_secret,i?"server finished":"client finished",We.getBytes(),12)).getBytes()!==Oe)return Y.error(Y,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.decrypt_error}});Y.session.md5.update(Je),Y.session.sha1.update(Je),(Y.session.resuming&&i||!Y.session.resuming&&!i)&&(w.queue(Y,w.createRecord(Y,{type:w.ContentType.change_cipher_spec,data:w.createChangeCipherSpec()})),Y.state.current.write=Y.state.pending.write,Y.state.pending=null,w.queue(Y,w.createRecord(Y,{type:w.ContentType.handshake,data:w.createFinished(Y)}))),Y.expect=i?j:G,Y.handshaking=!1,++Y.handshakes,Y.peerCertificate=i?Y.session.serverCertificate:Y.session.clientCertificate,w.flush(Y),Y.isConnected=!0,Y.connected(Y),Y.process()},w.handleAlert=function(Y,Q){var Je,ce=Q.fragment,We={level:ce.getByte(),description:ce.getByte()};switch(We.description){case w.Alert.Description.close_notify:Je="Connection closed.";break;case w.Alert.Description.unexpected_message:Je="Unexpected message.";break;case w.Alert.Description.bad_record_mac:Je="Bad record MAC.";break;case w.Alert.Description.decryption_failed:Je="Decryption failed.";break;case w.Alert.Description.record_overflow:Je="Record overflow.";break;case w.Alert.Description.decompression_failure:Je="Decompression failed.";break;case w.Alert.Description.handshake_failure:Je="Handshake failure.";break;case w.Alert.Description.bad_certificate:Je="Bad certificate.";break;case w.Alert.Description.unsupported_certificate:Je="Unsupported certificate.";break;case w.Alert.Description.certificate_revoked:Je="Certificate revoked.";break;case w.Alert.Description.certificate_expired:Je="Certificate expired.";break;case w.Alert.Description.certificate_unknown:Je="Certificate unknown.";break;case w.Alert.Description.illegal_parameter:Je="Illegal parameter.";break;case w.Alert.Description.unknown_ca:Je="Unknown certificate authority.";break;case w.Alert.Description.access_denied:Je="Access denied.";break;case w.Alert.Description.decode_error:Je="Decode error.";break;case w.Alert.Description.decrypt_error:Je="Decrypt error.";break;case w.Alert.Description.export_restriction:Je="Export restriction.";break;case w.Alert.Description.protocol_version:Je="Unsupported protocol version.";break;case w.Alert.Description.insufficient_security:Je="Insufficient security.";break;case w.Alert.Description.internal_error:Je="Internal error.";break;case w.Alert.Description.user_canceled:Je="User canceled.";break;case w.Alert.Description.no_renegotiation:Je="Renegotiation not supported.";break;default:Je="Unknown error."}if(We.description===w.Alert.Description.close_notify)return Y.close();Y.error(Y,{message:Je,send:!1,origin:Y.entity===w.ConnectionEnd.client?"server":"client",alert:We}),Y.process()},w.handleHandshake=function(Y,Q){var ce=Q.fragment,We=ce.getByte(),Je=ce.getInt24();if(Je>ce.length())return Y.fragmented=Q,Q.fragment=t.util.createBuffer(),ce.read-=4,Y.process();Y.fragmented=null,ce.read-=4;var Oe=ce.bytes(Je+4);ce.read+=4,We in lt[Y.entity][Y.expect]?(Y.entity===w.ConnectionEnd.server&&!Y.open&&!Y.fail&&(Y.handshaking=!0,Y.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),We!==w.HandshakeType.hello_request&&We!==w.HandshakeType.certificate_verify&&We!==w.HandshakeType.finished&&(Y.session.md5.update(Oe),Y.session.sha1.update(Oe)),lt[Y.entity][Y.expect][We](Y,Q,Je)):w.handleUnexpected(Y,Q)},w.handleApplicationData=function(Y,Q){Y.data.putBuffer(Q.fragment),Y.dataReady(Y),Y.process()},w.handleHeartbeat=function(Y,Q){var ce=Q.fragment,We=ce.getByte(),Je=ce.getInt16(),Oe=ce.getBytes(Je);if(We===w.HeartbeatMessageType.heartbeat_request){if(Y.handshaking||Je>Oe.length)return Y.process();w.queue(Y,w.createRecord(Y,{type:w.ContentType.heartbeat,data:w.createHeartbeat(w.HeartbeatMessageType.heartbeat_response,Oe)})),w.flush(Y)}else if(We===w.HeartbeatMessageType.heartbeat_response){if(Oe!==Y.expectedHeartbeatPayload)return Y.process();Y.heartbeatReceived&&Y.heartbeatReceived(Y,t.util.createBuffer(Oe))}Y.process()};var R=1,P=2,a=3,k=4,L=5,Z=6,j=7,N=8,V=1,J=2,q=3,re=4,W=5,G=6,E=w.handleUnexpected,ne=w.handleChangeCipherSpec,K=w.handleAlert,le=w.handleHandshake,me=w.handleApplicationData,Se=w.handleHeartbeat,ye=[];ye[w.ConnectionEnd.client]=[[E,K,le,E,Se],[E,K,le,E,Se],[E,K,le,E,Se],[E,K,le,E,Se],[E,K,le,E,Se],[ne,K,E,E,Se],[E,K,le,E,Se],[E,K,le,me,Se],[E,K,le,E,Se]],ye[w.ConnectionEnd.server]=[[E,K,le,E,Se],[E,K,le,E,Se],[E,K,le,E,Se],[E,K,le,E,Se],[ne,K,E,E,Se],[E,K,le,E,Se],[E,K,le,me,Se],[E,K,le,E,Se]];var ze=w.handleHelloRequest,qe=w.handleCertificate,Te=w.handleServerKeyExchange,nt=w.handleCertificateRequest,at=w.handleServerHelloDone,wt=w.handleFinished,lt=[];lt[w.ConnectionEnd.client]=[[E,E,w.handleServerHello,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[ze,E,E,E,E,E,E,E,E,E,E,qe,Te,nt,at,E,E,E,E,E,E],[ze,E,E,E,E,E,E,E,E,E,E,E,Te,nt,at,E,E,E,E,E,E],[ze,E,E,E,E,E,E,E,E,E,E,E,E,nt,at,E,E,E,E,E,E],[ze,E,E,E,E,E,E,E,E,E,E,E,E,E,at,E,E,E,E,E,E],[ze,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[ze,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,wt],[ze,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[ze,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]],lt[w.ConnectionEnd.server]=[[E,w.handleClientHello,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,qe,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,w.handleClientKeyExchange,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,w.handleCertificateVerify,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,wt],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]],w.generateKeys=function(Y,Q){var ce=e,We=Q.client_random+Q.server_random;Y.session.resuming||(Q.master_secret=ce(Q.pre_master_secret,"master secret",We,48).bytes(),Q.pre_master_secret=null);var Je=2*Q.mac_key_length+2*Q.enc_key_length,Oe=Y.version.major===w.Versions.TLS_1_0.major&&Y.version.minor===w.Versions.TLS_1_0.minor;Oe&&(Je+=2*Q.fixed_iv_length);var i=ce(Q.master_secret,"key expansion",We=Q.server_random+Q.client_random,Je),we={client_write_MAC_key:i.getBytes(Q.mac_key_length),server_write_MAC_key:i.getBytes(Q.mac_key_length),client_write_key:i.getBytes(Q.enc_key_length),server_write_key:i.getBytes(Q.enc_key_length)};return Oe&&(we.client_write_IV=i.getBytes(Q.fixed_iv_length),we.server_write_IV=i.getBytes(Q.fixed_iv_length)),we},w.createConnectionState=function(Y){var Q=Y.entity===w.ConnectionEnd.client,ce=function(){var Oe={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(i){return!0},compressionState:null,compressFunction:function(i){return!0},updateSequenceNumber:function(){4294967295===Oe.sequenceNumber[1]?(Oe.sequenceNumber[1]=0,++Oe.sequenceNumber[0]):++Oe.sequenceNumber[1]}};return Oe},We={read:ce(),write:ce()};if(We.read.update=function(Oe,i){return We.read.cipherFunction(i,We.read)?We.read.compressFunction(Oe,i,We.read)||Oe.error(Oe,{message:"Could not decompress record.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.decompression_failure}}):Oe.error(Oe,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.bad_record_mac}}),!Oe.fail},We.write.update=function(Oe,i){return We.write.compressFunction(Oe,i,We.write)?We.write.cipherFunction(i,We.write)||Oe.error(Oe,{message:"Could not encrypt record.",send:!1,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}}):Oe.error(Oe,{message:"Could not compress record.",send:!1,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}}),!Oe.fail},Y.session){var Je=Y.session.sp;switch(Y.session.cipherSuite.initSecurityParameters(Je),Je.keys=w.generateKeys(Y,Je),We.read.macKey=Q?Je.keys.server_write_MAC_key:Je.keys.client_write_MAC_key,We.write.macKey=Q?Je.keys.client_write_MAC_key:Je.keys.server_write_MAC_key,Y.session.cipherSuite.initConnectionState(We,Y,Je),Je.compression_algorithm){case w.CompressionMethod.none:break;case w.CompressionMethod.deflate:We.read.compressFunction=b,We.write.compressFunction=C;break;default:throw new Error("Unsupported compression algorithm.")}}return We},w.createRandom=function(){var Y=new Date,Q=+Y+6e4*Y.getTimezoneOffset(),ce=t.util.createBuffer();return ce.putInt32(Q),ce.putBytes(t.random.getBytes(28)),ce},w.createRecord=function(Y,Q){return Q.data?{type:Q.type,version:{major:Y.version.major,minor:Y.version.minor},length:Q.data.length(),fragment:Q.data}:null},w.createAlert=function(Y,Q){var ce=t.util.createBuffer();return ce.putByte(Q.level),ce.putByte(Q.description),w.createRecord(Y,{type:w.ContentType.alert,data:ce})},w.createClientHello=function(Y){Y.session.clientHelloVersion={major:Y.version.major,minor:Y.version.minor};for(var Q=t.util.createBuffer(),ce=0;ce<Y.cipherSuites.length;++ce){var We=Y.cipherSuites[ce];Q.putByte(We.id[0]),Q.putByte(We.id[1])}var Je=Q.length(),Oe=t.util.createBuffer();Oe.putByte(w.CompressionMethod.none);var i=Oe.length(),we=t.util.createBuffer();if(Y.virtualHost){var $e=t.util.createBuffer();$e.putByte(0),$e.putByte(0);var Ye=t.util.createBuffer();Ye.putByte(0),f(Ye,2,t.util.createBuffer(Y.virtualHost));var Xe=t.util.createBuffer();f(Xe,2,Ye),f($e,2,Xe),we.putBuffer($e)}var Fe=we.length();Fe>0&&(Fe+=2);var Tt=Y.session.id,vt=Tt.length+1+2+4+28+2+Je+1+i+Fe,Ge=t.util.createBuffer();return Ge.putByte(w.HandshakeType.client_hello),Ge.putInt24(vt),Ge.putByte(Y.version.major),Ge.putByte(Y.version.minor),Ge.putBytes(Y.session.sp.client_random),f(Ge,1,t.util.createBuffer(Tt)),f(Ge,2,Q),f(Ge,1,Oe),Fe>0&&f(Ge,2,we),Ge},w.createServerHello=function(Y){var Q=Y.session.id,ce=Q.length+1+2+4+28+2+1,We=t.util.createBuffer();return We.putByte(w.HandshakeType.server_hello),We.putInt24(ce),We.putByte(Y.version.major),We.putByte(Y.version.minor),We.putBytes(Y.session.sp.server_random),f(We,1,t.util.createBuffer(Q)),We.putByte(Y.session.cipherSuite.id[0]),We.putByte(Y.session.cipherSuite.id[1]),We.putByte(Y.session.compressionMethod),We},w.createCertificate=function(Y){var Q=Y.entity===w.ConnectionEnd.client,ce=null;Y.getCertificate&&(ce=Y.getCertificate(Y,Q?Y.session.certificateRequest:Y.session.extensions.server_name.serverNameList));var Je=t.util.createBuffer();if(null!==ce)try{t.util.isArray(ce)||(ce=[ce]);for(var Oe=null,i=0;i<ce.length;++i){var we=t.pem.decode(ce[i])[0];if("CERTIFICATE"!==we.type&&"X509 CERTIFICATE"!==we.type&&"TRUSTED CERTIFICATE"!==we.type){var $e=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw $e.headerType=we.type,$e}if(we.procType&&"ENCRYPTED"===we.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var Ye=t.util.createBuffer(we.body);null===Oe&&(Oe=t.asn1.fromDer(Ye.bytes(),!1));var Xe=t.util.createBuffer();f(Xe,3,Ye),Je.putBuffer(Xe)}ce=t.pki.certificateFromAsn1(Oe),Q?Y.session.clientCertificate=ce:Y.session.serverCertificate=ce}catch(vt){return Y.error(Y,{message:"Could not send certificate list.",cause:vt,send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.bad_certificate}})}var Fe=3+Je.length(),Tt=t.util.createBuffer();return Tt.putByte(w.HandshakeType.certificate),Tt.putInt24(Fe),f(Tt,3,Je),Tt},w.createClientKeyExchange=function(Y){var Q=t.util.createBuffer();Q.putByte(Y.session.clientHelloVersion.major),Q.putByte(Y.session.clientHelloVersion.minor),Q.putBytes(t.random.getBytes(46));var ce=Y.session.sp;ce.pre_master_secret=Q.getBytes();var Je=(Q=Y.session.serverCertificate.publicKey.encrypt(ce.pre_master_secret)).length+2,Oe=t.util.createBuffer();return Oe.putByte(w.HandshakeType.client_key_exchange),Oe.putInt24(Je),Oe.putInt16(Q.length),Oe.putBytes(Q),Oe},w.createServerKeyExchange=function(Y){return t.util.createBuffer()},w.getClientSignature=function(Y,Q){var ce=t.util.createBuffer();ce.putBuffer(Y.session.md5.digest()),ce.putBuffer(Y.session.sha1.digest()),ce=ce.getBytes(),Y.getSignature=Y.getSignature||function(We,Je,Oe){var i=null;if(We.getPrivateKey)try{i=We.getPrivateKey(We,We.session.clientCertificate),i=t.pki.privateKeyFromPem(i)}catch(we){We.error(We,{message:"Could not get private key.",cause:we,send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}})}null===i?We.error(We,{message:"No private key set.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.internal_error}}):Je=i.sign(Je,null),Oe(We,Je)},Y.getSignature(Y,ce,Q)},w.createCertificateVerify=function(Y,Q){var ce=Q.length+2,We=t.util.createBuffer();return We.putByte(w.HandshakeType.certificate_verify),We.putInt24(ce),We.putInt16(Q.length),We.putBytes(Q),We},w.createCertificateRequest=function(Y){var Q=t.util.createBuffer();Q.putByte(1);var ce=t.util.createBuffer();for(var We in Y.caStore.certs){var Oe=t.pki.distinguishedNameToAsn1(Y.caStore.certs[We].subject),i=t.asn1.toDer(Oe);ce.putInt16(i.length()),ce.putBuffer(i)}var we=1+Q.length()+2+ce.length(),$e=t.util.createBuffer();return $e.putByte(w.HandshakeType.certificate_request),$e.putInt24(we),f($e,1,Q),f($e,2,ce),$e},w.createServerHelloDone=function(Y){var Q=t.util.createBuffer();return Q.putByte(w.HandshakeType.server_hello_done),Q.putInt24(0),Q},w.createChangeCipherSpec=function(){var Y=t.util.createBuffer();return Y.putByte(1),Y},w.createFinished=function(Y){var Q=t.util.createBuffer();Q.putBuffer(Y.session.md5.digest()),Q.putBuffer(Y.session.sha1.digest()),Q=e(Y.session.sp.master_secret,Y.entity===w.ConnectionEnd.client?"client finished":"server finished",Q.getBytes(),12);var we=t.util.createBuffer();return we.putByte(w.HandshakeType.finished),we.putInt24(Q.length()),we.putBuffer(Q),we},w.createHeartbeat=function(Y,Q,ce){typeof ce>"u"&&(ce=Q.length);var We=t.util.createBuffer();We.putByte(Y),We.putInt16(ce),We.putBytes(Q);var Je=We.length(),Oe=Math.max(16,Je-ce-3);return We.putBytes(t.random.getBytes(Oe)),We},w.queue=function(Y,Q){if(Q&&(0!==Q.fragment.length()||Q.type!==w.ContentType.handshake&&Q.type!==w.ContentType.alert&&Q.type!==w.ContentType.change_cipher_spec)){if(Q.type===w.ContentType.handshake){var ce=Q.fragment.bytes();Y.session.md5.update(ce),Y.session.sha1.update(ce),ce=null}var We;if(Q.fragment.length()<=w.MaxFragment)We=[Q];else{We=[];for(var Je=Q.fragment.bytes();Je.length>w.MaxFragment;)We.push(w.createRecord(Y,{type:Q.type,data:t.util.createBuffer(Je.slice(0,w.MaxFragment))})),Je=Je.slice(w.MaxFragment);Je.length>0&&We.push(w.createRecord(Y,{type:Q.type,data:t.util.createBuffer(Je)}))}for(var Oe=0;Oe<We.length&&!Y.fail;++Oe){var i=We[Oe];Y.state.current.write.update(Y,i)&&Y.records.push(i)}}},w.flush=function(Y){for(var Q=0;Q<Y.records.length;++Q){var ce=Y.records[Q];Y.tlsData.putByte(ce.type),Y.tlsData.putByte(ce.version.major),Y.tlsData.putByte(ce.version.minor),Y.tlsData.putInt16(ce.fragment.length()),Y.tlsData.putBuffer(Y.records[Q].fragment)}return Y.records=[],Y.tlsDataReady(Y)};var un=function(Y){switch(Y){case!0:return!0;case t.pki.certificateError.bad_certificate:return w.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return w.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return w.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return w.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return w.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return w.Alert.Description.unknown_ca;default:return w.Alert.Description.bad_certificate}};for(var Mt in w.verifyCertificateChain=function(Y,Q){try{var ce={};for(var We in Y.verifyOptions)ce[We]=Y.verifyOptions[We];ce.verify=function(Oe,i,we){un(Oe);var Ye=Y.verify(Y,Oe,i,we);if(!0!==Ye){if("object"==typeof Ye&&!t.util.isArray(Ye)){var Xe=new Error("The application rejected the certificate.");throw Xe.send=!0,Xe.alert={level:w.Alert.Level.fatal,description:w.Alert.Description.bad_certificate},Ye.message&&(Xe.message=Ye.message),Ye.alert&&(Xe.alert.description=Ye.alert),Xe}Ye!==Oe&&(Ye=function(Y){switch(Y){case!0:return!0;case w.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case w.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case w.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case w.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case w.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case w.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}}(Ye))}return Ye},t.pki.verifyCertificateChain(Y.caStore,Q,ce)}catch(Oe){var Je=Oe;("object"!=typeof Je||t.util.isArray(Je))&&(Je={send:!0,alert:{level:w.Alert.Level.fatal,description:un(Oe)}}),"send"in Je||(Je.send=!0),"alert"in Je||(Je.alert={level:w.Alert.Level.fatal,description:un(Je.error)}),Y.error(Y,Je)}return!Y.fail},w.createSessionCache=function(Y,Q){var ce=null;if(Y&&Y.getSession&&Y.setSession&&Y.order)ce=Y;else{for(var We in(ce={}).cache=Y||{},ce.capacity=Math.max(Q||100,1),ce.order=[],Y)ce.order.length<=Q?ce.order.push(We):delete Y[We];ce.getSession=function(Je){var Oe=null,i=null;if(Je?i=t.util.bytesToHex(Je):ce.order.length>0&&(i=ce.order[0]),null!==i&&i in ce.cache)for(var we in Oe=ce.cache[i],delete ce.cache[i],ce.order)if(ce.order[we]===i){ce.order.splice(we,1);break}return Oe},ce.setSession=function(Je,Oe){if(ce.order.length===ce.capacity){var i=ce.order.shift();delete ce.cache[i]}i=t.util.bytesToHex(Je),ce.order.push(i),ce.cache[i]=Oe}}return ce},w.createConnection=function(Y){var Q;Q=Y.caStore?t.util.isArray(Y.caStore)?t.pki.createCaStore(Y.caStore):Y.caStore:t.pki.createCaStore();var ce=Y.cipherSuites||null;if(null===ce)for(var We in ce=[],w.CipherSuites)ce.push(w.CipherSuites[We]);var Je=Y.server?w.ConnectionEnd.server:w.ConnectionEnd.client,Oe=Y.sessionCache?w.createSessionCache(Y.sessionCache):null,i={version:{major:w.Version.major,minor:w.Version.minor},entity:Je,sessionId:Y.sessionId,caStore:Q,sessionCache:Oe,cipherSuites:ce,connected:Y.connected,virtualHost:Y.virtualHost||null,verifyClient:Y.verifyClient||!1,verify:Y.verify||function(Xe,Fe,Tt,vt){return Fe},verifyOptions:Y.verifyOptions||{},getCertificate:Y.getCertificate||null,getPrivateKey:Y.getPrivateKey||null,getSignature:Y.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:Y.tlsDataReady,dataReady:Y.dataReady,heartbeatReceived:Y.heartbeatReceived,closed:Y.closed,error:function(Xe,Fe){Fe.origin=Fe.origin||(Xe.entity===w.ConnectionEnd.client?"client":"server"),Fe.send&&(w.queue(Xe,w.createAlert(Xe,Fe.alert)),w.flush(Xe));var Tt=!1!==Fe.fatal;Tt&&(Xe.fail=!0),Y.error(Xe,Fe),Tt&&Xe.close(!1)},deflate:Y.deflate||null,inflate:Y.inflate||null,reset:function(Xe){i.version={major:w.Version.major,minor:w.Version.minor},i.record=null,i.session=null,i.peerCertificate=null,i.state={pending:null,current:null},i.expect=0,i.fragmented=null,i.records=[],i.open=!1,i.handshakes=0,i.handshaking=!1,i.isConnected=!1,i.fail=!(Xe||typeof Xe>"u"),i.input.clear(),i.tlsData.clear(),i.data.clear(),i.state.current=w.createConnectionState(i)}};return i.reset(),i.handshake=function(Xe){if(i.entity!==w.ConnectionEnd.client)i.error(i,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(i.handshaking)i.error(i,{message:"Handshake already in progress.",fatal:!1});else{i.fail&&!i.open&&0===i.handshakes&&(i.fail=!1),i.handshaking=!0;var Fe=null;(Xe=Xe||"").length>0&&(i.sessionCache&&(Fe=i.sessionCache.getSession(Xe)),null===Fe&&(Xe="")),0===Xe.length&&i.sessionCache&&null!==(Fe=i.sessionCache.getSession())&&(Xe=Fe.id),i.session={id:Xe,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},Fe&&(i.version=Fe.version,i.session.sp=Fe.sp),i.session.sp.client_random=w.createRandom().getBytes(),i.open=!0,w.queue(i,w.createRecord(i,{type:w.ContentType.handshake,data:w.createClientHello(i)})),w.flush(i)}},i.process=function(Xe){var Fe=0;return Xe&&i.input.putBytes(Xe),i.fail||(null!==i.record&&i.record.ready&&i.record.fragment.isEmpty()&&(i.record=null),null===i.record&&(Fe=function(Xe){var Fe=0,Tt=Xe.input,vt=Tt.length();if(vt<5)Fe=5-vt;else{Xe.record={type:Tt.getByte(),version:{major:Tt.getByte(),minor:Tt.getByte()},length:Tt.getInt16(),fragment:t.util.createBuffer(),ready:!1};var Ge=Xe.record.version.major===Xe.version.major;Ge&&Xe.session&&Xe.session.version&&(Ge=Xe.record.version.minor===Xe.version.minor),Ge||Xe.error(Xe,{message:"Incompatible TLS version.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.protocol_version}})}return Fe}(i)),!i.fail&&null!==i.record&&!i.record.ready&&(Fe=function(Xe){var Fe=0,Tt=Xe.input,vt=Tt.length();return vt<Xe.record.length?Fe=Xe.record.length-vt:(Xe.record.fragment.putBytes(Tt.getBytes(Xe.record.length)),Tt.compact(),Xe.state.current.read.update(Xe,Xe.record)&&(null!==Xe.fragmented&&(Xe.fragmented.type===Xe.record.type?(Xe.fragmented.fragment.putBuffer(Xe.record.fragment),Xe.record=Xe.fragmented):Xe.error(Xe,{message:"Invalid fragmented record.",send:!0,alert:{level:w.Alert.Level.fatal,description:w.Alert.Description.unexpected_message}})),Xe.record.ready=!0)),Fe}(i)),!i.fail&&null!==i.record&&i.record.ready&&function(Xe,Fe){var Tt=Fe.type-w.ContentType.change_cipher_spec,vt=ye[Xe.entity][Xe.expect];Tt in vt?vt[Tt](Xe,Fe):w.handleUnexpected(Xe,Fe)}(i,i.record)),Fe},i.prepare=function(Xe){return w.queue(i,w.createRecord(i,{type:w.ContentType.application_data,data:t.util.createBuffer(Xe)})),w.flush(i)},i.prepareHeartbeatRequest=function(Xe,Fe){return Xe instanceof t.util.ByteBuffer&&(Xe=Xe.bytes()),typeof Fe>"u"&&(Fe=Xe.length),i.expectedHeartbeatPayload=Xe,w.queue(i,w.createRecord(i,{type:w.ContentType.heartbeat,data:w.createHeartbeat(w.HeartbeatMessageType.heartbeat_request,Xe,Fe)})),w.flush(i)},i.close=function(Xe){if(!i.fail&&i.sessionCache&&i.session){var Fe={id:i.session.id,version:i.session.version,sp:i.session.sp};Fe.sp.keys=null,i.sessionCache.setSession(Fe.id,Fe)}i.open&&(i.open=!1,i.input.clear(),(i.isConnected||i.handshaking)&&(i.isConnected=i.handshaking=!1,w.queue(i,w.createAlert(i,{level:w.Alert.Level.warning,description:w.Alert.Description.close_notify})),w.flush(i)),i.closed(i)),i.reset(Xe)},i},dt.exports=t.tls=t.tls||{},w)"function"!=typeof w[Mt]&&(t.tls[Mt]=w[Mt]);t.tls.prf_tls1=e,t.tls.hmac_sha1=function(Y,Q,ce){var We=t.hmac.create();We.start("SHA1",Y);var Je=t.util.createBuffer();return Je.putInt32(Q[0]),Je.putInt32(Q[1]),Je.putByte(ce.type),Je.putByte(ce.version.major),Je.putByte(ce.version.minor),Je.putInt16(ce.length),Je.putBytes(ce.fragment.bytes()),We.update(Je.getBytes()),We.digest().getBytes()},t.tls.createSessionCache=w.createSessionCache,t.tls.createConnection=w.createConnection},4747:(dt,Ce,p)=>{var t=p(8659),e=p(2020),m=dt.exports=t.util=t.util||{};function T(N){if(8!==N&&16!==N&&24!==N&&32!==N)throw new Error("Only 8, 16, 24, or 32 bits supported: "+N)}function C(N){if(this.data="",this.read=0,"string"==typeof N)this.data=N;else if(m.isArrayBuffer(N)||m.isArrayBufferView(N))if(typeof Buffer<"u"&&N instanceof Buffer)this.data=N.toString("binary");else{var B=new Uint8Array(N);try{this.data=String.fromCharCode.apply(null,B)}catch{for(var V=0;V<B.length;++V)this.putByte(B[V])}}else(N instanceof C||"object"==typeof N&&"string"==typeof N.data&&"number"==typeof N.read)&&(this.data=N.data,this.read=N.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return m.nextTick=process.nextTick,void(m.setImmediate="function"==typeof setImmediate?setImmediate:m.nextTick);if("function"==typeof setImmediate)return m.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(m.nextTick=function(G){return setImmediate(G)});if(m.setImmediate=function(G){setTimeout(G,0)},typeof window<"u"&&"function"==typeof window.postMessage){let G=function(X){if(X.source===window&&X.data===N){X.stopPropagation();var E=B.slice();B.length=0,E.forEach(function(ne){ne()})}};var N="forge.setImmediate",B=[];m.setImmediate=function(X){B.push(X),1===B.length&&window.postMessage(N,"*")},window.addEventListener("message",G,!0)}if(typeof MutationObserver<"u"){var V=Date.now(),J=!0,q=document.createElement("div");B=[],new MutationObserver(function(){var X=B.slice();B.length=0,X.forEach(function(E){E()})}).observe(q,{attributes:!0});var re=m.setImmediate;m.setImmediate=function(X){Date.now()-V>15?(V=Date.now(),re(X)):(B.push(X),1===B.length&&q.setAttribute("a",J=!J))}}m.nextTick=m.setImmediate})(),m.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,m.globalScope=m.isNodejs?global:typeof self>"u"?window:self,m.isArray=Array.isArray||function(N){return"[object Array]"===Object.prototype.toString.call(N)},m.isArrayBuffer=function(N){return typeof ArrayBuffer<"u"&&N instanceof ArrayBuffer},m.isArrayBufferView=function(N){return N&&m.isArrayBuffer(N.buffer)&&void 0!==N.byteLength},m.ByteBuffer=C,m.ByteStringBuffer=C,m.ByteStringBuffer.prototype._optimizeConstructedString=function(N){this._constructedStringLength+=N,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},m.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},m.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},m.ByteStringBuffer.prototype.putByte=function(N){return this.putBytes(String.fromCharCode(N))},m.ByteStringBuffer.prototype.fillWithByte=function(N,B){N=String.fromCharCode(N);for(var V=this.data;B>0;)1&B&&(V+=N),(B>>>=1)>0&&(N+=N);return this.data=V,this._optimizeConstructedString(B),this},m.ByteStringBuffer.prototype.putBytes=function(N){return this.data+=N,this._optimizeConstructedString(N.length),this},m.ByteStringBuffer.prototype.putString=function(N){return this.putBytes(m.encodeUtf8(N))},m.ByteStringBuffer.prototype.putInt16=function(N){return this.putBytes(String.fromCharCode(N>>8&255)+String.fromCharCode(255&N))},m.ByteStringBuffer.prototype.putInt24=function(N){return this.putBytes(String.fromCharCode(N>>16&255)+String.fromCharCode(N>>8&255)+String.fromCharCode(255&N))},m.ByteStringBuffer.prototype.putInt32=function(N){return this.putBytes(String.fromCharCode(N>>24&255)+String.fromCharCode(N>>16&255)+String.fromCharCode(N>>8&255)+String.fromCharCode(255&N))},m.ByteStringBuffer.prototype.putInt16Le=function(N){return this.putBytes(String.fromCharCode(255&N)+String.fromCharCode(N>>8&255))},m.ByteStringBuffer.prototype.putInt24Le=function(N){return this.putBytes(String.fromCharCode(255&N)+String.fromCharCode(N>>8&255)+String.fromCharCode(N>>16&255))},m.ByteStringBuffer.prototype.putInt32Le=function(N){return this.putBytes(String.fromCharCode(255&N)+String.fromCharCode(N>>8&255)+String.fromCharCode(N>>16&255)+String.fromCharCode(N>>24&255))},m.ByteStringBuffer.prototype.putInt=function(N,B){T(B);var V="";do{B-=8,V+=String.fromCharCode(N>>B&255)}while(B>0);return this.putBytes(V)},m.ByteStringBuffer.prototype.putSignedInt=function(N,B){return N<0&&(N+=2<<B-1),this.putInt(N,B)},m.ByteStringBuffer.prototype.putBuffer=function(N){return this.putBytes(N.getBytes())},m.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},m.ByteStringBuffer.prototype.getInt16=function(){var N=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,N},m.ByteStringBuffer.prototype.getInt24=function(){var N=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,N},m.ByteStringBuffer.prototype.getInt32=function(){var N=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,N},m.ByteStringBuffer.prototype.getInt16Le=function(){var N=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,N},m.ByteStringBuffer.prototype.getInt24Le=function(){var N=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,N},m.ByteStringBuffer.prototype.getInt32Le=function(){var N=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,N},m.ByteStringBuffer.prototype.getInt=function(N){T(N);var B=0;do{B=(B<<8)+this.data.charCodeAt(this.read++),N-=8}while(N>0);return B},m.ByteStringBuffer.prototype.getSignedInt=function(N){var B=this.getInt(N),V=2<<N-2;return B>=V&&(B-=V<<1),B},m.ByteStringBuffer.prototype.getBytes=function(N){var B;return N?(N=Math.min(this.length(),N),B=this.data.slice(this.read,this.read+N),this.read+=N):0===N?B="":(B=0===this.read?this.data:this.data.slice(this.read),this.clear()),B},m.ByteStringBuffer.prototype.bytes=function(N){return typeof N>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+N)},m.ByteStringBuffer.prototype.at=function(N){return this.data.charCodeAt(this.read+N)},m.ByteStringBuffer.prototype.setAt=function(N,B){return this.data=this.data.substr(0,this.read+N)+String.fromCharCode(B)+this.data.substr(this.read+N+1),this},m.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},m.ByteStringBuffer.prototype.copy=function(){var N=m.createBuffer(this.data);return N.read=this.read,N},m.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},m.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},m.ByteStringBuffer.prototype.truncate=function(N){var B=Math.max(0,this.length()-N);return this.data=this.data.substr(this.read,B),this.read=0,this},m.ByteStringBuffer.prototype.toHex=function(){for(var N="",B=this.read;B<this.data.length;++B){var V=this.data.charCodeAt(B);V<16&&(N+="0"),N+=V.toString(16)}return N},m.ByteStringBuffer.prototype.toString=function(){return m.decodeUtf8(this.bytes())},m.DataBuffer=function g(N,B){this.read=(B=B||{}).readOffset||0,this.growSize=B.growSize||1024;var V=m.isArrayBuffer(N),J=m.isArrayBufferView(N);if(V||J)return this.data=V?new DataView(N):new DataView(N.buffer,N.byteOffset,N.byteLength),void(this.write="writeOffset"in B?B.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=N&&this.putBytes(N),"writeOffset"in B&&(this.write=B.writeOffset)},m.DataBuffer.prototype.length=function(){return this.write-this.read},m.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},m.DataBuffer.prototype.accommodate=function(N,B){if(this.length()>=N)return this;B=Math.max(B||this.growSize,N);var V=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),J=new Uint8Array(this.length()+B);return J.set(V),this.data=new DataView(J.buffer),this},m.DataBuffer.prototype.putByte=function(N){return this.accommodate(1),this.data.setUint8(this.write++,N),this},m.DataBuffer.prototype.fillWithByte=function(N,B){this.accommodate(B);for(var V=0;V<B;++V)this.data.setUint8(N);return this},m.DataBuffer.prototype.putBytes=function(N,B){if(m.isArrayBufferView(N)){var J=(V=new Uint8Array(N.buffer,N.byteOffset,N.byteLength)).byteLength-V.byteOffset;return this.accommodate(J),new Uint8Array(this.data.buffer,this.write).set(V),this.write+=J,this}if(m.isArrayBuffer(N)){var V=new Uint8Array(N);return this.accommodate(V.byteLength),new Uint8Array(this.data.buffer).set(V,this.write),this.write+=V.byteLength,this}if(N instanceof m.DataBuffer||"object"==typeof N&&"number"==typeof N.read&&"number"==typeof N.write&&m.isArrayBufferView(N.data))return V=new Uint8Array(N.data.byteLength,N.read,N.length()),this.accommodate(V.byteLength),new Uint8Array(N.data.byteLength,this.write).set(V),this.write+=V.byteLength,this;if(N instanceof m.ByteStringBuffer&&(N=N.data,B="binary"),B=B||"binary","string"==typeof N){var re;if("hex"===B)return this.accommodate(Math.ceil(N.length/2)),re=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.hex.decode(N,re,this.write),this;if("base64"===B)return this.accommodate(3*Math.ceil(N.length/4)),re=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.base64.decode(N,re,this.write),this;if("utf8"===B&&(N=m.encodeUtf8(N),B="binary"),"binary"===B||"raw"===B)return this.accommodate(N.length),re=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.raw.decode(re),this;if("utf16"===B)return this.accommodate(2*N.length),re=new Uint16Array(this.data.buffer,this.write),this.write+=m.text.utf16.encode(re),this;throw new Error("Invalid encoding: "+B)}throw Error("Invalid parameter: "+N)},m.DataBuffer.prototype.putBuffer=function(N){return this.putBytes(N),N.clear(),this},m.DataBuffer.prototype.putString=function(N){return this.putBytes(N,"utf16")},m.DataBuffer.prototype.putInt16=function(N){return this.accommodate(2),this.data.setInt16(this.write,N),this.write+=2,this},m.DataBuffer.prototype.putInt24=function(N){return this.accommodate(3),this.data.setInt16(this.write,N>>8&65535),this.data.setInt8(this.write,N>>16&255),this.write+=3,this},m.DataBuffer.prototype.putInt32=function(N){return this.accommodate(4),this.data.setInt32(this.write,N),this.write+=4,this},m.DataBuffer.prototype.putInt16Le=function(N){return this.accommodate(2),this.data.setInt16(this.write,N,!0),this.write+=2,this},m.DataBuffer.prototype.putInt24Le=function(N){return this.accommodate(3),this.data.setInt8(this.write,N>>16&255),this.data.setInt16(this.write,N>>8&65535,!0),this.write+=3,this},m.DataBuffer.prototype.putInt32Le=function(N){return this.accommodate(4),this.data.setInt32(this.write,N,!0),this.write+=4,this},m.DataBuffer.prototype.putInt=function(N,B){T(B),this.accommodate(B/8);do{B-=8,this.data.setInt8(this.write++,N>>B&255)}while(B>0);return this},m.DataBuffer.prototype.putSignedInt=function(N,B){return T(B),this.accommodate(B/8),N<0&&(N+=2<<B-1),this.putInt(N,B)},m.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},m.DataBuffer.prototype.getInt16=function(){var N=this.data.getInt16(this.read);return this.read+=2,N},m.DataBuffer.prototype.getInt24=function(){var N=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,N},m.DataBuffer.prototype.getInt32=function(){var N=this.data.getInt32(this.read);return this.read+=4,N},m.DataBuffer.prototype.getInt16Le=function(){var N=this.data.getInt16(this.read,!0);return this.read+=2,N},m.DataBuffer.prototype.getInt24Le=function(){var N=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,N},m.DataBuffer.prototype.getInt32Le=function(){var N=this.data.getInt32(this.read,!0);return this.read+=4,N},m.DataBuffer.prototype.getInt=function(N){T(N);var B=0;do{B=(B<<8)+this.data.getInt8(this.read++),N-=8}while(N>0);return B},m.DataBuffer.prototype.getSignedInt=function(N){var B=this.getInt(N),V=2<<N-2;return B>=V&&(B-=V<<1),B},m.DataBuffer.prototype.getBytes=function(N){var B;return N?(N=Math.min(this.length(),N),B=this.data.slice(this.read,this.read+N),this.read+=N):0===N?B="":(B=0===this.read?this.data:this.data.slice(this.read),this.clear()),B},m.DataBuffer.prototype.bytes=function(N){return typeof N>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+N)},m.DataBuffer.prototype.at=function(N){return this.data.getUint8(this.read+N)},m.DataBuffer.prototype.setAt=function(N,B){return this.data.setUint8(N,B),this},m.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},m.DataBuffer.prototype.copy=function(){return new m.DataBuffer(this)},m.DataBuffer.prototype.compact=function(){if(this.read>0){var N=new Uint8Array(this.data.buffer,this.read),B=new Uint8Array(N.byteLength);B.set(N),this.data=new DataView(B),this.write-=this.read,this.read=0}return this},m.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},m.DataBuffer.prototype.truncate=function(N){return this.write=Math.max(0,this.length()-N),this.read=Math.min(this.read,this.write),this},m.DataBuffer.prototype.toHex=function(){for(var N="",B=this.read;B<this.data.byteLength;++B){var V=this.data.getUint8(B);V<16&&(N+="0"),N+=V.toString(16)}return N},m.DataBuffer.prototype.toString=function(N){var B=new Uint8Array(this.data,this.read,this.length());if("binary"===(N=N||"utf8")||"raw"===N)return m.binary.raw.encode(B);if("hex"===N)return m.binary.hex.encode(B);if("base64"===N)return m.binary.base64.encode(B);if("utf8"===N)return m.text.utf8.decode(B);if("utf16"===N)return m.text.utf16.decode(B);throw new Error("Invalid encoding: "+N)},m.createBuffer=function(N,B){return B=B||"raw",void 0!==N&&"utf8"===B&&(N=m.encodeUtf8(N)),new m.ByteBuffer(N)},m.fillString=function(N,B){for(var V="";B>0;)1&B&&(V+=N),(B>>>=1)>0&&(N+=N);return V},m.xorBytes=function(N,B,V){for(var J="",q="",re="",W=0,G=0;V>0;--V,++W)q=N.charCodeAt(W)^B.charCodeAt(W),G>=10&&(J+=re,re="",G=0),re+=String.fromCharCode(q),++G;return J+re},m.hexToBytes=function(N){var B="",V=0;for(!0&N.length&&(V=1,B+=String.fromCharCode(parseInt(N[0],16)));V<N.length;V+=2)B+=String.fromCharCode(parseInt(N.substr(V,2),16));return B},m.bytesToHex=function(N){return m.createBuffer(N).toHex()},m.int32ToBytes=function(N){return String.fromCharCode(N>>24&255)+String.fromCharCode(N>>16&255)+String.fromCharCode(N>>8&255)+String.fromCharCode(255&N)};var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";m.encode64=function(N,B){for(var q,re,W,V="",J="",G=0;G<N.length;)q=N.charCodeAt(G++),re=N.charCodeAt(G++),W=N.charCodeAt(G++),V+=f.charAt(q>>2),V+=f.charAt((3&q)<<4|re>>4),isNaN(re)?V+="==":(V+=f.charAt((15&re)<<2|W>>6),V+=isNaN(W)?"=":f.charAt(63&W)),B&&V.length>B&&(J+=V.substr(0,B)+"\r\n",V=V.substr(B));return J+V},m.decode64=function(N){N=N.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var V,J,q,re,B="",W=0;W<N.length;)V=w[N.charCodeAt(W++)-43],J=w[N.charCodeAt(W++)-43],q=w[N.charCodeAt(W++)-43],re=w[N.charCodeAt(W++)-43],B+=String.fromCharCode(V<<2|J>>4),64!==q&&(B+=String.fromCharCode((15&J)<<4|q>>2),64!==re&&(B+=String.fromCharCode((3&q)<<6|re)));return B},m.encodeUtf8=function(N){return unescape(encodeURIComponent(N))},m.decodeUtf8=function(N){return decodeURIComponent(escape(N))},m.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},m.binary.raw.encode=function(N){return String.fromCharCode.apply(null,N)},m.binary.raw.decode=function(N,B,V){var J=B;J||(J=new Uint8Array(N.length));for(var q=V=V||0,re=0;re<N.length;++re)J[q++]=N.charCodeAt(re);return B?q-V:J},m.binary.hex.encode=m.bytesToHex,m.binary.hex.decode=function(N,B,V){var J=B;J||(J=new Uint8Array(Math.ceil(N.length/2)));var q=0,re=V=V||0;for(1&N.length&&(q=1,J[re++]=parseInt(N[0],16));q<N.length;q+=2)J[re++]=parseInt(N.substr(q,2),16);return B?re-V:J},m.binary.base64.encode=function(N,B){for(var q,re,W,V="",J="",G=0;G<N.byteLength;)q=N[G++],re=N[G++],W=N[G++],V+=f.charAt(q>>2),V+=f.charAt((3&q)<<4|re>>4),isNaN(re)?V+="==":(V+=f.charAt((15&re)<<2|W>>6),V+=isNaN(W)?"=":f.charAt(63&W)),B&&V.length>B&&(J+=V.substr(0,B)+"\r\n",V=V.substr(B));return J+V},m.binary.base64.decode=function(N,B,V){var J=B;J||(J=new Uint8Array(3*Math.ceil(N.length/4))),N=N.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var q,re,W,G,X=0,E=V=V||0;X<N.length;)q=w[N.charCodeAt(X++)-43],re=w[N.charCodeAt(X++)-43],W=w[N.charCodeAt(X++)-43],G=w[N.charCodeAt(X++)-43],J[E++]=q<<2|re>>4,64!==W&&(J[E++]=(15&re)<<4|W>>2,64!==G&&(J[E++]=(3&W)<<6|G));return B?E-V:J.subarray(0,E)},m.binary.base58.encode=function(N,B){return m.binary.baseN.encode(N,_,B)},m.binary.base58.decode=function(N,B){return m.binary.baseN.decode(N,_,B)},m.text={utf8:{},utf16:{}},m.text.utf8.encode=function(N,B,V){N=m.encodeUtf8(N);var J=B;J||(J=new Uint8Array(N.length));for(var q=V=V||0,re=0;re<N.length;++re)J[q++]=N.charCodeAt(re);return B?q-V:J},m.text.utf8.decode=function(N){return m.decodeUtf8(String.fromCharCode.apply(null,N))},m.text.utf16.encode=function(N,B,V){var J=B;J||(J=new Uint8Array(2*N.length));for(var q=new Uint16Array(J.buffer),re=V=V||0,W=V,G=0;G<N.length;++G)q[W++]=N.charCodeAt(G),re+=2;return B?re-V:J},m.text.utf16.decode=function(N){return String.fromCharCode.apply(null,new Uint16Array(N.buffer))},m.deflate=function(N,B,V){if(B=m.decode64(N.deflate(m.encode64(B)).rval),V){var J=2;32&B.charCodeAt(1)&&(J=6),B=B.substring(J,B.length-4)}return B},m.inflate=function(N,B,V){var J=N.inflate(m.encode64(B)).rval;return null===J?null:m.decode64(J)};var R=function(N,B,V){if(!N)throw new Error("WebStorage not available.");var J;if(null===V?J=N.removeItem(B):(V=m.encode64(JSON.stringify(V)),J=N.setItem(B,V)),typeof J<"u"&&!0!==J.rval){var q=new Error(J.error.message);throw q.id=J.error.id,q.name=J.error.name,q}},P=function(N,B){if(!N)throw new Error("WebStorage not available.");var V=N.getItem(B);if(N.init)if(null===V.rval){if(V.error){var J=new Error(V.error.message);throw J.id=V.error.id,J.name=V.error.name,J}V=null}else V=V.rval;return null!==V&&(V=JSON.parse(m.decode64(V))),V},a=function(N,B,V,J){var q=P(N,B);null===q&&(q={}),q[V]=J,R(N,B,q)},k=function(N,B,V){var J=P(N,B);return null!==J&&(J=V in J?J[V]:null),J},L=function(N,B,V){var J=P(N,B);if(null!==J&&V in J){delete J[V];var q=!0;for(var re in J){q=!1;break}q&&(J=null),R(N,B,J)}},Z=function(N,B){R(N,B,null)},j=function(N,B,V){var J=null;typeof V>"u"&&(V=["web","flash"]);var q,re=!1,W=null;for(var G in V){q=V[G];try{if("flash"===q||"both"===q){if(null===B[0])throw new Error("Flash local storage not available.");J=N.apply(this,B),re="flash"===q}("web"===q||"both"===q)&&(B[0]=localStorage,J=N.apply(this,B),re=!0)}catch(X){W=X}if(re)break}if(!re)throw W;return J};m.setItem=function(N,B,V,J,q){j(a,arguments,q)},m.getItem=function(N,B,V,J){return j(k,arguments,J)},m.removeItem=function(N,B,V,J){j(L,arguments,J)},m.clearItems=function(N,B,V){j(Z,arguments,V)},m.isEmpty=function(N){for(var B in N)if(N.hasOwnProperty(B))return!1;return!0},m.format=function(N){for(var V,J,B=/%./g,q=0,re=[],W=0;V=B.exec(N);){(J=N.substring(W,B.lastIndex-2)).length>0&&re.push(J),W=B.lastIndex;var G=V[0][1];switch(G){case"s":case"o":re.push(q<arguments.length?arguments[1+q++]:"<?>");break;case"%":re.push("%");break;default:re.push("<%"+G+"?>")}}return re.push(N.substring(W)),re.join("")},m.formatNumber=function(N,B,V,J){var q=N,re=isNaN(B=Math.abs(B))?2:B,W=void 0===V?",":V,G=void 0===J?".":J,X=q<0?"-":"",E=parseInt(q=Math.abs(+q||0).toFixed(re),10)+"",ne=E.length>3?E.length%3:0;return X+(ne?E.substr(0,ne)+G:"")+E.substr(ne).replace(/(\d{3})(?=\d)/g,"$1"+G)+(re?W+Math.abs(q-E).toFixed(re).slice(2):"")},m.formatSize=function(N){return N>=1073741824?m.formatNumber(N/1073741824,2,".","")+" GiB":N>=1048576?m.formatNumber(N/1048576,2,".","")+" MiB":N>=1024?m.formatNumber(N/1024,0)+" KiB":m.formatNumber(N,0)+" bytes"},m.bytesFromIP=function(N){return-1!==N.indexOf(".")?m.bytesFromIPv4(N):-1!==N.indexOf(":")?m.bytesFromIPv6(N):null},m.bytesFromIPv4=function(N){if(4!==(N=N.split(".")).length)return null;for(var B=m.createBuffer(),V=0;V<N.length;++V){var J=parseInt(N[V],10);if(isNaN(J))return null;B.putByte(J)}return B.getBytes()},m.bytesFromIPv6=function(N){for(var B=0,V=2*(8-(N=N.split(":").filter(function(W){return 0===W.length&&++B,!0})).length+B),J=m.createBuffer(),q=0;q<8;++q)if(N[q]&&0!==N[q].length){var re=m.hexToBytes(N[q]);re.length<2&&J.putByte(0),J.putBytes(re)}else J.fillWithByte(0,V),V=0;return J.getBytes()},m.bytesToIP=function(N){return 4===N.length?m.bytesToIPv4(N):16===N.length?m.bytesToIPv6(N):null},m.bytesToIPv4=function(N){if(4!==N.length)return null;for(var B=[],V=0;V<N.length;++V)B.push(N.charCodeAt(V));return B.join(".")},m.bytesToIPv6=function(N){if(16!==N.length)return null;for(var B=[],V=[],J=0,q=0;q<N.length;q+=2){for(var re=m.bytesToHex(N[q]+N[q+1]);"0"===re[0]&&"0"!==re;)re=re.substr(1);if("0"===re){var W=V[V.length-1],G=B.length;W&&G===W.end+1?(W.end=G,W.end-W.start>V[J].end-V[J].start&&(J=V.length-1)):V.push({start:G,end:G})}B.push(re)}if(V.length>0){var X=V[J];X.end-X.start>0&&(B.splice(X.start,X.end-X.start+1,""),0===X.start&&B.unshift(""),7===X.end&&B.push(""))}return B.join(":")},m.estimateCores=function(N,B){if("function"==typeof N&&(B=N,N={}),N=N||{},"cores"in m&&!N.update)return B(null,m.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return m.cores=navigator.hardwareConcurrency,B(null,m.cores);if(typeof Worker>"u")return m.cores=1,B(null,m.cores);if(typeof Blob>"u")return m.cores=2,B(null,m.cores);var V=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(W){for(var G=Date.now(),X=G+4;Date.now()<X;);self.postMessage({st:G,et:X})})}.toString(),")()"],{type:"application/javascript"}));!function J(W,G,X){if(0===G){var E=Math.floor(W.reduce(function(ne,K){return ne+K},0)/W.length);return m.cores=Math.max(1,E),URL.revokeObjectURL(V),B(null,m.cores)}!function q(W,G){for(var X=[],E=[],ne=0;ne<W;++ne){var K=new Worker(V);K.addEventListener("message",function(le){if(E.push(le.data),E.length===W){for(var me=0;me<W;++me)X[me].terminate();G(null,E)}}),X.push(K)}for(ne=0;ne<W;++ne)X[ne].postMessage(ne)}(X,function(ne,K){W.push(function re(W,G){for(var X=[],E=0;E<W;++E)for(var ne=G[E],K=X[E]=[],le=0;le<W;++le)if(E!==le){var me=G[le];(ne.st>me.st&&ne.st<me.et||me.st>ne.st&&me.st<ne.et)&&K.push(le)}return X.reduce(function(Se,ye){return Math.max(Se,ye.length)},0)}(X,K)),J(W,G-1,X)})}([],5,16)}},5911:(dt,Ce,p)=>{var t=p(8659);p(1298),p(7791),p(279),p(979),p(9386),p(6078),p(8604),p(7256),p(5517),p(4747);var e=t.asn1,m=dt.exports=t.pki=t.pki||{},T=m.oids,C={};C.CN=T.commonName,C.commonName="CN",C.C=T.countryName,C.countryName="C",C.L=T.localityName,C.localityName="L",C.ST=T.stateOrProvinceName,C.stateOrProvinceName="ST",C.O=T.organizationName,C.organizationName="O",C.OU=T.organizationalUnitName,C.organizationalUnitName="OU",C.E=T.emailAddress,C.emailAddress="E";var b=t.pki.rsa.publicKeyValidator,g={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},b,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},f={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},_={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},b,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function R(W,G){"string"==typeof G&&(G={shortName:G});for(var E,X=null,ne=0;null===X&&ne<W.attributes.length;++ne)E=W.attributes[ne],(G.type&&G.type===E.type||G.name&&G.name===E.name||G.shortName&&G.shortName===E.shortName)&&(X=E);return X}m.RDNAttributesAsArray=function(W,G){for(var E,ne,K,X=[],le=0;le<W.value.length;++le){E=W.value[le];for(var me=0;me<E.value.length;++me)(K={}).type=e.derToOid((ne=E.value[me]).value[0].value),K.value=ne.value[1].value,K.valueTagClass=ne.value[1].type,K.type in T&&(K.name=T[K.type],K.name in C&&(K.shortName=C[K.name])),G&&(G.update(K.type),G.update(K.value)),X.push(K)}return X},m.CRIAttributesAsArray=function(W){for(var G=[],X=0;X<W.length;++X)for(var E=W[X],ne=e.derToOid(E.value[0].value),K=E.value[1].value,le=0;le<K.length;++le){var me={};if(me.type=ne,me.value=K[le].value,me.valueTagClass=K[le].type,me.type in T&&(me.name=T[me.type],me.name in C&&(me.shortName=C[me.name])),me.type===T.extensionRequest){me.extensions=[];for(var Se=0;Se<me.value.length;++Se)me.extensions.push(m.certificateExtensionFromAsn1(me.value[Se]))}G.push(me)}return G};var P=function(W,G,X){var E={};if(W!==T["RSASSA-PSS"])return E;X&&(E={hash:{algorithmOid:T.sha1},mgf:{algorithmOid:T.mgf1,hash:{algorithmOid:T.sha1}},saltLength:20});var ne={},K=[];if(!e.validate(G,f,ne,K)){var le=new Error("Cannot read RSASSA-PSS parameter block.");throw le.errors=K,le}return void 0!==ne.hashOid&&(E.hash=E.hash||{},E.hash.algorithmOid=e.derToOid(ne.hashOid)),void 0!==ne.maskGenOid&&(E.mgf=E.mgf||{},E.mgf.algorithmOid=e.derToOid(ne.maskGenOid),E.mgf.hash=E.mgf.hash||{},E.mgf.hash.algorithmOid=e.derToOid(ne.maskGenHashOid)),void 0!==ne.saltLength&&(E.saltLength=ne.saltLength.charCodeAt(0)),E},a=function(W){switch(T[W.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();default:var G=new Error("Could not compute "+W.type+" digest. Unknown signature OID.");throw G.signatureOid=W.signatureOid,G}},k=function(W){var X,G=W.certificate;switch(G.signatureOid){case T.sha1WithRSAEncryption:case T.sha1WithRSASignature:break;case T["RSASSA-PSS"]:var E,ne,K;if(void 0===(E=T[G.signatureParameters.mgf.hash.algorithmOid])||void 0===t.md[E])throw(K=new Error("Unsupported MGF hash function.")).oid=G.signatureParameters.mgf.hash.algorithmOid,K.name=E,K;if(void 0===(ne=T[G.signatureParameters.mgf.algorithmOid])||void 0===t.mgf[ne])throw(K=new Error("Unsupported MGF function.")).oid=G.signatureParameters.mgf.algorithmOid,K.name=ne,K;if(ne=t.mgf[ne].create(t.md[E].create()),void 0===(E=T[G.signatureParameters.hash.algorithmOid])||void 0===t.md[E])throw(K=new Error("Unsupported RSASSA-PSS hash function.")).oid=G.signatureParameters.hash.algorithmOid,K.name=E,K;X=t.pss.create(t.md[E].create(),ne,G.signatureParameters.saltLength)}return G.publicKey.verify(W.md.digest().getBytes(),W.signature,X)};function L(W){for(var X,E,G=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),ne=W.attributes,K=0;K<ne.length;++K){var le=(X=ne[K]).value,me=e.Type.PRINTABLESTRING;"valueTagClass"in X&&(me=X.valueTagClass)===e.Type.UTF8&&(le=t.util.encodeUtf8(le)),E=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(X.type).getBytes()),e.create(e.Class.UNIVERSAL,me,!1,le)])]),G.value.push(E)}return G}function j(W){for(var G,X=0;X<W.length;++X){if(typeof(G=W[X]).name>"u"&&(G.type&&G.type in m.oids?G.name=m.oids[G.type]:G.shortName&&G.shortName in C&&(G.name=m.oids[C[G.shortName]])),typeof G.type>"u"){if(!G.name||!(G.name in m.oids))throw(E=new Error("Attribute type not specified.")).attribute=G,E;G.type=m.oids[G.name]}if(typeof G.shortName>"u"&&G.name&&G.name in C&&(G.shortName=C[G.name]),G.type===T.extensionRequest&&(G.valueConstructed=!0,G.valueTagClass=e.Type.SEQUENCE,!G.value&&G.extensions)){G.value=[];for(var ne=0;ne<G.extensions.length;++ne)G.value.push(m.certificateExtensionToAsn1(N(G.extensions[ne])))}var E;if(typeof G.value>"u")throw(E=new Error("Attribute value not specified.")).attribute=G,E}}function N(W,G){if(G=G||{},typeof W.name>"u"&&W.id&&W.id in m.oids&&(W.name=m.oids[W.id]),typeof W.id>"u"){if(!W.name||!(W.name in m.oids))throw(X=new Error("Extension ID not specified.")).extension=W,X;W.id=m.oids[W.name]}if(typeof W.value<"u")return W;if("keyUsage"===W.name){var E=0,ne=0,K=0;W.digitalSignature&&(ne|=128,E=7),W.nonRepudiation&&(ne|=64,E=6),W.keyEncipherment&&(ne|=32,E=5),W.dataEncipherment&&(ne|=16,E=4),W.keyAgreement&&(ne|=8,E=3),W.keyCertSign&&(ne|=4,E=2),W.cRLSign&&(ne|=2,E=1),W.encipherOnly&&(ne|=1,E=0),W.decipherOnly&&(K|=128,E=7);var le=String.fromCharCode(E);0!==K?le+=String.fromCharCode(ne)+String.fromCharCode(K):0!==ne&&(le+=String.fromCharCode(ne)),W.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,le)}else if("basicConstraints"===W.name)W.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),W.cA&&W.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in W&&W.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(W.pathLenConstraint).getBytes()));else if("extKeyUsage"===W.name){W.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var me=W.value.value;for(var Se in W)!0===W[Se]&&(Se in T?me.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(T[Se]).getBytes())):-1!==Se.indexOf(".")&&me.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Se).getBytes())))}else if("nsCertType"===W.name)E=0,ne=0,W.client&&(ne|=128,E=7),W.server&&(ne|=64,E=6),W.email&&(ne|=32,E=5),W.objsign&&(ne|=16,E=4),W.reserved&&(ne|=8,E=3),W.sslCA&&(ne|=4,E=2),W.emailCA&&(ne|=2,E=1),W.objCA&&(ne|=1,E=0),le=String.fromCharCode(E),0!==ne&&(le+=String.fromCharCode(ne)),W.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,le);else if("subjectAltName"===W.name||"issuerAltName"===W.name){W.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var ze=0;ze<W.altNames.length;++ze){if(le=(ye=W.altNames[ze]).value,7===ye.type&&ye.ip){if(null===(le=t.util.bytesFromIP(ye.ip)))throw(X=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=W,X}else 8===ye.type&&(le=e.oidToDer(ye.oid?e.oidToDer(ye.oid):le));W.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,ye.type,!1,le))}}else if("nsComment"===W.name&&G.cert){if(!/^[\x00-\x7F]*$/.test(W.comment)||W.comment.length<1||W.comment.length>128)throw new Error('Invalid "nsComment" content.');W.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,W.comment)}else if("subjectKeyIdentifier"===W.name&&G.cert){var Ee=G.cert.generateSubjectKeyIdentifier();W.subjectKeyIdentifier=Ee.toHex(),W.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Ee.getBytes())}else if("authorityKeyIdentifier"===W.name&&G.cert){if(W.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),me=W.value.value,W.keyIdentifier){var qe=!0===W.keyIdentifier?G.cert.generateSubjectKeyIdentifier().getBytes():W.keyIdentifier;me.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,qe))}if(W.authorityCertIssuer){var Te=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[L(!0===W.authorityCertIssuer?G.cert.issuer:W.authorityCertIssuer)])];me.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,Te))}if(W.serialNumber){var nt=t.util.hexToBytes(!0===W.serialNumber?G.cert.serialNumber:W.serialNumber);me.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,nt))}}else if("cRLDistributionPoints"===W.name){W.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),me=W.value.value;var ye,at=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),wt=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(ze=0;ze<W.altNames.length;++ze){if(le=(ye=W.altNames[ze]).value,7===ye.type&&ye.ip){if(null===(le=t.util.bytesFromIP(ye.ip)))throw(X=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=W,X}else 8===ye.type&&(le=e.oidToDer(ye.oid?e.oidToDer(ye.oid):le));wt.value.push(e.create(e.Class.CONTEXT_SPECIFIC,ye.type,!1,le))}at.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[wt])),me.push(at)}var X;if(typeof W.value>"u")throw(X=new Error("Extension value not specified.")).extension=W,X;return W}function B(W,G){if(W===T["RSASSA-PSS"]){var X=[];return void 0!==G.hash.algorithmOid&&X.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(G.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),void 0!==G.mgf.algorithmOid&&X.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(G.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(G.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),void 0!==G.saltLength&&X.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(G.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,X)}return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}function V(W){var G=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===W.attributes.length)return G;for(var X=W.attributes,E=0;E<X.length;++E){var ne=X[E],K=ne.value,le=e.Type.UTF8;"valueTagClass"in ne&&(le=ne.valueTagClass),le===e.Type.UTF8&&(K=t.util.encodeUtf8(K));var me=!1;"valueConstructed"in ne&&(me=ne.valueConstructed);var Se=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ne.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,le,me,K)])]);G.value.push(Se)}return G}m.certificateFromPem=function(W,G,X){var E=t.pem.decode(W)[0];if("CERTIFICATE"!==E.type&&"X509 CERTIFICATE"!==E.type&&"TRUSTED CERTIFICATE"!==E.type){var ne=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw ne.headerType=E.type,ne}if(E.procType&&"ENCRYPTED"===E.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var K=e.fromDer(E.body,X);return m.certificateFromAsn1(K,G)},m.certificateToPem=function(W,G){var X={type:"CERTIFICATE",body:e.toDer(m.certificateToAsn1(W)).getBytes()};return t.pem.encode(X,{maxline:G})},m.publicKeyFromPem=function(W){var G=t.pem.decode(W)[0];if("PUBLIC KEY"!==G.type&&"RSA PUBLIC KEY"!==G.type){var X=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw X.headerType=G.type,X}if(G.procType&&"ENCRYPTED"===G.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var E=e.fromDer(G.body);return m.publicKeyFromAsn1(E)},m.publicKeyToPem=function(W,G){var X={type:"PUBLIC KEY",body:e.toDer(m.publicKeyToAsn1(W)).getBytes()};return t.pem.encode(X,{maxline:G})},m.publicKeyToRSAPublicKeyPem=function(W,G){var X={type:"RSA PUBLIC KEY",body:e.toDer(m.publicKeyToRSAPublicKey(W)).getBytes()};return t.pem.encode(X,{maxline:G})},m.getPublicKeyFingerprint=function(W,G){var ne,X=(G=G||{}).md||t.md.sha1.create();switch(G.type||"RSAPublicKey"){case"RSAPublicKey":ne=e.toDer(m.publicKeyToRSAPublicKey(W)).getBytes();break;case"SubjectPublicKeyInfo":ne=e.toDer(m.publicKeyToAsn1(W)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+G.type+'".')}X.start(),X.update(ne);var K=X.digest();if("hex"===G.encoding){var le=K.toHex();return G.delimiter?le.match(/.{2}/g).join(G.delimiter):le}if("binary"===G.encoding)return K.getBytes();if(G.encoding)throw new Error('Unknown encoding "'+G.encoding+'".');return K},m.certificationRequestFromPem=function(W,G,X){var E=t.pem.decode(W)[0];if("CERTIFICATE REQUEST"!==E.type){var ne=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw ne.headerType=E.type,ne}if(E.procType&&"ENCRYPTED"===E.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var K=e.fromDer(E.body,X);return m.certificationRequestFromAsn1(K,G)},m.certificationRequestToPem=function(W,G){var X={type:"CERTIFICATE REQUEST",body:e.toDer(m.certificationRequestToAsn1(W)).getBytes()};return t.pem.encode(X,{maxline:G})},m.createCertificate=function(){var W={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return W.siginfo.algorithmOid=null,W.validity={},W.validity.notBefore=new Date,W.validity.notAfter=new Date,W.issuer={},W.issuer.getField=function(G){return R(W.issuer,G)},W.issuer.addField=function(G){j([G]),W.issuer.attributes.push(G)},W.issuer.attributes=[],W.issuer.hash=null,W.subject={},W.subject.getField=function(G){return R(W.subject,G)},W.subject.addField=function(G){j([G]),W.subject.attributes.push(G)},W.subject.attributes=[],W.subject.hash=null,W.extensions=[],W.publicKey=null,W.md=null,W.setSubject=function(G,X){j(G),W.subject.attributes=G,delete W.subject.uniqueId,X&&(W.subject.uniqueId=X),W.subject.hash=null},W.setIssuer=function(G,X){j(G),W.issuer.attributes=G,delete W.issuer.uniqueId,X&&(W.issuer.uniqueId=X),W.issuer.hash=null},W.setExtensions=function(G){for(var X=0;X<G.length;++X)N(G[X],{cert:W});W.extensions=G},W.getExtension=function(G){"string"==typeof G&&(G={name:G});for(var E,X=null,ne=0;null===X&&ne<W.extensions.length;++ne)E=W.extensions[ne],(G.id&&E.id===G.id||G.name&&E.name===G.name)&&(X=E);return X},W.sign=function(G,X){W.md=X||t.md.sha1.create();var E=T[W.md.algorithm+"WithRSAEncryption"];if(!E){var ne=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw ne.algorithm=W.md.algorithm,ne}W.signatureOid=W.siginfo.algorithmOid=E,W.tbsCertificate=m.getTBSCertificate(W);var K=e.toDer(W.tbsCertificate);W.md.update(K.getBytes()),W.signature=G.sign(W.md)},W.verify=function(G){var X=!1;if(!W.issued(G)){var E=G.issuer,ne=W.subject,K=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw K.expectedIssuer=ne.attributes,K.actualIssuer=E.attributes,K}var le=G.md;if(null===le){le=a({signatureOid:G.signatureOid,type:"certificate"});var me=G.tbsCertificate||m.getTBSCertificate(G),Se=e.toDer(me);le.update(Se.getBytes())}return null!==le&&(X=k({certificate:W,md:le,signature:G.signature})),X},W.isIssuer=function(G){var X=!1,E=W.issuer,ne=G.subject;if(E.hash&&ne.hash)X=E.hash===ne.hash;else if(E.attributes.length===ne.attributes.length){X=!0;for(var K,le,me=0;X&&me<E.attributes.length;++me)((K=E.attributes[me]).type!==(le=ne.attributes[me]).type||K.value!==le.value)&&(X=!1)}return X},W.issued=function(G){return G.isIssuer(W)},W.generateSubjectKeyIdentifier=function(){return m.getPublicKeyFingerprint(W.publicKey,{type:"RSAPublicKey"})},W.verifySubjectKeyIdentifier=function(){for(var G=T.subjectKeyIdentifier,X=0;X<W.extensions.length;++X){var E=W.extensions[X];if(E.id===G){var ne=W.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(E.subjectKeyIdentifier)===ne}}return!1},W},m.certificateFromAsn1=function(W,G){var X={},E=[];if(!e.validate(W,g,X,E)){var ne=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw ne.errors=E,ne}if(e.derToOid(X.publicKeyOid)!==m.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var le=m.createCertificate();le.version=X.certVersion?X.certVersion.charCodeAt(0):0;var me=t.util.createBuffer(X.certSerialNumber);le.serialNumber=me.toHex(),le.signatureOid=t.asn1.derToOid(X.certSignatureOid),le.signatureParameters=P(le.signatureOid,X.certSignatureParams,!0),le.siginfo.algorithmOid=t.asn1.derToOid(X.certinfoSignatureOid),le.siginfo.parameters=P(le.siginfo.algorithmOid,X.certinfoSignatureParams,!1),le.signature=X.certSignature;var Se=[];if(void 0!==X.certValidity1UTCTime&&Se.push(e.utcTimeToDate(X.certValidity1UTCTime)),void 0!==X.certValidity2GeneralizedTime&&Se.push(e.generalizedTimeToDate(X.certValidity2GeneralizedTime)),void 0!==X.certValidity3UTCTime&&Se.push(e.utcTimeToDate(X.certValidity3UTCTime)),void 0!==X.certValidity4GeneralizedTime&&Se.push(e.generalizedTimeToDate(X.certValidity4GeneralizedTime)),Se.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Se.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(le.validity.notBefore=Se[0],le.validity.notAfter=Se[1],le.tbsCertificate=X.tbsCertificate,G){le.md=a({signatureOid:le.signatureOid,type:"certificate"});var ye=e.toDer(le.tbsCertificate);le.md.update(ye.getBytes())}var ze=t.md.sha1.create(),Ee=e.toDer(X.certIssuer);ze.update(Ee.getBytes()),le.issuer.getField=function(nt){return R(le.issuer,nt)},le.issuer.addField=function(nt){j([nt]),le.issuer.attributes.push(nt)},le.issuer.attributes=m.RDNAttributesAsArray(X.certIssuer),X.certIssuerUniqueId&&(le.issuer.uniqueId=X.certIssuerUniqueId),le.issuer.hash=ze.digest().toHex();var qe=t.md.sha1.create(),Te=e.toDer(X.certSubject);return qe.update(Te.getBytes()),le.subject.getField=function(nt){return R(le.subject,nt)},le.subject.addField=function(nt){j([nt]),le.subject.attributes.push(nt)},le.subject.attributes=m.RDNAttributesAsArray(X.certSubject),X.certSubjectUniqueId&&(le.subject.uniqueId=X.certSubjectUniqueId),le.subject.hash=qe.digest().toHex(),le.extensions=X.certExtensions?m.certificateExtensionsFromAsn1(X.certExtensions):[],le.publicKey=m.publicKeyFromAsn1(X.subjectPublicKeyInfo),le},m.certificateExtensionsFromAsn1=function(W){for(var G=[],X=0;X<W.value.length;++X)for(var E=W.value[X],ne=0;ne<E.value.length;++ne)G.push(m.certificateExtensionFromAsn1(E.value[ne]));return G},m.certificateExtensionFromAsn1=function(W){var G={};if(G.id=e.derToOid(W.value[0].value),G.critical=!1,W.value[1].type===e.Type.BOOLEAN?(G.critical=0!==W.value[1].value.charCodeAt(0),G.value=W.value[2].value):G.value=W.value[1].value,G.id in T)if(G.name=T[G.id],"keyUsage"===G.name){var E=0,ne=0;(X=e.fromDer(G.value)).value.length>1&&(E=X.value.charCodeAt(1),ne=X.value.length>2?X.value.charCodeAt(2):0),G.digitalSignature=128==(128&E),G.nonRepudiation=64==(64&E),G.keyEncipherment=32==(32&E),G.dataEncipherment=16==(16&E),G.keyAgreement=8==(8&E),G.keyCertSign=4==(4&E),G.cRLSign=2==(2&E),G.encipherOnly=1==(1&E),G.decipherOnly=128==(128&ne)}else if("basicConstraints"===G.name){var X=e.fromDer(G.value);G.cA=X.value.length>0&&X.value[0].type===e.Type.BOOLEAN&&0!==X.value[0].value.charCodeAt(0);var K=null;X.value.length>0&&X.value[0].type===e.Type.INTEGER?K=X.value[0].value:X.value.length>1&&(K=X.value[1].value),null!==K&&(G.pathLenConstraint=e.derToInteger(K))}else if("extKeyUsage"===G.name){X=e.fromDer(G.value);for(var le=0;le<X.value.length;++le){var me=e.derToOid(X.value[le].value);me in T?G[T[me]]=!0:G[me]=!0}}else if("nsCertType"===G.name)E=0,(X=e.fromDer(G.value)).value.length>1&&(E=X.value.charCodeAt(1)),G.client=128==(128&E),G.server=64==(64&E),G.email=32==(32&E),G.objsign=16==(16&E),G.reserved=8==(8&E),G.sslCA=4==(4&E),G.emailCA=2==(2&E),G.objCA=1==(1&E);else if("subjectAltName"===G.name||"issuerAltName"===G.name){G.altNames=[],X=e.fromDer(G.value);for(var Se,ye=0;ye<X.value.length;++ye){var ze={type:(Se=X.value[ye]).type,value:Se.value};switch(G.altNames.push(ze),Se.type){case 1:case 2:case 6:break;case 7:ze.ip=t.util.bytesToIP(Se.value);break;case 8:ze.oid=e.derToOid(Se.value)}}}else"subjectKeyIdentifier"===G.name&&(X=e.fromDer(G.value),G.subjectKeyIdentifier=t.util.bytesToHex(X.value));return G},m.certificationRequestFromAsn1=function(W,G){var X={},E=[];if(!e.validate(W,_,X,E)){var ne=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw ne.errors=E,ne}if(e.derToOid(X.publicKeyOid)!==m.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var le=m.createCertificationRequest();if(le.version=X.csrVersion?X.csrVersion.charCodeAt(0):0,le.signatureOid=t.asn1.derToOid(X.csrSignatureOid),le.signatureParameters=P(le.signatureOid,X.csrSignatureParams,!0),le.siginfo.algorithmOid=t.asn1.derToOid(X.csrSignatureOid),le.siginfo.parameters=P(le.siginfo.algorithmOid,X.csrSignatureParams,!1),le.signature=X.csrSignature,le.certificationRequestInfo=X.certificationRequestInfo,G){le.md=a({signatureOid:le.signatureOid,type:"certification request"});var me=e.toDer(le.certificationRequestInfo);le.md.update(me.getBytes())}var Se=t.md.sha1.create();return le.subject.getField=function(ye){return R(le.subject,ye)},le.subject.addField=function(ye){j([ye]),le.subject.attributes.push(ye)},le.subject.attributes=m.RDNAttributesAsArray(X.certificationRequestInfoSubject,Se),le.subject.hash=Se.digest().toHex(),le.publicKey=m.publicKeyFromAsn1(X.subjectPublicKeyInfo),le.getAttribute=function(ye){return R(le,ye)},le.addAttribute=function(ye){j([ye]),le.attributes.push(ye)},le.attributes=m.CRIAttributesAsArray(X.certificationRequestInfoAttributes||[]),le},m.createCertificationRequest=function(){var W={version:0,signatureOid:null,signature:null,siginfo:{}};return W.siginfo.algorithmOid=null,W.subject={},W.subject.getField=function(G){return R(W.subject,G)},W.subject.addField=function(G){j([G]),W.subject.attributes.push(G)},W.subject.attributes=[],W.subject.hash=null,W.publicKey=null,W.attributes=[],W.getAttribute=function(G){return R(W,G)},W.addAttribute=function(G){j([G]),W.attributes.push(G)},W.md=null,W.setSubject=function(G){j(G),W.subject.attributes=G,W.subject.hash=null},W.setAttributes=function(G){j(G),W.attributes=G},W.sign=function(G,X){W.md=X||t.md.sha1.create();var E=T[W.md.algorithm+"WithRSAEncryption"];if(!E){var ne=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw ne.algorithm=W.md.algorithm,ne}W.signatureOid=W.siginfo.algorithmOid=E,W.certificationRequestInfo=m.getCertificationRequestInfo(W);var K=e.toDer(W.certificationRequestInfo);W.md.update(K.getBytes()),W.signature=G.sign(W.md)},W.verify=function(){var G=!1,X=W.md;if(null===X){X=a({signatureOid:W.signatureOid,type:"certification request"});var E=W.certificationRequestInfo||m.getCertificationRequestInfo(W),ne=e.toDer(E);X.update(ne.getBytes())}return null!==X&&(G=k({certificate:W,md:X,signature:W.signature})),G},W};var J=new Date("1950-01-01T00:00:00Z"),q=new Date("2050-01-01T00:00:00Z");function re(W){return W>=J&&W<q?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(W)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(W))}m.getTBSCertificate=function(W){var G=re(W.validity.notBefore),X=re(W.validity.notAfter),E=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(W.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,t.util.hexToBytes(W.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(W.siginfo.algorithmOid).getBytes()),B(W.siginfo.algorithmOid,W.siginfo.parameters)]),L(W.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[G,X]),L(W.subject),m.publicKeyToAsn1(W.publicKey)]);return W.issuer.uniqueId&&E.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+W.issuer.uniqueId)])),W.subject.uniqueId&&E.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+W.subject.uniqueId)])),W.extensions.length>0&&E.value.push(m.certificateExtensionsToAsn1(W.extensions)),E},m.getCertificationRequestInfo=function(W){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(W.version).getBytes()),L(W.subject),m.publicKeyToAsn1(W.publicKey),V(W)])},m.distinguishedNameToAsn1=function(W){return L(W)},m.certificateToAsn1=function(W){var G=W.tbsCertificate||m.getTBSCertificate(W);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[G,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(W.signatureOid).getBytes()),B(W.signatureOid,W.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+W.signature)])},m.certificateExtensionsToAsn1=function(W){var G=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),X=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);G.value.push(X);for(var E=0;E<W.length;++E)X.value.push(m.certificateExtensionToAsn1(W[E]));return G},m.certificateExtensionToAsn1=function(W){var G=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);G.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(W.id).getBytes())),W.critical&&G.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,String.fromCharCode(255)));var X=W.value;return"string"!=typeof W.value&&(X=e.toDer(X).getBytes()),G.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,X)),G},m.certificationRequestToAsn1=function(W){var G=W.certificationRequestInfo||m.getCertificationRequestInfo(W);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[G,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(W.signatureOid).getBytes()),B(W.signatureOid,W.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+W.signature)])},m.createCaStore=function(W){var G={certs:{}};function X(le){return E(le),G.certs[le.hash]||null}function E(le){if(!le.hash){var me=t.md.sha1.create();le.attributes=m.RDNAttributesAsArray(L(le),me),le.hash=me.digest().toHex()}}if(G.getIssuer=function(le){return X(le.issuer)},G.addCertificate=function(le){if("string"==typeof le&&(le=t.pki.certificateFromPem(le)),E(le.subject),!G.hasCertificate(le))if(le.subject.hash in G.certs){var me=G.certs[le.subject.hash];t.util.isArray(me)||(me=[me]),me.push(le),G.certs[le.subject.hash]=me}else G.certs[le.subject.hash]=le},G.hasCertificate=function(le){"string"==typeof le&&(le=t.pki.certificateFromPem(le));var me=X(le.subject);if(!me)return!1;t.util.isArray(me)||(me=[me]);for(var Se=e.toDer(m.certificateToAsn1(le)).getBytes(),ye=0;ye<me.length;++ye)if(Se===e.toDer(m.certificateToAsn1(me[ye])).getBytes())return!0;return!1},G.listAllCertificates=function(){var le=[];for(var me in G.certs)if(G.certs.hasOwnProperty(me)){var Se=G.certs[me];if(t.util.isArray(Se))for(var ye=0;ye<Se.length;++ye)le.push(Se[ye]);else le.push(Se)}return le},G.removeCertificate=function(le){var me;if("string"==typeof le&&(le=t.pki.certificateFromPem(le)),E(le.subject),!G.hasCertificate(le))return null;var Se=X(le.subject);if(!t.util.isArray(Se))return me=G.certs[le.subject.hash],delete G.certs[le.subject.hash],me;for(var ye=e.toDer(m.certificateToAsn1(le)).getBytes(),ze=0;ze<Se.length;++ze)ye===e.toDer(m.certificateToAsn1(Se[ze])).getBytes()&&(me=Se[ze],Se.splice(ze,1));return 0===Se.length&&delete G.certs[le.subject.hash],me},W)for(var ne=0;ne<W.length;++ne)G.addCertificate(W[ne]);return G},m.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},m.verifyCertificateChain=function(W,G,X){"function"==typeof X&&(X={verify:X}),X=X||{};var E=(G=G.slice(0)).slice(0),ne=X.validityCheckDate;typeof ne>"u"&&(ne=new Date);var K=!0,le=null,me=0;do{var Se=G.shift(),ye=null,ze=!1;if(ne&&(ne<Se.validity.notBefore||ne>Se.validity.notAfter)&&(le={message:"Certificate is not valid yet or has expired.",error:m.certificateError.certificate_expired,notBefore:Se.validity.notBefore,notAfter:Se.validity.notAfter,now:ne}),null===le){if(null===(ye=G[0]||W.getIssuer(Se))&&Se.isIssuer(Se)&&(ze=!0,ye=Se),ye){var Ee=ye;t.util.isArray(Ee)||(Ee=[Ee]);for(var qe=!1;!qe&&Ee.length>0;){ye=Ee.shift();try{qe=ye.verify(Se)}catch{}}qe||(le={message:"Certificate signature is invalid.",error:m.certificateError.bad_certificate})}null===le&&(!ye||ze)&&!W.hasCertificate(Se)&&(le={message:"Certificate is not trusted.",error:m.certificateError.unknown_ca})}if(null===le&&ye&&!Se.isIssuer(ye)&&(le={message:"Certificate issuer is invalid.",error:m.certificateError.bad_certificate}),null===le)for(var Te={keyUsage:!0,basicConstraints:!0},nt=0;null===le&&nt<Se.extensions.length;++nt){var at=Se.extensions[nt];at.critical&&!(at.name in Te)&&(le={message:"Certificate has an unsupported critical extension.",error:m.certificateError.unsupported_certificate})}if(null===le&&(!K||0===G.length&&(!ye||ze))){var wt=Se.getExtension("basicConstraints"),lt=Se.getExtension("keyUsage");null!==lt&&(!lt.keyCertSign||null===wt)&&(le={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:m.certificateError.bad_certificate}),null===le&&null!==wt&&!wt.cA&&(le={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:m.certificateError.bad_certificate}),null===le&&null!==lt&&"pathLenConstraint"in wt&&me-1>wt.pathLenConstraint&&(le={message:"Certificate basicConstraints pathLenConstraint violated.",error:m.certificateError.bad_certificate})}var pt=null===le||le.error,Yt=X.verify?X.verify(pt,me,E):pt;if(!0!==Yt)throw!0===pt&&(le={message:"The application rejected the certificate.",error:m.certificateError.bad_certificate}),(Yt||0===Yt)&&("object"!=typeof Yt||t.util.isArray(Yt)?"string"==typeof Yt&&(le.error=Yt):(Yt.message&&(le.message=Yt.message),Yt.error&&(le.error=Yt.error))),le;le=null,K=!1,++me}while(G.length>0);return!0}},1935:(dt,Ce,p)=>{"use strict";Ce.KG=void 0;const e=p(592);Ce.KG=(C,b)=>{var g;const f=e.asn1.fromDer(C.toString("binary")),_=e.pkcs12.pkcs12FromAsn1(f,!1,b).getBags({bagType:e.pki.oids.certBag});if(!_||null==_||null===(g=_[e.pki.oids.certBag])||void 0===g||!g[0])throw new Error("Unable to parse certificate. Incorrect Password?");return _[e.pki.oids.certBag][0]}},6801:(dt,Ce)=>{"use strict";class e{static isArrayBuffer(_){return"[object ArrayBuffer]"===Object.prototype.toString.call(_)}static toArrayBuffer(_){return this.isArrayBuffer(_)?_:_.byteLength===_.buffer.byteLength?_.buffer:this.toUint8Array(_).slice().buffer}static toUint8Array(_){return this.toView(_,Uint8Array)}static toView(_,R){if(_.constructor===R)return _;if(this.isArrayBuffer(_))return new R(_);if(this.isArrayBufferView(_))return new R(_.buffer,_.byteOffset,_.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(_){return this.isArrayBufferView(_)||this.isArrayBuffer(_)}static isArrayBufferView(_){return ArrayBuffer.isView(_)||_&&this.isArrayBuffer(_.buffer)}static isEqual(_,R){const P=e.toUint8Array(_),a=e.toUint8Array(R);if(P.length!==a.byteLength)return!1;for(let k=0;k<P.length;k++)if(P[k]!==a[k])return!1;return!0}static concat(..._){if(Array.isArray(_[0])){const R=_[0];let P=0;for(const L of R)P+=L.byteLength;const a=new Uint8Array(P);let k=0;for(const L of R){const Z=this.toUint8Array(L);a.set(Z,k),k+=Z.length}return _[1]?this.toView(a,_[1]):a.buffer}return this.concat(_)}}class m{static fromString(_){const R=unescape(encodeURIComponent(_)),P=new Uint8Array(R.length);for(let a=0;a<R.length;a++)P[a]=R.charCodeAt(a);return P.buffer}static toString(_){const R=e.toUint8Array(_);let P="";for(let k=0;k<R.length;k++)P+=String.fromCharCode(R[k]);return decodeURIComponent(escape(P))}}class T{static toString(_,R=!1){const P=e.toArrayBuffer(_),a=new DataView(P);let k="";for(let L=0;L<P.byteLength;L+=2){const Z=a.getUint16(L,R);k+=String.fromCharCode(Z)}return k}static fromString(_,R=!1){const P=new ArrayBuffer(2*_.length),a=new DataView(P);for(let k=0;k<_.length;k++)a.setUint16(2*k,_.charCodeAt(k),R);return P}}let C=(()=>{class w{static isHex(R){return"string"==typeof R&&/^[a-z0-9]+$/i.test(R)}static isBase64(R){return"string"==typeof R&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(R)}static isBase64Url(R){return"string"==typeof R&&/^[a-zA-Z0-9-_]+$/i.test(R)}static ToString(R,P="utf8"){const a=e.toUint8Array(R);switch(P.toLowerCase()){case"utf8":return this.ToUtf8String(a);case"binary":return this.ToBinary(a);case"hex":return this.ToHex(a);case"base64":return this.ToBase64(a);case"base64url":return this.ToBase64Url(a);case"utf16le":return T.toString(a,!0);case"utf16":case"utf16be":return T.toString(a);default:throw new Error(`Unknown type of encoding '${P}'`)}}static FromString(R,P="utf8"){if(!R)return new ArrayBuffer(0);switch(P.toLowerCase()){case"utf8":return this.FromUtf8String(R);case"binary":return this.FromBinary(R);case"hex":return this.FromHex(R);case"base64":return this.FromBase64(R);case"base64url":return this.FromBase64Url(R);case"utf16le":return T.fromString(R,!0);case"utf16":case"utf16be":return T.fromString(R);default:throw new Error(`Unknown type of encoding '${P}'`)}}static ToBase64(R){const P=e.toUint8Array(R);if(typeof btoa<"u"){const a=this.ToString(P,"binary");return btoa(a)}return Buffer.from(P).toString("base64")}static FromBase64(R){const P=this.formatString(R);if(!P)return new ArrayBuffer(0);if(!w.isBase64(P))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(P)):new Uint8Array(Buffer.from(P,"base64")).buffer}static FromBase64Url(R){const P=this.formatString(R);if(!P)return new ArrayBuffer(0);if(!w.isBase64Url(P))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(P.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(R){return this.ToBase64(R).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(R,P=w.DEFAULT_UTF8_ENCODING){switch(P){case"ascii":return this.FromBinary(R);case"utf8":return m.fromString(R);case"utf16":case"utf16be":return T.fromString(R);case"utf16le":case"usc2":return T.fromString(R,!0);default:throw new Error(`Unknown type of encoding '${P}'`)}}static ToUtf8String(R,P=w.DEFAULT_UTF8_ENCODING){switch(P){case"ascii":return this.ToBinary(R);case"utf8":return m.toString(R);case"utf16":case"utf16be":return T.toString(R);case"utf16le":case"usc2":return T.toString(R,!0);default:throw new Error(`Unknown type of encoding '${P}'`)}}static FromBinary(R){const P=R.length,a=new Uint8Array(P);for(let k=0;k<P;k++)a[k]=R.charCodeAt(k);return a.buffer}static ToBinary(R){const P=e.toUint8Array(R);let a="";for(let k=0;k<P.length;k++)a+=String.fromCharCode(P[k]);return a}static ToHex(R){const P=e.toUint8Array(R),k=[],L=P.length;for(let Z=0;Z<L;Z++){const j=P[Z].toString(16).padStart(2,"0");k.push(j)}return k.join("")}static FromHex(R){let P=this.formatString(R);if(!P)return new ArrayBuffer(0);if(!w.isHex(P))throw new TypeError("Argument 'hexString' is not HEX encoded");P.length%2&&(P=`0${P}`);const a=new Uint8Array(P.length/2);for(let k=0;k<P.length;k+=2){const L=P.slice(k,k+2);a[k/2]=parseInt(L,16)}return a.buffer}static ToUtf16String(R,P=!1){return T.toString(R,P)}static FromUtf16String(R,P=!1){return T.fromString(R,P)}static Base64Padding(R){const P=4-R.length%4;if(P<4)for(let a=0;a<P;a++)R+="=";return R}static formatString(R){return R?.replace(/[\n\r\t ]/g,"")||""}}return w.DEFAULT_UTF8_ENCODING="utf8",w})();Ce.vJ=e,Ce.ep=C},1135:(dt,Ce,p)=>{"use strict";p.d(Ce,{X:()=>e});var t=p(7579);class e extends t.x{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const C=super._subscribe(T);return!C.closed&&T.next(this._value),C}getValue(){const{hasError:T,thrownError:C,_value:b}=this;if(T)throw C;return this._throwIfClosed(),b}next(T){super.next(this._value=T)}}},9751:(dt,Ce,p)=>{"use strict";p.d(Ce,{y:()=>f});var t=p(930),e=p(727),m=p(8822),T=p(9635),C=p(2416),b=p(576),g=p(2806);let f=(()=>{class P{constructor(k){k&&(this._subscribe=k)}lift(k){const L=new P;return L.source=this,L.operator=k,L}subscribe(k,L,Z){const j=function R(P){return P&&P instanceof t.Lv||function _(P){return P&&(0,b.m)(P.next)&&(0,b.m)(P.error)&&(0,b.m)(P.complete)}(P)&&(0,e.Nn)(P)}(k)?k:new t.Hp(k,L,Z);return(0,g.x)(()=>{const{operator:N,source:B}=this;j.add(N?N.call(j,B):B?this._subscribe(j):this._trySubscribe(j))}),j}_trySubscribe(k){try{return this._subscribe(k)}catch(L){k.error(L)}}forEach(k,L){return new(L=w(L))((Z,j)=>{const N=new t.Hp({next:B=>{try{k(B)}catch(V){j(V),N.unsubscribe()}},error:j,complete:Z});this.subscribe(N)})}_subscribe(k){var L;return null===(L=this.source)||void 0===L?void 0:L.subscribe(k)}[m.L](){return this}pipe(...k){return(0,T.U)(k)(this)}toPromise(k){return new(k=w(k))((L,Z)=>{let j;this.subscribe(N=>j=N,N=>Z(N),()=>L(j))})}}return P.create=a=>new P(a),P})();function w(P){var a;return null!==(a=P??C.v.Promise)&&void 0!==a?a:Promise}},4707:(dt,Ce,p)=>{"use strict";p.d(Ce,{t:()=>m});var t=p(7579),e=p(6063);class m extends t.x{constructor(C=1/0,b=1/0,g=e.l){super(),this._bufferSize=C,this._windowTime=b,this._timestampProvider=g,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=b===1/0,this._bufferSize=Math.max(1,C),this._windowTime=Math.max(1,b)}next(C){const{isStopped:b,_buffer:g,_infiniteTimeWindow:f,_timestampProvider:w,_windowTime:_}=this;b||(g.push(C),!f&&g.push(w.now()+_)),this._trimBuffer(),super.next(C)}_subscribe(C){this._throwIfClosed(),this._trimBuffer();const b=this._innerSubscribe(C),{_infiniteTimeWindow:g,_buffer:f}=this,w=f.slice();for(let _=0;_<w.length&&!C.closed;_+=g?1:2)C.next(w[_]);return this._checkFinalizedStatuses(C),b}_trimBuffer(){const{_bufferSize:C,_timestampProvider:b,_buffer:g,_infiniteTimeWindow:f}=this,w=(f?1:2)*C;if(C<1/0&&w<g.length&&g.splice(0,g.length-w),!f){const _=b.now();let R=0;for(let P=1;P<g.length&&g[P]<=_;P+=2)R=P;R&&g.splice(0,R+1)}}}},7579:(dt,Ce,p)=>{"use strict";p.d(Ce,{x:()=>g});var t=p(9751),e=p(727);const T=(0,p(3888).d)(w=>function(){w(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var C=p(8737),b=p(2806);let g=(()=>{class w extends t.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(R){const P=new f(this,this);return P.operator=R,P}_throwIfClosed(){if(this.closed)throw new T}next(R){(0,b.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const P of this.currentObservers)P.next(R)}})}error(R){(0,b.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=R;const{observers:P}=this;for(;P.length;)P.shift().error(R)}})}complete(){(0,b.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:R}=this;for(;R.length;)R.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var R;return(null===(R=this.observers)||void 0===R?void 0:R.length)>0}_trySubscribe(R){return this._throwIfClosed(),super._trySubscribe(R)}_subscribe(R){return this._throwIfClosed(),this._checkFinalizedStatuses(R),this._innerSubscribe(R)}_innerSubscribe(R){const{hasError:P,isStopped:a,observers:k}=this;return P||a?e.Lc:(this.currentObservers=null,k.push(R),new e.w0(()=>{this.currentObservers=null,(0,C.P)(k,R)}))}_checkFinalizedStatuses(R){const{hasError:P,thrownError:a,isStopped:k}=this;P?R.error(a):k&&R.complete()}asObservable(){const R=new t.y;return R.source=this,R}}return w.create=(_,R)=>new f(_,R),w})();class f extends g{constructor(_,R){super(),this.destination=_,this.source=R}next(_){var R,P;null===(P=null===(R=this.destination)||void 0===R?void 0:R.next)||void 0===P||P.call(R,_)}error(_){var R,P;null===(P=null===(R=this.destination)||void 0===R?void 0:R.error)||void 0===P||P.call(R,_)}complete(){var _,R;null===(R=null===(_=this.destination)||void 0===_?void 0:_.complete)||void 0===R||R.call(_)}_subscribe(_){var R,P;return null!==(P=null===(R=this.source)||void 0===R?void 0:R.subscribe(_))&&void 0!==P?P:e.Lc}}},930:(dt,Ce,p)=>{"use strict";p.d(Ce,{Hp:()=>Z,Lv:()=>P});var t=p(576),e=p(727),m=p(2416),T=p(7849),C=p(5032);const b=w("C",void 0,void 0);function w(J,q,re){return{kind:J,value:q,error:re}}var _=p(3410),R=p(2806);class P extends e.w0{constructor(q){super(),this.isStopped=!1,q?(this.destination=q,(0,e.Nn)(q)&&q.add(this)):this.destination=V}static create(q,re,W){return new Z(q,re,W)}next(q){this.isStopped?B(function f(J){return w("N",J,void 0)}(q),this):this._next(q)}error(q){this.isStopped?B(function g(J){return w("E",void 0,J)}(q),this):(this.isStopped=!0,this._error(q))}complete(){this.isStopped?B(b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(q){this.destination.next(q)}_error(q){try{this.destination.error(q)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const a=Function.prototype.bind;function k(J,q){return a.call(J,q)}class L{constructor(q){this.partialObserver=q}next(q){const{partialObserver:re}=this;if(re.next)try{re.next(q)}catch(W){j(W)}}error(q){const{partialObserver:re}=this;if(re.error)try{re.error(q)}catch(W){j(W)}else j(q)}complete(){const{partialObserver:q}=this;if(q.complete)try{q.complete()}catch(re){j(re)}}}class Z extends P{constructor(q,re,W){let G;if(super(),(0,t.m)(q)||!q)G={next:q??void 0,error:re??void 0,complete:W??void 0};else{let X;this&&m.v.useDeprecatedNextContext?(X=Object.create(q),X.unsubscribe=()=>this.unsubscribe(),G={next:q.next&&k(q.next,X),error:q.error&&k(q.error,X),complete:q.complete&&k(q.complete,X)}):G=q}this.destination=new L(G)}}function j(J){m.v.useDeprecatedSynchronousErrorHandling?(0,R.O)(J):(0,T.h)(J)}function B(J,q){const{onStoppedNotification:re}=m.v;re&&_.z.setTimeout(()=>re(J,q))}const V={closed:!0,next:C.Z,error:function N(J){throw J},complete:C.Z}},727:(dt,Ce,p)=>{"use strict";p.d(Ce,{Lc:()=>b,w0:()=>C,Nn:()=>g});var t=p(576);const m=(0,p(3888).d)(w=>function(R){w(this),this.message=R?`${R.length} errors occurred during unsubscription:\n${R.map((P,a)=>`${a+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=R});var T=p(8737);class C{constructor(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _;if(!this.closed){this.closed=!0;const{_parentage:R}=this;if(R)if(this._parentage=null,Array.isArray(R))for(const k of R)k.remove(this);else R.remove(this);const{initialTeardown:P}=this;if((0,t.m)(P))try{P()}catch(k){_=k instanceof m?k.errors:[k]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const k of a)try{f(k)}catch(L){_=_??[],L instanceof m?_=[..._,...L.errors]:_.push(L)}}if(_)throw new m(_)}}add(_){var R;if(_&&_!==this)if(this.closed)f(_);else{if(_ instanceof C){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=null!==(R=this._finalizers)&&void 0!==R?R:[]).push(_)}}_hasParent(_){const{_parentage:R}=this;return R===_||Array.isArray(R)&&R.includes(_)}_addParent(_){const{_parentage:R}=this;this._parentage=Array.isArray(R)?(R.push(_),R):R?[R,_]:_}_removeParent(_){const{_parentage:R}=this;R===_?this._parentage=null:Array.isArray(R)&&(0,T.P)(R,_)}remove(_){const{_finalizers:R}=this;R&&(0,T.P)(R,_),_ instanceof C&&_._removeParent(this)}}C.EMPTY=(()=>{const w=new C;return w.closed=!0,w})();const b=C.EMPTY;function g(w){return w instanceof C||w&&"closed"in w&&(0,t.m)(w.remove)&&(0,t.m)(w.add)&&(0,t.m)(w.unsubscribe)}function f(w){(0,t.m)(w)?w():w.unsubscribe()}},2416:(dt,Ce,p)=>{"use strict";p.d(Ce,{v:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(dt,Ce,p)=>{"use strict";p.d(Ce,{a:()=>_,l:()=>R});var t=p(9751),e=p(4742),m=p(2076),T=p(4671),C=p(3268),b=p(3269),g=p(1810),f=p(5403),w=p(9672);function _(...a){const k=(0,b.yG)(a),L=(0,b.jO)(a),{args:Z,keys:j}=(0,e.D)(a);if(0===Z.length)return(0,m.D)([],k);const N=new t.y(R(Z,k,j?B=>(0,g.n)(j,B):T.y));return L?N.pipe((0,C.Z)(L)):N}function R(a,k,L=T.y){return Z=>{P(k,()=>{const{length:j}=a,N=new Array(j);let B=j,V=j;for(let J=0;J<j;J++)P(k,()=>{const q=(0,m.D)(a[J],k);let re=!1;q.subscribe((0,f.x)(Z,W=>{N[J]=W,re||(re=!0,V--),V||Z.next(L(N.slice()))},()=>{--B||Z.complete()}))},Z)},Z)}}function P(a,k,L){a?(0,w.f)(L,a,k):k()}},7272:(dt,Ce,p)=>{"use strict";p.d(Ce,{z:()=>C});var t=p(8189),m=p(3269),T=p(2076);function C(...b){return function e(){return(0,t.J)(1)}()((0,T.D)(b,(0,m.yG)(b)))}},9770:(dt,Ce,p)=>{"use strict";p.d(Ce,{P:()=>m});var t=p(9751),e=p(8421);function m(T){return new t.y(C=>{(0,e.Xf)(T()).subscribe(C)})}},515:(dt,Ce,p)=>{"use strict";p.d(Ce,{E:()=>e,c:()=>m});var t=p(9751);const e=new t.y(C=>C.complete());function m(C){return C?function T(C){return new t.y(b=>C.schedule(()=>b.complete()))}(C):e}},4128:(dt,Ce,p)=>{"use strict";p.d(Ce,{D:()=>f});var t=p(9751),e=p(4742),m=p(8421),T=p(3269),C=p(5403),b=p(3268),g=p(1810);function f(...w){const _=(0,T.jO)(w),{args:R,keys:P}=(0,e.D)(w),a=new t.y(k=>{const{length:L}=R;if(!L)return void k.complete();const Z=new Array(L);let j=L,N=L;for(let B=0;B<L;B++){let V=!1;(0,m.Xf)(R[B]).subscribe((0,C.x)(k,J=>{V||(V=!0,N--),Z[B]=J},()=>j--,void 0,()=>{(!j||!V)&&(N||k.next(P?(0,g.n)(P,Z):Z),k.complete())}))}});return _?a.pipe((0,b.Z)(_)):a}},2076:(dt,Ce,p)=>{"use strict";p.d(Ce,{D:()=>W});var t=p(8421),e=p(9672),m=p(4482),T=p(5403);function C(G,X=0){return(0,m.e)((E,ne)=>{E.subscribe((0,T.x)(ne,K=>(0,e.f)(ne,G,()=>ne.next(K),X),()=>(0,e.f)(ne,G,()=>ne.complete(),X),K=>(0,e.f)(ne,G,()=>ne.error(K),X)))})}function b(G,X=0){return(0,m.e)((E,ne)=>{ne.add(G.schedule(()=>E.subscribe(ne),X))})}var w=p(9751),R=p(2202),P=p(576);function k(G,X){if(!G)throw new Error("Iterable cannot be null");return new w.y(E=>{(0,e.f)(E,X,()=>{const ne=G[Symbol.asyncIterator]();(0,e.f)(E,X,()=>{ne.next().then(K=>{K.done?E.complete():E.next(K.value)})},0,!0)})})}var L=p(3670),Z=p(8239),j=p(1144),N=p(6495),B=p(2206),V=p(4532),J=p(3260);function W(G,X){return X?function re(G,X){if(null!=G){if((0,L.c)(G))return function g(G,X){return(0,t.Xf)(G).pipe(b(X),C(X))}(G,X);if((0,j.z)(G))return function _(G,X){return new w.y(E=>{let ne=0;return X.schedule(function(){ne===G.length?E.complete():(E.next(G[ne++]),E.closed||this.schedule())})})}(G,X);if((0,Z.t)(G))return function f(G,X){return(0,t.Xf)(G).pipe(b(X),C(X))}(G,X);if((0,B.D)(G))return k(G,X);if((0,N.T)(G))return function a(G,X){return new w.y(E=>{let ne;return(0,e.f)(E,X,()=>{ne=G[R.h](),(0,e.f)(E,X,()=>{let K,le;try{({value:K,done:le}=ne.next())}catch(me){return void E.error(me)}le?E.complete():E.next(K)},0,!0)}),()=>(0,P.m)(ne?.return)&&ne.return()})}(G,X);if((0,J.L)(G))return function q(G,X){return k((0,J.Q)(G),X)}(G,X)}throw(0,V.z)(G)}(G,X):(0,t.Xf)(G)}},4968:(dt,Ce,p)=>{"use strict";p.d(Ce,{R:()=>_});var t=p(8421),e=p(9751),m=p(5577),T=p(1144),C=p(576),b=p(3268);const g=["addListener","removeListener"],f=["addEventListener","removeEventListener"],w=["on","off"];function _(L,Z,j,N){if((0,C.m)(j)&&(N=j,j=void 0),N)return _(L,Z,j).pipe((0,b.Z)(N));const[B,V]=function k(L){return(0,C.m)(L.addEventListener)&&(0,C.m)(L.removeEventListener)}(L)?f.map(J=>q=>L[J](Z,q,j)):function P(L){return(0,C.m)(L.addListener)&&(0,C.m)(L.removeListener)}(L)?g.map(R(L,Z)):function a(L){return(0,C.m)(L.on)&&(0,C.m)(L.off)}(L)?w.map(R(L,Z)):[];if(!B&&(0,T.z)(L))return(0,m.z)(J=>_(J,Z,j))((0,t.Xf)(L));if(!B)throw new TypeError("Invalid event target");return new e.y(J=>{const q=(...re)=>J.next(1<re.length?re:re[0]);return B(q),()=>V(q)})}function R(L,Z){return j=>N=>L[j](Z,N)}},8421:(dt,Ce,p)=>{"use strict";p.d(Ce,{Xf:()=>a});var t=p(655),e=p(1144),m=p(8239),T=p(9751),C=p(3670),b=p(2206),g=p(4532),f=p(6495),w=p(3260),_=p(576),R=p(7849),P=p(8822);function a(J){if(J instanceof T.y)return J;if(null!=J){if((0,C.c)(J))return function k(J){return new T.y(q=>{const re=J[P.L]();if((0,_.m)(re.subscribe))return re.subscribe(q);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(J);if((0,e.z)(J))return function L(J){return new T.y(q=>{for(let re=0;re<J.length&&!q.closed;re++)q.next(J[re]);q.complete()})}(J);if((0,m.t)(J))return function Z(J){return new T.y(q=>{J.then(re=>{q.closed||(q.next(re),q.complete())},re=>q.error(re)).then(null,R.h)})}(J);if((0,b.D)(J))return N(J);if((0,f.T)(J))return function j(J){return new T.y(q=>{for(const re of J)if(q.next(re),q.closed)return;q.complete()})}(J);if((0,w.L)(J))return function B(J){return N((0,w.Q)(J))}(J)}throw(0,g.z)(J)}function N(J){return new T.y(q=>{(function V(J,q){var re,W,G,X;return(0,t.mG)(this,void 0,void 0,function*(){try{for(re=(0,t.KL)(J);!(W=yield re.next()).done;)if(q.next(W.value),q.closed)return}catch(E){G={error:E}}finally{try{W&&!W.done&&(X=re.return)&&(yield X.call(re))}finally{if(G)throw G.error}}q.complete()})})(J,q).catch(re=>q.error(re))})}},6451:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>b});var t=p(8189),e=p(8421),m=p(515),T=p(3269),C=p(2076);function b(...g){const f=(0,T.yG)(g),w=(0,T._6)(g,1/0),_=g;return _.length?1===_.length?(0,e.Xf)(_[0]):(0,t.J)(w)((0,C.D)(_,f)):m.E}},1848:(dt,Ce,p)=>{"use strict";p.d(Ce,{C:()=>m});var t=p(9751),e=p(5032);const m=new t.y(e.Z)},9646:(dt,Ce,p)=>{"use strict";p.d(Ce,{of:()=>m});var t=p(3269),e=p(2076);function m(...T){const C=(0,t.yG)(T);return(0,e.D)(T,C)}},2843:(dt,Ce,p)=>{"use strict";p.d(Ce,{_:()=>m});var t=p(9751),e=p(576);function m(T,C){const b=(0,e.m)(T)?T:()=>T,g=f=>f.error(b());return new t.y(C?f=>C.schedule(g,0,f):g)}},5963:(dt,Ce,p)=>{"use strict";p.d(Ce,{H:()=>C});var t=p(9751),e=p(4986),m=p(3532);function C(b=0,g,f=e.P){let w=-1;return null!=g&&((0,m.K)(g)?f=g:w=g),new t.y(_=>{let R=function T(b){return b instanceof Date&&!isNaN(b)}(b)?+b-f.now():b;R<0&&(R=0);let P=0;return f.schedule(function(){_.closed||(_.next(P++),0<=w?this.schedule(void 0,w):_.complete())},R)})}},5403:(dt,Ce,p)=>{"use strict";p.d(Ce,{x:()=>e});var t=p(930);function e(T,C,b,g,f){return new m(T,C,b,g,f)}class m extends t.Lv{constructor(C,b,g,f,w,_){super(C),this.onFinalize=w,this.shouldUnsubscribe=_,this._next=b?function(R){try{b(R)}catch(P){C.error(P)}}:super._next,this._error=f?function(R){try{f(R)}catch(P){C.error(P)}finally{this.unsubscribe()}}:super._error,this._complete=g?function(){try{g()}catch(R){C.error(R)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var C;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:b}=this;super.unsubscribe(),!b&&(null===(C=this.onFinalize)||void 0===C||C.call(this))}}}},262:(dt,Ce,p)=>{"use strict";p.d(Ce,{K:()=>T});var t=p(8421),e=p(5403),m=p(4482);function T(C){return(0,m.e)((b,g)=>{let _,f=null,w=!1;f=b.subscribe((0,e.x)(g,void 0,void 0,R=>{_=(0,t.Xf)(C(R,T(C)(b))),f?(f.unsubscribe(),f=null,_.subscribe(g)):w=!0})),w&&(f.unsubscribe(),f=null,_.subscribe(g))})}},2718:(dt,Ce,p)=>{"use strict";p.d(Ce,{V:()=>f});var t=p(9841),e=p(4482),m=p(5797),T=p(3268),C=p(9635),b=p(3269);function g(...w){const _=(0,b.jO)(w);return _?(0,C.z)(g(...w),(0,T.Z)(_)):(0,e.e)((R,P)=>{(0,t.l)([R,...(0,m.k)(w)])(P)})}function f(...w){return g(...w)}},4351:(dt,Ce,p)=>{"use strict";p.d(Ce,{b:()=>m});var t=p(5577),e=p(576);function m(T,C){return(0,e.m)(C)?(0,t.z)(T,C,1):(0,t.z)(T,1)}},8372:(dt,Ce,p)=>{"use strict";p.d(Ce,{b:()=>T});var t=p(4986),e=p(4482),m=p(5403);function T(C,b=t.z){return(0,e.e)((g,f)=>{let w=null,_=null,R=null;const P=()=>{if(w){w.unsubscribe(),w=null;const k=_;_=null,f.next(k)}};function a(){const k=R+C,L=b.now();if(L<k)return w=this.schedule(void 0,k-L),void f.add(w);P()}g.subscribe((0,m.x)(f,k=>{_=k,R=b.now(),w||(w=b.schedule(a,C),f.add(w))},()=>{P(),f.complete()},void 0,()=>{_=w=null}))})}},6590:(dt,Ce,p)=>{"use strict";p.d(Ce,{d:()=>m});var t=p(4482),e=p(5403);function m(T){return(0,t.e)((C,b)=>{let g=!1;C.subscribe((0,e.x)(b,f=>{g=!0,b.next(f)},()=>{g||b.next(T),b.complete()}))})}},1005:(dt,Ce,p)=>{"use strict";p.d(Ce,{g:()=>P});var t=p(4986),e=p(7272),m=p(5698),T=p(4482),C=p(5403),b=p(5032),f=p(9718),w=p(5577);function _(a,k){return k?L=>(0,e.z)(k.pipe((0,m.q)(1),function g(){return(0,T.e)((a,k)=>{a.subscribe((0,C.x)(k,b.Z))})}()),L.pipe(_(a))):(0,w.z)((L,Z)=>a(L,Z).pipe((0,m.q)(1),(0,f.h)(L)))}var R=p(5963);function P(a,k=t.z){const L=(0,R.H)(a,k);return _(()=>L)}},1884:(dt,Ce,p)=>{"use strict";p.d(Ce,{x:()=>T});var t=p(4671),e=p(4482),m=p(5403);function T(b,g=t.y){return b=b??C,(0,e.e)((f,w)=>{let _,R=!0;f.subscribe((0,m.x)(w,P=>{const a=g(P);(R||!b(_,a))&&(R=!1,_=a,w.next(P))}))})}function C(b,g){return b===g}},9300:(dt,Ce,p)=>{"use strict";p.d(Ce,{h:()=>m});var t=p(4482),e=p(5403);function m(T,C){return(0,t.e)((b,g)=>{let f=0;b.subscribe((0,e.x)(g,w=>T.call(C,w,f++)&&g.next(w)))})}},590:(dt,Ce,p)=>{"use strict";p.d(Ce,{P:()=>g});var t=p(6805),e=p(9300),m=p(5698),T=p(6590),C=p(8068),b=p(4671);function g(f,w){const _=arguments.length>=2;return R=>R.pipe(f?(0,e.h)((P,a)=>f(P,a,R)):b.y,(0,m.q)(1),_?(0,T.d)(w):(0,C.T)(()=>new t.K))}},4004:(dt,Ce,p)=>{"use strict";p.d(Ce,{U:()=>m});var t=p(4482),e=p(5403);function m(T,C){return(0,t.e)((b,g)=>{let f=0;b.subscribe((0,e.x)(g,w=>{g.next(T.call(C,w,f++))}))})}},9718:(dt,Ce,p)=>{"use strict";p.d(Ce,{h:()=>e});var t=p(4004);function e(m){return(0,t.U)(()=>m)}},5683:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>b});var t=p(4482),e=p(5797),m=p(8189),T=p(3269),C=p(2076);function b(...g){const f=(0,T.yG)(g),w=(0,T._6)(g,1/0);return g=(0,e.k)(g),(0,t.e)((_,R)=>{(0,m.J)(w)((0,C.D)([_,...g],f)).subscribe(R)})}},8189:(dt,Ce,p)=>{"use strict";p.d(Ce,{J:()=>m});var t=p(5577),e=p(4671);function m(T=1/0){return(0,t.z)(e.y,T)}},5577:(dt,Ce,p)=>{"use strict";p.d(Ce,{z:()=>f});var t=p(4004),e=p(8421),m=p(4482),T=p(9672),C=p(5403),g=p(576);function f(w,_,R=1/0){return(0,g.m)(_)?f((P,a)=>(0,t.U)((k,L)=>_(P,k,a,L))((0,e.Xf)(w(P,a))),R):("number"==typeof _&&(R=_),(0,m.e)((P,a)=>function b(w,_,R,P,a,k,L,Z){const j=[];let N=0,B=0,V=!1;const J=()=>{V&&!j.length&&!N&&_.complete()},q=W=>N<P?re(W):j.push(W),re=W=>{k&&_.next(W),N++;let G=!1;(0,e.Xf)(R(W,B++)).subscribe((0,C.x)(_,X=>{a?.(X),k?q(X):_.next(X)},()=>{G=!0},void 0,()=>{if(G)try{for(N--;j.length&&N<P;){const X=j.shift();L?(0,T.f)(_,L,()=>re(X)):re(X)}J()}catch(X){_.error(X)}}))};return w.subscribe((0,C.x)(_,q,()=>{V=!0,J()})),()=>{Z?.()}}(P,a,w,R)))}},3635:(dt,Ce,p)=>{"use strict";p.d(Ce,{b:()=>e});var t=p(5683);function e(...m){return(0,t.T)(...m)}},7359:(dt,Ce,p)=>{"use strict";p.d(Ce,{U:()=>e});var t=p(5403);function e(m,T,C,b,g){return(f,w)=>{let _=C,R=T,P=0;f.subscribe((0,t.x)(w,a=>{const k=P++;R=_?m(R,a,k):(_=!0,a),b&&w.next(R)},g&&(()=>{_&&w.next(R),w.complete()})))}}},3099:(dt,Ce,p)=>{"use strict";p.d(Ce,{B:()=>C});var t=p(8421),e=p(7579),m=p(930),T=p(4482);function C(g={}){const{connector:f=(()=>new e.x),resetOnError:w=!0,resetOnComplete:_=!0,resetOnRefCountZero:R=!0}=g;return P=>{let a,k,L,Z=0,j=!1,N=!1;const B=()=>{k?.unsubscribe(),k=void 0},V=()=>{B(),a=L=void 0,j=N=!1},J=()=>{const q=a;V(),q?.unsubscribe()};return(0,T.e)((q,re)=>{Z++,!N&&!j&&B();const W=L=L??f();re.add(()=>{Z--,0===Z&&!N&&!j&&(k=b(J,R))}),W.subscribe(re),!a&&Z>0&&(a=new m.Hp({next:G=>W.next(G),error:G=>{N=!0,B(),k=b(V,w,G),W.error(G)},complete:()=>{j=!0,B(),k=b(V,_),W.complete()}}),(0,t.Xf)(q).subscribe(a))})(P)}}function b(g,f,...w){if(!0===f)return void g();if(!1===f)return;const _=new m.Hp({next:()=>{_.unsubscribe(),g()}});return f(...w).subscribe(_)}},4782:(dt,Ce,p)=>{"use strict";p.d(Ce,{d:()=>m});var t=p(4707),e=p(3099);function m(T,C,b){let g,f=!1;return T&&"object"==typeof T?({bufferSize:g=1/0,windowTime:C=1/0,refCount:f=!1,scheduler:b}=T):g=T??1/0,(0,e.B)({connector:()=>new t.t(g,C,b),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}},8675:(dt,Ce,p)=>{"use strict";p.d(Ce,{O:()=>T});var t=p(7272),e=p(3269),m=p(4482);function T(...C){const b=(0,e.yG)(C);return(0,m.e)((g,f)=>{(b?(0,t.z)(C,g,b):(0,t.z)(C,g)).subscribe(f)})}},3900:(dt,Ce,p)=>{"use strict";p.d(Ce,{w:()=>T});var t=p(8421),e=p(4482),m=p(5403);function T(C,b){return(0,e.e)((g,f)=>{let w=null,_=0,R=!1;const P=()=>R&&!w&&f.complete();g.subscribe((0,m.x)(f,a=>{w?.unsubscribe();let k=0;const L=_++;(0,t.Xf)(C(a,L)).subscribe(w=(0,m.x)(f,Z=>f.next(b?b(a,Z,L,k++):Z),()=>{w=null,P()}))},()=>{R=!0,P()}))})}},5698:(dt,Ce,p)=>{"use strict";p.d(Ce,{q:()=>T});var t=p(515),e=p(4482),m=p(5403);function T(C){return C<=0?()=>t.E:(0,e.e)((b,g)=>{let f=0;b.subscribe((0,m.x)(g,w=>{++f<=C&&(g.next(w),C<=f&&g.complete())}))})}},2722:(dt,Ce,p)=>{"use strict";p.d(Ce,{R:()=>C});var t=p(4482),e=p(5403),m=p(8421),T=p(5032);function C(b){return(0,t.e)((g,f)=>{(0,m.Xf)(b).subscribe((0,e.x)(f,()=>f.complete(),T.Z)),!f.closed&&g.subscribe(f)})}},8505:(dt,Ce,p)=>{"use strict";p.d(Ce,{b:()=>C});var t=p(576),e=p(4482),m=p(5403),T=p(4671);function C(b,g,f){const w=(0,t.m)(b)||g||f?{next:b,error:g,complete:f}:b;return w?(0,e.e)((_,R)=>{var P;null===(P=w.subscribe)||void 0===P||P.call(w);let a=!0;_.subscribe((0,m.x)(R,k=>{var L;null===(L=w.next)||void 0===L||L.call(w,k),R.next(k)},()=>{var k;a=!1,null===(k=w.complete)||void 0===k||k.call(w),R.complete()},k=>{var L;a=!1,null===(L=w.error)||void 0===L||L.call(w,k),R.error(k)},()=>{var k,L;a&&(null===(k=w.unsubscribe)||void 0===k||k.call(w)),null===(L=w.finalize)||void 0===L||L.call(w)}))}):T.y}},8068:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>T});var t=p(6805),e=p(4482),m=p(5403);function T(b=C){return(0,e.e)((g,f)=>{let w=!1;g.subscribe((0,m.x)(f,_=>{w=!0,f.next(_)},()=>w?f.complete():f.error(b())))})}function C(){return new t.K}},1365:(dt,Ce,p)=>{"use strict";p.d(Ce,{M:()=>g});var t=p(4482),e=p(5403),m=p(8421),T=p(4671),C=p(5032),b=p(3269);function g(...f){const w=(0,b.jO)(f);return(0,t.e)((_,R)=>{const P=f.length,a=new Array(P);let k=f.map(()=>!1),L=!1;for(let Z=0;Z<P;Z++)(0,m.Xf)(f[Z]).subscribe((0,e.x)(R,j=>{a[Z]=j,!L&&!k[Z]&&(k[Z]=!0,(L=k.every(T.y))&&(k=null))},C.Z));_.subscribe((0,e.x)(R,Z=>{if(L){const j=[Z,...a];R.next(w?w(...j):j)}}))})}},4408:(dt,Ce,p)=>{"use strict";p.d(Ce,{o:()=>C});var t=p(727);class e extends t.w0{constructor(g,f){super()}schedule(g,f=0){return this}}const m={setInterval(b,g,...f){const{delegate:w}=m;return w?.setInterval?w.setInterval(b,g,...f):setInterval(b,g,...f)},clearInterval(b){const{delegate:g}=m;return(g?.clearInterval||clearInterval)(b)},delegate:void 0};var T=p(8737);class C extends e{constructor(g,f){super(g,f),this.scheduler=g,this.work=f,this.pending=!1}schedule(g,f=0){if(this.closed)return this;this.state=g;const w=this.id,_=this.scheduler;return null!=w&&(this.id=this.recycleAsyncId(_,w,f)),this.pending=!0,this.delay=f,this.id=this.id||this.requestAsyncId(_,this.id,f),this}requestAsyncId(g,f,w=0){return m.setInterval(g.flush.bind(g,this),w)}recycleAsyncId(g,f,w=0){if(null!=w&&this.delay===w&&!1===this.pending)return f;m.clearInterval(f)}execute(g,f){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const w=this._execute(g,f);if(w)return w;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,f){let _,w=!1;try{this.work(g)}catch(R){w=!0,_=R||new Error("Scheduled action threw falsy error")}if(w)return this.unsubscribe(),_}unsubscribe(){if(!this.closed){const{id:g,scheduler:f}=this,{actions:w}=f;this.work=this.state=this.scheduler=null,this.pending=!1,(0,T.P)(w,this),null!=g&&(this.id=this.recycleAsyncId(f,g,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Ce,p)=>{"use strict";p.d(Ce,{v:()=>m});var t=p(6063);class e{constructor(C,b=e.now){this.schedulerActionCtor=C,this.now=b}schedule(C,b=0,g){return new this.schedulerActionCtor(this,C).schedule(g,b)}}e.now=t.l.now;class m extends e{constructor(C,b=e.now){super(C,b),this.actions=[],this._active=!1,this._scheduled=void 0}flush(C){const{actions:b}=this;if(this._active)return void b.push(C);let g;this._active=!0;do{if(g=C.execute(C.state,C.delay))break}while(C=b.shift());if(this._active=!1,g){for(;C=b.shift();)C.unsubscribe();throw g}}}},4986:(dt,Ce,p)=>{"use strict";p.d(Ce,{P:()=>T,z:()=>m});var t=p(4408);const m=new(p(7565).v)(t.o),T=m},6063:(dt,Ce,p)=>{"use strict";p.d(Ce,{l:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},3410:(dt,Ce,p)=>{"use strict";p.d(Ce,{z:()=>t});const t={setTimeout(e,m,...T){const{delegate:C}=t;return C?.setTimeout?C.setTimeout(e,m,...T):setTimeout(e,m,...T)},clearTimeout(e){const{delegate:m}=t;return(m?.clearTimeout||clearTimeout)(e)},delegate:void 0}},2202:(dt,Ce,p)=>{"use strict";p.d(Ce,{h:()=>e});const e=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Ce,p)=>{"use strict";p.d(Ce,{L:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(dt,Ce,p)=>{"use strict";p.d(Ce,{K:()=>e});const e=(0,p(3888).d)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(dt,Ce,p)=>{"use strict";p.d(Ce,{_6:()=>b,jO:()=>T,yG:()=>C});var t=p(576),e=p(3532);function m(g){return g[g.length-1]}function T(g){return(0,t.m)(m(g))?g.pop():void 0}function C(g){return(0,e.K)(m(g))?g.pop():void 0}function b(g,f){return"number"==typeof m(g)?g.pop():f}},4742:(dt,Ce,p)=>{"use strict";p.d(Ce,{D:()=>C});const{isArray:t}=Array,{getPrototypeOf:e,prototype:m,keys:T}=Object;function C(g){if(1===g.length){const f=g[0];if(t(f))return{args:f,keys:null};if(function b(g){return g&&"object"==typeof g&&e(g)===m}(f)){const w=T(f);return{args:w.map(_=>f[_]),keys:w}}}return{args:g,keys:null}}},5797:(dt,Ce,p)=>{"use strict";p.d(Ce,{k:()=>e});const{isArray:t}=Array;function e(m){return 1===m.length&&t(m[0])?m[0]:m}},8737:(dt,Ce,p)=>{"use strict";function t(e,m){if(e){const T=e.indexOf(m);0<=T&&e.splice(T,1)}}p.d(Ce,{P:()=>t})},3888:(dt,Ce,p)=>{"use strict";function t(e){const T=e(C=>{Error.call(C),C.stack=(new Error).stack});return T.prototype=Object.create(Error.prototype),T.prototype.constructor=T,T}p.d(Ce,{d:()=>t})},1810:(dt,Ce,p)=>{"use strict";function t(e,m){return e.reduce((T,C,b)=>(T[C]=m[b],T),{})}p.d(Ce,{n:()=>t})},2806:(dt,Ce,p)=>{"use strict";p.d(Ce,{O:()=>T,x:()=>m});var t=p(2416);let e=null;function m(C){if(t.v.useDeprecatedSynchronousErrorHandling){const b=!e;if(b&&(e={errorThrown:!1,error:null}),C(),b){const{errorThrown:g,error:f}=e;if(e=null,g)throw f}}else C()}function T(C){t.v.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=C)}},9672:(dt,Ce,p)=>{"use strict";function t(e,m,T,C=0,b=!1){const g=m.schedule(function(){T(),b?e.add(this.schedule(null,C)):this.unsubscribe()},C);if(e.add(g),!b)return g}p.d(Ce,{f:()=>t})},4671:(dt,Ce,p)=>{"use strict";function t(e){return e}p.d(Ce,{y:()=>t})},1144:(dt,Ce,p)=>{"use strict";p.d(Ce,{z:()=>t});const t=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2206:(dt,Ce,p)=>{"use strict";p.d(Ce,{D:()=>e});var t=p(576);function e(m){return Symbol.asyncIterator&&(0,t.m)(m?.[Symbol.asyncIterator])}},576:(dt,Ce,p)=>{"use strict";function t(e){return"function"==typeof e}p.d(Ce,{m:()=>t})},3670:(dt,Ce,p)=>{"use strict";p.d(Ce,{c:()=>m});var t=p(8822),e=p(576);function m(T){return(0,e.m)(T[t.L])}},6495:(dt,Ce,p)=>{"use strict";p.d(Ce,{T:()=>m});var t=p(2202),e=p(576);function m(T){return(0,e.m)(T?.[t.h])}},5191:(dt,Ce,p)=>{"use strict";p.d(Ce,{b:()=>m});var t=p(9751),e=p(576);function m(T){return!!T&&(T instanceof t.y||(0,e.m)(T.lift)&&(0,e.m)(T.subscribe))}},8239:(dt,Ce,p)=>{"use strict";p.d(Ce,{t:()=>e});var t=p(576);function e(m){return(0,t.m)(m?.then)}},3260:(dt,Ce,p)=>{"use strict";p.d(Ce,{L:()=>T,Q:()=>m});var t=p(655),e=p(576);function m(C){return(0,t.FC)(this,arguments,function*(){const g=C.getReader();try{for(;;){const{value:f,done:w}=yield(0,t.qq)(g.read());if(w)return yield(0,t.qq)(void 0);yield yield(0,t.qq)(f)}}finally{g.releaseLock()}})}function T(C){return(0,e.m)(C?.getReader)}},3532:(dt,Ce,p)=>{"use strict";p.d(Ce,{K:()=>e});var t=p(576);function e(m){return m&&(0,t.m)(m.schedule)}},4482:(dt,Ce,p)=>{"use strict";p.d(Ce,{A:()=>e,e:()=>m});var t=p(576);function e(T){return(0,t.m)(T?.lift)}function m(T){return C=>{if(e(C))return C.lift(function(b){try{return T(b,this)}catch(g){this.error(g)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(dt,Ce,p)=>{"use strict";p.d(Ce,{Z:()=>T});var t=p(4004);const{isArray:e}=Array;function T(C){return(0,t.U)(b=>function m(C,b){return e(b)?C(...b):C(b)}(C,b))}},5032:(dt,Ce,p)=>{"use strict";function t(){}p.d(Ce,{Z:()=>t})},9635:(dt,Ce,p)=>{"use strict";p.d(Ce,{U:()=>m,z:()=>e});var t=p(4671);function e(...T){return m(T)}function m(T){return 0===T.length?t.y:1===T.length?T[0]:function(b){return T.reduce((g,f)=>f(g),b)}}},7849:(dt,Ce,p)=>{"use strict";p.d(Ce,{h:()=>m});var t=p(2416),e=p(3410);function m(T){e.z.setTimeout(()=>{const{onUnhandledError:C}=t.v;if(!C)throw T;C(T)})}},4532:(dt,Ce,p)=>{"use strict";function t(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}p.d(Ce,{z:()=>t})},5834:function(dt,Ce,p){var t;!function(e,m){"use strict";var g="function",f="undefined",w="object",_="string",R="major",P="model",a="name",k="type",L="vendor",Z="version",j="architecture",N="console",B="mobile",V="tablet",J="smarttv",q="wearable",re="embedded",G="Amazon",X="Apple",E="ASUS",ne="BlackBerry",K="Browser",le="Chrome",Se="Firefox",ye="Google",qe="Microsoft",Te="Motorola",nt="Opera",at="Samsung",lt="Sony",pt="Xiaomi",Yt="Zebra",un="Facebook",Nt="Chromium OS",Q=function(Ge){for(var de={},ee=0;ee<Ge.length;ee++)de[Ge[ee].toUpperCase()]=Ge[ee];return de},ce=function(Ge,de){return typeof Ge===_&&-1!==We(de).indexOf(We(Ge))},We=function(Ge){return Ge.toLowerCase()},Oe=function(Ge,de){if(typeof Ge===_)return Ge=Ge.replace(/^\s\s*/,""),typeof de===f?Ge:Ge.substring(0,350)},i=function(Ge,de){for(var U,te,Re,ot,ut,Dt,ee=0;ee<de.length&&!ut;){var Qt=de[ee],mn=de[ee+1];for(U=te=0;U<Qt.length&&!ut&&Qt[U];)if(ut=Qt[U++].exec(Ge))for(Re=0;Re<mn.length;Re++)Dt=ut[++te],typeof(ot=mn[Re])===w&&ot.length>0?2===ot.length?this[ot[0]]=typeof ot[1]==g?ot[1].call(this,Dt):ot[1]:3===ot.length?this[ot[0]]=typeof ot[1]!==g||ot[1].exec&&ot[1].test?Dt?Dt.replace(ot[1],ot[2]):m:Dt?ot[1].call(this,Dt,ot[2]):m:4===ot.length&&(this[ot[0]]=Dt?ot[3].call(this,Dt.replace(ot[1],ot[2])):m):this[ot]=Dt||m;ee+=2}},we=function(Ge,de){for(var ee in de)if(typeof de[ee]===w&&de[ee].length>0){for(var U=0;U<de[ee].length;U++)if(ce(de[ee][U],Ge))return"?"===ee?m:ee}else if(ce(de[ee],Ge))return"?"===ee?m:ee;return Ge},Ye={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Xe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Z,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Z,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,Z],[/opios[\/ ]+([\w\.]+)/i],[Z,[a,nt+" Mini"]],[/\bopr\/([\w\.]+)/i],[Z,[a,nt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[a,Z],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Z,[a,"UC"+K]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[Z,[a,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[Z,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Z,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Z,[a,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Z,[a,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure "+K],Z],[/\bfocus\/([\w\.]+)/i],[Z,[a,Se+" Focus"]],[/\bopt\/([\w\.]+)/i],[Z,[a,nt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Z,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Z,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[Z,[a,nt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Z,[a,"MIUI "+K]],[/fxios\/([-\w\.]+)/i],[Z,[a,Se]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360 "+K]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 "+K],Z],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],Z],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[a,Z],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,un],Z],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[a,Z],[/\bgsa\/([\w\.]+) .*safari\//i],[Z,[a,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Z,[a,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Z,[a,le+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,le+" WebView"],Z],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Z,[a,"Android "+K]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,Z],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Z,[a,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Z,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[Z,we,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[a,Z],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],Z],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Z,[a,Se+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[a,Z],[/(cobalt)\/([\w\.]+)/i],[a,[Z,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[j,"amd64"]],[/(ia32(?=;))/i],[[j,We]],[/((?:i[346]|x)86)[;\)]/i],[[j,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[j,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[j,"armhf"]],[/windows (ce|mobile); ppc;/i],[[j,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[j,/ower/,"",We]],[/(sun4\w)[;\)]/i],[[j,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[j,We]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[P,[L,at],[k,V]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[P,[L,at],[k,B]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[P,[L,X],[k,B]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[P,[L,X],[k,V]],[/(macintosh);/i],[P,[L,X]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[P,[L,"Sharp"],[k,B]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[P,[L,"Huawei"],[k,V]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[P,[L,"Huawei"],[k,B]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[P,/_/g," "],[L,pt],[k,B]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[P,/_/g," "],[L,pt],[k,V]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[P,[L,"OPPO"],[k,B]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[P,[L,"Vivo"],[k,B]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[P,[L,"Realme"],[k,B]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[P,[L,Te],[k,B]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[P,[L,Te],[k,V]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[P,[L,"LG"],[k,V]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[P,[L,"LG"],[k,B]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[P,[L,"Lenovo"],[k,V]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[P,/_/g," "],[L,"Nokia"],[k,B]],[/(pixel c)\b/i],[P,[L,ye],[k,V]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[P,[L,ye],[k,B]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[P,[L,lt],[k,B]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[P,"Xperia Tablet"],[L,lt],[k,V]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[P,[L,"OnePlus"],[k,B]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[P,[L,G],[k,V]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[P,/(.+)/g,"Fire Phone $1"],[L,G],[k,B]],[/(playbook);[-\w\),; ]+(rim)/i],[P,L,[k,V]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[P,[L,ne],[k,B]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[P,[L,E],[k,V]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[P,[L,E],[k,B]],[/(nexus 9)/i],[P,[L,"HTC"],[k,V]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[L,[P,/_/g," "],[k,B]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[P,[L,"Acer"],[k,V]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[P,[L,"Meizu"],[k,B]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[L,P,[k,B]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[L,P,[k,V]],[/(surface duo)/i],[P,[L,qe],[k,V]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[P,[L,"Fairphone"],[k,B]],[/(u304aa)/i],[P,[L,"AT&T"],[k,B]],[/\bsie-(\w*)/i],[P,[L,"Siemens"],[k,B]],[/\b(rct\w+) b/i],[P,[L,"RCA"],[k,V]],[/\b(venue[\d ]{2,7}) b/i],[P,[L,"Dell"],[k,V]],[/\b(q(?:mv|ta)\w+) b/i],[P,[L,"Verizon"],[k,V]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[P,[L,"Barnes & Noble"],[k,V]],[/\b(tm\d{3}\w+) b/i],[P,[L,"NuVision"],[k,V]],[/\b(k88) b/i],[P,[L,"ZTE"],[k,V]],[/\b(nx\d{3}j) b/i],[P,[L,"ZTE"],[k,B]],[/\b(gen\d{3}) b.+49h/i],[P,[L,"Swiss"],[k,B]],[/\b(zur\d{3}) b/i],[P,[L,"Swiss"],[k,V]],[/\b((zeki)?tb.*\b) b/i],[P,[L,"Zeki"],[k,V]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[L,"Dragon Touch"],P,[k,V]],[/\b(ns-?\w{0,9}) b/i],[P,[L,"Insignia"],[k,V]],[/\b((nxa|next)-?\w{0,9}) b/i],[P,[L,"NextBook"],[k,V]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[L,"Voice"],P,[k,B]],[/\b(lvtel\-)?(v1[12]) b/i],[[L,"LvTel"],P,[k,B]],[/\b(ph-1) /i],[P,[L,"Essential"],[k,B]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[P,[L,"Envizen"],[k,V]],[/\b(trio[-\w\. ]+) b/i],[P,[L,"MachSpeed"],[k,V]],[/\btu_(1491) b/i],[P,[L,"Rotor"],[k,V]],[/(shield[\w ]+) b/i],[P,[L,"Nvidia"],[k,V]],[/(sprint) (\w+)/i],[L,P,[k,B]],[/(kin\.[onetw]{3})/i],[[P,/\./g," "],[L,qe],[k,B]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[P,[L,Yt],[k,V]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[P,[L,Yt],[k,B]],[/smart-tv.+(samsung)/i],[L,[k,J]],[/hbbtv.+maple;(\d+)/i],[[P,/^/,"SmartTV"],[L,at],[k,J]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[L,"LG"],[k,J]],[/(apple) ?tv/i],[L,[P,X+" TV"],[k,J]],[/crkey/i],[[P,le+"cast"],[L,ye],[k,J]],[/droid.+aft(\w)( bui|\))/i],[P,[L,G],[k,J]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[P,[L,"Sharp"],[k,J]],[/(bravia[\w ]+)( bui|\))/i],[P,[L,lt],[k,J]],[/(mitv-\w{5}) bui/i],[P,[L,pt],[k,J]],[/Hbbtv.*(technisat) (.*);/i],[L,P,[k,J]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[L,Oe],[P,Oe],[k,J]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[k,J]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[L,P,[k,N]],[/droid.+; (shield) bui/i],[P,[L,"Nvidia"],[k,N]],[/(playstation [345portablevi]+)/i],[P,[L,lt],[k,N]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[P,[L,qe],[k,N]],[/((pebble))app/i],[L,P,[k,q]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[P,[L,X],[k,q]],[/droid.+; (glass) \d/i],[P,[L,ye],[k,q]],[/droid.+; (wt63?0{2,3})\)/i],[P,[L,Yt],[k,q]],[/(quest( 2| pro)?)/i],[P,[L,un],[k,q]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[L,[k,re]],[/(aeobc)\b/i],[P,[L,G],[k,re]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[P,[k,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[P,[k,V]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[k,V]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[k,B]],[/(android[-\w\. ]{0,9});.+buil/i],[P,[L,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Z,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Z,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[a,Z],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Z,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,Z],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[a,[Z,we,Ye]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[a,"Windows"],[Z,we,Ye]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Z,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,"Mac OS"],[Z,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Z,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,Z],[/\(bb(10);/i],[Z,[a,ne]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Z,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Z,[a,Se+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Z,[a,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Z,[a,"watchOS"]],[/crkey\/([\d\.]+)/i],[Z,[a,le+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[a,Nt],Z],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,Z],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],Z],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[a,Z]]},Fe=function(Ge,de){if(typeof Ge===w&&(de=Ge,Ge=m),!(this instanceof Fe))return new Fe(Ge,de).getResult();var ee=typeof e!==f&&e.navigator?e.navigator:m,U=Ge||(ee&&ee.userAgent?ee.userAgent:""),te=ee&&ee.userAgentData?ee.userAgentData:m,Re=de?function(Ge,de){var ee={};for(var U in Ge)ee[U]=de[U]&&de[U].length%2==0?de[U].concat(Ge[U]):Ge[U];return ee}(Xe,de):Xe,ot=ee&&ee.userAgent==U;return this.getBrowser=function(){var ut={};return ut[a]=m,ut[Z]=m,i.call(ut,U,Re.browser),ut[R]=function(Ge){return typeof Ge===_?Ge.replace(/[^\d\.]/g,"").split(".")[0]:m}(ut[Z]),ot&&ee&&ee.brave&&typeof ee.brave.isBrave==g&&(ut[a]="Brave"),ut},this.getCPU=function(){var ut={};return ut[j]=m,i.call(ut,U,Re.cpu),ut},this.getDevice=function(){var ut={};return ut[L]=m,ut[P]=m,ut[k]=m,i.call(ut,U,Re.device),ot&&!ut[k]&&te&&te.mobile&&(ut[k]=B),ot&&"Macintosh"==ut[P]&&ee&&typeof ee.standalone!==f&&ee.maxTouchPoints&&ee.maxTouchPoints>2&&(ut[P]="iPad",ut[k]=V),ut},this.getEngine=function(){var ut={};return ut[a]=m,ut[Z]=m,i.call(ut,U,Re.engine),ut},this.getOS=function(){var ut={};return ut[a]=m,ut[Z]=m,i.call(ut,U,Re.os),ot&&!ut[a]&&te&&"Unknown"!=te.platform&&(ut[a]=te.platform.replace(/chrome os/i,Nt).replace(/macos/i,"Mac OS")),ut},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return U},this.setUA=function(ut){return U=typeof ut===_&&ut.length>350?Oe(ut,350):ut,this},this.setUA(U),this};Fe.VERSION="1.0.35",Fe.BROWSER=Q([a,Z,R]),Fe.CPU=Q([j]),Fe.DEVICE=Q([P,L,k,N,B,J,V,q,re]),Fe.ENGINE=Fe.OS=Q([a,Z]),typeof Ce!==f?(dt.exports&&(Ce=dt.exports=Fe),Ce.UAParser=Fe):p.amdO?(t=function(){return Fe}.call(Ce,p,Ce,dt))!==m&&(dt.exports=t):typeof e!==f&&(e.UAParser=Fe);var Tt=typeof e!==f&&(e.jQuery||e.Zepto);if(Tt&&!Tt.ua){var vt=new Fe;Tt.ua=vt.getResult(),Tt.ua.get=function(){return vt.getUA()},Tt.ua.set=function(Ge){vt.setUA(Ge);var de=vt.getResult();for(var ee in de)Tt.ua[ee]=de[ee]}}}("object"==typeof window?window:this)},6482:function(dt,Ce){!function(p){"use strict";function t(){for(var bt=arguments.length,_t=Array(bt),Ot=0;Ot<bt;Ot++)_t[Ot]=arguments[Ot];if(_t.length>1){_t[0]=_t[0].slice(0,-1);for(var Ze=_t.length-1,Ke=1;Ke<Ze;++Ke)_t[Ke]=_t[Ke].slice(1,-1);return _t[Ze]=_t[Ze].slice(1),_t.join("")}return _t[0]}function e(bt){return"(?:"+bt+")"}function m(bt){return void 0===bt?"undefined":null===bt?"null":Object.prototype.toString.call(bt).split(" ").pop().split("]").shift().toLowerCase()}function T(bt){return bt.toUpperCase()}function g(bt){var _t="[A-Za-z]",Ze="[0-9]",it=t(Ze,"[A-Fa-f]"),on=e(e("%[EFef]"+it+"%"+it+it+"%"+it+it)+"|"+e("%[89A-Fa-f]"+it+"%"+it+it)+"|"+e("%"+it+it)),Mn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Jn=t("[\\:\\/\\?\\#\\[\\]\\@]",Mn),Cn=bt?"[\\uE000-\\uF8FF]":"[]",Zn=t(_t,Ze,"[\\-\\.\\_\\~]",bt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),di=e(_t+t(_t,Ze,"[\\+\\-\\.]")+"*"),Un=e(e(on+"|"+t(Zn,Mn,"[\\:]"))+"*"),bi=(e(e("25[0-5]")+"|"+e("2[0-4]"+Ze)+"|"+e("1"+Ze+Ze)+"|"+e("[1-9]"+Ze)+"|"+Ze),e(e("25[0-5]")+"|"+e("2[0-4]"+Ze)+"|"+e("1"+Ze+Ze)+"|"+e("0?[1-9]"+Ze)+"|0?0?"+Ze)),pi=e(bi+"\\."+bi+"\\."+bi+"\\."+bi),ci=e(it+"{1,4}"),Fi=e(e(ci+"\\:"+ci)+"|"+pi),Wt=e(e(ci+"\\:")+"{6}"+Fi),Pn=e("\\:\\:"+e(ci+"\\:")+"{5}"+Fi),kt=e(e(ci)+"?\\:\\:"+e(ci+"\\:")+"{4}"+Fi),zt=e(e(e(ci+"\\:")+"{0,1}"+ci)+"?\\:\\:"+e(ci+"\\:")+"{3}"+Fi),Sn=e(e(e(ci+"\\:")+"{0,2}"+ci)+"?\\:\\:"+e(ci+"\\:")+"{2}"+Fi),Ln=e(e(e(ci+"\\:")+"{0,3}"+ci)+"?\\:\\:"+ci+"\\:"+Fi),zn=e(e(e(ci+"\\:")+"{0,4}"+ci)+"?\\:\\:"+Fi),Be=e(e(e(ci+"\\:")+"{0,5}"+ci)+"?\\:\\:"+ci),et=e(e(e(ci+"\\:")+"{0,6}"+ci)+"?\\:\\:"),ft=e([Wt,Pn,kt,zt,Sn,Ln,zn,Be,et].join("|")),Lt=e(e(Zn+"|"+on)+"+"),hn=(e(ft+"\\%25"+Lt),e(ft+e("\\%25|\\%(?!"+it+"{2})")+Lt)),In=e("[vV]"+it+"+\\."+t(Zn,Mn,"[\\:]")+"+"),Rn=e("\\["+e(hn+"|"+ft+"|"+In)+"\\]"),xi=e(e(on+"|"+t(Zn,Mn))+"*"),fi=e(Rn+"|"+pi+"(?!"+xi+")|"+xi),qn=e(Ze+"*"),or=e(e(Un+"@")+"?"+fi+e("\\:"+qn)+"?"),Yi=e(on+"|"+t(Zn,Mn,"[\\:\\@]")),hr=e(Yi+"*"),Ei=e(Yi+"+"),gr=e(e(on+"|"+t(Zn,Mn,"[\\@]"))+"+"),Mi=e(e("\\/"+hr)+"*"),Hi=e("\\/"+e(Ei+Mi)+"?"),Nr=e(gr+Mi),cs=e(Ei+Mi),is="(?!"+Yi+")",qr=(e(Mi+"|"+Hi+"|"+Nr+"|"+cs+"|"+is),e(e(Yi+"|"+t("[\\/\\?]",Cn))+"*")),_r=e(e(Yi+"|[\\/\\?]")+"*"),rs=e(e("\\/\\/"+or+Mi)+"|"+Hi+"|"+cs+"|"+is),Rs=e(di+"\\:"+rs+e("\\?"+qr)+"?"+e("\\#"+_r)+"?"),Cs=e(e("\\/\\/"+or+Mi)+"|"+Hi+"|"+Nr+"|"+is),Sr=e(Cs+e("\\?"+qr)+"?"+e("\\#"+_r)+"?");return e(Rs+"|"+Sr),e(di+"\\:"+rs+e("\\?"+qr)+"?"),e(e("\\/\\/("+e("("+Un+")@")+"?("+fi+")"+e("\\:("+qn+")")+"?)")+"?("+Mi+"|"+Hi+"|"+cs+"|"+is+")"),e("\\?("+qr+")"),e("\\#("+_r+")"),e(e("\\/\\/("+e("("+Un+")@")+"?("+fi+")"+e("\\:("+qn+")")+"?)")+"?("+Mi+"|"+Hi+"|"+Nr+"|"+is+")"),e("\\?("+qr+")"),e("\\#("+_r+")"),e(e("\\/\\/("+e("("+Un+")@")+"?("+fi+")"+e("\\:("+qn+")")+"?)")+"?("+Mi+"|"+Hi+"|"+cs+"|"+is+")"),e("\\?("+qr+")"),e("\\#("+_r+")"),e("("+Un+")@"),e("\\:("+qn+")"),{NOT_SCHEME:new RegExp(t("[^]",_t,Ze,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",Zn,Mn),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",Zn,Mn),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",Zn,Mn),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",Zn,Mn),"g"),NOT_QUERY:new RegExp(t("[^\\%]",Zn,Mn,"[\\:\\@\\/\\?]",Cn),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",Zn,Mn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",Zn,Mn),"g"),UNRESERVED:new RegExp(Zn,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",Zn,Jn),"g"),PCT_ENCODED:new RegExp(on,"g"),IPV4ADDRESS:new RegExp("^("+pi+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ft+")"+e(e("\\%25|\\%(?!"+it+"{2})")+"("+Lt+")")+"?\\]?$")}}var f=g(!1),w=g(!0),_=function(_t,Ot){if(Array.isArray(_t))return _t;if(Symbol.iterator in Object(_t))return function bt(_t,Ot){var Ze=[],Ke=!0,it=!1,yt=void 0;try{for(var on,Jt=_t[Symbol.iterator]();!(Ke=(on=Jt.next()).done)&&(Ze.push(on.value),!Ot||Ze.length!==Ot);Ke=!0);}catch(Bt){it=!0,yt=Bt}finally{try{!Ke&&Jt.return&&Jt.return()}finally{if(it)throw yt}}return Ze}(_t,Ot);throw new TypeError("Invalid attempt to destructure non-iterable instance")},P=2147483647,a=36,J=/^xn--/,q=/[^\0-\x7E]/,re=/[\x2E\u3002\uFF0E\uFF61]/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},X=Math.floor,E=String.fromCharCode;function ne(bt){throw new RangeError(W[bt])}function le(bt,_t){var Ot=bt.split("@"),Ze="";return Ot.length>1&&(Ze=Ot[0]+"@",bt=Ot[1]),Ze+function K(bt,_t){for(var Ot=[],Ze=bt.length;Ze--;)Ot[Ze]=_t(bt[Ze]);return Ot}((bt=bt.replace(re,".")).split("."),_t).join(".")}function me(bt){for(var _t=[],Ot=0,Ze=bt.length;Ot<Ze;){var Ke=bt.charCodeAt(Ot++);if(Ke>=55296&&Ke<=56319&&Ot<Ze){var it=bt.charCodeAt(Ot++);56320==(64512&it)?_t.push(((1023&Ke)<<10)+(1023&it)+65536):(_t.push(Ke),Ot--)}else _t.push(Ke)}return _t}var ye=function(_t){return _t-48<10?_t-22:_t-65<26?_t-65:_t-97<26?_t-97:a},ze=function(_t,Ot){return _t+22+75*(_t<26)-((0!=Ot)<<5)},Ee=function(_t,Ot,Ze){var Ke=0;for(_t=Ze?X(_t/700):_t>>1,_t+=X(_t/Ot);_t>455;Ke+=a)_t=X(_t/35);return X(Ke+36*_t/(_t+38))},qe=function(_t){var Ot=[],Ze=_t.length,Ke=0,it=128,yt=72,Jt=_t.lastIndexOf("-");Jt<0&&(Jt=0);for(var on=0;on<Jt;++on)_t.charCodeAt(on)>=128&&ne("not-basic"),Ot.push(_t.charCodeAt(on));for(var Bt=Jt>0?Jt+1:0;Bt<Ze;){for(var Mn=Ke,Jn=1,_i=a;;_i+=a){Bt>=Ze&&ne("invalid-input");var Cn=ye(_t.charCodeAt(Bt++));(Cn>=a||Cn>X((P-Ke)/Jn))&&ne("overflow"),Ke+=Cn*Jn;var Zn=_i<=yt?1:_i>=yt+26?26:_i-yt;if(Cn<Zn)break;var di=a-Zn;Jn>X(P/di)&&ne("overflow"),Jn*=di}var Un=Ot.length+1;yt=Ee(Ke-Mn,Un,0==Mn),X(Ke/Un)>P-it&&ne("overflow"),it+=X(Ke/Un),Ke%=Un,Ot.splice(Ke++,0,it)}return String.fromCodePoint.apply(String,Ot)},Te=function(_t){var Ot=[],Ze=(_t=me(_t)).length,Ke=128,it=0,yt=72,Jt=!0,on=!1,Bt=void 0;try{for(var Jn,Mn=_t[Symbol.iterator]();!(Jt=(Jn=Mn.next()).done);Jt=!0){var _i=Jn.value;_i<128&&Ot.push(E(_i))}}catch(hn){on=!0,Bt=hn}finally{try{!Jt&&Mn.return&&Mn.return()}finally{if(on)throw Bt}}var Cn=Ot.length,Zn=Cn;for(Cn&&Ot.push("-");Zn<Ze;){var di=P,Un=!0,Ui=!1,bi=void 0;try{for(var ci,pi=_t[Symbol.iterator]();!(Un=(ci=pi.next()).done);Un=!0){var Fi=ci.value;Fi>=Ke&&Fi<di&&(di=Fi)}}catch(hn){Ui=!0,bi=hn}finally{try{!Un&&pi.return&&pi.return()}finally{if(Ui)throw bi}}var Wt=Zn+1;di-Ke>X((P-it)/Wt)&&ne("overflow"),it+=(di-Ke)*Wt,Ke=di;var Pn=!0,kt=!1,zt=void 0;try{for(var Ln,Sn=_t[Symbol.iterator]();!(Pn=(Ln=Sn.next()).done);Pn=!0){var zn=Ln.value;if(zn<Ke&&++it>P&&ne("overflow"),zn==Ke){for(var Be=it,et=a;;et+=a){var ft=et<=yt?1:et>=yt+26?26:et-yt;if(Be<ft)break;var Lt=Be-ft,pn=a-ft;Ot.push(E(ze(ft+Lt%pn,0))),Be=X(Lt/pn)}Ot.push(E(ze(Be,0))),yt=Ee(it,Wt,Zn==Cn),it=0,++Zn}}}catch(hn){kt=!0,zt=hn}finally{try{!Pn&&Sn.return&&Sn.return()}finally{if(kt)throw zt}}++it,++Ke}return Ot.join("")},wt_toASCII=function(_t){return le(_t,function(Ot){return q.test(Ot)?"xn--"+Te(Ot):Ot})},wt_toUnicode=function(_t){return le(_t,function(Ot){return J.test(Ot)?qe(Ot.slice(4).toLowerCase()):Ot})},lt={};function mt(bt){var _t=bt.charCodeAt(0);return _t<16?"%0"+_t.toString(16).toUpperCase():_t<128?"%"+_t.toString(16).toUpperCase():_t<2048?"%"+(_t>>6|192).toString(16).toUpperCase()+"%"+(63&_t|128).toString(16).toUpperCase():"%"+(_t>>12|224).toString(16).toUpperCase()+"%"+(_t>>6&63|128).toString(16).toUpperCase()+"%"+(63&_t|128).toString(16).toUpperCase()}function pt(bt){for(var _t="",Ot=0,Ze=bt.length;Ot<Ze;){var Ke=parseInt(bt.substr(Ot+1,2),16);if(Ke<128)_t+=String.fromCharCode(Ke),Ot+=3;else if(Ke>=194&&Ke<224){if(Ze-Ot>=6){var it=parseInt(bt.substr(Ot+4,2),16);_t+=String.fromCharCode((31&Ke)<<6|63&it)}else _t+=bt.substr(Ot,6);Ot+=6}else if(Ke>=224){if(Ze-Ot>=9){var yt=parseInt(bt.substr(Ot+4,2),16),Jt=parseInt(bt.substr(Ot+7,2),16);_t+=String.fromCharCode((15&Ke)<<12|(63&yt)<<6|63&Jt)}else _t+=bt.substr(Ot,9);Ot+=9}else _t+=bt.substr(Ot,3),Ot+=3}return _t}function Yt(bt,_t){function Ot(Ze){var Ke=pt(Ze);return Ke.match(_t.UNRESERVED)?Ke:Ze}return bt.scheme&&(bt.scheme=String(bt.scheme).replace(_t.PCT_ENCODED,Ot).toLowerCase().replace(_t.NOT_SCHEME,"")),void 0!==bt.userinfo&&(bt.userinfo=String(bt.userinfo).replace(_t.PCT_ENCODED,Ot).replace(_t.NOT_USERINFO,mt).replace(_t.PCT_ENCODED,T)),void 0!==bt.host&&(bt.host=String(bt.host).replace(_t.PCT_ENCODED,Ot).toLowerCase().replace(_t.NOT_HOST,mt).replace(_t.PCT_ENCODED,T)),void 0!==bt.path&&(bt.path=String(bt.path).replace(_t.PCT_ENCODED,Ot).replace(bt.scheme?_t.NOT_PATH:_t.NOT_PATH_NOSCHEME,mt).replace(_t.PCT_ENCODED,T)),void 0!==bt.query&&(bt.query=String(bt.query).replace(_t.PCT_ENCODED,Ot).replace(_t.NOT_QUERY,mt).replace(_t.PCT_ENCODED,T)),void 0!==bt.fragment&&(bt.fragment=String(bt.fragment).replace(_t.PCT_ENCODED,Ot).replace(_t.NOT_FRAGMENT,mt).replace(_t.PCT_ENCODED,T)),bt}function un(bt){return bt.replace(/^0*(.*)/,"$1")||"0"}function Nt(bt,_t){var Ot=bt.match(_t.IPV4ADDRESS)||[],Ke=_(Ot,2)[1];return Ke?Ke.split(".").map(un).join("."):bt}function Mt(bt,_t){var Ot=bt.match(_t.IPV6ADDRESS)||[],Ze=_(Ot,3),Ke=Ze[1],it=Ze[2];if(Ke){for(var yt=Ke.toLowerCase().split("::").reverse(),Jt=_(yt,2),on=Jt[0],Bt=Jt[1],Mn=Bt?Bt.split(":").map(un):[],Jn=on.split(":").map(un),_i=_t.IPV4ADDRESS.test(Jn[Jn.length-1]),Cn=_i?7:8,Zn=Jn.length-Cn,di=Array(Cn),Un=0;Un<Cn;++Un)di[Un]=Mn[Un]||Jn[Zn+Un]||"";_i&&(di[Cn-1]=Nt(di[Cn-1],_t));var bi=di.reduce(function(Wt,Pn,kt){if(!Pn||"0"===Pn){var zt=Wt[Wt.length-1];zt&&zt.index+zt.length===kt?zt.length++:Wt.push({index:kt,length:1})}return Wt},[]).sort(function(Wt,Pn){return Pn.length-Wt.length})[0],pi=void 0;if(bi&&bi.length>1){var ci=di.slice(0,bi.index),Fi=di.slice(bi.index+bi.length);pi=ci.join(":")+"::"+Fi.join(":")}else pi=di.join(":");return it&&(pi+="%"+it),pi}return bt}var Y=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Q=void 0==="".match(/(){0}/)[1];function ce(bt){var _t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ot={},Ze=!1!==_t.iri?w:f;"suffix"===_t.reference&&(bt=(_t.scheme?_t.scheme+":":"")+"//"+bt);var Ke=bt.match(Y);if(Ke){Q?(Ot.scheme=Ke[1],Ot.userinfo=Ke[3],Ot.host=Ke[4],Ot.port=parseInt(Ke[5],10),Ot.path=Ke[6]||"",Ot.query=Ke[7],Ot.fragment=Ke[8],isNaN(Ot.port)&&(Ot.port=Ke[5])):(Ot.scheme=Ke[1]||void 0,Ot.userinfo=-1!==bt.indexOf("@")?Ke[3]:void 0,Ot.host=-1!==bt.indexOf("//")?Ke[4]:void 0,Ot.port=parseInt(Ke[5],10),Ot.path=Ke[6]||"",Ot.query=-1!==bt.indexOf("?")?Ke[7]:void 0,Ot.fragment=-1!==bt.indexOf("#")?Ke[8]:void 0,isNaN(Ot.port)&&(Ot.port=bt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ke[4]:void 0)),Ot.host&&(Ot.host=Mt(Nt(Ot.host,Ze),Ze)),Ot.reference=void 0!==Ot.scheme||void 0!==Ot.userinfo||void 0!==Ot.host||void 0!==Ot.port||Ot.path||void 0!==Ot.query?void 0===Ot.scheme?"relative":void 0===Ot.fragment?"absolute":"uri":"same-document",_t.reference&&"suffix"!==_t.reference&&_t.reference!==Ot.reference&&(Ot.error=Ot.error||"URI is not a "+_t.reference+" reference.");var it=lt[(_t.scheme||Ot.scheme||"").toLowerCase()];if(_t.unicodeSupport||it&&it.unicodeSupport)Yt(Ot,Ze);else{if(Ot.host&&(_t.domainHost||it&&it.domainHost))try{Ot.host=wt_toASCII(Ot.host.replace(Ze.PCT_ENCODED,pt).toLowerCase())}catch(yt){Ot.error=Ot.error||"Host's domain name can not be converted to ASCII via punycode: "+yt}Yt(Ot,f)}it&&it.parse&&it.parse(Ot,_t)}else Ot.error=Ot.error||"URI can not be parsed.";return Ot}function We(bt,_t){var Ot=!1!==_t.iri?w:f,Ze=[];return void 0!==bt.userinfo&&(Ze.push(bt.userinfo),Ze.push("@")),void 0!==bt.host&&Ze.push(Mt(Nt(String(bt.host),Ot),Ot).replace(Ot.IPV6ADDRESS,function(Ke,it,yt){return"["+it+(yt?"%25"+yt:"")+"]"})),("number"==typeof bt.port||"string"==typeof bt.port)&&(Ze.push(":"),Ze.push(String(bt.port))),Ze.length?Ze.join(""):void 0}var Je=/^\.\.?\//,Oe=/^\/\.(\/|$)/,i=/^\/\.\.(\/|$)/,we=/^\/?(?:.|\n)*?(?=\/|$)/;function $e(bt){for(var _t=[];bt.length;)if(bt.match(Je))bt=bt.replace(Je,"");else if(bt.match(Oe))bt=bt.replace(Oe,"/");else if(bt.match(i))bt=bt.replace(i,"/"),_t.pop();else if("."===bt||".."===bt)bt="";else{var Ot=bt.match(we);if(!Ot)throw new Error("Unexpected dot segment condition");var Ze=Ot[0];bt=bt.slice(Ze.length),_t.push(Ze)}return _t.join("")}function Ye(bt){var _t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ot=_t.iri?w:f,Ze=[],Ke=lt[(_t.scheme||bt.scheme||"").toLowerCase()];if(Ke&&Ke.serialize&&Ke.serialize(bt,_t),bt.host&&!Ot.IPV6ADDRESS.test(bt.host)&&(_t.domainHost||Ke&&Ke.domainHost))try{bt.host=_t.iri?wt_toUnicode(bt.host):wt_toASCII(bt.host.replace(Ot.PCT_ENCODED,pt).toLowerCase())}catch(Jt){bt.error=bt.error||"Host's domain name can not be converted to "+(_t.iri?"Unicode":"ASCII")+" via punycode: "+Jt}Yt(bt,Ot),"suffix"!==_t.reference&&bt.scheme&&(Ze.push(bt.scheme),Ze.push(":"));var it=We(bt,_t);if(void 0!==it&&("suffix"!==_t.reference&&Ze.push("//"),Ze.push(it),bt.path&&"/"!==bt.path.charAt(0)&&Ze.push("/")),void 0!==bt.path){var yt=bt.path;!_t.absolutePath&&(!Ke||!Ke.absolutePath)&&(yt=$e(yt)),void 0===it&&(yt=yt.replace(/^\/\//,"/%2F")),Ze.push(yt)}return void 0!==bt.query&&(Ze.push("?"),Ze.push(bt.query)),void 0!==bt.fragment&&(Ze.push("#"),Ze.push(bt.fragment)),Ze.join("")}function Xe(bt,_t){var Ot=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ke={};return arguments[3]||(bt=ce(Ye(bt,Ot),Ot),_t=ce(Ye(_t,Ot),Ot)),!(Ot=Ot||{}).tolerant&&_t.scheme?(Ke.scheme=_t.scheme,Ke.userinfo=_t.userinfo,Ke.host=_t.host,Ke.port=_t.port,Ke.path=$e(_t.path||""),Ke.query=_t.query):(void 0!==_t.userinfo||void 0!==_t.host||void 0!==_t.port?(Ke.userinfo=_t.userinfo,Ke.host=_t.host,Ke.port=_t.port,Ke.path=$e(_t.path||""),Ke.query=_t.query):(_t.path?("/"===_t.path.charAt(0)?Ke.path=$e(_t.path):(Ke.path=void 0===bt.userinfo&&void 0===bt.host&&void 0===bt.port||bt.path?bt.path?bt.path.slice(0,bt.path.lastIndexOf("/")+1)+_t.path:_t.path:"/"+_t.path,Ke.path=$e(Ke.path)),Ke.query=_t.query):(Ke.path=bt.path,Ke.query=void 0!==_t.query?_t.query:bt.query),Ke.userinfo=bt.userinfo,Ke.host=bt.host,Ke.port=bt.port),Ke.scheme=bt.scheme),Ke.fragment=_t.fragment,Ke}function de(bt,_t){return bt&&bt.toString().replace(_t&&_t.iri?w.PCT_ENCODED:f.PCT_ENCODED,pt)}var ee={scheme:"http",domainHost:!0,parse:function(_t,Ot){return _t.host||(_t.error=_t.error||"HTTP URIs must have a host."),_t},serialize:function(_t,Ot){var Ze="https"===String(_t.scheme).toLowerCase();return(_t.port===(Ze?443:80)||""===_t.port)&&(_t.port=void 0),_t.path||(_t.path="/"),_t}},U={scheme:"https",domainHost:ee.domainHost,parse:ee.parse,serialize:ee.serialize};function te(bt){return"boolean"==typeof bt.secure?bt.secure:"wss"===String(bt.scheme).toLowerCase()}var Re={scheme:"ws",domainHost:!0,parse:function(_t,Ot){var Ze=_t;return Ze.secure=te(Ze),Ze.resourceName=(Ze.path||"/")+(Ze.query?"?"+Ze.query:""),Ze.path=void 0,Ze.query=void 0,Ze},serialize:function(_t,Ot){if((_t.port===(te(_t)?443:80)||""===_t.port)&&(_t.port=void 0),"boolean"==typeof _t.secure&&(_t.scheme=_t.secure?"wss":"ws",_t.secure=void 0),_t.resourceName){var Ze=_t.resourceName.split("?"),Ke=_(Ze,2),it=Ke[0],yt=Ke[1];_t.path=it&&"/"!==it?it:void 0,_t.query=yt,_t.resourceName=void 0}return _t.fragment=void 0,_t}},ot={scheme:"wss",domainHost:Re.domainHost,parse:Re.parse,serialize:Re.serialize},ut={},Qt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",mn="[0-9A-Fa-f]",nn=e(e("%[EFef]"+mn+"%"+mn+mn+"%"+mn+mn)+"|"+e("%[89A-Fa-f]"+mn+"%"+mn+mn)+"|"+e("%"+mn+mn)),gt=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),It=new RegExp(Qt,"g"),Xt=new RegExp(nn,"g"),fn=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',gt),"g"),An=new RegExp(t("[^]",Qt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),kn=An;function Gn(bt){var _t=pt(bt);return _t.match(It)?_t:bt}var ti={scheme:"mailto",parse:function(_t,Ot){var Ze=_t,Ke=Ze.to=Ze.path?Ze.path.split(","):[];if(Ze.path=void 0,Ze.query){for(var it=!1,yt={},Jt=Ze.query.split("&"),on=0,Bt=Jt.length;on<Bt;++on){var Mn=Jt[on].split("=");switch(Mn[0]){case"to":for(var Jn=Mn[1].split(","),_i=0,Cn=Jn.length;_i<Cn;++_i)Ke.push(Jn[_i]);break;case"subject":Ze.subject=de(Mn[1],Ot);break;case"body":Ze.body=de(Mn[1],Ot);break;default:it=!0,yt[de(Mn[0],Ot)]=de(Mn[1],Ot)}}it&&(Ze.headers=yt)}Ze.query=void 0;for(var Zn=0,di=Ke.length;Zn<di;++Zn){var Un=Ke[Zn].split("@");if(Un[0]=de(Un[0]),Ot.unicodeSupport)Un[1]=de(Un[1],Ot).toLowerCase();else try{Un[1]=wt_toASCII(de(Un[1],Ot).toLowerCase())}catch(Ui){Ze.error=Ze.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ui}Ke[Zn]=Un.join("@")}return Ze},serialize:function(_t,Ot){var Ze=_t,Ke=function C(bt){return null!=bt?bt instanceof Array?bt:"number"!=typeof bt.length||bt.split||bt.setInterval||bt.call?[bt]:Array.prototype.slice.call(bt):[]}(_t.to);if(Ke){for(var it=0,yt=Ke.length;it<yt;++it){var Jt=String(Ke[it]),on=Jt.lastIndexOf("@"),Bt=Jt.slice(0,on).replace(Xt,Gn).replace(Xt,T).replace(fn,mt),Mn=Jt.slice(on+1);try{Mn=Ot.iri?wt_toUnicode(Mn):wt_toASCII(de(Mn,Ot).toLowerCase())}catch(Zn){Ze.error=Ze.error||"Email address's domain name can not be converted to "+(Ot.iri?"Unicode":"ASCII")+" via punycode: "+Zn}Ke[it]=Bt+"@"+Mn}Ze.path=Ke.join(",")}var Jn=_t.headers=_t.headers||{};_t.subject&&(Jn.subject=_t.subject),_t.body&&(Jn.body=_t.body);var _i=[];for(var Cn in Jn)Jn[Cn]!==ut[Cn]&&_i.push(Cn.replace(Xt,Gn).replace(Xt,T).replace(An,mt)+"="+Jn[Cn].replace(Xt,Gn).replace(Xt,T).replace(kn,mt));return _i.length&&(Ze.query=_i.join("&")),Ze}},ii=/^([^\:]+)\:(.*)/,$t={scheme:"urn",parse:function(_t,Ot){var Ze=_t.path&&_t.path.match(ii),Ke=_t;if(Ze){var it=Ot.scheme||Ke.scheme||"urn",yt=Ze[1].toLowerCase(),Jt=Ze[2],Bt=lt[it+":"+(Ot.nid||yt)];Ke.nid=yt,Ke.nss=Jt,Ke.path=void 0,Bt&&(Ke=Bt.parse(Ke,Ot))}else Ke.error=Ke.error||"URN can not be parsed.";return Ke},serialize:function(_t,Ot){var Ke=_t.nid,yt=lt[(Ot.scheme||_t.scheme||"urn")+":"+(Ot.nid||Ke)];yt&&(_t=yt.serialize(_t,Ot));var Jt=_t;return Jt.path=(Ke||Ot.nid)+":"+_t.nss,Jt}},Qn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Nn={scheme:"urn:uuid",parse:function(_t,Ot){var Ze=_t;return Ze.uuid=Ze.nss,Ze.nss=void 0,!Ot.tolerant&&(!Ze.uuid||!Ze.uuid.match(Qn))&&(Ze.error=Ze.error||"UUID is not valid."),Ze},serialize:function(_t,Ot){var Ze=_t;return Ze.nss=(_t.uuid||"").toLowerCase(),Ze}};lt[ee.scheme]=ee,lt[U.scheme]=U,lt[Re.scheme]=Re,lt[ot.scheme]=ot,lt[ti.scheme]=ti,lt[$t.scheme]=$t,lt[Nn.scheme]=Nn,p.SCHEMES=lt,p.pctEncChar=mt,p.pctDecChars=pt,p.parse=ce,p.removeDotSegments=$e,p.serialize=Ye,p.resolveComponents=Xe,p.resolve=function Fe(bt,_t,Ot){var Ze=function b(bt,_t){var Ot=bt;if(_t)for(var Ze in _t)Ot[Ze]=_t[Ze];return Ot}({scheme:"null"},Ot);return Ye(Xe(ce(bt,Ze),ce(_t,Ze),Ze,!0),Ze)},p.normalize=function Tt(bt,_t){return"string"==typeof bt?bt=Ye(ce(bt,_t),_t):"object"===m(bt)&&(bt=ce(Ye(bt,_t),_t)),bt},p.equal=function vt(bt,_t,Ot){return"string"==typeof bt?bt=Ye(ce(bt,Ot),Ot):"object"===m(bt)&&(bt=Ye(bt,Ot)),"string"==typeof _t?_t=Ye(ce(_t,Ot),Ot):"object"===m(_t)&&(_t=Ye(_t,Ot)),bt===_t},p.escapeComponent=function Ge(bt,_t){return bt&&bt.toString().replace(_t&&_t.iri?w.ESCAPE:f.ESCAPE,mt)},p.unescapeComponent=de,Object.defineProperty(p,"__esModule",{value:!0})}(Ce)},317:function(dt,Ce){var p,e;!function(m,T){"use strict";p=function(m){return function(C){C=C||{},function g(){C.arrayAccessForm=C.arrayAccessForm||"none",C.emptyNodeForm=C.emptyNodeForm||"text",C.jsAttributeFilter=C.jsAttributeFilter,C.jsAttributeConverter=C.jsAttributeConverter,C.attributeConverters=C.attributeConverters||[],C.datetimeAccessFormPaths=C.datetimeAccessFormPaths||[],C.arrayAccessFormPaths=C.arrayAccessFormPaths||[],C.xmldomOptions=C.xmldomOptions||{},void 0===C.enableToStringFunc&&(C.enableToStringFunc=!0),void 0===C.skipEmptyTextNodesForObj&&(C.skipEmptyTextNodesForObj=!0),void 0===C.stripWhitespaces&&(C.stripWhitespaces=!0),void 0===C.useDoubleQuotes&&(C.useDoubleQuotes=!0),void 0===C.ignoreRoot&&(C.ignoreRoot=!1),void 0===C.escapeMode&&(C.escapeMode=!0),void 0===C.attributePrefix&&(C.attributePrefix="_"),void 0===C.selfClosingElements&&(C.selfClosingElements=!0),void 0===C.keepCData&&(C.keepCData=!1),void 0===C.keepText&&(C.keepText=!1),void 0===C.jsDateUTC&&(C.jsDateUTC=!1)}(),function f(){function Se(ye){var ze=String(ye);return 1===ze.length&&(ze="0"+ze),ze}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+Se(this.getUTCMonth()+1)+"-"+Se(this.getUTCDate())+"T"+Se(this.getUTCHours())+":"+Se(this.getUTCMinutes())+":"+Se(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var w_ELEMENT_NODE=1,w_TEXT_NODE=3,w_CDATA_SECTION_NODE=4,w_COMMENT_NODE=8,w_DOCUMENT_NODE=9;function _(Se){var ye=Se.localName;return null==ye&&(ye=Se.baseName),(null==ye||""===ye)&&(ye=Se.nodeName),ye}function P(Se){return"string"==typeof Se?Se.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):Se}function k(Se,ye,ze){if("property"===C.arrayAccessForm&&(Se[ye+"_asArray"]=Se[ye]instanceof Array?Se[ye]:[Se[ye]]),!(Se[ye]instanceof Array)&&C.arrayAccessFormPaths.length>0){for(var Ee=!1,qe=0;qe<C.arrayAccessFormPaths.length;qe++){var Te=C.arrayAccessFormPaths[qe];if("string"==typeof Te){if(Te===ze){Ee=!0;break}}else if(Te instanceof RegExp){if(Te.test(ze)){Ee=!0;break}}else if("function"==typeof Te&&Te(ye,ze)){Ee=!0;break}}Ee&&(Se[ye]=[Se[ye]])}}function L(Se){var ze=Se.split(/[-T:+Z]/g),Ee=new Date(ze[0],ze[1]-1,ze[2]),qe=ze[5].split(".");if(Ee.setHours(ze[3],ze[4],qe[0]),qe.length>1&&Ee.setMilliseconds(qe[1]),ze[6]&&ze[7]){var Te=60*ze[6]+Number(ze[7]);Te=0+("-"==(/\d\d-\d\d:\d\d$/.test(Se)?"-":"+")?-1*Te:Te),Ee.setMinutes(Ee.getMinutes()-Te-Ee.getTimezoneOffset())}else-1!==Se.indexOf("Z",Se.length-1)&&(Ee=new Date(Date.UTC(Ee.getFullYear(),Ee.getMonth(),Ee.getDate(),Ee.getHours(),Ee.getMinutes(),Ee.getSeconds(),Ee.getMilliseconds())));return Ee}function N(Se,ye){for(var ze={__cnt:0},Ee=Se.childNodes,qe=0;qe<Ee.length;qe++){var Te=Ee.item(qe),nt=_(Te);Te.nodeType!==w_COMMENT_NODE&&(ze.__cnt++,null==ze[nt]?(ze[nt]=B(Te,ye+"."+nt),k(ze,nt,ye+"."+nt)):(ze[nt]instanceof Array||(ze[nt]=[ze[nt]],k(ze,nt,ye+"."+nt)),ze[nt][ze[nt].length]=B(Te,ye+"."+nt)))}for(var at=0;at<Se.attributes.length;at++){var wt=Se.attributes.item(at);ze.__cnt++;for(var lt=wt.value,mt=0;mt<C.attributeConverters.length;mt++){var pt=C.attributeConverters[mt];pt.test.call(null,wt.name,wt.value)&&(lt=pt.convert.call(null,wt.name,wt.value))}ze[C.attributePrefix+wt.name]=lt}var Yt=function R(Se){return Se.prefix}(Se);return Yt&&(ze.__cnt++,ze.__prefix=Yt),ze["#text"]&&(ze.__text=ze["#text"],ze.__text instanceof Array&&(ze.__text=ze.__text.join("\n")),C.escapeMode&&(ze.__text=function a(Se){return Se.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(ze.__text)),C.stripWhitespaces&&(ze.__text=ze.__text.trim()),delete ze["#text"],"property"===C.arrayAccessForm&&delete ze["#text_asArray"],ze.__text=function Z(Se,ye,ze){if(C.datetimeAccessFormPaths.length>0)for(var Ee=ze.split(".#")[0],qe=0;qe<C.datetimeAccessFormPaths.length;qe++){var Te=C.datetimeAccessFormPaths[qe];if("string"==typeof Te){if(Te===Ee)return L(Se)}else if(Te instanceof RegExp){if(Te.test(Ee))return L(Se)}else if("function"==typeof Te&&Te(Ee))return L(Se)}return Se}(ze.__text,0,ye+".#text")),ze.hasOwnProperty("#cdata-section")&&(ze.__cdata=ze["#cdata-section"],delete ze["#cdata-section"],"property"===C.arrayAccessForm&&delete ze["#cdata-section_asArray"]),1===ze.__cnt&&ze.__text&&!C.keepText?ze=ze.__text:0===ze.__cnt&&"text"===C.emptyNodeForm?ze="":ze.__cnt>1&&void 0!==ze.__text&&C.skipEmptyTextNodesForObj&&(C.stripWhitespaces&&""===ze.__text||""===ze.__text.trim())&&delete ze.__text,delete ze.__cnt,C.keepCData||ze.hasOwnProperty("__text")||!ze.hasOwnProperty("__cdata")||1!==Object.keys(ze).length?(C.enableToStringFunc&&(ze.__text||ze.__cdata)&&(ze.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),ze):ze.__cdata?ze.__cdata:""}function B(Se,ye){return Se.nodeType===w_DOCUMENT_NODE?function j(Se){for(var ye={},ze=Se.childNodes,Ee=0;Ee<ze.length;Ee++){var qe=ze.item(Ee);if(qe.nodeType===w_ELEMENT_NODE){var Te=_(qe);C.ignoreRoot?ye=B(qe,Te):ye[Te]=B(qe,Te)}}return ye}(Se):Se.nodeType===w_ELEMENT_NODE?N(Se,ye):Se.nodeType===w_TEXT_NODE||Se.nodeType===w_CDATA_SECTION_NODE?Se.nodeValue:null}function V(Se,ye,ze,Ee){var qe="<"+(Se&&Se.__prefix?Se.__prefix+":":"")+ye;if(ze)for(var Te=0;Te<ze.length;Te++){var nt=ze[Te],at=Se[nt];C.escapeMode&&(at=P(at)),qe+=" "+nt.substr(C.attributePrefix.length)+"=",qe+=C.useDoubleQuotes?'"'+at+'"':"'"+at+"'"}return qe+(Ee?" />":">")}function J(Se,ye){return"</"+(Se&&Se.__prefix?Se.__prefix+":":"")+ye+">"}function re(Se,ye){return!!("property"===C.arrayAccessForm&&function q(Se,ye){return-1!==Se.indexOf(ye,Se.length-ye.length)}(ye.toString(),"_asArray")||0===ye.toString().indexOf(C.attributePrefix)||0===ye.toString().indexOf("__")||Se[ye]instanceof Function)}function W(Se){var ye=0;if(Se instanceof Object)for(var ze in Se)re(Se,ze)||ye++;return ye}function G(Se){var ye=[];if(Se instanceof Object)for(var ze in Se)-1===ze.toString().indexOf("__")&&0===ze.toString().indexOf(C.attributePrefix)&&ye.push(ze);return ye}function E(Se){var ye="";return Se instanceof Object?ye+=function X(Se){var ye="";return Se.__cdata&&(ye+="<![CDATA["+Se.__cdata+"]]>"),(Se.__text||"number"==typeof Se.__text||"boolean"==typeof Se.__text)&&(ye+=C.escapeMode?P(Se.__text):Se.__text),ye}(Se):null!==Se&&(ye+=C.escapeMode?P(Se):Se),ye}function K(Se,ye,ze){var Ee="";return C.jsAttributeFilter&&C.jsAttributeFilter.call(null,ye,Se)||(C.jsAttributeConverter&&(Se=C.jsAttributeConverter.call(null,ye,Se)),null!=Se&&""!==Se||!C.selfClosingElements?"object"==typeof Se?"[object Array]"===Object.prototype.toString.call(Se)?Ee+=function ne(Se,ye,ze){var Ee="";if(0===Se.length)Ee+=V(Se,ye,ze,!0);else for(var qe=0;qe<Se.length;qe++)Ee+=K(Se[qe],ye,G(Se[qe]));return Ee}(Se,ye,ze):Se instanceof Date?(Ee+=V(Se,ye,ze,!1),Ee+=C.jsDateUTC?Se.toUTCString():Se.toISOString(),Ee+=J(Se,ye)):W(Se)>0||"number"==typeof Se.__text||"boolean"==typeof Se.__text||Se.__text||Se.__cdata?(Ee+=V(Se,ye,ze,!1),Ee+=le(Se),Ee+=J(Se,ye)):C.selfClosingElements?Ee+=V(Se,ye,ze,!0):(Ee+=V(Se,ye,ze,!1),Ee+=J(Se,ye)):(Ee+=V(Se,ye,ze,!1),Ee+=E(Se),Ee+=J(Se,ye)):Ee+=V(Se,ye,ze,!0)),Ee}function le(Se){var ye="";if(W(Se)>0)for(var Ee in Se)if(!re(Se,Ee)){var qe=Se[Ee];ye+=K(qe,Ee,G(qe))}return ye+E(Se)}function me(Se){if(void 0===Se||"string"!=typeof Se)return null;var ye=null,ze=null;if(m)ze=(ye=new m(C.xmldomOptions)).parseFromString(Se,"text/xml");else if(window&&window.DOMParser){ye=new window.DOMParser;var Ee=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{Ee=ye.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{Ee=null}try{ze=ye.parseFromString(Se,"text/xml"),null!==Ee&&ze.getElementsByTagNameNS(Ee,"parsererror").length>0&&(ze=null)}catch{ze=null}}else 0===Se.indexOf("<?")&&(Se=Se.substr(Se.indexOf("?>")+2)),(ze=new ActiveXObject("Microsoft.XMLDOM")).async="false",ze.loadXML(Se);return ze}this.asArray=function(ye){return null==ye?[]:ye instanceof Array?ye:[ye]},this.toXmlDateTime=function(ye){return ye instanceof Date?ye.toISOString():"number"==typeof ye?new Date(ye).toISOString():null},this.asDateTime=function(ye){return"string"==typeof ye?L(ye):ye},this.xml2dom=function(ye){return me(ye)},this.dom2js=function(ye){return B(ye,null)},this.js2dom=function(ye){return me(this.js2xml(ye))},this.xml2js=function(ye){var ze=me(ye);return null!=ze?this.dom2js(ze):null},this.js2xml=function(ye){return le(ye)},this.getVersion=function(){return"3.4.0"}}},void 0!==(e=p.apply(Ce,[]))&&(dt.exports=e)}()},655:(dt,Ce,p)=>{"use strict";function C(ne,K,le,me){var ze,Se=arguments.length,ye=Se<3?K:null===me?me=Object.getOwnPropertyDescriptor(K,le):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(ne,K,le,me);else for(var Ee=ne.length-1;Ee>=0;Ee--)(ze=ne[Ee])&&(ye=(Se<3?ze(ye):Se>3?ze(K,le,ye):ze(K,le))||ye);return Se>3&&ye&&Object.defineProperty(K,le,ye),ye}function g(ne,K){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ne,K)}function f(ne,K,le,me){return new(le||(le=Promise))(function(ye,ze){function Ee(nt){try{Te(me.next(nt))}catch(at){ze(at)}}function qe(nt){try{Te(me.throw(nt))}catch(at){ze(at)}}function Te(nt){nt.done?ye(nt.value):function Se(ye){return ye instanceof le?ye:new le(function(ze){ze(ye)})}(nt.value).then(Ee,qe)}Te((me=me.apply(ne,K||[])).next())})}function j(ne){return this instanceof j?(this.v=ne,this):new j(ne)}function N(ne,K,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,me=le.apply(ne,K||[]),ye=[];return Se={},ze("next"),ze("throw"),ze("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function ze(wt){me[wt]&&(Se[wt]=function(lt){return new Promise(function(mt,pt){ye.push([wt,lt,mt,pt])>1||Ee(wt,lt)})})}function Ee(wt,lt){try{!function qe(wt){wt.value instanceof j?Promise.resolve(wt.value.v).then(Te,nt):at(ye[0][2],wt)}(me[wt](lt))}catch(mt){at(ye[0][3],mt)}}function Te(wt){Ee("next",wt)}function nt(wt){Ee("throw",wt)}function at(wt,lt){wt(lt),ye.shift(),ye.length&&Ee(ye[0][0],ye[0][1])}}function V(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,K=ne[Symbol.asyncIterator];return K?K.call(ne):(ne=function P(ne){var K="function"==typeof Symbol&&Symbol.iterator,le=K&&ne[K],me=0;if(le)return le.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&me>=ne.length&&(ne=void 0),{value:ne&&ne[me++],done:!ne}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),le={},me("next"),me("throw"),me("return"),le[Symbol.asyncIterator]=function(){return this},le);function me(ye){le[ye]=ne[ye]&&function(ze){return new Promise(function(Ee,qe){!function Se(ye,ze,Ee,qe){Promise.resolve(qe).then(function(Te){ye({value:Te,done:Ee})},ze)}(Ee,qe,(ze=ne[ye](ze)).done,ze.value)})}}}p.d(Ce,{FC:()=>N,KL:()=>V,gn:()=>C,mG:()=>f,qq:()=>j,w6:()=>g})},5819:()=>{},7340:(dt,Ce,p)=>{"use strict";p.d(Ce,{LC:()=>e,SB:()=>w,X$:()=>T,ZE:()=>B,ZN:()=>N,_j:()=>t,eR:()=>R,jt:()=>C,k1:()=>V,l3:()=>m,oB:()=>f,vP:()=>g});class t{}class e{}const m="*";function T(J,q){return{type:7,name:J,definitions:q,options:{}}}function C(J,q=null){return{type:4,styles:q,timings:J}}function g(J,q=null){return{type:2,steps:J,options:q}}function f(J){return{type:6,styles:J,offset:null}}function w(J,q,re){return{type:0,name:J,styles:q,options:re}}function R(J,q,re=null){return{type:1,expr:J,animation:q,options:re}}function j(J){Promise.resolve().then(J)}class N{constructor(q=0,re=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=q+re}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}onStart(q){this._originalOnStartFns.push(q),this._onStartFns.push(q)}onDone(q){this._originalOnDoneFns.push(q),this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){j(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(q=>q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(q){this._position=this.totalTime?q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(q){const re="start"==q?this._onStartFns:this._onDoneFns;re.forEach(W=>W()),re.length=0}}class B{constructor(q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=q;let re=0,W=0,G=0;const X=this.players.length;0==X?j(()=>this._onFinish()):this.players.forEach(E=>{E.onDone(()=>{++re==X&&this._onFinish()}),E.onDestroy(()=>{++W==X&&this._onDestroy()}),E.onStart(()=>{++G==X&&this._onStart()})}),this.totalTime=this.players.reduce((E,ne)=>Math.max(E,ne.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}init(){this.players.forEach(q=>q.init())}onStart(q){this._onStartFns.push(q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(q=>q()),this._onStartFns=[])}onDone(q){this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(q=>q.play())}pause(){this.players.forEach(q=>q.pause())}restart(){this.players.forEach(q=>q.restart())}finish(){this._onFinish(),this.players.forEach(q=>q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(q=>q.destroy()),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this.players.forEach(q=>q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(q){const re=q*this.totalTime;this.players.forEach(W=>{const G=W.totalTime?Math.min(1,re/W.totalTime):1;W.setPosition(G)})}getPosition(){const q=this.players.reduce((re,W)=>null===re||W.totalTime>re.totalTime?W:re,null);return null!=q?q.getPosition():0}beforeDestroy(){this.players.forEach(q=>{q.beforeDestroy&&q.beforeDestroy()})}triggerCallback(q){const re="start"==q?this._onStartFns:this._onDoneFns;re.forEach(W=>W()),re.length=0}}const V="!"},6895:(dt,Ce,p)=>{"use strict";p.d(Ce,{Do:()=>V,EM:()=>ws,HT:()=>C,JF:()=>Is,JJ:()=>xr,K0:()=>g,Mx:()=>Pn,NF:()=>hs,Nd:()=>Wn,O5:()=>Lt,OU:()=>ss,S$:()=>j,V_:()=>_,Ye:()=>J,b0:()=>B,bD:()=>os,ez:()=>yr,gd:()=>Rs,mk:()=>kt,q:()=>m,sg:()=>Be,tP:()=>Ei,w_:()=>b});var t=p(4650);let e=null;function m(){return e}function C(fe){e||(e=fe)}class b{}const g=new t.OlP("DocumentToken");let f=(()=>{class fe{historyGo(be){throw new Error("Not implemented")}}return fe.\u0275fac=function(be){return new(be||fe)},fe.\u0275prov=t.Yz7({token:fe,factory:function(){return function w(){return(0,t.LFG)(R)}()},providedIn:"platform"}),fe})();const _=new t.OlP("Location Initialized");let R=(()=>{class fe extends f{constructor(be){super(),this._doc=be,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return m().getBaseHref(this._doc)}onPopState(be){const tt=m().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("popstate",be,!1),()=>tt.removeEventListener("popstate",be)}onHashChange(be){const tt=m().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("hashchange",be,!1),()=>tt.removeEventListener("hashchange",be)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(be){this.location.pathname=be}pushState(be,tt,St){P()?this._history.pushState(be,tt,St):this.location.hash=St}replaceState(be,tt,St){P()?this._history.replaceState(be,tt,St):this.location.hash=St}forward(){this._history.forward()}back(){this._history.back()}historyGo(be=0){this._history.go(be)}getState(){return this._history.state}}return fe.\u0275fac=function(be){return new(be||fe)(t.LFG(g))},fe.\u0275prov=t.Yz7({token:fe,factory:function(){return function a(){return new R((0,t.LFG)(g))}()},providedIn:"platform"}),fe})();function P(){return!!window.history.pushState}function k(fe,Le){if(0==fe.length)return Le;if(0==Le.length)return fe;let be=0;return fe.endsWith("/")&&be++,Le.startsWith("/")&&be++,2==be?fe+Le.substring(1):1==be?fe+Le:fe+"/"+Le}function L(fe){const Le=fe.match(/#|\?|$/),be=Le&&Le.index||fe.length;return fe.slice(0,be-("/"===fe[be-1]?1:0))+fe.slice(be)}function Z(fe){return fe&&"?"!==fe[0]?"?"+fe:fe}let j=(()=>{class fe{historyGo(be){throw new Error("Not implemented")}}return fe.\u0275fac=function(be){return new(be||fe)},fe.\u0275prov=t.Yz7({token:fe,factory:function(){return(0,t.f3M)(B)},providedIn:"root"}),fe})();const N=new t.OlP("appBaseHref");let B=(()=>{class fe extends j{constructor(be,tt){var St,en,an;super(),this._platformLocation=be,this._removeListenerFns=[],this._baseHref=null!==(St=null!==(en=tt??this._platformLocation.getBaseHrefFromDOM())&&void 0!==en?en:null===(an=(0,t.f3M)(g).location)||void 0===an?void 0:an.origin)&&void 0!==St?St:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(be){this._removeListenerFns.push(this._platformLocation.onPopState(be),this._platformLocation.onHashChange(be))}getBaseHref(){return this._baseHref}prepareExternalUrl(be){return k(this._baseHref,be)}path(be=!1){const tt=this._platformLocation.pathname+Z(this._platformLocation.search),St=this._platformLocation.hash;return St&&be?`${tt}${St}`:tt}pushState(be,tt,St,en){const an=this.prepareExternalUrl(St+Z(en));this._platformLocation.pushState(be,tt,an)}replaceState(be,tt,St,en){const an=this.prepareExternalUrl(St+Z(en));this._platformLocation.replaceState(be,tt,an)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(be=0){var tt,St;null===(tt=(St=this._platformLocation).historyGo)||void 0===tt||tt.call(St,be)}}return fe.\u0275fac=function(be){return new(be||fe)(t.LFG(f),t.LFG(N,8))},fe.\u0275prov=t.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),V=(()=>{class fe extends j{constructor(be,tt){super(),this._platformLocation=be,this._baseHref="",this._removeListenerFns=[],null!=tt&&(this._baseHref=tt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(be){this._removeListenerFns.push(this._platformLocation.onPopState(be),this._platformLocation.onHashChange(be))}getBaseHref(){return this._baseHref}path(be=!1){let tt=this._platformLocation.hash;return null==tt&&(tt="#"),tt.length>0?tt.substring(1):tt}prepareExternalUrl(be){const tt=k(this._baseHref,be);return tt.length>0?"#"+tt:tt}pushState(be,tt,St,en){let an=this.prepareExternalUrl(St+Z(en));0==an.length&&(an=this._platformLocation.pathname),this._platformLocation.pushState(be,tt,an)}replaceState(be,tt,St,en){let an=this.prepareExternalUrl(St+Z(en));0==an.length&&(an=this._platformLocation.pathname),this._platformLocation.replaceState(be,tt,an)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(be=0){var tt,St;null===(tt=(St=this._platformLocation).historyGo)||void 0===tt||tt.call(St,be)}}return fe.\u0275fac=function(be){return new(be||fe)(t.LFG(f),t.LFG(N,8))},fe.\u0275prov=t.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),J=(()=>{class fe{constructor(be){this._subject=new t.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=be;const tt=this._locationStrategy.getBaseHref();this._baseHref=L(W(tt)),this._locationStrategy.onPopState(St=>{this._subject.emit({url:this.path(!0),pop:!0,state:St.state,type:St.type})})}ngOnDestroy(){var be;null===(be=this._urlChangeSubscription)||void 0===be||be.unsubscribe(),this._urlChangeListeners=[]}path(be=!1){return this.normalize(this._locationStrategy.path(be))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(be,tt=""){return this.path()==this.normalize(be+Z(tt))}normalize(be){return fe.stripTrailingSlash(function re(fe,Le){return fe&&Le.startsWith(fe)?Le.substring(fe.length):Le}(this._baseHref,W(be)))}prepareExternalUrl(be){return be&&"/"!==be[0]&&(be="/"+be),this._locationStrategy.prepareExternalUrl(be)}go(be,tt="",St=null){this._locationStrategy.pushState(St,"",be,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(be+Z(tt)),St)}replaceState(be,tt="",St=null){this._locationStrategy.replaceState(St,"",be,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(be+Z(tt)),St)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(be=0){var tt,St;null===(tt=(St=this._locationStrategy).historyGo)||void 0===tt||tt.call(St,be)}onUrlChange(be){return this._urlChangeListeners.push(be),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(tt=>{this._notifyUrlChangeListeners(tt.url,tt.state)})),()=>{const tt=this._urlChangeListeners.indexOf(be);var St;this._urlChangeListeners.splice(tt,1),0===this._urlChangeListeners.length&&(null===(St=this._urlChangeSubscription)||void 0===St||St.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(be="",tt){this._urlChangeListeners.forEach(St=>St(be,tt))}subscribe(be,tt,St){return this._subject.subscribe({next:be,error:tt,complete:St})}}return fe.normalizeQueryParams=Z,fe.joinWithSlash=k,fe.stripTrailingSlash=L,fe.\u0275fac=function(be){return new(be||fe)(t.LFG(j))},fe.\u0275prov=t.Yz7({token:fe,factory:function(){return function q(){return new J((0,t.LFG)(j))}()},providedIn:"root"}),fe})();function W(fe){return fe.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Percent=1]="Percent",X[X.Currency=2]="Currency",X[X.Scientific=3]="Scientific",X))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function pt(fe,Le){const be=(0,t.cg1)(fe),tt=be[t.wAp.NumberSymbols][Le];if(typeof tt>"u"){if(Le===me.CurrencyDecimal)return be[t.wAp.NumberSymbols][me.Decimal];if(Le===me.CurrencyGroup)return be[t.wAp.NumberSymbols][me.Group]}return tt}const _t=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function bi(fe){const Le=parseInt(fe);if(isNaN(Le))throw new Error("Invalid integer literal when parsing "+fe);return Le}function Pn(fe,Le){Le=encodeURIComponent(Le);for(const be of fe.split(";")){const tt=be.indexOf("="),[St,en]=-1==tt?[be,""]:[be.slice(0,tt),be.slice(tt+1)];if(St.trim()===Le)return decodeURIComponent(en)}return null}let kt=(()=>{class fe{constructor(be,tt,St,en){this._iterableDiffers=be,this._keyValueDiffers=tt,this._ngEl=St,this._renderer=en,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(be){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof be?be.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(be){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof be?be.split(/\s+/):be,this._rawClass&&((0,t.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const be=this._iterableDiffer.diff(this._rawClass);be&&this._applyIterableChanges(be)}else if(this._keyValueDiffer){const be=this._keyValueDiffer.diff(this._rawClass);be&&this._applyKeyValueChanges(be)}}_applyKeyValueChanges(be){be.forEachAddedItem(tt=>this._toggleClass(tt.key,tt.currentValue)),be.forEachChangedItem(tt=>this._toggleClass(tt.key,tt.currentValue)),be.forEachRemovedItem(tt=>{tt.previousValue&&this._toggleClass(tt.key,!1)})}_applyIterableChanges(be){be.forEachAddedItem(tt=>{if("string"!=typeof tt.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,t.AaK)(tt.item)}`);this._toggleClass(tt.item,!0)}),be.forEachRemovedItem(tt=>this._toggleClass(tt.item,!1))}_applyClasses(be){be&&(Array.isArray(be)||be instanceof Set?be.forEach(tt=>this._toggleClass(tt,!0)):Object.keys(be).forEach(tt=>this._toggleClass(tt,!!be[tt])))}_removeClasses(be){be&&(Array.isArray(be)||be instanceof Set?be.forEach(tt=>this._toggleClass(tt,!1)):Object.keys(be).forEach(tt=>this._toggleClass(tt,!1)))}_toggleClass(be,tt){(be=be.trim())&&be.split(/\s+/g).forEach(St=>{tt?this._renderer.addClass(this._ngEl.nativeElement,St):this._renderer.removeClass(this._ngEl.nativeElement,St)})}}return fe.\u0275fac=function(be){return new(be||fe)(t.Y36(t.ZZ4),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Qsj))},fe.\u0275dir=t.lG2({type:fe,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),fe})();class zn{constructor(Le,be,tt,St){this.$implicit=Le,this.ngForOf=be,this.index=tt,this.count=St}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Be=(()=>{class fe{constructor(be,tt,St){this._viewContainer=be,this._template=tt,this._differs=St,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(be){this._ngForOf=be,this._ngForOfDirty=!0}set ngForTrackBy(be){this._trackByFn=be}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(be){be&&(this._template=be)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const be=this._ngForOf;!this._differ&&be&&(this._differ=this._differs.find(be).create(this.ngForTrackBy))}if(this._differ){const be=this._differ.diff(this._ngForOf);be&&this._applyChanges(be)}}_applyChanges(be){const tt=this._viewContainer;be.forEachOperation((St,en,an)=>{if(null==St.previousIndex)tt.createEmbeddedView(this._template,new zn(St.item,this._ngForOf,-1,-1),null===an?void 0:an);else if(null==an)tt.remove(null===en?void 0:en);else if(null!==en){const qt=tt.get(en);tt.move(qt,an),et(qt,St)}});for(let St=0,en=tt.length;St<en;St++){const qt=tt.get(St).context;qt.index=St,qt.count=en,qt.ngForOf=this._ngForOf}be.forEachIdentityChange(St=>{et(tt.get(St.currentIndex),St)})}static ngTemplateContextGuard(be,tt){return!0}}return fe.\u0275fac=function(be){return new(be||fe)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4))},fe.\u0275dir=t.lG2({type:fe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),fe})();function et(fe,Le){fe.context.$implicit=Le.item}let Lt=(()=>{class fe{constructor(be,tt){this._viewContainer=be,this._context=new pn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=tt}set ngIf(be){this._context.$implicit=this._context.ngIf=be,this._updateView()}set ngIfThen(be){hn("ngIfThen",be),this._thenTemplateRef=be,this._thenViewRef=null,this._updateView()}set ngIfElse(be){hn("ngIfElse",be),this._elseTemplateRef=be,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(be,tt){return!0}}return fe.\u0275fac=function(be){return new(be||fe)(t.Y36(t.s_b),t.Y36(t.Rgc))},fe.\u0275dir=t.lG2({type:fe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),fe})();class pn{constructor(){this.$implicit=null,this.ngIf=null}}function hn(fe,Le){if(Le&&!Le.createEmbeddedView)throw new Error(`${fe} must be a TemplateRef, but received '${(0,t.AaK)(Le)}'.`)}let Ei=(()=>{class fe{constructor(be){this._viewContainerRef=be,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(be){if(be.ngTemplateOutlet||be.ngTemplateOutletInjector){const tt=this._viewContainerRef;if(this._viewRef&&tt.remove(tt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:St,ngTemplateOutletContext:en,ngTemplateOutletInjector:an}=this;this._viewRef=tt.createEmbeddedView(St,en,an?{injector:an}:void 0)}else this._viewRef=null}else this._viewRef&&be.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return fe.\u0275fac=function(be){return new(be||fe)(t.Y36(t.s_b))},fe.\u0275dir=t.lG2({type:fe,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[t.TTD]}),fe})();function Mi(fe,Le){return new t.vHH(2100,!1)}let Rs=(()=>{class fe{transform(be){if(null==be)return null;if("string"!=typeof be)throw Mi();return be.toUpperCase()}}return fe.\u0275fac=function(be){return new(be||fe)},fe.\u0275pipe=t.Yjl({name:"uppercase",type:fe,pure:!0,standalone:!0}),fe})(),Wn=(()=>{class fe{constructor(be){this.differs=be,this.keyValues=[],this.compareFn=pr}transform(be,tt=pr){if(!be||!(be instanceof Map)&&"object"!=typeof be)return null;this.differ||(this.differ=this.differs.find(be).create());const St=this.differ.diff(be),en=tt!==this.compareFn;return St&&(this.keyValues=[],St.forEachItem(an=>{this.keyValues.push(function _s(fe,Le){return{key:fe,value:Le}}(an.key,an.currentValue))})),(St||en)&&(this.keyValues.sort(tt),this.compareFn=tt),this.keyValues}}return fe.\u0275fac=function(be){return new(be||fe)(t.Y36(t.aQg,16))},fe.\u0275pipe=t.Yjl({name:"keyvalue",type:fe,pure:!1,standalone:!0}),fe})();function pr(fe,Le){const be=fe.key,tt=Le.key;if(be===tt)return 0;if(void 0===be)return 1;if(void 0===tt)return-1;if(null===be)return 1;if(null===tt)return-1;if("string"==typeof be&&"string"==typeof tt)return be<tt?-1:1;if("number"==typeof be&&"number"==typeof tt)return be-tt;if("boolean"==typeof be&&"boolean"==typeof tt)return be<tt?-1:1;const St=String(be),en=String(tt);return St==en?0:St<en?-1:1}let xr=(()=>{class fe{constructor(be){this._locale=be}transform(be,tt,St){if(!function Pr(fe){return!(null==fe||""===fe||fe!=fe)}(be))return null;St=St||this._locale;try{return function Cn(fe,Le,be){return function Mn(fe,Le,be,tt,St,en,an=!1){let qt="",Bi=!1;if(isFinite(fe)){let wi=function Un(fe){let tt,St,en,an,qt,Le=Math.abs(fe)+"",be=0;for((St=Le.indexOf("."))>-1&&(Le=Le.replace(".","")),(en=Le.search(/e/i))>0?(St<0&&(St=en),St+=+Le.slice(en+1),Le=Le.substring(0,en)):St<0&&(St=Le.length),en=0;"0"===Le.charAt(en);en++);if(en===(qt=Le.length))tt=[0],St=1;else{for(qt--;"0"===Le.charAt(qt);)qt--;for(St-=en,tt=[],an=0;en<=qt;en++,an++)tt[an]=Number(Le.charAt(en))}return St>22&&(tt=tt.splice(0,21),be=St-1,St=1),{digits:tt,exponent:be,integerLen:St}}(fe);an&&(wi=function di(fe){if(0===fe.digits[0])return fe;const Le=fe.digits.length-fe.integerLen;return fe.exponent?fe.exponent+=2:(0===Le?fe.digits.push(0,0):1===Le&&fe.digits.push(0),fe.integerLen+=2),fe}(wi));let yi=Le.minInt,vn=Le.minFrac,mi=Le.maxFrac;if(en){const kr=en.match(_t);if(null===kr)throw new Error(`${en} is not a valid digit info`);const Tr=kr[1],Ts=kr[3],$s=kr[5];null!=Tr&&(yi=bi(Tr)),null!=Ts&&(vn=bi(Ts)),null!=$s?mi=bi($s):null!=Ts&&vn>mi&&(mi=vn)}!function Ui(fe,Le,be){if(Le>be)throw new Error(`The minimum number of digits after fraction (${Le}) is higher than the maximum (${be}).`);let tt=fe.digits,St=tt.length-fe.integerLen;const en=Math.min(Math.max(Le,St),be);let an=en+fe.integerLen,qt=tt[an];if(an>0){tt.splice(Math.max(fe.integerLen,an));for(let vn=an;vn<tt.length;vn++)tt[vn]=0}else{St=Math.max(0,St),fe.integerLen=1,tt.length=Math.max(1,an=en+1),tt[0]=0;for(let vn=1;vn<an;vn++)tt[vn]=0}if(qt>=5)if(an-1<0){for(let vn=0;vn>an;vn--)tt.unshift(0),fe.integerLen++;tt.unshift(1),fe.integerLen++}else tt[an-1]++;for(;St<Math.max(0,en);St++)tt.push(0);let Bi=0!==en;const wi=Le+fe.integerLen,yi=tt.reduceRight(function(vn,mi,Pi,fr){return fr[Pi]=(mi+=vn)<10?mi:mi-10,Bi&&(0===fr[Pi]&&Pi>=wi?fr.pop():Bi=!1),mi>=10?1:0},0);yi&&(tt.unshift(yi),fe.integerLen++)}(wi,vn,mi);let Pi=wi.digits,fr=wi.integerLen;const es=wi.exponent;let Gi=[];for(Bi=Pi.every(kr=>!kr);fr<yi;fr++)Pi.unshift(0);for(;fr<0;fr++)Pi.unshift(0);fr>0?Gi=Pi.splice(fr,Pi.length):(Gi=Pi,Pi=[0]);const Br=[];for(Pi.length>=Le.lgSize&&Br.unshift(Pi.splice(-Le.lgSize,Pi.length).join(""));Pi.length>Le.gSize;)Br.unshift(Pi.splice(-Le.gSize,Pi.length).join(""));Pi.length&&Br.unshift(Pi.join("")),qt=Br.join(pt(be,tt)),Gi.length&&(qt+=pt(be,St)+Gi.join("")),es&&(qt+=pt(be,me.Exponential)+"+"+es)}else qt=pt(be,me.Infinity);return qt=fe<0&&!Bi?Le.negPre+qt+Le.negSuf:Le.posPre+qt+Le.posSuf,qt}(fe,function Zn(fe,Le="-"){const be={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},tt=fe.split(";"),St=tt[0],en=tt[1],an=-1!==St.indexOf(".")?St.split("."):[St.substring(0,St.lastIndexOf("0")+1),St.substring(St.lastIndexOf("0")+1)],qt=an[0],Bi=an[1]||"";be.posPre=qt.substring(0,qt.indexOf("#"));for(let yi=0;yi<Bi.length;yi++){const vn=Bi.charAt(yi);"0"===vn?be.minFrac=be.maxFrac=yi+1:"#"===vn?be.maxFrac=yi+1:be.posSuf+=vn}const wi=qt.split(",");if(be.gSize=wi[1]?wi[1].length:0,be.lgSize=wi[2]||wi[1]?(wi[2]||wi[1]).length:0,en){const yi=St.length-be.posPre.length-be.posSuf.length,vn=en.indexOf("#");be.negPre=en.substring(0,vn).replace(/'/g,""),be.negSuf=en.slice(vn+yi).replace(/'/g,"")}else be.negPre=Le+be.posPre,be.negSuf=be.posSuf;return be}(function Yt(fe,Le){return(0,t.cg1)(fe)[t.wAp.NumberFormats][Le]}(Le,X.Decimal),pt(Le,me.MinusSign)),Le,me.Group,me.Decimal,be)}(function vr(fe){if("string"==typeof fe&&!isNaN(Number(fe)-parseFloat(fe)))return Number(fe);if("number"!=typeof fe)throw new Error(`${fe} is not a number`);return fe}(be),St,tt)}catch(en){throw Mi()}}}return fe.\u0275fac=function(be){return new(be||fe)(t.Y36(t.soG,16))},fe.\u0275pipe=t.Yjl({name:"number",type:fe,pure:!0,standalone:!0}),fe})();let ss=(()=>{class fe{transform(be,tt,St){if(null==be)return null;if(!this.supports(be))throw Mi();return be.slice(tt,St)}supports(be){return"string"==typeof be||Array.isArray(be)}}return fe.\u0275fac=function(be){return new(be||fe)},fe.\u0275pipe=t.Yjl({name:"slice",type:fe,pure:!1,standalone:!0}),fe})(),yr=(()=>{class fe{}return fe.\u0275fac=function(be){return new(be||fe)},fe.\u0275mod=t.oAB({type:fe}),fe.\u0275inj=t.cJS({}),fe})();const os="browser";function hs(fe){return fe===os}let ws=(()=>{class fe{}return fe.\u0275prov=(0,t.Yz7)({token:fe,providedIn:"root",factory:()=>new no((0,t.LFG)(g),window)}),fe})();class no{constructor(Le,be){this.document=Le,this.window=be,this.offset=()=>[0,0]}setOffset(Le){this.offset=Array.isArray(Le)?()=>Le:Le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Le){this.supportsScrolling()&&this.window.scrollTo(Le[0],Le[1])}scrollToAnchor(Le){if(!this.supportsScrolling())return;const be=function Xr(fe,Le){const be=fe.getElementById(Le)||fe.getElementsByName(Le)[0];if(be)return be;if("function"==typeof fe.createTreeWalker&&fe.body&&(fe.body.createShadowRoot||fe.body.attachShadow)){const tt=fe.createTreeWalker(fe.body,NodeFilter.SHOW_ELEMENT);let St=tt.currentNode;for(;St;){const en=St.shadowRoot;if(en){const an=en.getElementById(Le)||en.querySelector(`[name="${Le}"]`);if(an)return an}St=tt.nextNode()}}return null}(this.document,Le);be&&(this.scrollToElement(be),be.focus())}setHistoryScrollRestoration(Le){if(this.supportScrollRestoration()){const be=this.window.history;be&&be.scrollRestoration&&(be.scrollRestoration=Le)}}scrollToElement(Le){const be=Le.getBoundingClientRect(),tt=be.left+this.window.pageXOffset,St=be.top+this.window.pageYOffset,en=this.offset();this.window.scrollTo(tt-en[0],St-en[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Le=Vr(this.window.history)||Vr(Object.getPrototypeOf(this.window.history));return!(!Le||!Le.writable&&!Le.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Vr(fe){return Object.getOwnPropertyDescriptor(fe,"scrollRestoration")}class Is{}},529:(dt,Ce,p)=>{"use strict";p.d(Ce,{JF:()=>Xe,LE:()=>N,TP:()=>Ee,UA:()=>me,WM:()=>_,eN:()=>ye});var t=p(6895),e=p(4650),m=p(9646),T=p(9751),C=p(4351),b=p(9300),g=p(4004);class f{}class w{}class _{constructor(Ge){this.normalizedNames=new Map,this.lazyUpdate=null,Ge?this.lazyInit="string"==typeof Ge?()=>{this.headers=new Map,Ge.split("\n").forEach(de=>{const ee=de.indexOf(":");if(ee>0){const U=de.slice(0,ee),te=U.toLowerCase(),Re=de.slice(ee+1).trim();this.maybeSetNormalizedName(U,te),this.headers.has(te)?this.headers.get(te).push(Re):this.headers.set(te,[Re])}})}:()=>{this.headers=new Map,Object.keys(Ge).forEach(de=>{let ee=Ge[de];const U=de.toLowerCase();"string"==typeof ee&&(ee=[ee]),ee.length>0&&(this.headers.set(U,ee),this.maybeSetNormalizedName(de,U))})}:this.headers=new Map}has(Ge){return this.init(),this.headers.has(Ge.toLowerCase())}get(Ge){this.init();const de=this.headers.get(Ge.toLowerCase());return de&&de.length>0?de[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ge){return this.init(),this.headers.get(Ge.toLowerCase())||null}append(Ge,de){return this.clone({name:Ge,value:de,op:"a"})}set(Ge,de){return this.clone({name:Ge,value:de,op:"s"})}delete(Ge,de){return this.clone({name:Ge,value:de,op:"d"})}maybeSetNormalizedName(Ge,de){this.normalizedNames.has(de)||this.normalizedNames.set(de,Ge)}init(){this.lazyInit&&(this.lazyInit instanceof _?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ge=>this.applyUpdate(Ge)),this.lazyUpdate=null))}copyFrom(Ge){Ge.init(),Array.from(Ge.headers.keys()).forEach(de=>{this.headers.set(de,Ge.headers.get(de)),this.normalizedNames.set(de,Ge.normalizedNames.get(de))})}clone(Ge){const de=new _;return de.lazyInit=this.lazyInit&&this.lazyInit instanceof _?this.lazyInit:this,de.lazyUpdate=(this.lazyUpdate||[]).concat([Ge]),de}applyUpdate(Ge){const de=Ge.name.toLowerCase();switch(Ge.op){case"a":case"s":let ee=Ge.value;if("string"==typeof ee&&(ee=[ee]),0===ee.length)return;this.maybeSetNormalizedName(Ge.name,de);const U=("a"===Ge.op?this.headers.get(de):void 0)||[];U.push(...ee),this.headers.set(de,U);break;case"d":const te=Ge.value;if(te){let Re=this.headers.get(de);if(!Re)return;Re=Re.filter(ot=>-1===te.indexOf(ot)),0===Re.length?(this.headers.delete(de),this.normalizedNames.delete(de)):this.headers.set(de,Re)}else this.headers.delete(de),this.normalizedNames.delete(de)}}forEach(Ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(de=>Ge(this.normalizedNames.get(de),this.headers.get(de)))}}class P{encodeKey(Ge){return Z(Ge)}encodeValue(Ge){return Z(Ge)}decodeKey(Ge){return decodeURIComponent(Ge)}decodeValue(Ge){return decodeURIComponent(Ge)}}const k=/%(\d[a-f0-9])/gi,L={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Z(vt){return encodeURIComponent(vt).replace(k,(Ge,de)=>{var ee;return null!==(ee=L[de])&&void 0!==ee?ee:Ge})}function j(vt){return`${vt}`}class N{constructor(Ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ge.encoder||new P,Ge.fromString){if(Ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function a(vt,Ge){const de=new Map;return vt.length>0&&vt.replace(/^\?/,"").split("&").forEach(U=>{const te=U.indexOf("="),[Re,ot]=-1==te?[Ge.decodeKey(U),""]:[Ge.decodeKey(U.slice(0,te)),Ge.decodeValue(U.slice(te+1))],ut=de.get(Re)||[];ut.push(ot),de.set(Re,ut)}),de}(Ge.fromString,this.encoder)}else Ge.fromObject?(this.map=new Map,Object.keys(Ge.fromObject).forEach(de=>{const ee=Ge.fromObject[de],U=Array.isArray(ee)?ee.map(j):[j(ee)];this.map.set(de,U)})):this.map=null}has(Ge){return this.init(),this.map.has(Ge)}get(Ge){this.init();const de=this.map.get(Ge);return de?de[0]:null}getAll(Ge){return this.init(),this.map.get(Ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ge,de){return this.clone({param:Ge,value:de,op:"a"})}appendAll(Ge){const de=[];return Object.keys(Ge).forEach(ee=>{const U=Ge[ee];Array.isArray(U)?U.forEach(te=>{de.push({param:ee,value:te,op:"a"})}):de.push({param:ee,value:U,op:"a"})}),this.clone(de)}set(Ge,de){return this.clone({param:Ge,value:de,op:"s"})}delete(Ge,de){return this.clone({param:Ge,value:de,op:"d"})}toString(){return this.init(),this.keys().map(Ge=>{const de=this.encoder.encodeKey(Ge);return this.map.get(Ge).map(ee=>de+"="+this.encoder.encodeValue(ee)).join("&")}).filter(Ge=>""!==Ge).join("&")}clone(Ge){const de=new N({encoder:this.encoder});return de.cloneFrom=this.cloneFrom||this,de.updates=(this.updates||[]).concat(Ge),de}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ge=>this.map.set(Ge,this.cloneFrom.map.get(Ge))),this.updates.forEach(Ge=>{switch(Ge.op){case"a":case"s":const de=("a"===Ge.op?this.map.get(Ge.param):void 0)||[];de.push(j(Ge.value)),this.map.set(Ge.param,de);break;case"d":if(void 0===Ge.value){this.map.delete(Ge.param);break}{let ee=this.map.get(Ge.param)||[];const U=ee.indexOf(j(Ge.value));-1!==U&&ee.splice(U,1),ee.length>0?this.map.set(Ge.param,ee):this.map.delete(Ge.param)}}}),this.cloneFrom=this.updates=null)}}class V{constructor(){this.map=new Map}set(Ge,de){return this.map.set(Ge,de),this}get(Ge){return this.map.has(Ge)||this.map.set(Ge,Ge.defaultValue()),this.map.get(Ge)}delete(Ge){return this.map.delete(Ge),this}has(Ge){return this.map.has(Ge)}keys(){return this.map.keys()}}function q(vt){return typeof ArrayBuffer<"u"&&vt instanceof ArrayBuffer}function re(vt){return typeof Blob<"u"&&vt instanceof Blob}function W(vt){return typeof FormData<"u"&&vt instanceof FormData}class X{constructor(Ge,de,ee,U){let te;if(this.url=de,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ge.toUpperCase(),function J(vt){switch(vt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||U?(this.body=void 0!==ee?ee:null,te=U):te=ee,te&&(this.reportProgress=!!te.reportProgress,this.withCredentials=!!te.withCredentials,te.responseType&&(this.responseType=te.responseType),te.headers&&(this.headers=te.headers),te.context&&(this.context=te.context),te.params&&(this.params=te.params)),this.headers||(this.headers=new _),this.context||(this.context=new V),this.params){const Re=this.params.toString();if(0===Re.length)this.urlWithParams=de;else{const ot=de.indexOf("?");this.urlWithParams=de+(-1===ot?"?":ot<de.length-1?"&":"")+Re}}else this.params=new N,this.urlWithParams=de}serializeBody(){return null===this.body?null:q(this.body)||re(this.body)||W(this.body)||function G(vt){return typeof URLSearchParams<"u"&&vt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||W(this.body)?null:re(this.body)?this.body.type||null:q(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ge={}){var de;const ee=Ge.method||this.method,U=Ge.url||this.url,te=Ge.responseType||this.responseType,Re=void 0!==Ge.body?Ge.body:this.body,ot=void 0!==Ge.withCredentials?Ge.withCredentials:this.withCredentials,ut=void 0!==Ge.reportProgress?Ge.reportProgress:this.reportProgress;let Dt=Ge.headers||this.headers,Qt=Ge.params||this.params;const mn=null!==(de=Ge.context)&&void 0!==de?de:this.context;return void 0!==Ge.setHeaders&&(Dt=Object.keys(Ge.setHeaders).reduce((nn,_n)=>nn.set(_n,Ge.setHeaders[_n]),Dt)),Ge.setParams&&(Qt=Object.keys(Ge.setParams).reduce((nn,_n)=>nn.set(_n,Ge.setParams[_n]),Qt)),new X(ee,U,Re,{params:Qt,headers:Dt,context:mn,reportProgress:ut,responseType:te,withCredentials:ot})}}var E=(()=>((E=E||{})[E.Sent=0]="Sent",E[E.UploadProgress=1]="UploadProgress",E[E.ResponseHeader=2]="ResponseHeader",E[E.DownloadProgress=3]="DownloadProgress",E[E.Response=4]="Response",E[E.User=5]="User",E))();class ne{constructor(Ge,de=200,ee="OK"){this.headers=Ge.headers||new _,this.status=void 0!==Ge.status?Ge.status:de,this.statusText=Ge.statusText||ee,this.url=Ge.url||null,this.ok=this.status>=200&&this.status<300}}class K extends ne{constructor(Ge={}){super(Ge),this.type=E.ResponseHeader}clone(Ge={}){return new K({headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class le extends ne{constructor(Ge={}){super(Ge),this.type=E.Response,this.body=void 0!==Ge.body?Ge.body:null}clone(Ge={}){return new le({body:void 0!==Ge.body?Ge.body:this.body,headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class me extends ne{constructor(Ge){super(Ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ge.url||"(unknown url)"}`:`Http failure response for ${Ge.url||"(unknown url)"}: ${Ge.status} ${Ge.statusText}`,this.error=Ge.error||null}}function Se(vt,Ge){return{body:Ge,headers:vt.headers,context:vt.context,observe:vt.observe,params:vt.params,reportProgress:vt.reportProgress,responseType:vt.responseType,withCredentials:vt.withCredentials}}let ye=(()=>{class vt{constructor(de){this.handler=de}request(de,ee,U={}){let te;if(de instanceof X)te=de;else{let ut,Dt;ut=U.headers instanceof _?U.headers:new _(U.headers),U.params&&(Dt=U.params instanceof N?U.params:new N({fromObject:U.params})),te=new X(de,ee,void 0!==U.body?U.body:null,{headers:ut,context:U.context,params:Dt,reportProgress:U.reportProgress,responseType:U.responseType||"json",withCredentials:U.withCredentials})}const Re=(0,m.of)(te).pipe((0,C.b)(ut=>this.handler.handle(ut)));if(de instanceof X||"events"===U.observe)return Re;const ot=Re.pipe((0,b.h)(ut=>ut instanceof le));switch(U.observe||"body"){case"body":switch(te.responseType){case"arraybuffer":return ot.pipe((0,g.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ut.body}));case"blob":return ot.pipe((0,g.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof Blob))throw new Error("Response is not a Blob.");return ut.body}));case"text":return ot.pipe((0,g.U)(ut=>{if(null!==ut.body&&"string"!=typeof ut.body)throw new Error("Response is not a string.");return ut.body}));default:return ot.pipe((0,g.U)(ut=>ut.body))}case"response":return ot;default:throw new Error(`Unreachable: unhandled observe type ${U.observe}}`)}}delete(de,ee={}){return this.request("DELETE",de,ee)}get(de,ee={}){return this.request("GET",de,ee)}head(de,ee={}){return this.request("HEAD",de,ee)}jsonp(de,ee){return this.request("JSONP",de,{params:(new N).append(ee,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(de,ee={}){return this.request("OPTIONS",de,ee)}patch(de,ee,U={}){return this.request("PATCH",de,Se(U,ee))}post(de,ee,U={}){return this.request("POST",de,Se(U,ee))}put(de,ee,U={}){return this.request("PUT",de,Se(U,ee))}}return vt.\u0275fac=function(de){return new(de||vt)(e.LFG(f))},vt.\u0275prov=e.Yz7({token:vt,factory:vt.\u0275fac}),vt})();class ze{constructor(Ge,de){this.next=Ge,this.interceptor=de}handle(Ge){return this.interceptor.intercept(Ge,this.next)}}const Ee=new e.OlP("HTTP_INTERCEPTORS");let qe=(()=>{class vt{intercept(de,ee){return ee.handle(de)}}return vt.\u0275fac=function(de){return new(de||vt)},vt.\u0275prov=e.Yz7({token:vt,factory:vt.\u0275fac}),vt})();const Nt=/^\)\]\}',?\n/;let Y=(()=>{class vt{constructor(de){this.xhrFactory=de}handle(de){if("JSONP"===de.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new T.y(ee=>{const U=this.xhrFactory.build();if(U.open(de.method,de.urlWithParams),de.withCredentials&&(U.withCredentials=!0),de.headers.forEach((_n,sn)=>U.setRequestHeader(_n,sn.join(","))),de.headers.has("Accept")||U.setRequestHeader("Accept","application/json, text/plain, */*"),!de.headers.has("Content-Type")){const _n=de.detectContentTypeHeader();null!==_n&&U.setRequestHeader("Content-Type",_n)}if(de.responseType){const _n=de.responseType.toLowerCase();U.responseType="json"!==_n?_n:"text"}const te=de.serializeBody();let Re=null;const ot=()=>{if(null!==Re)return Re;const _n=U.statusText||"OK",sn=new _(U.getAllResponseHeaders()),gt=function Mt(vt){return"responseURL"in vt&&vt.responseURL?vt.responseURL:/^X-Request-URL:/m.test(vt.getAllResponseHeaders())?vt.getResponseHeader("X-Request-URL"):null}(U)||de.url;return Re=new K({headers:sn,status:U.status,statusText:_n,url:gt}),Re},ut=()=>{let{headers:_n,status:sn,statusText:gt,url:dn}=ot(),It=null;204!==sn&&(It=typeof U.response>"u"?U.responseText:U.response),0===sn&&(sn=It?200:0);let Xt=sn>=200&&sn<300;if("json"===de.responseType&&"string"==typeof It){const fn=It;It=It.replace(Nt,"");try{It=""!==It?JSON.parse(It):null}catch(An){It=fn,Xt&&(Xt=!1,It={error:An,text:It})}}Xt?(ee.next(new le({body:It,headers:_n,status:sn,statusText:gt,url:dn||void 0})),ee.complete()):ee.error(new me({error:It,headers:_n,status:sn,statusText:gt,url:dn||void 0}))},Dt=_n=>{const{url:sn}=ot(),gt=new me({error:_n,status:U.status||0,statusText:U.statusText||"Unknown Error",url:sn||void 0});ee.error(gt)};let Qt=!1;const mn=_n=>{Qt||(ee.next(ot()),Qt=!0);let sn={type:E.DownloadProgress,loaded:_n.loaded};_n.lengthComputable&&(sn.total=_n.total),"text"===de.responseType&&!!U.responseText&&(sn.partialText=U.responseText),ee.next(sn)},nn=_n=>{let sn={type:E.UploadProgress,loaded:_n.loaded};_n.lengthComputable&&(sn.total=_n.total),ee.next(sn)};return U.addEventListener("load",ut),U.addEventListener("error",Dt),U.addEventListener("timeout",Dt),U.addEventListener("abort",Dt),de.reportProgress&&(U.addEventListener("progress",mn),null!==te&&U.upload&&U.upload.addEventListener("progress",nn)),U.send(te),ee.next({type:E.Sent}),()=>{U.removeEventListener("error",Dt),U.removeEventListener("abort",Dt),U.removeEventListener("load",ut),U.removeEventListener("timeout",Dt),de.reportProgress&&(U.removeEventListener("progress",mn),null!==te&&U.upload&&U.upload.removeEventListener("progress",nn)),U.readyState!==U.DONE&&U.abort()}})}}return vt.\u0275fac=function(de){return new(de||vt)(e.LFG(t.JF))},vt.\u0275prov=e.Yz7({token:vt,factory:vt.\u0275fac}),vt})();const Q=new e.OlP("XSRF_COOKIE_NAME"),ce=new e.OlP("XSRF_HEADER_NAME");class We{}let Je=(()=>{class vt{constructor(de,ee,U){this.doc=de,this.platform=ee,this.cookieName=U,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const de=this.doc.cookie||"";return de!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,t.Mx)(de,this.cookieName),this.lastCookieString=de),this.lastToken}}return vt.\u0275fac=function(de){return new(de||vt)(e.LFG(t.K0),e.LFG(e.Lbi),e.LFG(Q))},vt.\u0275prov=e.Yz7({token:vt,factory:vt.\u0275fac}),vt})(),Oe=(()=>{class vt{constructor(de,ee){this.tokenService=de,this.headerName=ee}intercept(de,ee){const U=de.url.toLowerCase();if("GET"===de.method||"HEAD"===de.method||U.startsWith("http://")||U.startsWith("https://"))return ee.handle(de);const te=this.tokenService.getToken();return null!==te&&!de.headers.has(this.headerName)&&(de=de.clone({headers:de.headers.set(this.headerName,te)})),ee.handle(de)}}return vt.\u0275fac=function(de){return new(de||vt)(e.LFG(We),e.LFG(ce))},vt.\u0275prov=e.Yz7({token:vt,factory:vt.\u0275fac}),vt})(),i=(()=>{class vt{constructor(de,ee){this.backend=de,this.injector=ee,this.chain=null}handle(de){if(null===this.chain){const ee=this.injector.get(Ee,[]);this.chain=ee.reduceRight((U,te)=>new ze(U,te),this.backend)}return this.chain.handle(de)}}return vt.\u0275fac=function(de){return new(de||vt)(e.LFG(w),e.LFG(e.zs3))},vt.\u0275prov=e.Yz7({token:vt,factory:vt.\u0275fac}),vt})(),Ye=(()=>{class vt{static disable(){return{ngModule:vt,providers:[{provide:Oe,useClass:qe}]}}static withOptions(de={}){return{ngModule:vt,providers:[de.cookieName?{provide:Q,useValue:de.cookieName}:[],de.headerName?{provide:ce,useValue:de.headerName}:[]]}}}return vt.\u0275fac=function(de){return new(de||vt)},vt.\u0275mod=e.oAB({type:vt}),vt.\u0275inj=e.cJS({providers:[Oe,{provide:Ee,useExisting:Oe,multi:!0},{provide:We,useClass:Je},{provide:Q,useValue:"XSRF-TOKEN"},{provide:ce,useValue:"X-XSRF-TOKEN"}]}),vt})(),Xe=(()=>{class vt{}return vt.\u0275fac=function(de){return new(de||vt)},vt.\u0275mod=e.oAB({type:vt}),vt.\u0275inj=e.cJS({providers:[ye,{provide:f,useClass:i},Y,{provide:w,useExisting:Y}],imports:[Ye.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),vt})()},4650:(dt,Ce,p)=>{"use strict";p.d(Ce,{$8M:()=>yo,$Z:()=>tm,AFp:()=>J1,ALo:()=>Xc,AaK:()=>f,AsE:()=>rg,BQk:()=>Yu,CHM:()=>ps,CRH:()=>bp,CZH:()=>Cd,CqO:()=>G0,D6c:()=>uT,DdM:()=>r1,Dn7:()=>Hg,EJc:()=>cn,EiD:()=>$p,EpF:()=>$0,F$t:()=>q0,F4k:()=>z0,FYo:()=>Zd,FiY:()=>Yo,G48:()=>Kw,Gf:()=>Yg,GfV:()=>af,GkF:()=>Vh,Gpc:()=>R,Gre:()=>Oa,HTZ:()=>u1,Hsn:()=>Hm,Ikx:()=>ep,JOm:()=>Ta,JVY:()=>D_,Jf7:()=>xu,KtG:()=>hi,L6k:()=>I_,LAX:()=>pl,LFG:()=>Qr,LMc:()=>hT,LSH:()=>Nd,Lbi:()=>A,Lck:()=>lp,MAs:()=>j0,MGl:()=>Xu,MMx:()=>Rl,MT6:()=>nd,NdJ:()=>Hh,OlP:()=>Ki,Oqu:()=>Gh,PXZ:()=>a_,Q6J:()=>Lh,QGY:()=>Lm,QP$:()=>bt,QbO:()=>Pe,Qsj:()=>Y_,QtT:()=>t1,R0b:()=>cr,RDi:()=>y_,Rgc:()=>hc,SBq:()=>yl,SDv:()=>e1,Sil:()=>ei,Suo:()=>Xg,TTD:()=>Yr,TgZ:()=>Uh,Tol:()=>ly,Udp:()=>jh,VKq:()=>s1,W1O:()=>T1,WLB:()=>o1,X6Q:()=>jw,XFs:()=>i,Xpm:()=>dn,Xts:()=>Rd,Y36:()=>Ha,YKP:()=>ap,YNc:()=>W0,Yjl:()=>ii,Yz7:()=>lt,Z0I:()=>un,ZZ4:()=>X1,_Bn:()=>ys,_UZ:()=>Pm,_Vd:()=>xc,_c5:()=>lT,_uU:()=>ig,aQg:()=>eC,c2e:()=>Qe,cJS:()=>pt,cg1:()=>fg,d8E:()=>sd,dDg:()=>to,dqk:()=>U,eBb:()=>pu,eFA:()=>l_,ekj:()=>Kh,eoX:()=>Vo,evT:()=>Eu,f3M:()=>lu,g9A:()=>d,h0i:()=>rl,hGG:()=>cT,hYB:()=>Wh,hij:()=>Qh,iGM:()=>qg,ifc:()=>ee,ip1:()=>o_,jDz:()=>cp,kEZ:()=>a1,kL8:()=>$a,l5B:()=>l1,lG2:()=>ti,lcZ:()=>sl,lqb:()=>vl,lri:()=>ns,mCW:()=>_u,n5z:()=>Jr,oAB:()=>An,oJD:()=>zp,oxw:()=>Vm,pB0:()=>Vl,pQV:()=>Ig,q3G:()=>Js,qLn:()=>Ec,qOj:()=>Mh,qZA:()=>Fh,qbA:()=>c1,qzn:()=>Zl,rWj:()=>No,s9C:()=>Jh,sBO:()=>$w,sIi:()=>Fc,s_b:()=>pc,soG:()=>Ft,tb:()=>M,tp0:()=>yc,uIk:()=>Ph,vHH:()=>L,vpe:()=>Na,wAp:()=>Ti,xi3:()=>h1,xp6:()=>Wf,ynx:()=>Zh,z2F:()=>ru,z3N:()=>Ua,zSh:()=>Pd,zs3:()=>bl});var t=p(7579),e=p(727),m=p(9751),T=p(6451),C=p(3099);function b(r){for(let s in r)if(r[s]===b)return s;throw Error("Could not find renamed property on target object.")}function g(r,s){for(const u in s)s.hasOwnProperty(u)&&!r.hasOwnProperty(u)&&(r[u]=s[u])}function f(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(f).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function w(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const _=b({__forward_ref__:b});function R(r){return r.__forward_ref__=R,r.toString=function(){return f(this())},r}function P(r){return a(r)?r():r}function a(r){return"function"==typeof r&&r.hasOwnProperty(_)&&r.__forward_ref__===R}class L extends Error{constructor(s,u){super(function Z(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}(s,u)),this.code=s}}function j(r){return"string"==typeof r?r:null==r?"":String(r)}function q(r,s){throw new L(-201,!1)}function Te(r,s,u,y){throw new Error(`ASSERTION ERROR: ${r}`+(null==y?"":` [Expected=> ${u} ${y} ${s} <=Actual]`))}function lt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function pt(r){return{providers:r.providers||[],imports:r.imports||[]}}function Yt(r){return Nt(r,ce)||Nt(r,Je)}function un(r){return null!==Yt(r)}function Nt(r,s){return r.hasOwnProperty(s)?r[s]:null}function Q(r){return r&&(r.hasOwnProperty(We)||r.hasOwnProperty(Oe))?r[We]:null}const ce=b({\u0275prov:b}),We=b({\u0275inj:b}),Je=b({ngInjectableDef:b}),Oe=b({ngInjectorDef:b});var i=(()=>((i=i||{})[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i))();let we;function Ye(r){const s=we;return we=r,s}function Xe(r,s,u){const y=Yt(r);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:u&i.Optional?null:void 0!==s?s:void q(f(r))}function Tt(r){return{toString:r}.toString()}var vt=(()=>((vt=vt||{})[vt.OnPush=0]="OnPush",vt[vt.Default=1]="Default",vt))(),ee=(()=>{return(r=ee||(ee={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",ee;var r})();const U=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ot={},ut=[],Dt=b({\u0275cmp:b}),Qt=b({\u0275dir:b}),mn=b({\u0275pipe:b}),nn=b({\u0275mod:b}),_n=b({\u0275fac:b}),sn=b({__NG_ELEMENT_ID__:b});let gt=0;function dn(r){return Tt(()=>{const u=!0===r.standalone,y={},x={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:y,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||ut,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||ee.Emulated,id:"c"+gt++,styles:r.styles||ut,_:null,setInput:null,schemas:r.schemas||null,tView:null},O=r.dependencies,z=r.features;return x.inputs=Gn(r.inputs,y),x.outputs=Gn(r.outputs),z&&z.forEach(ae=>ae(x)),x.directiveDefs=O?()=>("function"==typeof O?O():O).map(Xt).filter(fn):null,x.pipeDefs=O?()=>("function"==typeof O?O():O).map(Nn).filter(fn):null,x})}function Xt(r){return $t(r)||Qn(r)}function fn(r){return null!==r}function An(r){return Tt(()=>({type:r.type,bootstrap:r.bootstrap||ut,declarations:r.declarations||ut,imports:r.imports||ut,exports:r.exports||ut,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Gn(r,s){if(null==r)return ot;const u={};for(const y in r)if(r.hasOwnProperty(y)){let x=r[y],O=x;Array.isArray(x)&&(O=x[1],x=x[0]),u[x]=y,s&&(s[x]=O)}return u}const ti=dn;function ii(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function $t(r){return r[Dt]||null}function Qn(r){return r[Qt]||null}function Nn(r){return r[mn]||null}function bt(r){const s=$t(r)||Qn(r)||Nn(r);return null!==s&&s.standalone}function _t(r,s){const u=r[nn]||null;if(!u&&!0===s)throw new Error(`Type ${f(r)} does not have '\u0275mod' property.`);return u}function hn(r){return Array.isArray(r)&&"object"==typeof r[1]}function In(r){return Array.isArray(r)&&!0===r[1]}function Rn(r){return 0!=(8&r.flags)}function xi(r){return 2==(2&r.flags)}function fi(r){return 1==(1&r.flags)}function qn(r){return null!==r.template}function or(r){return 0!=(256&r[2])}function pr(r,s){return r.hasOwnProperty(_n)?r[_n]:null}class xr{constructor(s,u,y){this.previousValue=s,this.currentValue=u,this.firstChange=y}isFirstChange(){return this.firstChange}}function Yr(){return Zr}function Zr(r){return r.type.prototype.ngOnChanges&&(r.setInput=vr),Pr}function Pr(){const r=sr(this),s=r?.current;if(s){const u=r.previous;if(u===ot)r.previous=s;else for(let y in s)u[y]=s[y];r.current=null,this.ngOnChanges(s)}}function vr(r,s,u,y){const x=sr(r)||function yr(r,s){return r[ss]=s}(r,{previous:ot,current:null}),O=x.current||(x.current={}),z=x.previous,ae=this.declaredInputs[u],_e=z[ae];O[ae]=new xr(_e&&_e.currentValue,s,z===ot),r[y]=s}Yr.ngInherit=!0;const ss="__ngSimpleChanges__";function sr(r){return r[ss]||null}function Vi(r){for(;Array.isArray(r);)r=r[0];return r}function Vr(r,s){return Vi(s[r])}function Xr(r,s){return Vi(s[r.index])}function Is(r,s){return r.data[s]}function zr(r,s){return r[s]}function Wi(r,s){const u=s[r];return hn(u)?u:u[0]}function as(r){return 64==(64&r[2])}function Zi(r,s){return null==s?null:r[s]}function br(r){r[18]=0}function Er(r,s){r[5]+=s;let u=r,y=r[3];for(;null!==y&&(1===s&&1===u[5]||-1===s&&0===u[5]);)y[5]+=s,u=y,y=y[3]}const si={lFrame:fo(null),bindingsEnabled:!0};function wr(){return si.bindingsEnabled}function yn(){return si.lFrame.lView}function oi(){return si.lFrame.tView}function ps(r){return si.lFrame.contextLView=r,r[8]}function hi(r){return si.lFrame.contextLView=null,r}function Xi(){let r=Ie();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ie(){return si.lFrame.currentTNode}function ve(){const r=si.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function ie(r,s){const u=si.lFrame;u.currentTNode=r,u.isParent=s}function rt(){return si.lFrame.isParent}function rn(){si.lFrame.isParent=!1}function er(){const r=si.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function vi(){return si.lFrame.bindingIndex}function je(){return si.lFrame.bindingIndex++}function Et(r){const s=si.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,u}function jt(r){si.lFrame.inI18n=r}function Ht(r,s){const u=si.lFrame;u.bindingIndex=u.bindingRootIndex=r,Tn(s)}function Tn(r){si.lFrame.currentDirectiveIndex=r}function ai(r){const s=si.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function jn(){return si.lFrame.currentQueryIndex}function ur(r){si.lFrame.currentQueryIndex=r}function Kr(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function dr(r,s,u){if(u&i.SkipSelf){let x=s,O=r;for(;!(x=x.parent,null!==x||u&i.Host||(x=Kr(O),null===x||(O=O[15],10&x.type))););if(null===x)return!1;s=x,r=O}const y=si.lFrame=ri();return y.currentTNode=s,y.lView=r,!0}function zi(r){const s=ri(),u=r[1];si.lFrame=s,s.currentTNode=u.firstChild,s.lView=r,s.tView=u,s.contextLView=r,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function ri(){const r=si.lFrame,s=null===r?null:r.child;return null===s?fo(r):s}function fo(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Ks(){const r=si.lFrame;return si.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const fe=Ks;function Le(){const r=Ks();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function St(){return si.lFrame.selectedIndex}function en(r){si.lFrame.selectedIndex=r}function an(){const r=si.lFrame;return Is(r.tView,r.selectedIndex)}function Pi(r,s){for(let u=s.directiveStart,y=s.directiveEnd;u<y;u++){const O=r.data[u].type.prototype,{ngAfterContentInit:z,ngAfterContentChecked:ae,ngAfterViewInit:_e,ngAfterViewChecked:ke,ngOnDestroy:ct}=O;z&&(r.contentHooks||(r.contentHooks=[])).push(-u,z),ae&&((r.contentHooks||(r.contentHooks=[])).push(u,ae),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(u,ae)),_e&&(r.viewHooks||(r.viewHooks=[])).push(-u,_e),ke&&((r.viewHooks||(r.viewHooks=[])).push(u,ke),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(u,ke)),null!=ct&&(r.destroyHooks||(r.destroyHooks=[])).push(u,ct)}}function fr(r,s,u){Br(r,s,3,u)}function es(r,s,u,y){(3&r[2])===u&&Br(r,s,u,y)}function Gi(r,s){let u=r[2];(3&u)===s&&(u&=2047,u+=1,r[2]=u)}function Br(r,s,u,y){const O=y??-1,z=s.length-1;let ae=0;for(let _e=void 0!==y?65535&r[18]:0;_e<z;_e++)if("number"==typeof s[_e+1]){if(ae=s[_e],null!=y&&ae>=y)break}else s[_e]<0&&(r[18]+=65536),(ae<O||-1==O)&&(kr(r,u,s,_e),r[18]=(4294901760&r[18])+_e+2),_e++}function kr(r,s,u,y){const x=u[y]<0,O=u[y+1],ae=r[x?-u[y]:u[y]];if(x){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{O.call(ae)}finally{}}}else try{O.call(ae)}finally{}}class Ts{constructor(s,u,y){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=y}}function mo(r,s,u){let y=0;for(;y<u.length;){const x=u[y];if("number"==typeof x){if(0!==x)break;y++;const O=u[y++],z=u[y++],ae=u[y++];r.setAttribute(s,z,ae,O)}else{const O=x,z=u[++y];As(O)?r.setProperty(s,O,z):r.setAttribute(s,O,z),y++}}return y}function ls(r){return 3===r||4===r||6===r}function As(r){return 64===r.charCodeAt(0)}function go(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let u=-1;for(let y=0;y<s.length;y++){const x=s[y];"number"==typeof x?u=x:0===u||Wo(r,u,x,null,-1===u||2===u?s[++y]:null)}}return r}function Wo(r,s,u,y,x){let O=0,z=r.length;if(-1===s)z=-1;else for(;O<r.length;){const ae=r[O++];if("number"==typeof ae){if(ae===s){z=-1;break}if(ae>s){z=O-1;break}}}for(;O<r.length;){const ae=r[O];if("number"==typeof ae)break;if(ae===u){if(null===y)return void(null!==x&&(r[O+1]=x));if(y===r[O+1])return void(r[O+2]=x)}O++,null!==y&&O++,null!==x&&O++}-1!==z&&(r.splice(z,0,s),O=z+1),r.splice(O++,0,u),null!==y&&r.splice(O++,0,y),null!==x&&r.splice(O++,0,x)}function Ss(r){return-1!==r}function Mr(r){return 32767&r}function Qs(r,s){let u=function qo(r){return r>>16}(r),y=s;for(;u>0;)y=y[15],u--;return y}let qs=!0;function zs(r){const s=qs;return qs=r,s}let _o=0;const gi={};function Ys(r,s){const u=$(r,s);if(-1!==u)return u;const y=s[1];y.firstCreatePass&&(r.injectorIndex=s.length,De(y.data,r),De(s,null),De(y.blueprint,null));const x=xe(r,s),O=r.injectorIndex;if(Ss(x)){const z=Mr(x),ae=Qs(x,s),_e=ae[1].data;for(let ke=0;ke<8;ke++)s[O+ke]=ae[z+ke]|_e[z+ke]}return s[O+8]=x,O}function De(r,s){r.push(0,0,0,0,0,0,0,0,s)}function $(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function xe(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let u=0,y=null,x=s;for(;null!==x;){if(y=xs(x),null===y)return-1;if(u++,x=x[15],-1!==y.injectorIndex)return y.injectorIndex|u<<16}return-1}function Ve(r,s,u){!function ro(r,s,u){let y;"string"==typeof u?y=u.charCodeAt(0)||0:u.hasOwnProperty(sn)&&(y=u[sn]),null==y&&(y=u[sn]=_o++);const x=255&y;s.data[r+(x>>5)]|=1<<x}(r,s,u)}function Ut(r,s,u){if(u&i.Optional||void 0!==r)return r;q()}function Pt(r,s,u,y){if(u&i.Optional&&void 0===y&&(y=null),0==(u&(i.Self|i.Host))){const x=r[9],O=Ye(void 0);try{return x?x.get(s,y,u&i.Optional):Xe(s,y,u&i.Optional)}finally{Ye(O)}}return Ut(y,0,u)}function Kt(r,s,u,y=i.Default,x){if(null!==r){if(1024&s[2]){const z=function ko(r,s,u,y,x){let O=r,z=s;for(;null!==O&&null!==z&&1024&z[2]&&!(256&z[2]);){const ae=ge(O,z,u,y|i.Self,gi);if(ae!==gi)return ae;let _e=O.parent;if(!_e){const ke=z[21];if(ke){const ct=ke.get(u,gi,y);if(ct!==gi)return ct}_e=xs(z),z=z[15]}O=_e}return x}(r,s,u,y,gi);if(z!==gi)return z}const O=ge(r,s,u,y,gi);if(O!==gi)return O}return Pt(s,u,y,x)}function ge(r,s,u,y,x){const O=function Zt(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(sn)?r[sn]:void 0;return"number"==typeof s?s>=0?255&s:ts:s}(u);if("function"==typeof O){if(!dr(s,r,y))return y&i.Host?Ut(x,0,y):Pt(s,u,y,x);try{const z=O(y);if(null!=z||y&i.Optional)return z;q()}finally{fe()}}else if("number"==typeof O){let z=null,ae=$(r,s),_e=-1,ke=y&i.Host?s[16][6]:null;for((-1===ae||y&i.SkipSelf)&&(_e=-1===ae?xe(r,s):s[ae+8],-1!==_e&&Vn(y,!1)?(z=s[1],ae=Mr(_e),s=Qs(_e,s)):ae=-1);-1!==ae;){const ct=s[1];if(ln(O,ae,ct.data)){const At=st(ae,s,u,z,y,ke);if(At!==gi)return At}_e=s[ae+8],-1!==_e&&Vn(y,s[1].data[ae+8]===ke)&&ln(O,ae,s)?(z=ct,ae=Mr(_e),s=Qs(_e,s)):ae=-1}}return x}function st(r,s,u,y,x,O){const z=s[1],ae=z.data[r+8],ct=ue(ae,z,u,null==y?xi(ae)&&qs:y!=z&&0!=(3&ae.type),x&i.Host&&O===ae);return null!==ct?Ue(s,z,ct,ae):gi}function ue(r,s,u,y,x){const O=r.providerIndexes,z=s.data,ae=1048575&O,_e=r.directiveStart,ct=O>>20,Vt=x?ae+ct:r.directiveEnd;for(let tn=y?ae:ae+ct;tn<Vt;tn++){const wn=z[tn];if(tn<_e&&u===wn||tn>=_e&&wn.type===u)return tn}if(x){const tn=z[_e];if(tn&&qn(tn)&&tn.type===u)return _e}return null}function Ue(r,s,u,y){let x=r[u];const O=s.data;if(function $s(r){return r instanceof Ts}(x)){const z=x;z.resolving&&function B(r,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new L(-200,`Circular dependency in DI detected for ${r}${u}`)}(function N(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():j(r)}(O[u]));const ae=zs(z.canSeeViewProviders);z.resolving=!0;const _e=z.injectImpl?Ye(z.injectImpl):null;dr(r,y,i.Default);try{x=r[u]=z.factory(void 0,O,r,y),s.firstCreatePass&&u>=y.directiveStart&&function mi(r,s,u){const{ngOnChanges:y,ngOnInit:x,ngDoCheck:O}=s.type.prototype;if(y){const z=Zr(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(r,z),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(r,z)}x&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-r,x),O&&((u.preOrderHooks||(u.preOrderHooks=[])).push(r,O),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(r,O))}(u,O[u],s)}finally{null!==_e&&Ye(_e),zs(ae),z.resolving=!1,fe()}}return x}function ln(r,s,u){return!!(u[s+(r>>5)]&1<<r)}function Vn(r,s){return!(r&i.Self||r&i.Host&&s)}class Di{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,y){return Kt(this._tNode,this._lView,s,y,u)}}function ts(){return new Di(Xi(),yn())}function Jr(r){return Tt(()=>{const s=r.prototype.constructor,u=s[_n]||vo(s),y=Object.prototype;let x=Object.getPrototypeOf(r.prototype).constructor;for(;x&&x!==y;){const O=x[_n]||vo(x);if(O&&O!==u)return O;x=Object.getPrototypeOf(x)}return O=>new O})}function vo(r){return a(r)?()=>{const s=vo(P(r));return s&&s()}:pr(r)}function xs(r){const s=r[1],u=s.type;return 2===u?s.declTNode:1===u?r[6]:null}function yo(r){return function Ct(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const u=r.attrs;if(u){const y=u.length;let x=0;for(;x<y;){const O=u[x];if(ls(O))break;if(0===O)x+=2;else if("number"==typeof O)for(x++;x<y&&"string"==typeof u[x];)x++;else{if(O===s)return u[x+1];x+=2}}}return null}(Xi(),r)}const uo="__parameters__";function Po(r,s,u){return Tt(()=>{const y=function ra(r){return function(...u){if(r){const y=r(...u);for(const x in y)this[x]=y[x]}}}(s);function x(...O){if(this instanceof x)return y.apply(this,O),this;const z=new x(...O);return ae.annotation=z,ae;function ae(_e,ke,ct){const At=_e.hasOwnProperty(uo)?_e[uo]:Object.defineProperty(_e,uo,{value:[]})[uo];for(;At.length<=ct;)At.push(null);return(At[ct]=At[ct]||[]).push(z),_e}}return u&&(x.prototype=Object.create(u.prototype)),x.prototype.ngMetadataName=r,x.annotationCls=x,x})}class Ki{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=lt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hs(r,s){void 0===s&&(s=r);for(let u=0;u<r.length;u++){let y=r[u];Array.isArray(y)?(s===r&&(s=r.slice(0,u)),Hs(y,s)):s!==r&&s.push(y)}return s}function Eo(r,s){r.forEach(u=>Array.isArray(u)?Eo(u,s):s(u))}function Pa(r,s,u){s>=r.length?r.push(u):r.splice(s,0,u)}function _a(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function He(r,s){const u=[];for(let y=0;y<r;y++)u.push(s);return u}function se(r,s,u){let y=Ne(r,s);return y>=0?r[1|y]=u:(y=~y,function v(r,s,u,y){let x=r.length;if(x==s)r.push(u,y);else if(1===x)r.push(y,r[0]),r[0]=u;else{for(x--,r.push(r[x-1],r[x]);x>s;)r[x]=r[x-2],x--;r[s]=u,r[s+1]=y}}(r,y,s,u)),y}function he(r,s){const u=Ne(r,s);if(u>=0)return r[1|u]}function Ne(r,s){return function Ae(r,s,u){let y=0,x=r.length>>u;for(;x!==y;){const O=y+(x-y>>1),z=r[O<<u];if(s===z)return O<<u;z>s?x=O:y=O+1}return~(x<<u)}(r,s,1)}const mr={},Bs="__NG_DI_FLAG__",La="ngTempTokenPath",va=/\n/gm,au="__source";let Do;function Fr(r){const s=Do;return Do=r,s}function oa(r,s=i.Default){if(void 0===Do)throw new L(-203,!1);return null===Do?Xe(r,void 0,s):Do.get(r,s&i.Optional?null:void 0,s)}function Qr(r,s=i.Default){return(function $e(){return we}()||oa)(P(r),s)}function lu(r,s=i.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Qr(r,s)}function ul(r){const s=[];for(let u=0;u<r.length;u++){const y=P(r[u]);if(Array.isArray(y)){if(0===y.length)throw new L(900,!1);let x,O=i.Default;for(let z=0;z<y.length;z++){const ae=y[z],_e=cu(ae);"number"==typeof _e?-1===_e?x=ae.token:O|=_e:x=ae}s.push(Qr(x,O))}else s.push(Qr(y))}return s}function aa(r,s){return r[Bs]=s,r.prototype[Bs]=s,r}function cu(r){return r[Bs]}const Yo=aa(Po("Optional"),8),yc=aa(Po("SkipSelf"),4);let Sd,du,hu;function y_(r){Sd=r}function Up(){return void 0!==Sd?Sd:typeof document<"u"?document:void 0}function Fl(r){var s;return(null===(s=function xd(){if(void 0===du&&(du=null,U.trustedTypes))try{du=U.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return du}())||void 0===s?void 0:s.createHTML(r))||r}function Fp(r){var s;return(null===(s=function Ed(){if(void 0===hu&&(hu=null,U.trustedTypes))try{hu=U.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return hu}())||void 0===s?void 0:s.createHTML(r))||r}class hl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class w_ extends hl{getTypeName(){return"HTML"}}class T_ extends hl{getTypeName(){return"Style"}}class A_ extends hl{getTypeName(){return"Script"}}class S_ extends hl{getTypeName(){return"URL"}}class x_ extends hl{getTypeName(){return"ResourceURL"}}function Ua(r){return r instanceof hl?r.changingThisBreaksApplicationSecurity:r}function Zl(r,s){const u=function E_(r){return r instanceof hl&&r.getTypeName()||null}(r);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function D_(r){return new w_(r)}function I_(r){return new T_(r)}function pu(r){return new A_(r)}function pl(r){return new S_(r)}function Vl(r){return new x_(r)}function fl(r){const s=new mu(r);return function O_(){try{return!!(new window.DOMParser).parseFromString(Fl(""),"text/html")}catch{return!1}}()?new fu(s):s}class fu{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Fl(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch{return null}}}class mu{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const y=this.inertDocument.createElement("body");u.appendChild(y)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Fl(s),u;const y=this.inertDocument.createElement("body");return y.innerHTML=Fl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(y),y}stripCustomNsAttrs(s){const u=s.attributes;for(let x=u.length-1;0<x;x--){const z=u.item(x).name;("xmlns:ns1"===z||0===z.indexOf("ns1:"))&&s.removeAttribute(z)}let y=s.firstChild;for(;y;)y.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(y),y=y.nextSibling}}const gu=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _u(r){return(r=String(r)).match(gu)?r:"unsafe:"+r}function Fa(r){const s={};for(const u of r.split(","))s[u]=!0;return s}function wc(...r){const s={};for(const u of r)for(const y in u)u.hasOwnProperty(y)&&(s[y]=!0);return s}const Hp=Fa("area,br,col,hr,img,wbr"),Jp=Fa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wp=Fa("rp,rt"),Dd=wc(Hp,wc(Jp,Fa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wc(Wp,Fa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wc(Wp,Jp)),Id=Fa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ba=wc(Id,Fa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ca=Fa("script,style,template");class ml{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,y=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?y=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,y&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let x=this.checkClobberedElement(u,u.nextSibling);if(x){u=x;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!Dd.hasOwnProperty(u))return this.sanitizedSomething=!0,!ca.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const y=s.attributes;for(let x=0;x<y.length;x++){const O=y.item(x),z=O.name,ae=z.toLowerCase();if(!ba.hasOwnProperty(ae)){this.sanitizedSomething=!0;continue}let _e=O.value;Id[ae]&&(_e=_u(_e)),this.buf.push(" ",z,'="',Kp(_e),'"')}return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();Dd.hasOwnProperty(u)&&!Hp.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(Kp(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const M_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N_=/([^\#-~ |!])/g;function Kp(r){return r.replace(/&/g,"&amp;").replace(M_,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(N_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vu;function $p(r,s){let u=null;try{vu=vu||fl(r);let y=s?String(s):"";u=vu.getInertBodyElement(y);let x=5,O=y;do{if(0===x)throw new Error("Failed to sanitize html because the input is unstable");x--,y=O,O=u.innerHTML,u=vu.getInertBodyElement(y)}while(y!==O);return Fl((new ml).sanitizeChildren(Md(u)||u))}finally{if(u){const y=Md(u)||u;for(;y.firstChild;)y.removeChild(y.firstChild)}}}function Md(r){return"content"in r&&function R_(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Js=(()=>((Js=Js||{})[Js.NONE=0]="NONE",Js[Js.HTML=1]="HTML",Js[Js.STYLE=2]="STYLE",Js[Js.SCRIPT=3]="SCRIPT",Js[Js.URL=4]="URL",Js[Js.RESOURCE_URL=5]="RESOURCE_URL",Js))();function zp(r){const s=Tc();return s?Fp(s.sanitize(Js.HTML,r)||""):Zl(r,"HTML")?Fp(Ua(r)):$p(Up(),j(r))}function Nd(r){const s=Tc();return s?s.sanitize(Js.URL,r)||"":Zl(r,"URL")?Ua(r):_u(j(r))}function Tc(){const r=yn();return r&&r[12]}const Rd=new Ki("ENVIRONMENT_INITIALIZER"),yu=new Ki("INJECTOR",-1),Qp=new Ki("INJECTOR_DEF_TYPES");class qp{get(s,u=mr){if(u===mr){const y=new Error(`NullInjectorError: No provider for ${f(s)}!`);throw y.name="NullInjectorError",y}return u}}function Cu(...r){return{\u0275providers:bu(0,r)}}function bu(r,...s){const u=[],y=new Set;let x;return Eo(s,O=>{const z=O;Ac(z,u,[],y)&&(x||(x=[]),x.push(z))}),void 0!==x&&wu(x,u),u}function wu(r,s){for(let u=0;u<r.length;u++){const{providers:x}=r[u];Eo(x,O=>{s.push(O)})}}function Ac(r,s,u,y){if(!(r=P(r)))return!1;let x=null,O=Q(r);const z=!O&&$t(r);if(O||z){if(z&&!z.standalone)return!1;x=r}else{const _e=r.ngModule;if(O=Q(_e),!O)return!1;x=_e}const ae=y.has(x);if(z){if(ae)return!1;if(y.add(x),z.dependencies){const _e="function"==typeof z.dependencies?z.dependencies():z.dependencies;for(const ke of _e)Ac(ke,s,u,y)}}else{if(!O)return!1;{if(null!=O.imports&&!ae){let ke;y.add(x);try{Eo(O.imports,ct=>{Ac(ct,s,u,y)&&(ke||(ke=[]),ke.push(ct))})}finally{}void 0!==ke&&wu(ke,s)}if(!ae){const ke=pr(x)||(()=>new x);s.push({provide:x,useFactory:ke,deps:ut},{provide:Qp,useValue:x,multi:!0},{provide:Rd,useValue:()=>Qr(x),multi:!0})}const _e=O.providers;null==_e||ae||Eo(_e,ct=>{s.push(ct)})}}return x!==r&&void 0!==r.providers}const kd=b({provide:String,useValue:b});function Bo(r){return null!==r&&"object"==typeof r&&kd in r}function _l(r){return"function"==typeof r}const Pd=new Ki("Set Injector scope."),Tu={},V_={};let Ld;function Au(){return void 0===Ld&&(Ld=new qp),Ld}class vl{}class tf extends vl{constructor(s,u,y,x){super(),this.parent=u,this.source=y,this.scopes=x,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fd(s,z=>this.processProvider(z)),this.records.set(yu,Hl(void 0,this)),x.has("environment")&&this.records.set(vl,Hl(void 0,this));const O=this.records.get(Pd);null!=O&&"string"==typeof O.value&&this.scopes.add(O.value),this.injectorDefTypes=new Set(this.get(Qp.multi,ut,i.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const u=Fr(this),y=Ye(void 0);try{return s()}finally{Fr(u),Ye(y)}}get(s,u=mr,y=i.Default){this.assertNotDestroyed();const x=Fr(this),O=Ye(void 0);try{if(!(y&i.SkipSelf)){let ae=this.records.get(s);if(void 0===ae){const _e=function K_(r){return"function"==typeof r||"object"==typeof r&&r instanceof Ki}(s)&&Yt(s);ae=_e&&this.injectableDefInScope(_e)?Hl(Bd(s),Tu):null,this.records.set(s,ae)}if(null!=ae)return this.hydrate(s,ae)}return(y&i.Self?Au():this.parent).get(s,u=y&i.Optional&&u===mr?null:u)}catch(z){if("NullInjectorError"===z.name){if((z[La]=z[La]||[]).unshift(f(s)),x)throw z;return function Ba(r,s,u,y){const x=r[La];throw s[au]&&x.unshift(s[au]),r.message=function vc(r,s,u,y=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let x=f(s);if(Array.isArray(s))x=s.map(f).join(" -> ");else if("object"==typeof s){let O=[];for(let z in s)if(s.hasOwnProperty(z)){let ae=s[z];O.push(z+":"+("string"==typeof ae?JSON.stringify(ae):f(ae)))}x=`{${O.join(", ")}}`}return`${u}${y?"("+y+")":""}[${x}]: ${r.replace(va,"\n  ")}`}("\n"+r.message,x,u,y),r.ngTokenPath=x,r[La]=null,r}(z,s,"R3InjectorError",this.source)}throw z}finally{Ye(O),Fr(x)}}resolveInjectorInitializers(){const s=Fr(this),u=Ye(void 0);try{const y=this.get(Rd.multi,ut,i.Self);for(const x of y)x()}finally{Fr(s),Ye(u)}}toString(){const s=[],u=this.records;for(const y of u.keys())s.push(f(y));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(s){let u=_l(s=P(s))?s:P(s&&s.provide);const y=function J_(r){return Bo(r)?Hl(void 0,r.useValue):Hl(nf(r),Tu)}(s);if(_l(s)||!0!==s.multi)this.records.get(u);else{let x=this.records.get(u);x||(x=Hl(void 0,Tu,!0),x.factory=()=>ul(x.multi),this.records.set(u,x)),u=s,x.multi.push(s)}this.records.set(u,y)}hydrate(s,u){return u.value===Tu&&(u.value=V_,u.value=u.factory()),"object"==typeof u.value&&u.value&&function j_(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=P(s.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Bd(r){const s=Yt(r),u=null!==s?s.factory:pr(r);if(null!==u)return u;if(r instanceof Ki)throw new L(204,!1);if(r instanceof Function)return function H_(r){const s=r.length;if(s>0)throw He(s,"?"),new L(204,!1);const u=function Mt(r){const s=r&&(r[ce]||r[Je]);if(s){const u=function Y(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(r);return null!==u?()=>u.factory(r):()=>new r}(r);throw new L(204,!1)}function nf(r,s,u){let y;if(_l(r)){const x=P(r);return pr(x)||Bd(x)}if(Bo(r))y=()=>P(r.useValue);else if(function ef(r){return!(!r||!r.useFactory)}(r))y=()=>r.useFactory(...ul(r.deps||[]));else if(function Xp(r){return!(!r||!r.useExisting)}(r))y=()=>Qr(P(r.useExisting));else{const x=P(r&&(r.useClass||r.provide));if(!function W_(r){return!!r.deps}(r))return pr(x)||Bd(x);y=()=>new x(...ul(r.deps))}return y}function Hl(r,s,u=!1){return{factory:r,value:s,multi:u?[]:void 0}}function Ud(r){return!!r.\u0275providers}function Fd(r,s){for(const u of r)Array.isArray(u)?Fd(u,s):Ud(u)?Fd(u.\u0275providers,s):s(u)}class rf{}class G_{resolveComponentFactory(s){throw function Sc(r){const s=Error(`No component factory found for ${f(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let xc=(()=>{class r{}return r.NULL=new G_,r})();function Q_(){return wa(Xi(),yn())}function wa(r,s){return new yl(Xr(r,s))}let yl=(()=>{class r{constructor(u){this.nativeElement=u}}return r.__NG_ELEMENT_ID__=Q_,r})();function q_(r){return r instanceof yl?r.nativeElement:r}class Zd{}let Y_=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function X_(){const r=yn(),u=Wi(Xi().index,r);return(hn(u)?u:r)[11]}(),r})(),ev=(()=>{class r{}return r.\u0275prov=lt({token:r,providedIn:"root",factory:()=>null}),r})();class af{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const tv=new af("14.2.2"),Vd={};function Kd(r){return r.ngOriginalError}class Ec{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s);this._console.error("ERROR",s),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&Kd(s);for(;u&&Kd(u);)u=Kd(u);return u||null}}const ov=/^>|^->|<!--|-->|--!>|<!-$/g,av=/(<|>)/;const $d=new Map;let dv=0;const Gd="__ngContext__";function bo(r,s){hn(s)?(r[Gd]=s[20],function hv(r){$d.set(r[20],r)}(s)):r[Gd]=s}function xu(r){return r.ownerDocument.defaultView}function Eu(r){return r.ownerDocument}function Va(r){return r instanceof Function?r():r}var Ta=(()=>((Ta=Ta||{})[Ta.Important=1]="Important",Ta[Ta.DashCase=2]="DashCase",Ta))();let Qd;function qd(r,s){return Qd(r,s)}function Ic(r){const s=r[3];return In(s)?s[3]:s}function Yd(r){return Du(r[13])}function Xd(r){return Du(r[4])}function Du(r){for(;null!==r&&!In(r);)r=r[4];return r}function Wl(r,s,u,y,x){if(null!=y){let O,z=!1;In(y)?O=y:hn(y)&&(z=!0,y=y[0]);const ae=Vi(y);0===r&&null!==u?null==x?Df(s,u,ae):Cl(s,u,ae,x||null,!0):1===r&&null!==u?Cl(s,u,ae,x||null,!0):2===r?Pf(s,ae,z):3===r&&s.destroyNode(ae),null!=O&&function Bv(r,s,u,y,x){const O=u[7];O!==Vi(u)&&Wl(s,r,y,O,x);for(let ae=10;ae<u.length;ae++){const _e=u[ae];Oc(_e[1],_e,r,s,y,O)}}(s,r,O,u,x)}}function eh(r,s){return r.createText(s)}function Tf(r,s,u){r.setValue(s,u)}function xv(r,s){return r.createComment(function hf(r){return r.replace(ov,s=>s.replace(av,"\u200b$1\u200b"))}(s))}function th(r,s,u){return r.createElement(s,u)}function Sf(r,s){const u=r[9],y=u.indexOf(s),x=s[3];512&s[2]&&(s[2]&=-513,Er(x,-1)),u.splice(y,1)}function nh(r,s){if(r.length<=10)return;const u=10+s,y=r[u];if(y){const x=y[17];null!==x&&x!==r&&Sf(x,y),s>0&&(r[u-1][4]=y[4]);const O=_a(r,10+s);!function Ev(r,s){Oc(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(y[1],y);const z=O[19];null!==z&&z.detachView(O[1]),y[3]=null,y[4]=null,y[2]&=-65}return y}function jl(r,s){if(!(128&s[2])){const u=s[11];u.destroyNode&&Oc(r,s,u,3,null,null),function Iv(r){let s=r[13];if(!s)return ih(r[1],r);for(;s;){let u=null;if(hn(s))u=s[13];else{const y=s[10];y&&(u=y)}if(!u){for(;s&&!s[4]&&s!==r;)hn(s)&&ih(s[1],s),s=s[3];null===s&&(s=r),hn(s)&&ih(s[1],s),u=s&&s[4]}s=u}}(s)}}function ih(r,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Rv(r,s){let u;if(null!=r&&null!=(u=r.destroyHooks))for(let y=0;y<u.length;y+=2){const x=s[u[y]];if(!(x instanceof Ts)){const O=u[y+1];if(Array.isArray(O))for(let z=0;z<O.length;z+=2){const ae=x[O[z]],_e=O[z+1];try{_e.call(ae)}finally{}}else try{O.call(x)}finally{}}}}(r,s),function Nv(r,s){const u=r.cleanup,y=s[7];let x=-1;if(null!==u)for(let O=0;O<u.length-1;O+=2)if("string"==typeof u[O]){const z=u[O+1],ae="function"==typeof z?z(s):Vi(s[z]),_e=y[x=u[O+2]],ke=u[O+3];"boolean"==typeof ke?ae.removeEventListener(u[O],_e,ke):ke>=0?y[x=ke]():y[x=-ke].unsubscribe(),O+=2}else{const z=y[x=u[O+1]];u[O].call(z)}if(null!==y){for(let O=x+1;O<y.length;O++)(0,y[O])();s[7]=null}}(r,s),1===s[1].type&&s[11].destroy();const u=s[17];if(null!==u&&In(s[3])){u!==s[3]&&Sf(u,s);const y=s[19];null!==y&&y.detachView(r)}!function pv(r){$d.delete(r[20])}(s)}}function xf(r,s,u){return Ef(r,s.parent,u)}function Ef(r,s,u){let y=s;for(;null!==y&&40&y.type;)y=(s=y).parent;if(null===y)return u[0];if(2&y.flags){const x=r.data[y.directiveStart].encapsulation;if(x===ee.None||x===ee.Emulated)return null}return Xr(y,u)}function Cl(r,s,u,y,x){r.insertBefore(s,u,y,x)}function Df(r,s,u){r.appendChild(s,u)}function If(r,s,u,y,x){null!==y?Cl(r,s,u,y,x):Df(r,s,u)}function Iu(r,s){return r.parentNode(s)}function Of(r,s,u){return Nf(r,s,u)}function Mf(r,s,u){return 40&r.type?Xr(r,u):null}let rh,Nf=Mf;function Rf(r,s){Nf=r,rh=s}function Ou(r,s,u,y){const x=xf(r,y,s),O=s[11],ae=Of(y.parent||s[6],y,s);if(null!=x)if(Array.isArray(u))for(let _e=0;_e<u.length;_e++)If(O,x,u[_e],ae,!1);else If(O,x,u,ae,!1);void 0!==rh&&rh(O,y,s,u,x)}function Mu(r,s){if(null!==s){const u=s.type;if(3&u)return Xr(s,r);if(4&u)return sh(-1,r[s.index]);if(8&u){const y=s.child;if(null!==y)return Mu(r,y);{const x=r[s.index];return In(x)?sh(-1,x):Vi(x)}}if(32&u)return qd(s,r)()||Vi(r[s.index]);{const y=kf(r,s);return null!==y?Array.isArray(y)?y[0]:Mu(Ic(r[16]),y):Mu(r,s.next)}}return null}function kf(r,s){return null!==s?r[16][6].projection[s.projection]:null}function sh(r,s){const u=10+r+1;if(u<s.length){const y=s[u],x=y[1].firstChild;if(null!==x)return Mu(y,x)}return s[7]}function Pf(r,s,u){const y=Iu(r,s);y&&function kv(r,s,u,y){r.removeChild(s,u,y)}(r,y,s,u)}function oh(r,s,u,y,x,O,z){for(;null!=u;){const ae=y[u.index],_e=u.type;if(z&&0===s&&(ae&&bo(Vi(ae),y),u.flags|=4),64!=(64&u.flags))if(8&_e)oh(r,s,u.child,y,x,O,!1),Wl(s,r,x,ae,O);else if(32&_e){const ke=qd(u,y);let ct;for(;ct=ke();)Wl(s,r,x,ct,O);Wl(s,r,x,ae,O)}else 16&_e?Lf(r,s,y,u,x,O):Wl(s,r,x,ae,O);u=z?u.projectionNext:u.next}}function Oc(r,s,u,y,x,O){oh(u,y,r.firstChild,s,x,O,!1)}function Lf(r,s,u,y,x,O){const z=u[16],_e=z[6].projection[y.projection];if(Array.isArray(_e))for(let ke=0;ke<_e.length;ke++)Wl(s,r,x,_e[ke],O);else oh(r,s,_e,z[3],x,O,!0)}function Bf(r,s,u){r.setAttribute(s,"style",u)}function ah(r,s,u){""===u?r.removeAttribute(s,"class"):r.setAttribute(s,"class",u)}function Uf(r,s,u){let y=r.length;for(;;){const x=r.indexOf(s,u);if(-1===x)return x;if(0===x||r.charCodeAt(x-1)<=32){const O=s.length;if(x+O===y||r.charCodeAt(x+O)<=32)return x}u=x+1}}const lh="ng-template";function Zv(r,s,u){let y=0;for(;y<r.length;){let x=r[y++];if(u&&"class"===x){if(x=r[y],-1!==Uf(x.toLowerCase(),s,0))return!0}else if(1===x){for(;y<r.length&&"string"==typeof(x=r[y++]);)if(x.toLowerCase()===s)return!0;return!1}}return!1}function Ff(r){return 4===r.type&&r.value!==lh}function Zf(r,s,u){return s===(4!==r.type||u?r.value:lh)}function Vv(r,s,u){let y=4;const x=r.attrs||[],O=function Jv(r){for(let s=0;s<r.length;s++)if(ls(r[s]))return s;return r.length}(x);let z=!1;for(let ae=0;ae<s.length;ae++){const _e=s[ae];if("number"!=typeof _e){if(!z)if(4&y){if(y=2|1&y,""!==_e&&!Zf(r,_e,u)||""===_e&&1===s.length){if(Xo(y))return!1;z=!0}}else{const ke=8&y?_e:s[++ae];if(8&y&&null!==r.attrs){if(!Zv(r.attrs,ke,u)){if(Xo(y))return!1;z=!0}continue}const At=Vf(8&y?"class":_e,x,Ff(r),u);if(-1===At){if(Xo(y))return!1;z=!0;continue}if(""!==ke){let Vt;Vt=At>O?"":x[At+1].toLowerCase();const tn=8&y?Vt:null;if(tn&&-1!==Uf(tn,ke,0)||2&y&&ke!==Vt){if(Xo(y))return!1;z=!0}}}}else{if(!z&&!Xo(y)&&!Xo(_e))return!1;if(z&&Xo(_e))continue;z=!1,y=_e|1&y}}return Xo(y)||z}function Xo(r){return 0==(1&r)}function Vf(r,s,u,y){if(null===s)return-1;let x=0;if(y||!u){let O=!1;for(;x<s.length;){const z=s[x];if(z===r)return x;if(3===z||6===z)O=!0;else{if(1===z||2===z){let ae=s[++x];for(;"string"==typeof ae;)ae=s[++x];continue}if(4===z)break;if(0===z){x+=4;continue}}x+=O?1:2}return-1}return function Wv(r,s){let u=r.indexOf(4);if(u>-1)for(u++;u<r.length;){const y=r[u];if("number"==typeof y)return-1;if(y===s)return u;u++}return-1}(s,r)}function Hf(r,s,u=!1){for(let y=0;y<s.length;y++)if(Vv(r,s[y],u))return!0;return!1}function jv(r,s){e:for(let u=0;u<s.length;u++){const y=s[u];if(r.length===y.length){for(let x=0;x<r.length;x++)if(r[x]!==y[x])continue e;return!0}}return!1}function Jf(r,s){return r?":not("+s.trim()+")":s}function Kv(r){let s=r[0],u=1,y=2,x="",O=!1;for(;u<r.length;){let z=r[u];if("string"==typeof z)if(2&y){const ae=r[++u];x+="["+z+(ae.length>0?'="'+ae+'"':"")+"]"}else 8&y?x+="."+z:4&y&&(x+=" "+z);else""!==x&&!Xo(z)&&(s+=Jf(O,x),x=""),y=z,O=O||!Xo(y);u++}return""!==x&&(s+=Jf(O,x)),s}const Qi={};function Wf(r){Nu(oi(),yn(),St()+r,!1)}function Nu(r,s,u,y){if(!y)if(3==(3&s[2])){const O=r.preOrderCheckHooks;null!==O&&fr(s,O,u)}else{const O=r.preOrderHooks;null!==O&&es(s,O,0,u)}en(u)}function zf(r,s=null,u=null,y){const x=Gf(r,s,u,y);return x.resolveInjectorInitializers(),x}function Gf(r,s=null,u=null,y,x=new Set){const O=[u||ut,Cu(r)];return y=y||("object"==typeof r?void 0:f(r)),new tf(O,s||Au(),y||null,x)}let bl=(()=>{class r{static create(u,y){if(Array.isArray(u))return zf({name:""},y,u,"");{var x;const O=null!==(x=u.name)&&void 0!==x?x:"";return zf({name:O},u.parent,u.providers,O)}}}return r.THROW_IF_NOT_FOUND=mr,r.NULL=new qp,r.\u0275prov=lt({token:r,providedIn:"any",factory:()=>Qr(yu)}),r.__NG_ELEMENT_ID__=-1,r})();function Ha(r,s=i.Default){const u=yn();return null===u?Qr(r,s):Kt(Xi(),u,P(r),s)}function tm(){throw new Error("invalid")}function Tl(r,s){return r<<17|s<<2}function $o(r){return r>>17&32767}function Kl(r){return 2|r}function Aa(r){return(131068&r)>>2}function Nc(r,s){return-131069&r|s<<2}function Lu(r){return 1|r}function um(r,s){const u=r.contentQueries;if(null!==u)for(let y=0;y<u.length;y+=2){const x=u[y],O=u[y+1];if(-1!==O){const z=r.data[O];ur(x),z.contentQueries(2,s[O],O)}}}function Uo(r,s,u,y,x,O,z,ae,_e,ke,ct){const At=s.blueprint.slice();return At[0]=x,At[2]=76|y,(null!==ct||r&&1024&r[2])&&(At[2]|=1024),br(At),At[3]=At[15]=r,At[8]=u,At[10]=z||r&&r[10],At[11]=ae||r&&r[11],At[12]=_e||r&&r[12]||null,At[9]=ke||r&&r[9]||null,At[6]=O,At[20]=function zd(){return dv++}(),At[21]=ct,At[16]=2==s.type?r[16]:At,At}function wo(r,s,u,y,x){let O=r.data[s];if(null===O)O=Oo(r,s,u,y,x),function Rt(){return si.lFrame.inI18n}()&&(O.flags|=64);else if(64&O.type){O.type=u,O.value=y,O.attrs=x;const z=ve();O.injectorIndex=null===z?-1:z.injectorIndex}return ie(O,!0),O}function Oo(r,s,u,y,x){const O=Ie(),z=rt(),_e=r.data[s]=function A0(r,s,u,y,x,O){return{type:u,index:y,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:x,attrs:O,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,z?O:O&&O.parent,u,s,y,x);return null===r.firstChild&&(r.firstChild=_e),null!==O&&(z?null==O.child&&null!==_e.parent&&(O.child=_e):null===O.next&&(O.next=_e)),_e}function el(r,s,u,y){if(0===u)return-1;const x=s.length;for(let O=0;O<u;O++)s.push(y),r.blueprint.push(y),r.data.push(null);return x}function Al(r,s,u){zi(s);try{const y=r.viewQuery;null!==y&&nl(1,y,u);const x=r.template;null!==x&&Gl(r,s,x,1,u),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&um(r,s),r.staticViewQueries&&nl(2,r.viewQuery,u);const O=r.components;null!==O&&function zo(r,s){for(let u=0;u<s.length;u++)bm(r,s[u])}(s,O)}catch(y){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),y}finally{s[2]&=-5,Le()}}function Ja(r,s,u,y){const x=s[2];if(128!=(128&x)){zi(s);try{br(s),function Me(r){return si.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==u&&Gl(r,s,u,2,y);const z=3==(3&x);if(z){const ke=r.preOrderCheckHooks;null!==ke&&fr(s,ke,null)}else{const ke=r.preOrderHooks;null!==ke&&es(s,ke,0,null),Gi(s,0)}if(function Cm(r){for(let s=Yd(r);null!==s;s=Xd(s)){if(!s[2])continue;const u=s[9];for(let y=0;y<u.length;y++){const x=u[y],O=x[3];0==(512&x[2])&&Er(O,1),x[2]|=512}}}(s),function D0(r){for(let s=Yd(r);null!==s;s=Xd(s))for(let u=10;u<s.length;u++){const y=s[u],x=y[1];as(y)&&Ja(x,y,x.template,y[8])}}(s),null!==r.contentQueries&&um(r,s),z){const ke=r.contentCheckHooks;null!==ke&&fr(s,ke)}else{const ke=r.contentHooks;null!==ke&&es(s,ke,1),Gi(s,1)}!function Sa(r,s){const u=r.hostBindingOpCodes;if(null!==u)try{for(let y=0;y<u.length;y++){const x=u[y];if(x<0)en(~x);else{const O=x,z=u[++y],ae=u[++y];Ht(z,O),ae(2,s[O])}}}finally{en(-1)}}(r,s);const ae=r.components;null!==ae&&function dm(r,s){for(let u=0;u<s.length;u++)I0(r,s[u])}(s,ae);const _e=r.viewQuery;if(null!==_e&&nl(2,_e,y),z){const ke=r.viewCheckHooks;null!==ke&&fr(s,ke)}else{const ke=r.viewHooks;null!==ke&&es(s,ke,2),Gi(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Er(s[3],-1))}finally{Le()}}}function Gl(r,s,u,y,x){const O=St(),z=2&y;try{en(-1),z&&s.length>22&&Nu(r,s,22,!1),u(y,x)}finally{en(O)}}function hm(r,s,u){if(Rn(s)){const x=s.directiveEnd;for(let O=s.directiveStart;O<x;O++){const z=r.data[O];z.contentQueries&&z.contentQueries(1,u[O],O)}}}function Zu(r,s,u){!wr()||(function El(r,s,u,y){const x=u.directiveStart,O=u.directiveEnd;r.firstCreatePass||Ys(u,s),bo(y,s);const z=u.initialInputs;for(let ae=x;ae<O;ae++){const _e=r.data[ae],ke=qn(_e);ke&&Wa(s,u,_e);const ct=Ue(s,r,ae,u);bo(ct,s),null!==z&&ju(0,ae-x,ct,_e,0,z),ke&&(Wi(u.index,s)[8]=ct)}}(r,s,u,Xr(u,s)),128==(128&u.flags)&&function Ju(r,s,u){const y=u.directiveStart,x=u.directiveEnd,O=u.index,z=function gn(){return si.lFrame.currentDirectiveIndex}();try{en(O);for(let ae=y;ae<x;ae++){const _e=r.data[ae],ke=s[ae];Tn(ae),(null!==_e.hostBindings||0!==_e.hostVars||null!==_e.hostAttrs)&&Dl(_e,ke)}}finally{en(-1),Tn(z)}}(r,s,u))}function Sl(r,s,u=Xr){const y=s.localNames;if(null!==y){let x=s.index+1;for(let O=0;O<y.length;O+=2){const z=y[O+1],ae=-1===z?u(s,r):r[z];r[x++]=ae}}}function pm(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Vu(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Vu(r,s,u,y,x,O,z,ae,_e,ke){const ct=22+y,At=ct+x,Vt=function fm(r,s){const u=[];for(let y=0;y<s;y++)u.push(y<r?null:Qi);return u}(ct,At),tn="function"==typeof ke?ke():ke;return Vt[1]={type:r,blueprint:Vt,template:u,queries:null,viewQuery:ae,declTNode:s,data:Vt.slice().fill(null,ct),bindingStartIndex:ct,expandoStartIndex:At,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof O?O():O,pipeRegistry:"function"==typeof z?z():z,firstChild:null,schemas:_e,consts:tn,incompleteFirstPass:!1}}function mm(r,s,u,y){const x=xh(s);null===u?x.push(y):(x.push(u),r.firstCreatePass&&Eh(r).push(y,x.length-1))}function gm(r,s,u){for(let y in r)if(r.hasOwnProperty(y)){const x=r[y];(u=null===u?{}:u).hasOwnProperty(y)?u[y].push(s,x):u[y]=[s,x]}return u}function _m(r,s){const y=s.directiveEnd,x=r.data,O=s.attrs,z=[];let ae=null,_e=null;for(let ke=s.directiveStart;ke<y;ke++){const ct=x[ke],At=ct.inputs,Vt=null===O||Ff(s)?null:Ah(At,O);z.push(Vt),ae=gm(At,ke,ae),_e=gm(ct.outputs,ke,_e)}null!==ae&&(ae.hasOwnProperty("class")&&(s.flags|=16),ae.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=z,s.inputs=ae,s.outputs=_e}function Go(r,s,u,y,x,O,z,ae){const _e=Xr(s,u);let ct,ke=s.inputs;!ae&&null!=ke&&(ct=ke[y])?(Lc(r,u,ct,y,x),xi(s)&&vm(u,s.index)):3&s.type&&(y=function S0(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(y),x=null!=z?z(x,s.value||"",y):x,O.setProperty(_e,y,x))}function vm(r,s){const u=Wi(s,r);16&u[2]||(u[2]|=32)}function Fo(r,s,u,y){let x=!1;if(wr()){const O=function bh(r,s,u){const y=r.directiveRegistry;let x=null;if(y)for(let O=0;O<y.length;O++){const z=y[O];Hf(u,z.selectors,!1)&&(x||(x=[]),Ve(Ys(u,s),r,z.type),qn(z)?(wh(r,u),x.unshift(z)):x.push(z))}return x}(r,s,u),z=null===y?null:{"":-1};if(null!==O){x=!0,Wu(u,r.data.length,O.length);for(let ct=0;ct<O.length;ct++){const At=O[ct];At.providersResolver&&At.providersResolver(At)}let ae=!1,_e=!1,ke=el(r,s,O.length,null);for(let ct=0;ct<O.length;ct++){const At=O[ct];u.mergedAttrs=go(u.mergedAttrs,At.hostAttrs),ym(r,u,s,ke,At),Th(ke,At,z),null!==At.contentQueries&&(u.flags|=8),(null!==At.hostBindings||null!==At.hostAttrs||0!==At.hostVars)&&(u.flags|=128);const Vt=At.type.prototype;!ae&&(Vt.ngOnChanges||Vt.ngOnInit||Vt.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(u.index),ae=!0),!_e&&(Vt.ngOnChanges||Vt.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(u.index),_e=!0),ke++}_m(r,u)}z&&function Ql(r,s,u){if(s){const y=r.localNames=[];for(let x=0;x<s.length;x+=2){const O=u[s[x+1]];if(null==O)throw new L(-301,!1);y.push(s[x],O)}}}(u,y,z)}return u.mergedAttrs=go(u.mergedAttrs,u.attrs),x}function Hu(r,s,u,y,x,O){const z=O.hostBindings;if(z){let ae=r.hostBindingOpCodes;null===ae&&(ae=r.hostBindingOpCodes=[]);const _e=~s.index;(function tl(r){let s=r.length;for(;s>0;){const u=r[--s];if("number"==typeof u&&u<0)return u}return 0})(ae)!=_e&&ae.push(_e),ae.push(y,x,z)}}function Dl(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function wh(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function Th(r,s,u){if(u){if(s.exportAs)for(let y=0;y<s.exportAs.length;y++)u[s.exportAs[y]]=r;qn(s)&&(u[""]=r)}}function Wu(r,s,u){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+u,r.providerIndexes=s}function ym(r,s,u,y,x){r.data[y]=x;const O=x.factory||(x.factory=pr(x.type)),z=new Ts(O,qn(x),Ha);r.blueprint[y]=z,u[y]=z,Hu(r,s,0,y,el(r,u,x.hostVars,Qi),x)}function Wa(r,s,u){const y=Xr(s,r),x=pm(u),O=r[10],z=Ku(r,Uo(r,x,null,u.onPush?32:16,y,s,O,O.createRenderer(y,u),null,null,null));r[s.index]=z}function na(r,s,u,y,x,O,z){if(null==O)r.removeAttribute(s,x,u);else{const ae=null==z?j(O):z(O,y||"",x);r.setAttribute(s,x,ae,u)}}function ju(r,s,u,y,x,O){const z=O[s];if(null!==z){const ae=y.setInput;for(let _e=0;_e<z.length;){const ke=z[_e++],ct=z[_e++],At=z[_e++];null!==ae?y.setInput(u,At,ke,ct):u[ct]=At}}}function Ah(r,s){let u=null,y=0;for(;y<s.length;){const x=s[y];if(0!==x)if(5!==x){if("number"==typeof x)break;r.hasOwnProperty(x)&&(null===u&&(u=[]),u.push(x,r[x],s[y+1])),y+=2}else y+=2;else y+=4}return u}function ql(r,s,u,y){return new Array(r,!0,!1,s,null,0,y,u,null,null)}function I0(r,s){const u=Wi(s,r);if(as(u)){const y=u[1];48&u[2]?Ja(y,u,y.template,u[8]):u[5]>0&&Il(u)}}function Il(r){for(let y=Yd(r);null!==y;y=Xd(y))for(let x=10;x<y.length;x++){const O=y[x];if(as(O))if(512&O[2]){const z=O[1];Ja(z,O,z.template,O[8])}else O[5]>0&&Il(O)}const u=r[1].components;if(null!==u)for(let y=0;y<u.length;y++){const x=Wi(u[y],r);as(x)&&x[5]>0&&Il(x)}}function bm(r,s){const u=Wi(s,r),y=u[1];(function Sh(r,s){for(let u=s.length;u<r.blueprint.length;u++)s.push(r.blueprint[u])})(y,u),Al(y,u,u[8])}function Ku(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function $u(r){for(;r;){r[2]|=32;const s=Ic(r);if(or(r)&&!s)return r;r=s}return null}function zu(r,s,u,y=!0){const x=s[10];x.begin&&x.begin();try{Ja(r,s,r.template,u)}catch(z){throw y&&Ih(s,z),z}finally{x.end&&x.end()}}function nl(r,s,u){ur(0),s(r,u)}function xh(r){return r[7]||(r[7]=[])}function Eh(r){return r.cleanup||(r.cleanup=[])}function Ih(r,s){const u=r[9],y=u?u.get(Ec,null):null;y&&y.handleError(s)}function Lc(r,s,u,y,x){for(let O=0;O<u.length;){const z=u[O++],ae=u[O++],_e=s[z],ke=r.data[z];null!==ke.setInput?ke.setInput(_e,x,y,ae):_e[ae]=x}}function ja(r,s,u){const y=Vr(s,r);Tf(r[11],y,u)}function Gu(r,s,u){let y=u?r.styles:null,x=u?r.classes:null,O=0;if(null!==s)for(let z=0;z<s.length;z++){const ae=s[z];"number"==typeof ae?O=ae:1==O?x=w(x,ae):2==O&&(y=w(y,ae+": "+s[++z]+";"))}u?r.styles=y:r.stylesWithoutHost=y,u?r.classes=x:r.classesWithoutHost=x}function Qu(r,s,u,y,x=!1){for(;null!==u;){const O=s[u.index];if(null!==O&&y.push(Vi(O)),In(O))for(let ae=10;ae<O.length;ae++){const _e=O[ae],ke=_e[1].firstChild;null!==ke&&Qu(_e[1],_e,ke,y)}const z=u.type;if(8&z)Qu(r,s,u.child,y);else if(32&z){const ae=qd(u,s);let _e;for(;_e=ae();)y.push(_e)}else if(16&z){const ae=kf(s,u);if(Array.isArray(ae))y.push(...ae);else{const _e=Ic(s[16]);Qu(_e[1],_e,ae,y,!0)}}u=x?u.projectionNext:u.next}return y}class Bc{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return Qu(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(In(s)){const u=s[8],y=u?u.indexOf(this):-1;y>-1&&(nh(s,y),_a(u,y))}this._attachedToViewContainer=!1}jl(this._lView[1],this._lView)}onDestroy(s){mm(this._lView[1],this._lView,null,s)}markForCheck(){$u(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Af(r,s){Oc(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=s}}class O0 extends Bc{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;zu(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class Ol extends xc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=$t(s);return new Uc(u,this.ngModule)}}function Tm(r){const s=[];for(let u in r)r.hasOwnProperty(u)&&s.push({propName:r[u],templateName:u});return s}class M0{constructor(s,u){this.injector=s,this.parentInjector=u}get(s,u,y){const x=this.injector.get(s,Vd,y);return x!==Vd||u===Vd?x:this.parentInjector.get(s,u,y)}}class Uc extends rf{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function $v(r){return r.map(Kv).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Tm(this.componentDef.inputs)}get outputs(){return Tm(this.componentDef.outputs)}create(s,u,y,x){var O;let z=(x=x||this.ngModule)instanceof vl?x:null===(O=x)||void 0===O?void 0:O.injector;z&&null!==this.componentDef.getStandaloneInjector&&(z=this.componentDef.getStandaloneInjector(z)||z);const ae=z?new M0(s,z):s,_e=ae.get(Zd,null);if(null===_e)throw new L(407,!1);const ke=ae.get(ev,null),ct=_e.createRenderer(null,this.componentDef),At=this.componentDef.selectors[0][0]||"div",Vt=y?function T0(r,s,u){return r.selectRootElement(s,u===ee.ShadowDom)}(ct,y,this.componentDef.encapsulation):th(_e.createRenderer(null,this.componentDef),At,function Oh(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(At)),tn=this.componentDef.onPush?288:272,wn=Vu(0,null,null,1,0,null,null,null,null,null),Bn=Uo(null,wn,null,tn,null,null,_e,ct,ke,ae,null);let $n,li;zi(Bn);try{const Li=function k0(r,s,u,y,x,O){const z=u[1];u[22]=r;const _e=wo(z,22,2,"#host",null),ke=_e.mergedAttrs=s.hostAttrs;null!==ke&&(Gu(_e,ke,!0),null!==r&&(mo(x,r,ke),null!==_e.classes&&ah(x,r,_e.classes),null!==_e.styles&&Bf(x,r,_e.styles)));const ct=y.createRenderer(r,s),At=Uo(u,pm(s),null,s.onPush?32:16,u[22],_e,y,ct,O||null,null,null);return z.firstCreatePass&&(Ve(Ys(_e,u),z,s.type),wh(z,_e),Wu(_e,u.length,1)),Ku(u,At),u[22]=At}(Vt,this.componentDef,Bn,_e,ct);if(Vt)if(y)mo(ct,Vt,["ng-version",tv.full]);else{const{attrs:Dn,classes:Oi}=function zv(r){const s=[],u=[];let y=1,x=2;for(;y<r.length;){let O=r[y];if("string"==typeof O)2===x?""!==O&&s.push(O,r[++y]):8===x&&u.push(O);else{if(!Xo(x))break;x=O}y++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);Dn&&mo(ct,Vt,Dn),Oi&&Oi.length>0&&ah(ct,Vt,Oi.join(" "))}if(li=Is(wn,22),void 0!==u){const Dn=li.projection=[];for(let Oi=0;Oi<this.ngContentSelectors.length;Oi++){const Ar=u[Oi];Dn.push(null!=Ar?Array.from(Ar):null)}}$n=function P0(r,s,u,y){const x=u[1],O=function xl(r,s,u){const y=Xi();r.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),ym(r,y,s,el(r,s,1,null),u),_m(r,y));const x=Ue(s,r,y.directiveStart,y);bo(x,s);const O=Xr(y,s);return O&&bo(O,s),x}(x,u,s);if(r[8]=u[8]=O,null!==y)for(const ae of y)ae(O,s);if(s.contentQueries){const ae=Xi();s.contentQueries(1,O,ae.directiveStart)}const z=Xi();return!x.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(en(z.index),Hu(u[1],z,0,z.directiveStart,z.directiveEnd,s),Dl(s,O)),O}(Li,this.componentDef,Bn,[L0]),Al(wn,Bn,null)}finally{Le()}return new R0(this.componentType,$n,wa(li,Bn),Bn,li)}}class R0 extends class $_{}{constructor(s,u,y,x,O){super(),this.location=y,this._rootLView=x,this._tNode=O,this.instance=u,this.hostView=this.changeDetectorRef=new O0(x),this.componentType=s}setInput(s,u){const y=this._tNode.inputs;let x;if(null!==y&&(x=y[s])){const O=this._rootLView;Lc(O[1],O,x,s,u),vm(O,this._tNode.index)}}get injector(){return new Di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function L0(){const r=Xi();Pi(yn()[1],r)}function Mh(r){let s=function Am(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),u=!0;const y=[r];for(;s;){let x;if(qn(r))x=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new L(903,!1);x=s.\u0275dir}if(x){if(u){y.push(x);const z=r;z.inputs=Nh(r.inputs),z.declaredInputs=Nh(r.declaredInputs),z.outputs=Nh(r.outputs);const ae=x.hostBindings;ae&&zC(r,ae);const _e=x.viewQuery,ke=x.contentQueries;if(_e&&U0(r,_e),ke&&$C(r,ke),g(r.inputs,x.inputs),g(r.declaredInputs,x.declaredInputs),g(r.outputs,x.outputs),qn(x)&&x.data.animation){const ct=r.data;ct.animation=(ct.animation||[]).concat(x.data.animation)}}const O=x.features;if(O)for(let z=0;z<O.length;z++){const ae=O[z];ae&&ae.ngInherit&&ae(r),ae===Mh&&(u=!1)}}s=Object.getPrototypeOf(s)}!function B0(r){let s=0,u=null;for(let y=r.length-1;y>=0;y--){const x=r[y];x.hostVars=s+=x.hostVars,x.hostAttrs=go(x.hostAttrs,u=go(u,x.hostAttrs))}}(y)}function Nh(r){return r===ot?{}:r===ut?[]:r}function U0(r,s){const u=r.viewQuery;r.viewQuery=u?(y,x)=>{s(y,x),u(y,x)}:s}function $C(r,s){const u=r.contentQueries;r.contentQueries=u?(y,x,O)=>{s(y,x,O),u(y,x,O)}:s}function zC(r,s){const u=r.hostBindings;r.hostBindings=u?(y,x)=>{s(y,x),u(y,x)}:s}let Rh=null;function Ea(){if(!Rh){const r=U.Symbol;if(r&&r.iterator)Rh=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const y=s[u];"entries"!==y&&"size"!==y&&Map.prototype[y]===Map.prototype.entries&&(Rh=y)}}}return Rh}function Fc(r){return!!kh(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ea()in r)}function kh(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function da(r,s,u){return r[s]=u}function Zc(r,s){return r[s]}function To(r,s,u){return!Object.is(r[s],u)&&(r[s]=u,!0)}function Ml(r,s,u,y){const x=To(r,s,u);return To(r,s+1,y)||x}function ha(r,s,u,y,x,O){const z=Ml(r,s,u,y);return Ml(r,s+2,x,O)||z}function Ph(r,s,u,y){const x=yn();return To(x,je(),s)&&(oi(),function xa(r,s,u,y,x,O){const z=Xr(r,s);na(s[11],z,O,r.value,u,y,x)}(an(),x,r,s,u,y)),Ph}function Xl(r,s,u,y){return To(r,je(),u)?s+j(u)+y:Qi}function ec(r,s,u,y,x,O){const ae=Ml(r,vi(),u,x);return Et(2),ae?s+j(u)+y+j(x)+O:Qi}function W0(r,s,u,y,x,O,z,ae){const _e=yn(),ke=oi(),ct=r+22,At=ke.firstCreatePass?function qC(r,s,u,y,x,O,z,ae,_e){const ke=s.consts,ct=wo(s,r,4,z||null,Zi(ke,ae));Fo(s,u,ct,Zi(ke,_e)),Pi(s,ct);const At=ct.tViews=Vu(2,ct,y,x,O,s.directiveRegistry,s.pipeRegistry,null,s.schemas,ke);return null!==s.queries&&(s.queries.template(s,ct),At.queries=s.queries.embeddedTView(ct)),ct}(ct,ke,_e,s,u,y,x,O,z):ke.data[ct];ie(At,!1);const Vt=_e[11].createComment("");Ou(ke,_e,Vt,At),bo(Vt,_e),Ku(_e,_e[ct]=ql(Vt,_e,Vt,At)),fi(At)&&Zu(ke,_e,At),null!=z&&Sl(_e,At,ae)}function j0(r){return zr(function ji(){return si.lFrame.contextLView}(),22+r)}function Lh(r,s,u){const y=yn();return To(y,je(),s)&&Go(oi(),an(),y,r,s,y[11],u,!1),Lh}function Bh(r,s,u,y,x){const z=x?"class":"style";Lc(r,u,s.inputs[z],z,y)}function Uh(r,s,u,y){const x=yn(),O=oi(),z=22+r,ae=x[11],_e=x[z]=th(ae,s,function vn(){return si.lFrame.currentNamespace}()),ke=O.firstCreatePass?function K0(r,s,u,y,x,O,z){const ae=s.consts,ke=wo(s,r,2,x,Zi(ae,O));return Fo(s,u,ke,Zi(ae,z)),null!==ke.attrs&&Gu(ke,ke.attrs,!1),null!==ke.mergedAttrs&&Gu(ke,ke.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,ke),ke}(z,O,x,0,s,u,y):O.data[z];ie(ke,!0);const ct=ke.mergedAttrs;null!==ct&&mo(ae,_e,ct);const At=ke.classes;null!==At&&ah(ae,_e,At);const Vt=ke.styles;return null!==Vt&&Bf(ae,_e,Vt),64!=(64&ke.flags)&&Ou(O,x,_e,ke),0===function Hr(){return si.lFrame.elementDepthCount}()&&bo(_e,x),function io(){si.lFrame.elementDepthCount++}(),fi(ke)&&(Zu(O,x,ke),hm(O,ke,x)),null!==y&&Sl(x,ke),Uh}function Fh(){let r=Xi();rt()?rn():(r=r.parent,ie(r,!1));const s=r;!function ki(){si.lFrame.elementDepthCount--}();const u=oi();return u.firstCreatePass&&(Pi(u,r),Rn(r)&&u.queries.elementEnd(r)),null!=s.classesWithoutHost&&function lo(r){return 0!=(16&r.flags)}(s)&&Bh(u,s,yn(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Jo(r){return 0!=(32&r.flags)}(s)&&Bh(u,s,yn(),s.stylesWithoutHost,!1),Fh}function Pm(r,s,u,y){return Uh(r,s,u,y),Fh(),Pm}function Zh(r,s,u){const y=yn(),x=oi(),O=r+22,z=x.firstCreatePass?function XC(r,s,u,y,x){const O=s.consts,z=Zi(O,y),ae=wo(s,r,8,"ng-container",z);return null!==z&&Gu(ae,z,!0),Fo(s,u,ae,Zi(O,x)),null!==s.queries&&s.queries.elementStart(s,ae),ae}(O,x,y,s,u):x.data[O];ie(z,!0);const ae=y[O]=y[11].createComment("");return Ou(x,y,ae,z),bo(ae,y),fi(z)&&(Zu(x,y,z),hm(x,z,y)),null!=u&&Sl(y,z),Zh}function Yu(){let r=Xi();const s=oi();return rt()?rn():(r=r.parent,ie(r,!1)),s.firstCreatePass&&(Pi(s,r),Rn(r)&&s.queries.elementEnd(r)),Yu}function Vh(r,s,u){return Zh(r,s,u),Yu(),Vh}function $0(){return yn()}function Lm(r){return!!r&&"function"==typeof r.then}function z0(r){return!!r&&"function"==typeof r.subscribe}const G0=z0;function Hh(r,s,u,y){const x=yn(),O=oi(),z=Xi();return function Um(r,s,u,y,x,O,z,ae){const _e=fi(y),ct=r.firstCreatePass&&Eh(r),At=s[8],Vt=xh(s);let tn=!0;if(3&y.type||ae){const $n=Xr(y,s),li=ae?ae($n):$n,Li=Vt.length,Dn=ae?Ar=>ae(Vi(Ar[y.index])):y.index;let Oi=null;if(!ae&&_e&&(Oi=function eb(r,s,u,y){const x=r.cleanup;if(null!=x)for(let O=0;O<x.length-1;O+=2){const z=x[O];if(z===u&&x[O+1]===y){const ae=s[7],_e=x[O+2];return ae.length>_e?ae[_e]:null}"string"==typeof z&&(O+=2)}return null}(r,s,x,y.index)),null!==Oi)(Oi.__ngLastListenerFn__||Oi).__ngNextListenerFn__=O,Oi.__ngLastListenerFn__=O,tn=!1;else{O=Zm(y,s,At,O,!1);const Ar=u.listen(li,x,O);Vt.push(O,Ar),ct&&ct.push(x,Dn,Li,Li+1)}}else O=Zm(y,s,At,O,!1);const wn=y.outputs;let Bn;if(tn&&null!==wn&&(Bn=wn[x])){const $n=Bn.length;if($n)for(let li=0;li<$n;li+=2){const Zs=s[Bn[li]][Bn[li+1]].subscribe(O),ou=Vt.length;Vt.push(O,Zs),ct&&ct.push(x,y.index,ou,-(ou+1))}}}(O,x,x[11],z,r,s,0,y),Hh}function Fm(r,s,u,y){try{return!1!==u(y)}catch(x){return Ih(r,x),!1}}function Zm(r,s,u,y,x){return function O(z){if(z===Function)return y;$u(2&r.flags?Wi(r.index,s):s);let _e=Fm(s,0,y,z),ke=O.__ngNextListenerFn__;for(;ke;)_e=Fm(s,0,ke,z)&&_e,ke=ke.__ngNextListenerFn__;return x&&!1===_e&&(z.preventDefault(),z.returnValue=!1),_e}}function Vm(r=1){return function be(r){return(si.lFrame.contextLView=function tt(r,s){for(;r>0;)s=s[15],r--;return s}(r,si.lFrame.contextLView))[8]}(r)}function Q0(r,s){let u=null;const y=function Hv(r){const s=r.attrs;if(null!=s){const u=s.indexOf(5);if(0==(1&u))return s[u+1]}return null}(r);for(let x=0;x<s.length;x++){const O=s[x];if("*"!==O){if(null===y?Hf(r,O,!0):jv(y,O))return x}else u=x}return u}function q0(r){const s=yn()[16][6];if(!s.projection){const y=s.projection=He(r?r.length:1,null),x=y.slice();let O=s.child;for(;null!==O;){const z=r?Q0(O,r):0;null!==z&&(x[z]?x[z].projectionNext=O:y[z]=O,x[z]=O),O=O.next}}}function Hm(r,s=0,u){const y=yn(),x=oi(),O=wo(x,22+r,16,null,u||null);null===O.projection&&(O.projection=s),rn(),64!=(64&O.flags)&&function Lv(r,s,u){Lf(s[11],0,s,u,xf(r,u,s),Of(u.parent||s[6],u,s))}(x,y,O)}function Jh(r,s,u){return Xu(r,"",s,"",u),Jh}function Xu(r,s,u,y,x){const O=yn(),z=Xl(O,s,u,y);return z!==Qi&&Go(oi(),an(),O,r,z,O[11],x,!1),Xu}function Wh(r,s,u,y,x,O,z){const ae=yn(),_e=ec(ae,s,u,y,x,O);return _e!==Qi&&Go(oi(),an(),ae,r,_e,ae[11],z,!1),Wh}function Qm(r,s,u,y,x){const O=r[u+1],z=null===s;let ae=y?$o(O):Aa(O),_e=!1;for(;0!==ae&&(!1===_e||z);){const ct=r[ae+1];ey(r[ae],s)&&(_e=!0,r[ae+1]=y?Lu(ct):Kl(ct)),ae=y?$o(ct):Aa(ct)}_e&&(r[u+1]=y?Kl(O):Lu(O))}function ey(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Ne(r,s)>=0}const eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qm(r){return r.substring(eo.key,eo.keyEnd)}function Ym(r,s){const u=eo.textEnd;return u===s?-1:(s=eo.keyEnd=function ry(r,s,u){for(;s<u&&r.charCodeAt(s)>32;)s++;return s}(r,eo.key=s,u),ac(r,s,u))}function ac(r,s,u){for(;s<u&&r.charCodeAt(s)<=32;)s++;return s}function jh(r,s,u){return Ia(r,s,u,!1),jh}function Kh(r,s){return Ia(r,s,null,!0),Kh}function ly(r){pa(se,Ka,r,!0)}function Ka(r,s){for(let u=function ny(r){return function Xm(r){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=r.length}(r),Ym(r,ac(r,0,eo.textEnd))}(s);u>=0;u=Ym(s,u))se(r,qm(s),!0)}function Ia(r,s,u,y){const x=yn(),O=oi(),z=Et(2);O.firstUpdatePass&&uy(O,r,z,y),s!==Qi&&To(x,z,s)&&ng(O,O.data[St()],x,x[11],r,x[z+1]=function fy(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=f(Ua(r)))),r}(s,u),y,z)}function pa(r,s,u,y){const x=oi(),O=Et(2);x.firstUpdatePass&&uy(x,null,O,y);const z=yn();if(u!==Qi&&To(z,O,u)){const ae=x.data[St()];if(my(ae,y)&&!cy(x,O)){let _e=y?ae.classesWithoutHost:ae.stylesWithoutHost;null!==_e&&(u=w(_e,u||"")),Bh(x,ae,z,u,y)}else!function hy(r,s,u,y,x,O,z,ae){x===Qi&&(x=ut);let _e=0,ke=0,ct=0<x.length?x[0]:null,At=0<O.length?O[0]:null;for(;null!==ct||null!==At;){const Vt=_e<x.length?x[_e+1]:void 0,tn=ke<O.length?O[ke+1]:void 0;let Bn,wn=null;ct===At?(_e+=2,ke+=2,Vt!==tn&&(wn=At,Bn=tn)):null===At||null!==ct&&ct<At?(_e+=2,wn=ct):(ke+=2,wn=At,Bn=tn),null!==wn&&ng(r,s,u,y,wn,Bn,z,ae),ct=_e<x.length?x[_e]:null,At=ke<O.length?O[ke]:null}}(x,ae,z,z[11],z[O+1],z[O+1]=function ab(r,s,u){if(null==u||""===u)return ut;const y=[],x=Ua(u);if(Array.isArray(x))for(let O=0;O<x.length;O++)r(y,x[O],!0);else if("object"==typeof x)for(const O in x)x.hasOwnProperty(O)&&r(y,O,x[O]);else"string"==typeof x&&s(y,x);return y}(r,s,u),y,O)}}function cy(r,s){return s>=r.expandoStartIndex}function uy(r,s,u,y){const x=r.data;if(null===x[u+1]){const O=x[St()],z=cy(r,u);my(O,y)&&null===s&&!z&&(s=!1),s=function ib(r,s,u,y){const x=ai(r);let O=y?s.residualClasses:s.residualStyles;if(null===x)0===(y?s.classBindings:s.styleBindings)&&(u=Vc(u=$h(null,r,s,u,y),s.attrs,y),O=null);else{const z=s.directiveStylingLast;if(-1===z||r[z]!==x)if(u=$h(x,r,s,u,y),null===O){let _e=function rb(r,s,u){const y=u?s.classBindings:s.styleBindings;if(0!==Aa(y))return r[$o(y)]}(r,s,y);void 0!==_e&&Array.isArray(_e)&&(_e=$h(null,r,s,_e[1],y),_e=Vc(_e,s.attrs,y),function sb(r,s,u,y){r[$o(u?s.classBindings:s.styleBindings)]=y}(r,s,y,_e))}else O=function ob(r,s,u){let y;const x=s.directiveEnd;for(let O=1+s.directiveStylingLast;O<x;O++)y=Vc(y,r[O].hostAttrs,u);return Vc(y,s.attrs,u)}(r,s,y)}return void 0!==O&&(y?s.residualClasses=O:s.residualStyles=O),u}(x,O,s,y),function Y0(r,s,u,y,x,O){let z=O?s.classBindings:s.styleBindings,ae=$o(z),_e=Aa(z);r[y]=u;let ct,ke=!1;if(Array.isArray(u)){const At=u;ct=At[1],(null===ct||Ne(At,ct)>0)&&(ke=!0)}else ct=u;if(x)if(0!==_e){const Vt=$o(r[ae+1]);r[y+1]=Tl(Vt,ae),0!==Vt&&(r[Vt+1]=Nc(r[Vt+1],y)),r[ae+1]=function nm(r,s){return 131071&r|s<<17}(r[ae+1],y)}else r[y+1]=Tl(ae,0),0!==ae&&(r[ae+1]=Nc(r[ae+1],y)),ae=y;else r[y+1]=Tl(_e,0),0===ae?ae=y:r[_e+1]=Nc(r[_e+1],y),_e=y;ke&&(r[y+1]=Kl(r[y+1])),Qm(r,ct,y,!0),Qm(r,ct,y,!1),function X0(r,s,u,y,x){const O=x?r.residualClasses:r.residualStyles;null!=O&&"string"==typeof s&&Ne(O,s)>=0&&(u[y+1]=Lu(u[y+1]))}(s,ct,r,y,O),z=Tl(ae,_e),O?s.classBindings=z:s.styleBindings=z}(x,O,s,u,z,y)}}function $h(r,s,u,y,x){let O=null;const z=u.directiveEnd;let ae=u.directiveStylingLast;for(-1===ae?ae=u.directiveStart:ae++;ae<z&&(O=s[ae],y=Vc(y,O.hostAttrs,x),O!==r);)ae++;return null!==r&&(u.directiveStylingLast=ae),y}function Vc(r,s,u){const y=u?1:2;let x=-1;if(null!==s)for(let O=0;O<s.length;O++){const z=s[O];"number"==typeof z?x=z:x===y&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),se(r,z,!!u||s[++O]))}return void 0===r?null:r}function ng(r,s,u,y,x,O,z,ae){if(!(3&s.type))return;const _e=r.data,ke=_e[ae+1];zh(function Rc(r){return 1==(1&r)}(ke)?py(_e,s,u,x,Aa(ke),z):void 0)||(zh(O)||function Pu(r){return 2==(2&r)}(ke)&&(O=py(_e,null,u,x,ae,z)),function Uv(r,s,u,y,x){if(s)x?r.addClass(u,y):r.removeClass(u,y);else{let O=-1===y.indexOf("-")?void 0:Ta.DashCase;null==x?r.removeStyle(u,y,O):("string"==typeof x&&x.endsWith("!important")&&(x=x.slice(0,-10),O|=Ta.Important),r.setStyle(u,y,x,O))}}(y,z,Vr(St(),u),x,O))}function py(r,s,u,y,x,O){const z=null===s;let ae;for(;x>0;){const _e=r[x],ke=Array.isArray(_e),ct=ke?_e[1]:_e,At=null===ct;let Vt=u[x+1];Vt===Qi&&(Vt=At?ut:void 0);let tn=At?he(Vt,y):ct===y?Vt:void 0;if(ke&&!zh(tn)&&(tn=he(_e,y)),zh(tn)&&(ae=tn,z))return ae;const wn=r[x+1];x=z?$o(wn):Aa(wn)}if(null!==s){let _e=O?s.residualClasses:s.residualStyles;null!=_e&&(ae=he(_e,y))}return ae}function zh(r){return void 0!==r}function my(r,s){return 0!=(r.flags&(s?16:32))}function ig(r,s=""){const u=yn(),y=oi(),x=r+22,O=y.firstCreatePass?wo(y,x,1,s,null):y.data[x],z=u[x]=eh(u[11],s);Ou(y,u,z,O),ie(O,!1)}function Gh(r){return Qh("",r,""),Gh}function Qh(r,s,u){const y=yn(),x=Xl(y,r,s,u);return x!==Qi&&ja(y,St(),x),Qh}function rg(r,s,u,y,x){const O=yn(),z=ec(O,r,s,u,y,x);return z!==Qi&&ja(O,St(),z),rg}function Oa(r,s,u){pa(se,Ka,Xl(yn(),r,s,u),!0)}function nd(r,s,u,y,x){pa(se,Ka,ec(yn(),r,s,u,y,x),!0)}function ep(r,s,u){const y=yn();return To(y,je(),s)&&Go(oi(),an(),y,r,s,y[11],u,!0),ep}function sd(r,s,u){const y=yn();if(To(y,je(),s)){const O=oi(),z=an();Go(O,z,y,r,s,function Dh(r,s,u){return(null===r||qn(r))&&(u=function ws(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(u[s.index])),u[11]}(ai(O.data),z,y),u,!0)}return sd}const il=void 0;var pg=["en",[["a","p"],["AM","PM"],il],[["AM","PM"],il,il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",il,"{1} 'at' {0}",il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hb(r){const u=Math.floor(Math.abs(r)),y=r.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===y?1:5}];let jc={};function fg(r){const s=function Sy(r){return r.toLowerCase().replace(/_/g,"-")}(r);let u=tp(s);if(u)return u;const y=s.split("-")[0];if(u=tp(y),u)return u;if("en"===y)return pg;throw new L(701,!1)}function $a(r){return fg(r)[Ti.PluralCase]}function tp(r){return r in jc||(jc[r]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[r]),jc[r]}var Ti=(()=>((Ti=Ti||{})[Ti.LocaleId=0]="LocaleId",Ti[Ti.DayPeriodsFormat=1]="DayPeriodsFormat",Ti[Ti.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ti[Ti.DaysFormat=3]="DaysFormat",Ti[Ti.DaysStandalone=4]="DaysStandalone",Ti[Ti.MonthsFormat=5]="MonthsFormat",Ti[Ti.MonthsStandalone=6]="MonthsStandalone",Ti[Ti.Eras=7]="Eras",Ti[Ti.FirstDayOfWeek=8]="FirstDayOfWeek",Ti[Ti.WeekendRange=9]="WeekendRange",Ti[Ti.DateFormat=10]="DateFormat",Ti[Ti.TimeFormat=11]="TimeFormat",Ti[Ti.DateTimeFormat=12]="DateTimeFormat",Ti[Ti.NumberSymbols=13]="NumberSymbols",Ti[Ti.NumberFormats=14]="NumberFormats",Ti[Ti.CurrencyCode=15]="CurrencyCode",Ti[Ti.CurrencySymbol=16]="CurrencySymbol",Ti[Ti.CurrencyName=17]="CurrencyName",Ti[Ti.Currencies=18]="Currencies",Ti[Ti.Directionality=19]="Directionality",Ti[Ti.PluralCase=20]="PluralCase",Ti[Ti.ExtraData=21]="ExtraData",Ti))();const xy=["zero","one","two","few","many"],cc="en-US",ad={marker:"element"},Ma={marker:"ICU"};var js=(()=>((js=js||{})[js.SHIFT=2]="SHIFT",js[js.APPEND_EAGERLY=1]="APPEND_EAGERLY",js[js.COMMENT=2]="COMMENT",js))();let Iy=cc;function Oy(r){(function qe(r,s){null==r&&Te(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(Iy=r.toLowerCase().replace(/_/g,"-"))}function fa(r,s,u){const y=s.insertBeforeIndex,x=Array.isArray(y)?y[0]:y;return null===x?Mf(r,0,u):Vi(u[x])}function My(r,s,u,y,x){const O=s.insertBeforeIndex;if(Array.isArray(O)){let z=y,ae=null;if(3&s.type||(ae=z,z=x),null!==z&&0==(2&s.flags))for(let _e=1;_e<O.length;_e++)Cl(r,z,u[O[_e]],ae,!1)}}function Ny(r,s){if(r.push(s),r.length>1)for(let u=r.length-2;u>=0;u--){const y=r[u];_g(y)||pb(y,s)&&null===fb(y)&&mb(y,s.index)}}function _g(r){return!(64&r.type)}function pb(r,s){return _g(s)||r.index>s.index}function fb(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function mb(r,s){const u=r.insertBeforeIndex;Array.isArray(u)?u[0]=s:(Rf(fa,My),r.insertBeforeIndex=s)}function ld(r,s){const u=r.data[s];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function vb(r,s,u){const y=Oo(r,u,64,null,null);return Ny(s,y),y}function np(r,s){const u=s[r.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function vg(r){return r>>>17}function yg(r){return(131070&r)>>>1}let cd=0,ud=0;function Cg(r,s,u,y){const x=u[11];let z,O=null;for(let ae=0;ae<s.length;ae++){const _e=s[ae];if("string"==typeof _e){const ke=s[++ae];null===u[ke]&&(u[ke]=eh(x,_e))}else if("number"==typeof _e)switch(1&_e){case 0:const ke=vg(_e);let ct,At;if(null===O&&(O=ke,z=Iu(x,y)),ke===O?(ct=y,At=z):(ct=null,At=Vi(u[ke])),null!==At){const Bn=yg(_e);Cl(x,At,u[Bn],ct,!1);const li=ld(r,Bn);if(null!==li&&"object"==typeof li){const Li=np(li,u);null!==Li&&Cg(r,li.create[Li],u,u[li.anchorIdx])}}break;case 1:const tn=s[++ae],wn=s[++ae];na(x,Vr(_e>>>1,u),null,null,tn,wn,null)}else switch(_e){case Ma:const ke=s[++ae],ct=s[++ae];null===u[ct]&&bo(u[ct]=xv(x,ke),u);break;case ad:const At=s[++ae],Vt=s[++ae];null===u[Vt]&&bo(u[Vt]=th(x,At,null),u)}}}function Py(r,s,u,y,x){for(let O=0;O<u.length;O++){const z=u[O],ae=u[++O];if(z&x){let _e="";for(let ke=O+1;ke<=O+ae;ke++){const ct=u[ke];if("string"==typeof ct)_e+=ct;else if("number"==typeof ct)if(ct<0)_e+=j(s[y-ct]);else{const At=ct>>>2;switch(3&ct){case 1:const Vt=u[++ke],tn=u[++ke],wn=r.data[At];"string"==typeof wn?na(s[11],s[At],null,wn,Vt,_e,tn):Go(r,wn,s,Vt,_e,s[11],tn,!1);break;case 0:const Bn=s[At];null!==Bn&&Tf(s[11],Bn,_e);break;case 2:wb(r,ld(r,At),s,_e);break;case 3:Ly(r,ld(r,At),y,s)}}}}else{const _e=u[O+1];if(_e>0&&3==(3&_e)){const ct=ld(r,_e>>>2);s[ct.currentCaseLViewIndex]<0&&Ly(r,ct,y,s)}}O+=ae}}function Ly(r,s,u,y){let x=y[s.currentCaseLViewIndex];if(null!==x){let O=cd;x<0&&(x=y[s.currentCaseLViewIndex]=~x,O=-1),Py(r,y,s.update[x],u,O)}}function wb(r,s,u,y){const x=function Tb(r,s){let u=r.cases.indexOf(s);if(-1===u)switch(r.type){case 1:{const y=function Ey(r,s){const u=$a(s)(parseInt(r,10)),y=xy[u];return void 0!==y?y:"other"}(s,function gg(){return Iy}());u=r.cases.indexOf(y),-1===u&&"other"!==y&&(u=r.cases.indexOf("other"));break}case 0:u=r.cases.indexOf("other")}return-1===u?null:u}(s,y);if(np(s,u)!==x&&(By(r,s,u),u[s.currentCaseLViewIndex]=null===x?null:~x,null!==x)){const z=u[s.anchorIdx];z&&Cg(r,s.create[x],u,z)}}function By(r,s,u){let y=np(s,u);if(null!==y){const x=s.remove[y];for(let O=0;O<x.length;O++){const z=x[O];if(z>0){const ae=Vr(z,u);null!==ae&&Pf(u[11],ae)}else By(r,ld(r,~z),u)}}}function Uy(){const r=[];let u,y,s=-1;function O(ae,_e){s=0;const ke=np(ae,_e);y=null!==ke?ae.remove[ke]:ut}function z(){if(s<y.length){const ae=y[s++];return ae>0?u[ae]:(r.push(s,y),O(u[1].data[~ae],u),z())}return 0===r.length?null:(y=r.pop(),s=r.pop(),z())}return function x(ae,_e){for(u=_e;r.length;)r.pop();return O(ae.value,_e),z}}const ip=/\ufffd(\d+):?\d*\ufffd/gi,Sb=/\ufffd(\d+)\ufffd/,Kc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Zy=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Vy=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Hy=/\uE500/g;function Tg(r,s,u,y,x,O,z){const ae=el(r,y,1,null);let _e=ae<<js.SHIFT,ke=ve();s===ke&&(ke=null),null===ke&&(_e|=js.APPEND_EAGERLY),z&&(_e|=js.COMMENT,function wv(r){void 0===Qd&&(Qd=r())}(Uy)),x.push(_e,null===O?"":O);const ct=Oo(r,ae,z?32:1,null===O?"":O,null);Ny(u,ct);const At=ct.index;return ie(ct,!1),null!==ke&&s!==ke&&function _b(r,s){let u=r.insertBeforeIndex;null===u?(Rf(fa,My),u=r.insertBeforeIndex=[null,s]):(function E(r,s,u){r!=s&&Te(u,r,s,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(s))}(ke,At),ct}function Jy(r,s,u,y,x,O,z){const ae=z.match(ip),_e=Tg(r,s,u,O,y,ae?null:z,!1);ae&&$c(x,z,_e.index,null,0,null)}function $c(r,s,u,y,x,O){const z=r.length,ae=z+1;r.push(null,null);const _e=z+2,ke=s.split(ip);let ct=0;for(let At=0;At<ke.length;At++){const Vt=ke[At];if(1&At){const tn=x+parseInt(Vt,10);r.push(-1-tn),ct|=Ag(tn)}else""!==Vt&&r.push(Vt)}return r.push(u<<2|(y?1:0)),y&&r.push(y,O),r[z]=ct,r[ae]=r.length-_e,ct}function Ag(r){return 1<<Math.min(r,31)}function Sg(r){let s,O,u="",y=0,x=!1;for(;null!==(s=Zy.exec(r));)x?s[0]===`\ufffd/*${O}\ufffd`&&(y=s.index,x=!1):(u+=r.substring(y,s.index+s[0].length),O=s[1],x=!0);return u+=r.slice(y),u}function xg(r,s,u,y,x,O){let z=0;const ae={type:x.type,currentCaseLViewIndex:el(r,s,1,null),anchorIdx:O,cases:[],create:[],remove:[],update:[]};(function xb(r,s,u){r.push(Ag(s.mainBinding),2,-1-s.mainBinding,u<<2|2)})(u,x,O),function gb(r,s,u){const y=r.data[s];null===y?r.data[s]=u:y.value=u}(r,O,ae);const _e=x.values;for(let ke=0;ke<_e.length;ke++){const ct=_e[ke],At=[];for(let Vt=0;Vt<ct.length;Vt++){const tn=ct[Vt];if("string"!=typeof tn){const wn=At.push(tn)-1;ct[Vt]=`\x3c!--\ufffd${wn}\ufffd--\x3e`}}z=Gy(r,ae,s,u,y,x.cases[ke],ct.join(""),At)|z}z&&function qy(r,s,u){r.push(s,1,u<<2|3)}(u,z,O)}function zy(r){const s=[],u=[];let y=1,x=0;const O=rp(r=r.replace(Kc,function(z,ae,_e){return y="select"===_e?0:1,x=parseInt(ae.slice(1),10),""}));for(let z=0;z<O.length;){let ae=O[z++].trim();1===y&&(ae=ae.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ae.length&&s.push(ae);const _e=rp(O[z++]);s.length>u.length&&u.push(_e)}return{type:y,mainBinding:x,cases:s,values:u}}function rp(r){if(!r)return[];let s=0;const u=[],y=[],x=/[{}]/g;let O;for(x.lastIndex=0;O=x.exec(r);){const ae=O.index;if("}"==O[0]){if(u.pop(),0==u.length){const _e=r.substring(s,ae);Kc.test(_e)?y.push(zy(_e)):y.push(_e),s=ae+1}}else{if(0==u.length){const _e=r.substring(s,ae);y.push(_e),s=ae+1}u.push("{")}}const z=r.substring(s);return y.push(z),y}function Gy(r,s,u,y,x,O,z,ae){const _e=[],ke=[],ct=[];s.cases.push(O),s.create.push(_e),s.remove.push(ke),s.update.push(ct);const Vt=fl(Up()).getInertBodyElement(z),tn=Md(Vt)||Vt;return tn?sp(r,s,u,y,_e,ke,ct,tn,x,ae,0):0}function sp(r,s,u,y,x,O,z,ae,_e,ke,ct){let At=0,Vt=ae.firstChild;for(;Vt;){const tn=el(r,u,1,null);switch(Vt.nodeType){case Node.ELEMENT_NODE:const wn=Vt,Bn=wn.tagName.toLowerCase();if(Dd.hasOwnProperty(Bn)){Eg(x,ad,Bn,_e,tn),r.data[tn]=Bn;const Dn=wn.attributes;for(let Oi=0;Oi<Dn.length;Oi++){const Ar=Dn.item(Oi),Zs=Ar.name.toLowerCase();Ar.value.match(ip)?ba.hasOwnProperty(Zs)&&$c(z,Ar.value,tn,Ar.name,0,Id[Zs]?_u:null):Eb(x,tn,Ar)}At=sp(r,s,u,y,x,O,z,Vt,tn,ke,ct+1)|At,op(O,tn,ct)}break;case Node.TEXT_NODE:const $n=Vt.textContent||"",li=$n.match(ip);Eg(x,null,li?"":$n,_e,tn),op(O,tn,ct),li&&(At=$c(z,$n,tn,null,0,null)|At);break;case Node.COMMENT_NODE:const Li=Sb.exec(Vt.textContent||"");if(Li){const Oi=ke[parseInt(Li[1],10)];Eg(x,Ma,"",_e,tn),xg(r,u,y,_e,Oi,tn),Qy(O,tn,ct)}}Vt=Vt.nextSibling}return At}function op(r,s,u){0===u&&r.push(s)}function Qy(r,s,u){0===u&&(r.push(~s),r.push(s))}function Eg(r,s,u,y,x){null!==s&&r.push(s),r.push(u,x,function yb(r,s,u){return r|s<<17|u<<1}(0,y,x))}function Eb(r,s,u){r.push(s<<1|1,u.name,u.value)}function Yy(r,s,u=-1){const y=oi(),x=yn(),O=22+r,z=Zi(y.consts,s),ae=ve();y.firstCreatePass&&function wg(r,s,u,y,x,O){const z=ve(),ae=[],_e=[],ke=[[]];x=function $y(r,s){if(function Ky(r){return-1===r}(s))return Sg(r);{const u=r.indexOf(`:${s}\ufffd`)+2+s.toString().length,y=r.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return Sg(r.substring(u,y))}}(x,O);const ct=function bg(r){return r.replace(Hy," ")}(x).split(Vy);for(let At=0;At<ct.length;At++){let Vt=ct[At];if(0==(1&At)){const tn=rp(Vt);for(let wn=0;wn<tn.length;wn++){let Bn=tn[wn];if(0==(1&wn)){const $n=Bn;""!==$n&&Jy(r,z,ke[0],ae,_e,u,$n)}else{const $n=Bn;if("object"!=typeof $n)throw new Error(`Unable to parse ICU expression in "${x}" message.`);xg(r,u,_e,s,$n,Tg(r,z,ke[0],u,ae,"",!0).index)}}}else{const tn=47===Vt.charCodeAt(0),Bn=(Vt.charCodeAt(tn?1:0),22+Number.parseInt(Vt.substring(tn?2:1)));if(tn)ke.shift(),ie(ve(),!1);else{const $n=vb(r,ke[0],Bn);ke.unshift([]),ie($n,!0)}}}r.data[y]={create:ae,update:_e}}(y,null===ae?0:ae.index,x,O,z,u);const _e=y.data[O],ct=Ef(y,ae===x[6]?null:ae,x);(function bb(r,s,u,y){const x=r[11];for(let O=0;O<s.length;O++){const z=s[O++],ae=s[O],_e=(z&js.COMMENT)===js.COMMENT,ke=(z&js.APPEND_EAGERLY)===js.APPEND_EAGERLY,ct=z>>>js.SHIFT;let At=r[ct];null===At&&(At=r[ct]=_e?x.createComment(ae):eh(x,ae)),ke&&null!==u&&Cl(x,u,At,y,!1)}})(x,_e.create,ct,ae&&8&ae.type?x[ae.index]:null),jt(!0)}function e1(r,s,u){Yy(r,s,u),function Xy(){jt(!1)}()}function Ig(r){return function ky(r){r&&(cd|=1<<Math.min(ud,31)),ud++}(To(yn(),je(),r)),Ig}function t1(r){!function Cb(r,s,u){if(ud>0){const y=r.data[u];Py(r,s,Array.isArray(y)?y:y.update,vi()-ud-1,cd)}cd=0,ud=0}(oi(),yn(),r+22)}function Og(r,s,u,y,x){if(r=P(r),Array.isArray(r))for(let O=0;O<r.length;O++)Og(r[O],s,u,y,x);else{const O=oi(),z=yn();let ae=_l(r)?r:P(r.provide),_e=nf(r);const ke=Xi(),ct=1048575&ke.providerIndexes,At=ke.directiveStart,Vt=ke.providerIndexes>>20;if(_l(r)||!r.multi){const tn=new Ts(_e,x,Ha),wn=Ng(ae,s,x?ct:ct+Vt,At);-1===wn?(Ve(Ys(ke,z),O,ae),Mg(O,r,s.length),s.push(ae),ke.directiveStart++,ke.directiveEnd++,x&&(ke.providerIndexes+=1048576),u.push(tn),z.push(tn)):(u[wn]=tn,z[wn]=tn)}else{const tn=Ng(ae,s,ct+Vt,At),wn=Ng(ae,s,ct,ct+Vt),Bn=tn>=0&&u[tn],$n=wn>=0&&u[wn];if(x&&!$n||!x&&!Bn){Ve(Ys(ke,z),O,ae);const li=function ma(r,s,u,y,x){const O=new Ts(r,u,Ha);return O.multi=[],O.index=s,O.componentProviders=0,i1(O,x,y&&!u),O}(x?Rg:Ub,u.length,x,y,_e);!x&&$n&&(u[wn].providerFactory=li),Mg(O,r,s.length,0),s.push(ae),ke.directiveStart++,ke.directiveEnd++,x&&(ke.providerIndexes+=1048576),u.push(li),z.push(li)}else Mg(O,r,tn>-1?tn:wn,i1(u[x?wn:tn],_e,!x&&y));!x&&y&&$n&&u[wn].componentProviders++}}}function Mg(r,s,u,y){const x=_l(s),O=function Z_(r){return!!r.useClass}(s);if(x||O){const _e=(O?P(s.useClass):s).prototype.ngOnDestroy;if(_e){const ke=r.destroyHooks||(r.destroyHooks=[]);if(!x&&s.multi){const ct=ke.indexOf(u);-1===ct?ke.push(u,[y,_e]):ke[ct+1].push(y,_e)}else ke.push(u,_e)}}}function i1(r,s,u){return u&&r.componentProviders++,r.multi.push(s)-1}function Ng(r,s,u,y){for(let x=u;x<y;x++)if(s[x]===r)return x;return-1}function Ub(r,s,u,y){return kg(this.multi,[])}function Rg(r,s,u,y){const x=this.multi;let O;if(this.providerFactory){const z=this.providerFactory.componentProviders,ae=Ue(u,u[1],this.providerFactory.index,y);O=ae.slice(0,z),kg(x,O);for(let _e=z;_e<ae.length;_e++)O.push(ae[_e])}else O=[],kg(x,O);return O}function kg(r,s){for(let u=0;u<r.length;u++)s.push((0,r[u])());return s}function ys(r,s=[]){return u=>{u.providersResolver=(y,x)=>function Bb(r,s,u){const y=oi();if(y.firstCreatePass){const x=qn(r);Og(u,y.data,y.blueprint,x,!0),Og(s,y.data,y.blueprint,x,!1)}}(y,x?x(r):r,s)}}class rl{}class ap{}function lp(r,s){return new Pg(r,s??null)}class Pg extends rl{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ol(this);const y=_t(s);this._bootstrapComponents=Va(y.bootstrap),this._r3Injector=Gf(s,u,[{provide:rl,useValue:this},{provide:xc,useValue:this.componentFactoryResolver}],f(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class zc extends ap{constructor(s){super(),this.moduleType=s}create(s){return new Pg(this.moduleType,s)}}class Zb extends rl{constructor(s,u,y){super(),this.componentFactoryResolver=new Ol(this),this.instance=null;const x=new tf([...s,{provide:rl,useValue:this},{provide:xc,useValue:this.componentFactoryResolver}],u||Au(),y,new Set(["environment"]));this.injector=x,x.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Rl(r,s,u=null){return new Zb(r,s,u).injector}let dd=(()=>{class r{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const y=bu(0,u.type),x=y.length>0?Rl([y],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,x)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=lt({token:r,providedIn:"environment",factory:()=>new r(Qr(vl))}),r})();function cp(r){r.getStandaloneInjector=s=>s.get(dd).getOrCreateStandaloneInjector(r)}function r1(r,s,u){const y=er()+r,x=yn();return x[y]===Qi?da(x,y,u?s.call(u):s()):Zc(x,y)}function s1(r,s,u,y){return hp(yn(),er(),r,s,u,y)}function o1(r,s,u,y,x){return pp(yn(),er(),r,s,u,y,x)}function a1(r,s,u,y,x,O){return fp(yn(),er(),r,s,u,y,x,O)}function l1(r,s,u,y,x,O,z){return function Yc(r,s,u,y,x,O,z,ae,_e){const ke=s+u;return ha(r,ke,x,O,z,ae)?da(r,ke+4,_e?y.call(_e,x,O,z,ae):y(x,O,z,ae)):qc(r,ke+4)}(yn(),er(),r,s,u,y,x,O,z)}function c1(r,s,u,y,x,O,z,ae){const _e=er()+r,ke=yn(),ct=ha(ke,_e,u,y,x,O);return To(ke,_e+4,z)||ct?da(ke,_e+5,ae?s.call(ae,u,y,x,O,z):s(u,y,x,O,z)):Zc(ke,_e+5)}function u1(r,s,u,y,x,O,z,ae,_e){const ke=er()+r,ct=yn(),At=ha(ct,ke,u,y,x,O);return Ml(ct,ke+4,z,ae)||At?da(ct,ke+6,_e?s.call(_e,u,y,x,O,z,ae):s(u,y,x,O,z,ae)):Zc(ct,ke+6)}function qc(r,s){const u=r[s];return u===Qi?void 0:u}function hp(r,s,u,y,x,O){const z=s+u;return To(r,z,x)?da(r,z+1,O?y.call(O,x):y(x)):qc(r,z+1)}function pp(r,s,u,y,x,O,z){const ae=s+u;return Ml(r,ae,x,O)?da(r,ae+2,z?y.call(z,x,O):y(x,O)):qc(r,ae+2)}function fp(r,s,u,y,x,O,z,ae){const _e=s+u;return function qu(r,s,u,y,x){const O=Ml(r,s,u,y);return To(r,s+2,x)||O}(r,_e,x,O,z)?da(r,_e+3,ae?y.call(ae,x,O,z):y(x,O,z)):qc(r,_e+3)}function Xc(r,s){const u=oi();let y;const x=r+22;u.firstCreatePass?(y=function $b(r,s){if(s)for(let u=s.length-1;u>=0;u--){const y=s[u];if(r===y.name)return y}}(s,u.pipeRegistry),u.data[x]=y,y.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(x,y.onDestroy)):y=u.data[x];const O=y.factory||(y.factory=pr(y.type)),z=Ye(Ha);try{const ae=zs(!1),_e=O();return zs(ae),function YC(r,s,u,y){u>=r.data.length&&(r.data[u]=null,r.blueprint[u]=null),s[u]=y}(u,yn(),x,_e),_e}finally{Ye(z)}}function sl(r,s,u){const y=r+22,x=yn(),O=zr(x,y);return za(x,y)?hp(x,er(),s,O.transform,u,O):O.transform(u)}function h1(r,s,u,y){const x=r+22,O=yn(),z=zr(O,x);return za(O,x)?pp(O,er(),s,z.transform,u,y,z):z.transform(u,y)}function Hg(r,s,u,y,x){const O=r+22,z=yn(),ae=zr(z,O);return za(z,O)?fp(z,er(),s,ae.transform,u,y,x,ae):ae.transform(u,y,x)}function za(r,s){return r[1].data[s].pure}function mp(r){return s=>{setTimeout(r,void 0,s)}}const Na=class f1 extends t.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,y){let x=s,O=u||(()=>null),z=y;if(s&&"object"==typeof s){var ae,_e,ke;const At=s;x=null===(ae=At.next)||void 0===ae?void 0:ae.bind(At),O=null===(_e=At.error)||void 0===_e?void 0:_e.bind(At),z=null===(ke=At.complete)||void 0===ke?void 0:ke.bind(At)}this.__isAsync&&(O=mp(O),x&&(x=mp(x)),z&&(z=mp(z)));const ct=super.subscribe({next:x,error:O,complete:z});return s instanceof e.w0&&s.add(ct),ct}};function m1(){return this._results[Ea()]()}class gp{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ea(),y=gp.prototype;y[u]||(y[u]=m1)}get changes(){return this._changes||(this._changes=new Na)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const y=this;y.dirty=!1;const x=Hs(s);(this._changesDetected=!function Bl(r,s,u){if(r.length!==s.length)return!1;for(let y=0;y<r.length;y++){let x=r[y],O=s[y];if(u&&(x=u(x),O=u(O)),O!==x)return!1}return!0}(y._results,x,u))&&(y._results=x,y.length=x.length,y.last=x[this.length-1],y.first=x[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hc=(()=>{class r{}return r.__NG_ELEMENT_ID__=_1,r})();const g1=hc,Wg=class extends g1{constructor(s,u,y){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=y}createEmbeddedView(s,u){const y=this._declarationTContainer.tViews,x=Uo(this._declarationLView,y,s,16,null,y.declTNode,null,null,null,null,u||null);x[17]=this._declarationLView[this._declarationTContainer.index];const z=this._declarationLView[19];return null!==z&&(x[19]=z.createEmbeddedView(y)),Al(y,x,s),new Bc(x)}};function _1(){return eu(Xi(),yn())}function eu(r,s){return 4&r.type?new Wg(s,r,wa(r,s)):null}let pc=(()=>{class r{}return r.__NG_ELEMENT_ID__=_p,r})();function _p(){return v1(Xi(),yn())}const jg=pc,Kg=class extends jg{constructor(s,u,y){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=y}get element(){return wa(this._hostTNode,this._hostLView)}get injector(){return new Di(this._hostTNode,this._hostLView)}get parentInjector(){const s=xe(this._hostTNode,this._hostLView);if(Ss(s)){const u=Qs(s,this._hostLView),y=Mr(s);return new Di(u[1].data[y+8],u)}return new Di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=$g(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,y){let x,O;"number"==typeof y?x=y:null!=y&&(x=y.index,O=y.injector);const z=s.createEmbeddedView(u||{},O);return this.insert(z,x),z}createComponent(s,u,y,x,O){const z=s&&!function xo(r){return"function"==typeof r}(s);let ae;if(z)ae=u;else{const At=u||{};ae=At.index,y=At.injector,x=At.projectableNodes,O=At.environmentInjector||At.ngModuleRef}const _e=z?s:new Uc($t(s)),ke=y||this.parentInjector;if(!O&&null==_e.ngModule){const Vt=(z?ke:this.parentInjector).get(vl,null);Vt&&(O=Vt)}const ct=_e.create(ke,x,void 0,O);return this.insert(ct.hostView,ae),ct}insert(s,u){const y=s._lView,x=y[1];if(function ao(r){return In(r[3])}(y)){const ct=this.indexOf(s);if(-1!==ct)this.detach(ct);else{const At=y[3],Vt=new Kg(At,At[6],At[3]);Vt.detach(Vt.indexOf(s))}}const O=this._adjustIndex(u),z=this._lContainer;!function Ov(r,s,u,y){const x=10+y,O=u.length;y>0&&(u[x-1][4]=s),y<O-10?(s[4]=u[x],Pa(u,10+y,s)):(u.push(s),s[4]=null),s[3]=u;const z=s[17];null!==z&&u!==z&&function Mv(r,s){const u=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===u?r[9]=[s]:u.push(s)}(z,s);const ae=s[19];null!==ae&&ae.insertView(r),s[2]|=64}(x,y,z,O);const ae=sh(O,z),_e=y[11],ke=Iu(_e,z[7]);return null!==ke&&function Dv(r,s,u,y,x,O){y[0]=x,y[6]=s,Oc(r,y,u,1,x,O)}(x,z[6],_e,y,ke,ae),s.attachToViewContainerRef(),Pa(tu(z),O,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=$g(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),y=nh(this._lContainer,u);y&&(_a(tu(this._lContainer),u),jl(y[1],y))}detach(s){const u=this._adjustIndex(s,-1),y=nh(this._lContainer,u);return y&&null!=_a(tu(this._lContainer),u)?new Bc(y):null}_adjustIndex(s,u=0){return s??this.length+u}};function $g(r){return r[8]}function tu(r){return r[8]||(r[8]=[])}function v1(r,s){let u;const y=s[r.index];if(In(y))u=y;else{let x;if(8&r.type)x=Vi(y);else{const O=s[11];x=O.createComment("");const z=Xr(r,s);Cl(O,Iu(O,z),x,function Pv(r,s){return r.nextSibling(s)}(O,z),!1)}s[r.index]=u=ql(y,s,x,r),Ku(s,u)}return new Kg(u,r,s)}class pd{constructor(s){this.queryList=s,this.matches=null}clone(){return new pd(this.queryList)}setDirty(){this.queryList.setDirty()}}class fd{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const y=null!==s.contentQueries?s.contentQueries[0]:u.length,x=[];for(let O=0;O<y;O++){const z=u.getByIndex(O);x.push(this.queries[z.indexInDeclarationView].clone())}return new fd(x)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==w1(s,u).matches&&this.queries[u].setDirty()}}class vp{constructor(s,u,y=null){this.predicate=s,this.flags=u,this.read=y}}class md{constructor(s=[]){this.queries=s}elementStart(s,u){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let y=0;y<this.length;y++){const x=null!==u?u.length:0,O=this.getByIndex(y).embeddedTView(s,x);O&&(O.indexInDeclarationView=y,null!==u?u.push(O):u=[O])}return null!==u?new md(u):null}template(s,u){for(let y=0;y<this.queries.length;y++)this.queries[y].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class gd{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new gd(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let y=s.parent;for(;null!==y&&8&y.type&&y.index!==u;)y=y.parent;return u===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const y=this.metadata.predicate;if(Array.isArray(y))for(let x=0;x<y.length;x++){const O=y[x];this.matchTNodeWithReadOption(s,u,Gg(u,O)),this.matchTNodeWithReadOption(s,u,ue(u,s,O,!1,!1))}else y===hc?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,ue(u,s,y,!1,!1))}matchTNodeWithReadOption(s,u,y){if(null!==y){const x=this.metadata.read;if(null!==x)if(x===yl||x===pc||x===hc&&4&u.type)this.addMatch(u.index,-2);else{const O=ue(u,s,x,!1,!1);null!==O&&this.addMatch(u.index,O)}else this.addMatch(u.index,y)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function Gg(r,s){const u=r.localNames;if(null!==u)for(let y=0;y<u.length;y+=2)if(u[y]===s)return u[y+1];return null}function Qb(r,s,u,y){return-1===u?function Qg(r,s){return 11&r.type?wa(r,s):4&r.type?eu(r,s):null}(s,r):-2===u?function qb(r,s,u){return u===yl?wa(s,r):u===hc?eu(s,r):u===pc?v1(s,r):void 0}(r,s,y):Ue(r,r[1],u,s)}function yp(r,s,u,y){const x=s[19].queries[y];if(null===x.matches){const O=r.data,z=u.matches,ae=[];for(let _e=0;_e<z.length;_e+=2){const ke=z[_e];ae.push(ke<0?null:Qb(s,O[ke],z[_e+1],u.metadata.read))}x.matches=ae}return x.matches}function Cp(r,s,u,y){const x=r.queries.getByIndex(u),O=x.matches;if(null!==O){const z=yp(r,s,x,u);for(let ae=0;ae<O.length;ae+=2){const _e=O[ae];if(_e>0)y.push(z[ae/2]);else{const ke=O[ae+1],ct=s[-_e];for(let At=10;At<ct.length;At++){const Vt=ct[At];Vt[17]===Vt[3]&&Cp(Vt[1],Vt,ke,y)}if(null!==ct[9]){const At=ct[9];for(let Vt=0;Vt<At.length;Vt++){const tn=At[Vt];Cp(tn[1],tn,ke,y)}}}}}return y}function qg(r){const s=yn(),u=oi(),y=jn();ur(y+1);const x=w1(u,y);if(r.dirty&&function Gr(r){return 4==(4&r[2])}(s)===(2==(2&x.metadata.flags))){if(null===x.matches)r.reset([]);else{const O=x.crossesNgTemplate?Cp(u,s,y,[]):yp(u,s,x,y);r.reset(O,q_),r.notifyOnChanges()}return!0}return!1}function Yg(r,s,u){const y=oi();y.firstCreatePass&&(b1(y,new vp(r,s,u),-1),2==(2&s)&&(y.staticViewQueries=!0)),C1(y,yn(),s)}function Xg(r,s,u,y){const x=oi();if(x.firstCreatePass){const O=Xi();b1(x,new vp(s,u,y),O.index),function Yb(r,s){const u=r.contentQueries||(r.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(r.queries.length-1,s)}(x,r),2==(2&u)&&(x.staticContentQueries=!0)}C1(x,yn(),u)}function bp(){return function y1(r,s){return r[19].queries[s].queryList}(yn(),jn())}function C1(r,s,u){const y=new gp(4==(4&u));mm(r,s,y,y.destroy),null===s[19]&&(s[19]=new fd),s[19].queries.push(new pd(y))}function b1(r,s,u){null===r.queries&&(r.queries=new md),r.queries.track(new gd(s,u))}function w1(r,s){return r.queries.getByIndex(s)}function T1(r,s){return eu(r,s)}function yd(...r){}const o_=new Ki("Application Initializer");let Cd=(()=>{class r{constructor(u){this.appInits=u,this.resolve=yd,this.reject=yd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,x)=>{this.resolve=y,this.reject=x})}runInitializers(){if(this.initialized)return;const u=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let x=0;x<this.appInits.length;x++){const O=this.appInits[x]();if(Lm(O))u.push(O);else if(G0(O)){const z=new Promise((ae,_e)=>{O.subscribe({complete:ae,error:_e})});u.push(z)}}Promise.all(u).then(()=>{y()}).catch(x=>{this.reject(x)}),0===u.length&&y(),this.initialized=!0}}return r.\u0275fac=function(u){return new(u||r)(Qr(o_,8))},r.\u0275prov=lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const J1=new Ki("AppId",{providedIn:"root",factory:function l(){return`${n()}${n()}${n()}`}});function n(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const d=new Ki("Platform Initializer"),A=new Ki("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),M=new Ki("appBootstrapListener"),Pe=new Ki("AnimationModuleType");let Qe=(()=>{class r{log(u){console.log(u)}warn(u){console.warn(u)}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275prov=lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Ft=new Ki("LocaleId",{providedIn:"root",factory:()=>lu(Ft,i.Optional|i.SkipSelf)||function xt(){return typeof $localize<"u"&&$localize.locale||cc}()}),cn=new Ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class On{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let ei=(()=>{class r{compileModuleSync(u){return new zc(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const y=this.compileModuleSync(u),O=Va(_t(u).declarations).reduce((z,ae)=>{const _e=$t(ae);return _e&&z.push(new Uc(_e)),z},[]);return new On(y,O)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275prov=lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ir=(()=>Promise.resolve(0))();function gs(r){typeof Zone>"u"?ir.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class cr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Na(!1),this.onMicrotaskEmpty=new Na(!1),this.onStable=new Na(!1),this.onError=new Na(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();const x=this;if(x._nesting=0,x._outer=x._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const O=Zone.AsyncStackTaggingZoneSpec;x._inner=x._inner.fork(new O("Angular"))}Zone.TaskTrackingZoneSpec&&(x._inner=x._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(x._inner=x._inner.fork(Zone.longStackTraceZoneSpec)),x.shouldCoalesceEventChangeDetection=!y&&u,x.shouldCoalesceRunChangeDetection=y,x.lastRequestAnimationFrameId=-1,x.nativeRequestAnimationFrame=function Wr(){let r=U.requestAnimationFrame,s=U.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u);const y=s[Zone.__symbol__("OriginalDelegate")];y&&(s=y)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ra(r){const s=()=>{!function Zo(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(U,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Kn(r),r.isCheckStableRunning=!0,Ns(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Kn(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,y,x,O,z,ae)=>{try{return ni(r),u.invokeTask(x,O,z,ae)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===O.type||r.shouldCoalesceRunChangeDetection)&&s(),Ci(r)}},onInvoke:(u,y,x,O,z,ae,_e)=>{try{return ni(r),u.invoke(x,O,z,ae,_e)}finally{r.shouldCoalesceRunChangeDetection&&s(),Ci(r)}},onHasTask:(u,y,x,O)=>{u.hasTask(x,O),y===x&&("microTask"==O.change?(r._hasPendingMicrotasks=O.microTask,Kn(r),Ns(r)):"macroTask"==O.change&&(r.hasPendingMacrotasks=O.macroTask))},onHandleError:(u,y,x,O)=>(u.handleError(x,O),r.runOutsideAngular(()=>r.onError.emit(O)),!1)})}(x)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cr.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(cr.isInAngularZone())throw new L(909,!1)}run(s,u,y){return this._inner.run(s,u,y)}runTask(s,u,y,x){const O=this._inner,z=O.scheduleEventTask("NgZoneEvent: "+x,s,ho,yd,yd);try{return O.runTask(z,u,y)}finally{O.cancelTask(z)}}runGuarded(s,u,y){return this._inner.runGuarded(s,u,y)}runOutsideAngular(s){return this._outer.run(s)}}const ho={};function Ns(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Kn(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function ni(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Ci(r){r._nesting--,Ns(r)}class $i{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Na,this.onMicrotaskEmpty=new Na,this.onStable=new Na,this.onError=new Na}run(s,u,y){return s.apply(u,y)}runGuarded(s,u,y){return s.apply(u,y)}runOutsideAngular(s){return s()}runTask(s,u,y,x){return s.apply(u,y)}}const ns=new Ki(""),No=new Ki("");let Qo,to=(()=>{class r{constructor(u,y,x){this._ngZone=u,this.registry=y,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qo||(function $r(r){Qo=r}(x),x.addToWindow(y)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cr.assertNotInAngularZone(),gs(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gs(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(u)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,y,x){let O=-1;y&&y>0&&(O=setTimeout(()=>{this._callbacks=this._callbacks.filter(z=>z.timeoutId!==O),u(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:u,timeoutId:O,updateCb:x})}whenStable(u,y,x){if(x&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,y,x),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,y,x){return[]}}return r.\u0275fac=function(u){return new(u||r)(Qr(cr),Qr(Vo),Qr(No))},r.\u0275prov=lt({token:r,factory:r.\u0275fac}),r})(),Vo=(()=>{class r{constructor(){this._applications=new Map}registerApplication(u,y){this._applications.set(u,y)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,y=!0){var x,O;return null!==(x=null===(O=Qo)||void 0===O?void 0:O.findTestabilityInTree(this,u,y))&&void 0!==x?x:null}}return r.\u0275fac=function(u){return new(u||r)},r.\u0275prov=lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Ho=null;const Fs=new Ki("AllowMultipleToken"),po=new Ki("PlatformDestroyListeners");class a_{constructor(s,u){this.name=s,this.token=u}}function l_(r,s,u=[]){const y=`Platform: ${s}`,x=new Ki(y);return(O=[])=>{let z=bd();if(!z||z.injector.get(Fs,!1)){const ae=[...u,...O,{provide:x,useValue:!0}];r?r(ae):function j1(r){if(Ho&&!Ho.get(Fs,!1))throw new L(400,!1);Ho=r;const s=r.get(Ip);(function Ep(r){const s=r.get(d,null);s&&s.forEach(u=>u())})(r)}(function ol(r=[],s){return bl.create({name:s,providers:[{provide:Pd,useValue:"platform"},{provide:po,useValue:new Set([()=>Ho=null])},...r]})}(ae,y))}return function z1(r){const s=bd();if(!s)throw new L(401,!1);return s}()}}function bd(){var r,s;return null!==(r=null===(s=Ho)||void 0===s?void 0:s.get(Ip))&&void 0!==r?r:null}let Ip=(()=>{class r{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,y){const x=function Op(r,s){let u;return u="noop"===r?new $i:("zone.js"===r?void 0:r)||new cr(s),u}(y?.ngZone,function wd(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(y)),O=[{provide:cr,useValue:x}];return x.run(()=>{const z=bl.create({providers:O,parent:this.injector,name:u.moduleType.name}),ae=u.create(z),_e=ae.injector.get(Ec,null);if(!_e)throw new L(402,!1);return x.runOutsideAngular(()=>{const ke=x.onError.subscribe({next:ct=>{_e.handleError(ct)}});ae.onDestroy(()=>{c_(this._modules,ae),ke.unsubscribe()})}),function Mp(r,s,u){try{const y=u();return Lm(y)?y.catch(x=>{throw s.runOutsideAngular(()=>r.handleError(x)),x}):y}catch(y){throw s.runOutsideAngular(()=>r.handleError(y)),y}}(_e,x,()=>{const ke=ae.injector.get(Cd);return ke.runInitializers(),ke.donePromise.then(()=>(Oy(ae.injector.get(Ft,cc)||cc),this._moduleDoBootstrap(ae),ae))})})}bootstrapModule(u,y=[]){const x=Np({},y);return function fc(r,s,u){const y=new zc(u);return Promise.resolve(y)}(0,0,u).then(O=>this.bootstrapModuleFactory(O,x))}_moduleDoBootstrap(u){const y=u.injector.get(ru);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(x=>y.bootstrap(x));else{if(!u.instance.ngDoBootstrap)throw new L(403,!1);u.instance.ngDoBootstrap(y)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(y=>y.destroy()),this._destroyListeners.forEach(y=>y());const u=this._injector.get(po,null);u&&(u.forEach(y=>y()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(u){return new(u||r)(Qr(bl))},r.\u0275prov=lt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function Np(r,s){return Array.isArray(s)?s.reduce(Np,r):{...r,...s}}let ru=(()=>{class r{constructor(u,y,x){this._zone=u,this._injector=y,this._exceptionHandler=x,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const O=new m.y(ae=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ae.next(this._stable),ae.complete()})}),z=new m.y(ae=>{let _e;this._zone.runOutsideAngular(()=>{_e=this._zone.onStable.subscribe(()=>{cr.assertNotInAngularZone(),gs(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ae.next(!0))})})});const ke=this._zone.onUnstable.subscribe(()=>{cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ae.next(!1)}))});return()=>{_e.unsubscribe(),ke.unsubscribe()}});this.isStable=(0,T.T)(O,z.pipe((0,C.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,y){const x=u instanceof rf;if(!this._injector.get(Cd).done)throw!x&&bt(u),new L(405,false);let z;z=x?u:this._injector.get(xc).resolveComponentFactory(u),this.componentTypes.push(z.componentType);const ae=function W1(r){return r.isBoundToModule}(z)?void 0:this._injector.get(rl),ke=z.create(bl.NULL,[],y||z.selector,ae),ct=ke.location.nativeElement,At=ke.injector.get(ns,null);return At?.registerApplication(ct),ke.onDestroy(()=>{this.detachView(ke.hostView),c_(this.components,ke),At?.unregisterApplication(ct)}),this._loadComponent(ke),ke}tick(){if(this._runningTick)throw new L(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const y=u;this._views.push(y),y.attachToAppRef(this)}detachView(u){const y=u;c_(this._views,y),y.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(M,[]).concat(this._bootstrapListeners).forEach(x=>x(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>c_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new L(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(u){return new(u||r)(Qr(cr),Qr(vl),Qr(Ec))},r.\u0275prov=lt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function c_(r,s){const u=r.indexOf(s);u>-1&&r.splice(u,1)}let bw=!0,ww=!1;function jw(){return ww=!0,bw}function Kw(){if(ww)throw new Error("Cannot enable prod mode after platform setup.");bw=!1}let $w=(()=>{class r{}return r.__NG_ELEMENT_ID__=zw,r})();function zw(r){return function Gw(r,s,u){if(xi(r)&&!u){const y=Wi(r.index,s);return new Bc(y,y)}return 47&r.type?new Bc(s[16],s):null}(Xi(),yn(),16==(16&r))}class xw{constructor(){}supports(s){return Fc(s)}create(s){return new tT(s)}}const eT=(r,s)=>s;class tT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||eT}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,y=this._removalsHead,x=0,O=null;for(;u||y;){const z=!y||u&&u.currentIndex<Dw(y,x,O)?u:y,ae=Dw(z,x,O),_e=z.currentIndex;if(z===y)x--,y=y._nextRemoved;else if(u=u._next,null==z.previousIndex)x++;else{O||(O=[]);const ke=ae-x,ct=_e-x;if(ke!=ct){for(let Vt=0;Vt<ke;Vt++){const tn=Vt<O.length?O[Vt]:O[Vt]=0,wn=tn+Vt;ct<=wn&&wn<ke&&(O[Vt]=tn+1)}O[z.previousIndex]=ct-ke}}ae!==_e&&s(z,ae,_e)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!Fc(s))throw new L(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let x,O,z,u=this._itHead,y=!1;if(Array.isArray(s)){this.length=s.length;for(let ae=0;ae<this.length;ae++)O=s[ae],z=this._trackByFn(ae,O),null!==u&&Object.is(u.trackById,z)?(y&&(u=this._verifyReinsertion(u,O,z,ae)),Object.is(u.item,O)||this._addIdentityChange(u,O)):(u=this._mismatch(u,O,z,ae),y=!0),u=u._next}else x=0,function V0(r,s){if(Array.isArray(r))for(let u=0;u<r.length;u++)s(r[u]);else{const u=r[Ea()]();let y;for(;!(y=u.next()).done;)s(y.value)}}(s,ae=>{z=this._trackByFn(x,ae),null!==u&&Object.is(u.trackById,z)?(y&&(u=this._verifyReinsertion(u,ae,z,x)),Object.is(u.item,ae)||this._addIdentityChange(u,ae)):(u=this._mismatch(u,ae,z,x),y=!0),u=u._next,x++}),this.length=x;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,y,x){let O;return null===s?O=this._itTail:(O=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,O,x)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(y,x))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,O,x)):s=this._addAfter(new nT(u,y),O,x),s}_verifyReinsertion(s,u,y,x){let O=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==O?s=this._reinsertAfter(O,s._prev,x):s.currentIndex!=x&&(s.currentIndex=x,this._addToMoves(s,x)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const x=s._prevRemoved,O=s._nextRemoved;return null===x?this._removalsHead=O:x._nextRemoved=O,null===O?this._removalsTail=x:O._prevRemoved=x,this._insertAfter(s,u,y),this._addToMoves(s,y),s}_moveAfter(s,u,y){return this._unlink(s),this._insertAfter(s,u,y),this._addToMoves(s,y),s}_addAfter(s,u,y){return this._insertAfter(s,u,y),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,y){const x=null===u?this._itHead:u._next;return s._next=x,s._prev=u,null===x?this._itTail=s:x._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ew),this._linkedRecords.put(s),s.currentIndex=y,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,y=s._next;return null===u?this._itHead=y:u._next=y,null===y?this._itTail=u:y._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ew),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class nT{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===u||u<=y.currentIndex)&&Object.is(y.trackById,s))return y;return null}remove(s){const u=s._prevDup,y=s._nextDup;return null===u?this._head=y:u._nextDup=y,null===y?this._tail=u:y._prevDup=u,null===this._head}}class Ew{constructor(){this.map=new Map}put(s){const u=s.trackById;let y=this.map.get(u);y||(y=new iT,this.map.set(u,y)),y.add(s)}get(s,u){const x=this.map.get(s);return x?x.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dw(r,s,u){const y=r.previousIndex;if(null===y)return y;let x=0;return u&&y<u.length&&(x=u[y]),y+s+x}class Iw{constructor(){}supports(s){return s instanceof Map||kh(s)}create(){return new rT}}class rT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||kh(s)))throw new L(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(y,x)=>{if(u&&u.key===x)this._maybeAddToChanges(u,y),this._appendAfter=u,u=u._next;else{const O=this._getOrCreateRecordForKey(x,y);u=this._insertBeforeOrAppend(u,O)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let y=u;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const y=s._prev;return u._next=s,u._prev=y,s._prev=u,y&&(y._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const x=this._records.get(s);this._maybeAddToChanges(x,u);const O=x._prev,z=x._next;return O&&(O._next=z),z&&(z._prev=O),x._next=null,x._prev=null,x}const y=new sT(s);return this._records.set(s,y),y.currentValue=u,this._addToAdditions(y),y}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(y=>u(s[y],y))}}class sT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ow(){return new X1([new xw])}let X1=(()=>{class r{constructor(u){this.factories=u}static create(u,y){if(null!=y){const x=y.factories.slice();u=u.concat(x)}return new r(u)}static extend(u){return{provide:r,useFactory:y=>r.create(u,y||Ow()),deps:[[r,new yc,new Yo]]}}find(u){const y=this.factories.find(x=>x.supports(u));if(null!=y)return y;throw new L(901,!1)}}return r.\u0275prov=lt({token:r,providedIn:"root",factory:Ow}),r})();function Mw(){return new eC([new Iw])}let eC=(()=>{class r{constructor(u){this.factories=u}static create(u,y){if(y){const x=y.factories.slice();u=u.concat(x)}return new r(u)}static extend(u){return{provide:r,useFactory:y=>r.create(u,y||Mw()),deps:[[r,new yc,new Yo]]}}find(u){const y=this.factories.find(x=>x.supports(u));if(y)return y;throw new L(901,!1)}}return r.\u0275prov=lt({token:r,providedIn:"root",factory:Mw}),r})();const lT=l_(null,"core",[]);let cT=(()=>{class r{constructor(u){}}return r.\u0275fac=function(u){return new(u||r)(Qr(ru))},r.\u0275mod=An({type:r}),r.\u0275inj=pt({}),r})();function uT(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function hT(r,s){const u=$t(r),y=s.elementInjector||Au();return new Uc(u).create(y,s.projectableNodes,s.hostElement,s.environmentInjector)}},4006:(dt,Ce,p)=>{"use strict";p.d(Ce,{Cf:()=>N,EJ:()=>vr,F:()=>Ln,Fj:()=>k,JJ:()=>i,JL:()=>we,JU:()=>f,Kr:()=>jr,On:()=>hr,Q7:()=>ks,QS:()=>hi,UX:()=>ki,Wl:()=>_,YN:()=>ss,_:()=>us,_Y:()=>Ei,a5:()=>ce,kI:()=>J,nD:()=>Zi,oH:()=>Cs,p4:()=>ft,qQ:()=>no,qu:()=>oi,sg:()=>rr,u:()=>xr,u5:()=>io,wO:()=>as,wV:()=>Mi,x0:()=>ds});var t=p(4650),e=p(6895),m=p(2076),T=p(4128),C=p(4004);let b=(()=>{class Ie{constructor(ie,rt){this._renderer=ie,this._elementRef=rt,this.onChange=rn=>{},this.onTouched=()=>{}}setProperty(ie,rt){this._renderer.setProperty(this._elementRef.nativeElement,ie,rt)}registerOnTouched(ie){this.onTouched=ie}registerOnChange(ie){this.onChange=ie}setDisabledState(ie){this.setProperty("disabled",ie)}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(t.Qsj),t.Y36(t.SBq))},Ie.\u0275dir=t.lG2({type:Ie}),Ie})(),g=(()=>{class Ie extends b{}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,features:[t.qOj]}),Ie})();const f=new t.OlP("NgValueAccessor"),w={provide:f,useExisting:(0,t.Gpc)(()=>_),multi:!0};let _=(()=>{class Ie extends g{writeValue(ie){this.setProperty("checked",ie)}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ie,rt){1&ie&&t.NdJ("change",function(Fn){return rt.onChange(Fn.target.checked)})("blur",function(){return rt.onTouched()})},features:[t._Bn([w]),t.qOj]}),Ie})();const R={provide:f,useExisting:(0,t.Gpc)(()=>k),multi:!0},a=new t.OlP("CompositionEventMode");let k=(()=>{class Ie extends b{constructor(ie,rt,rn){super(ie,rt),this._compositionMode=rn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function P(){const Ie=(0,e.q)()?(0,e.q)().getUserAgent():"";return/android (\d+)/.test(Ie.toLowerCase())}())}writeValue(ie){this.setProperty("value",ie??"")}_handleInput(ie){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ie)}_compositionStart(){this._composing=!0}_compositionEnd(ie){this._composing=!1,this._compositionMode&&this.onChange(ie)}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(a,8))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ie,rt){1&ie&&t.NdJ("input",function(Fn){return rt._handleInput(Fn.target.value)})("blur",function(){return rt.onTouched()})("compositionstart",function(){return rt._compositionStart()})("compositionend",function(Fn){return rt._compositionEnd(Fn.target.value)})},features:[t._Bn([R]),t.qOj]}),Ie})();function Z(Ie){return null==Ie||("string"==typeof Ie||Array.isArray(Ie))&&0===Ie.length}function j(Ie){return null!=Ie&&"number"==typeof Ie.length}const N=new t.OlP("NgValidators"),B=new t.OlP("NgAsyncValidators"),V=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class J{static min(ve){return q(ve)}static max(ve){return function re(Ie){return ve=>{if(Z(ve.value)||Z(Ie))return null;const ie=parseFloat(ve.value);return!isNaN(ie)&&ie>Ie?{max:{max:Ie,actual:ve.value}}:null}}(ve)}static required(ve){return W(ve)}static requiredTrue(ve){return function G(Ie){return!0===Ie.value?null:{required:!0}}(ve)}static email(ve){return function X(Ie){return Z(Ie.value)||V.test(Ie.value)?null:{email:!0}}(ve)}static minLength(ve){return E(ve)}static maxLength(ve){return ne(ve)}static pattern(ve){return function K(Ie){if(!Ie)return le;let ve,ie;return"string"==typeof Ie?(ie="","^"!==Ie.charAt(0)&&(ie+="^"),ie+=Ie,"$"!==Ie.charAt(Ie.length-1)&&(ie+="$"),ve=new RegExp(ie)):(ie=Ie.toString(),ve=Ie),rt=>{if(Z(rt.value))return null;const rn=rt.value;return ve.test(rn)?null:{pattern:{requiredPattern:ie,actualValue:rn}}}}(ve)}static nullValidator(ve){return null}static compose(ve){return Te(ve)}static composeAsync(ve){return at(ve)}}function q(Ie){return ve=>{if(Z(ve.value)||Z(Ie))return null;const ie=parseFloat(ve.value);return!isNaN(ie)&&ie<Ie?{min:{min:Ie,actual:ve.value}}:null}}function W(Ie){return Z(Ie.value)?{required:!0}:null}function E(Ie){return ve=>Z(ve.value)||!j(ve.value)?null:ve.value.length<Ie?{minlength:{requiredLength:Ie,actualLength:ve.value.length}}:null}function ne(Ie){return ve=>j(ve.value)&&ve.value.length>Ie?{maxlength:{requiredLength:Ie,actualLength:ve.value.length}}:null}function le(Ie){return null}function me(Ie){return null!=Ie}function Se(Ie){return(0,t.QGY)(Ie)?(0,m.D)(Ie):Ie}function ye(Ie){let ve={};return Ie.forEach(ie=>{ve=null!=ie?{...ve,...ie}:ve}),0===Object.keys(ve).length?null:ve}function ze(Ie,ve){return ve.map(ie=>ie(Ie))}function qe(Ie){return Ie.map(ve=>function Ee(Ie){return!Ie.validate}(ve)?ve:ie=>ve.validate(ie))}function Te(Ie){if(!Ie)return null;const ve=Ie.filter(me);return 0==ve.length?null:function(ie){return ye(ze(ie,ve))}}function nt(Ie){return null!=Ie?Te(qe(Ie)):null}function at(Ie){if(!Ie)return null;const ve=Ie.filter(me);return 0==ve.length?null:function(ie){const rt=ze(ie,ve).map(Se);return(0,T.D)(rt).pipe((0,C.U)(ye))}}function wt(Ie){return null!=Ie?at(qe(Ie)):null}function lt(Ie,ve){return null===Ie?[ve]:Array.isArray(Ie)?[...Ie,ve]:[Ie,ve]}function mt(Ie){return Ie._rawValidators}function pt(Ie){return Ie._rawAsyncValidators}function Yt(Ie){return Ie?Array.isArray(Ie)?Ie:[Ie]:[]}function un(Ie,ve){return Array.isArray(Ie)?Ie.includes(ve):Ie===ve}function Nt(Ie,ve){const ie=Yt(ve);return Yt(Ie).forEach(rn=>{un(ie,rn)||ie.push(rn)}),ie}function Mt(Ie,ve){return Yt(ve).filter(ie=>!un(Ie,ie))}class Y{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ve){this._rawValidators=ve||[],this._composedValidatorFn=nt(this._rawValidators)}_setAsyncValidators(ve){this._rawAsyncValidators=ve||[],this._composedAsyncValidatorFn=wt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ve){this._onDestroyCallbacks.push(ve)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ve=>ve()),this._onDestroyCallbacks=[]}reset(ve){this.control&&this.control.reset(ve)}hasError(ve,ie){return!!this.control&&this.control.hasError(ve,ie)}getError(ve,ie){return this.control?this.control.getError(ve,ie):null}}class Q extends Y{get formDirective(){return null}get path(){return null}}class ce extends Y{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class We{constructor(ve){this._cd=ve}get isTouched(){var ve,ie;return!(null===(ve=this._cd)||void 0===ve||null===(ie=ve.control)||void 0===ie||!ie.touched)}get isUntouched(){var ve,ie;return!(null===(ve=this._cd)||void 0===ve||null===(ie=ve.control)||void 0===ie||!ie.untouched)}get isPristine(){var ve,ie;return!(null===(ve=this._cd)||void 0===ve||null===(ie=ve.control)||void 0===ie||!ie.pristine)}get isDirty(){var ve,ie;return!(null===(ve=this._cd)||void 0===ve||null===(ie=ve.control)||void 0===ie||!ie.dirty)}get isValid(){var ve,ie;return!(null===(ve=this._cd)||void 0===ve||null===(ie=ve.control)||void 0===ie||!ie.valid)}get isInvalid(){var ve,ie;return!(null===(ve=this._cd)||void 0===ve||null===(ie=ve.control)||void 0===ie||!ie.invalid)}get isPending(){var ve,ie;return!(null===(ve=this._cd)||void 0===ve||null===(ie=ve.control)||void 0===ie||!ie.pending)}get isSubmitted(){var ve;return!(null===(ve=this._cd)||void 0===ve||!ve.submitted)}}let i=(()=>{class Ie extends We{constructor(ie){super(ie)}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(ce,2))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ie,rt){2&ie&&t.ekj("ng-untouched",rt.isUntouched)("ng-touched",rt.isTouched)("ng-pristine",rt.isPristine)("ng-dirty",rt.isDirty)("ng-valid",rt.isValid)("ng-invalid",rt.isInvalid)("ng-pending",rt.isPending)},features:[t.qOj]}),Ie})(),we=(()=>{class Ie extends We{constructor(ie){super(ie)}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(Q,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ie,rt){2&ie&&t.ekj("ng-untouched",rt.isUntouched)("ng-touched",rt.isTouched)("ng-pristine",rt.isPristine)("ng-dirty",rt.isDirty)("ng-valid",rt.isValid)("ng-invalid",rt.isInvalid)("ng-pending",rt.isPending)("ng-submitted",rt.isSubmitted)},features:[t.qOj]}),Ie})();const _n="VALID",sn="INVALID",gt="PENDING",dn="DISABLED";function It(Ie){return(kn(Ie)?Ie.validators:Ie)||null}function Xt(Ie){return Array.isArray(Ie)?nt(Ie):Ie||null}function fn(Ie,ve){return(kn(ve)?ve.asyncValidators:Ie)||null}function An(Ie){return Array.isArray(Ie)?wt(Ie):Ie||null}function kn(Ie){return null!=Ie&&!Array.isArray(Ie)&&"object"==typeof Ie}function Gn(Ie,ve,ie){const rt=Ie.controls;if(!(ve?Object.keys(rt):rt).length)throw new t.vHH(1e3,"");if(!rt[ie])throw new t.vHH(1001,"")}function ti(Ie,ve,ie){Ie._forEachChild((rt,rn)=>{if(void 0===ie[rn])throw new t.vHH(1002,"")})}class ii{constructor(ve,ie){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=ve,this._rawAsyncValidators=ie,this._composedValidatorFn=Xt(this._rawValidators),this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(ve){this._rawValidators=this._composedValidatorFn=ve}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ve){this._rawAsyncValidators=this._composedAsyncValidatorFn=ve}get parent(){return this._parent}get valid(){return this.status===_n}get invalid(){return this.status===sn}get pending(){return this.status==gt}get disabled(){return this.status===dn}get enabled(){return this.status!==dn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ve){this._rawValidators=ve,this._composedValidatorFn=Xt(ve)}setAsyncValidators(ve){this._rawAsyncValidators=ve,this._composedAsyncValidatorFn=An(ve)}addValidators(ve){this.setValidators(Nt(ve,this._rawValidators))}addAsyncValidators(ve){this.setAsyncValidators(Nt(ve,this._rawAsyncValidators))}removeValidators(ve){this.setValidators(Mt(ve,this._rawValidators))}removeAsyncValidators(ve){this.setAsyncValidators(Mt(ve,this._rawAsyncValidators))}hasValidator(ve){return un(this._rawValidators,ve)}hasAsyncValidator(ve){return un(this._rawAsyncValidators,ve)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ve={}){this.touched=!0,this._parent&&!ve.onlySelf&&this._parent.markAsTouched(ve)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ve=>ve.markAllAsTouched())}markAsUntouched(ve={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ie=>{ie.markAsUntouched({onlySelf:!0})}),this._parent&&!ve.onlySelf&&this._parent._updateTouched(ve)}markAsDirty(ve={}){this.pristine=!1,this._parent&&!ve.onlySelf&&this._parent.markAsDirty(ve)}markAsPristine(ve={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ie=>{ie.markAsPristine({onlySelf:!0})}),this._parent&&!ve.onlySelf&&this._parent._updatePristine(ve)}markAsPending(ve={}){this.status=gt,!1!==ve.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ve.onlySelf&&this._parent.markAsPending(ve)}disable(ve={}){const ie=this._parentMarkedDirty(ve.onlySelf);this.status=dn,this.errors=null,this._forEachChild(rt=>{rt.disable({...ve,onlySelf:!0})}),this._updateValue(),!1!==ve.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ve,skipPristineCheck:ie}),this._onDisabledChange.forEach(rt=>rt(!0))}enable(ve={}){const ie=this._parentMarkedDirty(ve.onlySelf);this.status=_n,this._forEachChild(rt=>{rt.enable({...ve,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ve.emitEvent}),this._updateAncestors({...ve,skipPristineCheck:ie}),this._onDisabledChange.forEach(rt=>rt(!1))}_updateAncestors(ve){this._parent&&!ve.onlySelf&&(this._parent.updateValueAndValidity(ve),ve.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ve){this._parent=ve}getRawValue(){return this.value}updateValueAndValidity(ve={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_n||this.status===gt)&&this._runAsyncValidator(ve.emitEvent)),!1!==ve.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ve.onlySelf&&this._parent.updateValueAndValidity(ve)}_updateTreeValidity(ve={emitEvent:!0}){this._forEachChild(ie=>ie._updateTreeValidity(ve)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ve.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dn:_n}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ve){if(this.asyncValidator){this.status=gt,this._hasOwnPendingAsyncValidator=!0;const ie=Se(this.asyncValidator(this));this._asyncValidationSubscription=ie.subscribe(rt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(rt,{emitEvent:ve})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ve,ie={}){this.errors=ve,this._updateControlsErrors(!1!==ie.emitEvent)}get(ve){let ie=ve;return null==ie||(Array.isArray(ie)||(ie=ie.split(".")),0===ie.length)?null:ie.reduce((rt,rn)=>rt&&rt._find(rn),this)}getError(ve,ie){const rt=ie?this.get(ie):this;return rt&&rt.errors?rt.errors[ve]:null}hasError(ve,ie){return!!this.getError(ve,ie)}get root(){let ve=this;for(;ve._parent;)ve=ve._parent;return ve}_updateControlsErrors(ve){this.status=this._calculateStatus(),ve&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ve)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?dn:this.errors?sn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gt)?gt:this._anyControlsHaveStatus(sn)?sn:_n}_anyControlsHaveStatus(ve){return this._anyControls(ie=>ie.status===ve)}_anyControlsDirty(){return this._anyControls(ve=>ve.dirty)}_anyControlsTouched(){return this._anyControls(ve=>ve.touched)}_updatePristine(ve={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ve.onlySelf&&this._parent._updatePristine(ve)}_updateTouched(ve={}){this.touched=this._anyControlsTouched(),this._parent&&!ve.onlySelf&&this._parent._updateTouched(ve)}_registerOnCollectionChange(ve){this._onCollectionChange=ve}_setUpdateStrategy(ve){kn(ve)&&null!=ve.updateOn&&(this._updateOn=ve.updateOn)}_parentMarkedDirty(ve){return!ve&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ve){return null}}class $t extends ii{constructor(ve,ie,rt){super(It(ie),fn(rt,ie)),this.controls=ve,this._initObservables(),this._setUpdateStrategy(ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ve,ie){return this.controls[ve]?this.controls[ve]:(this.controls[ve]=ie,ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange),ie)}addControl(ve,ie,rt={}){this.registerControl(ve,ie),this.updateValueAndValidity({emitEvent:rt.emitEvent}),this._onCollectionChange()}removeControl(ve,ie={}){this.controls[ve]&&this.controls[ve]._registerOnCollectionChange(()=>{}),delete this.controls[ve],this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}setControl(ve,ie,rt={}){this.controls[ve]&&this.controls[ve]._registerOnCollectionChange(()=>{}),delete this.controls[ve],ie&&this.registerControl(ve,ie),this.updateValueAndValidity({emitEvent:rt.emitEvent}),this._onCollectionChange()}contains(ve){return this.controls.hasOwnProperty(ve)&&this.controls[ve].enabled}setValue(ve,ie={}){ti(this,0,ve),Object.keys(ve).forEach(rt=>{Gn(this,!0,rt),this.controls[rt].setValue(ve[rt],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie)}patchValue(ve,ie={}){null!=ve&&(Object.keys(ve).forEach(rt=>{const rn=this.controls[rt];rn&&rn.patchValue(ve[rt],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie))}reset(ve={},ie={}){this._forEachChild((rt,rn)=>{rt.reset(ve[rn],{onlySelf:!0,emitEvent:ie.emitEvent})}),this._updatePristine(ie),this._updateTouched(ie),this.updateValueAndValidity(ie)}getRawValue(){return this._reduceChildren({},(ve,ie,rt)=>(ve[rt]=ie.getRawValue(),ve))}_syncPendingControls(){let ve=this._reduceChildren(!1,(ie,rt)=>!!rt._syncPendingControls()||ie);return ve&&this.updateValueAndValidity({onlySelf:!0}),ve}_forEachChild(ve){Object.keys(this.controls).forEach(ie=>{const rt=this.controls[ie];rt&&ve(rt,ie)})}_setUpControls(){this._forEachChild(ve=>{ve.setParent(this),ve._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ve){for(const[ie,rt]of Object.entries(this.controls))if(this.contains(ie)&&ve(rt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ie,rt,rn)=>((rt.enabled||this.disabled)&&(ie[rn]=rt.value),ie))}_reduceChildren(ve,ie){let rt=ve;return this._forEachChild((rn,Fn)=>{rt=ie(rt,rn,Fn)}),rt}_allControlsDisabled(){for(const ve of Object.keys(this.controls))if(this.controls[ve].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ve){return this.controls.hasOwnProperty(ve)?this.controls[ve]:null}}class bt extends $t{}function Ot(Ie,ve){return[...ve.path,Ie]}function Ze(Ie,ve){var ie,rt;Jt(Ie,ve),ve.valueAccessor.writeValue(Ie.value),Ie.disabled&&(null===(ie=(rt=ve.valueAccessor).setDisabledState)||void 0===ie||ie.call(rt,!0)),function Bt(Ie,ve){ve.valueAccessor.registerOnChange(ie=>{Ie._pendingValue=ie,Ie._pendingChange=!0,Ie._pendingDirty=!0,"change"===Ie.updateOn&&Jn(Ie,ve)})}(Ie,ve),function _i(Ie,ve){const ie=(rt,rn)=>{ve.valueAccessor.writeValue(rt),rn&&ve.viewToModelUpdate(rt)};Ie.registerOnChange(ie),ve._registerOnDestroy(()=>{Ie._unregisterOnChange(ie)})}(Ie,ve),function Mn(Ie,ve){ve.valueAccessor.registerOnTouched(()=>{Ie._pendingTouched=!0,"blur"===Ie.updateOn&&Ie._pendingChange&&Jn(Ie,ve),"submit"!==Ie.updateOn&&Ie.markAsTouched()})}(Ie,ve),function yt(Ie,ve){if(ve.valueAccessor.setDisabledState){const ie=rt=>{ve.valueAccessor.setDisabledState(rt)};Ie.registerOnDisabledChange(ie),ve._registerOnDestroy(()=>{Ie._unregisterOnDisabledChange(ie)})}}(Ie,ve)}function Ke(Ie,ve,ie=!0){const rt=()=>{};ve.valueAccessor&&(ve.valueAccessor.registerOnChange(rt),ve.valueAccessor.registerOnTouched(rt)),on(Ie,ve),Ie&&(ve._invokeOnDestroyCallbacks(),Ie._registerOnCollectionChange(()=>{}))}function it(Ie,ve){Ie.forEach(ie=>{ie.registerOnValidatorChange&&ie.registerOnValidatorChange(ve)})}function Jt(Ie,ve){const ie=mt(Ie);null!==ve.validator?Ie.setValidators(lt(ie,ve.validator)):"function"==typeof ie&&Ie.setValidators([ie]);const rt=pt(Ie);null!==ve.asyncValidator?Ie.setAsyncValidators(lt(rt,ve.asyncValidator)):"function"==typeof rt&&Ie.setAsyncValidators([rt]);const rn=()=>Ie.updateValueAndValidity();it(ve._rawValidators,rn),it(ve._rawAsyncValidators,rn)}function on(Ie,ve){let ie=!1;if(null!==Ie){if(null!==ve.validator){const rn=mt(Ie);if(Array.isArray(rn)&&rn.length>0){const Fn=rn.filter(ji=>ji!==ve.validator);Fn.length!==rn.length&&(ie=!0,Ie.setValidators(Fn))}}if(null!==ve.asyncValidator){const rn=pt(Ie);if(Array.isArray(rn)&&rn.length>0){const Fn=rn.filter(ji=>ji!==ve.asyncValidator);Fn.length!==rn.length&&(ie=!0,Ie.setAsyncValidators(Fn))}}}const rt=()=>{};return it(ve._rawValidators,rt),it(ve._rawAsyncValidators,rt),ie}function Jn(Ie,ve){Ie._pendingDirty&&Ie.markAsDirty(),Ie.setValue(Ie._pendingValue,{emitModelToViewChange:!1}),ve.viewToModelUpdate(Ie._pendingValue),Ie._pendingChange=!1}function Cn(Ie,ve){Jt(Ie,ve)}function pi(Ie,ve){if(!Ie.hasOwnProperty("model"))return!1;const ie=Ie.model;return!!ie.isFirstChange()||!Object.is(ve,ie.currentValue)}function Fi(Ie,ve){Ie._syncPendingControls(),ve.forEach(ie=>{const rt=ie.control;"submit"===rt.updateOn&&rt._pendingChange&&(ie.viewToModelUpdate(rt._pendingValue),rt._pendingChange=!1)})}function Wt(Ie,ve){if(!ve)return null;let ie,rt,rn;return Array.isArray(ve),ve.forEach(Fn=>{Fn.constructor===k?ie=Fn:function ci(Ie){return Object.getPrototypeOf(Ie.constructor)===g}(Fn)?rt=Fn:rn=Fn}),rn||rt||ie||null}const zt={provide:Q,useExisting:(0,t.Gpc)(()=>Ln)},Sn=(()=>Promise.resolve())();let Ln=(()=>{class Ie extends Q{constructor(ie,rt){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new t.vpe,this.form=new $t({},nt(ie),wt(rt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ie){Sn.then(()=>{const rt=this._findContainer(ie.path);ie.control=rt.registerControl(ie.name,ie.control),Ze(ie.control,ie),ie.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ie)})}getControl(ie){return this.form.get(ie.path)}removeControl(ie){Sn.then(()=>{const rt=this._findContainer(ie.path);rt&&rt.removeControl(ie.name),this._directives.delete(ie)})}addFormGroup(ie){Sn.then(()=>{const rt=this._findContainer(ie.path),rn=new $t({});Cn(rn,ie),rt.registerControl(ie.name,rn),rn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ie){Sn.then(()=>{const rt=this._findContainer(ie.path);rt&&rt.removeControl(ie.name)})}getFormGroup(ie){return this.form.get(ie.path)}updateModel(ie,rt){Sn.then(()=>{this.form.get(ie.path).setValue(rt)})}setValue(ie){this.control.setValue(ie)}onSubmit(ie){var rt;return this.submitted=!0,Fi(this.form,this._directives),this.ngSubmit.emit(ie),"dialog"===(null==ie||null===(rt=ie.target)||void 0===rt?void 0:rt.method)}onReset(){this.resetForm()}resetForm(ie){this.form.reset(ie),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ie){return ie.pop(),ie.length?this.form.get(ie):this.form}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(N,10),t.Y36(B,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ie,rt){1&ie&&t.NdJ("submit",function(Fn){return rt.onSubmit(Fn)})("reset",function(){return rt.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t._Bn([zt]),t.qOj]}),Ie})();function zn(Ie,ve){const ie=Ie.indexOf(ve);ie>-1&&Ie.splice(ie,1)}function Be(Ie){return"object"==typeof Ie&&null!==Ie&&2===Object.keys(Ie).length&&"value"in Ie&&"disabled"in Ie}const et=class extends ii{constructor(ve=null,ie,rt){super(It(ie),fn(rt,ie)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ve),this._setUpdateStrategy(ie),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kn(ie)&&(ie.nonNullable||ie.initialValueIsDefault)&&(this.defaultValue=Be(ve)?ve.value:ve)}setValue(ve,ie={}){this.value=this._pendingValue=ve,this._onChange.length&&!1!==ie.emitModelToViewChange&&this._onChange.forEach(rt=>rt(this.value,!1!==ie.emitViewToModelChange)),this.updateValueAndValidity(ie)}patchValue(ve,ie={}){this.setValue(ve,ie)}reset(ve=this.defaultValue,ie={}){this._applyFormState(ve),this.markAsPristine(ie),this.markAsUntouched(ie),this.setValue(this.value,ie),this._pendingChange=!1}_updateValue(){}_anyControls(ve){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ve){this._onChange.push(ve)}_unregisterOnChange(ve){zn(this._onChange,ve)}registerOnDisabledChange(ve){this._onDisabledChange.push(ve)}_unregisterOnDisabledChange(ve){zn(this._onDisabledChange,ve)}_forEachChild(ve){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ve){Be(ve)?(this.value=this._pendingValue=ve.value,ve.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ve}},ft=et;let pn=(()=>{class Ie extends Q{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ot(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,features:[t.qOj]}),Ie})();const or={provide:ce,useExisting:(0,t.Gpc)(()=>hr)},Yi=(()=>Promise.resolve())();let hr=(()=>{class Ie extends ce{constructor(ie,rt,rn,Fn,ji){super(),this._changeDetectorRef=ji,this.control=new et,this._registered=!1,this.update=new t.vpe,this._parent=ie,this._setValidators(rt),this._setAsyncValidators(rn),this.valueAccessor=Wt(0,Fn)}ngOnChanges(ie){if(this._checkForErrors(),!this._registered||"name"in ie){if(this._registered&&(this._checkName(),this.formDirective)){const rt=ie.name.previousValue;this.formDirective.removeControl({name:rt,path:this._getPath(rt)})}this._setUpControl()}"isDisabled"in ie&&this._updateDisabled(ie),pi(ie,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ze(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ie){Yi.then(()=>{var rt;this.control.setValue(ie,{emitViewToModelChange:!1}),null===(rt=this._changeDetectorRef)||void 0===rt||rt.markForCheck()})}_updateDisabled(ie){const rt=ie.isDisabled.currentValue,rn=0!==rt&&(0,t.D6c)(rt);Yi.then(()=>{var Fn;rn&&!this.control.disabled?this.control.disable():!rn&&this.control.disabled&&this.control.enable(),null===(Fn=this._changeDetectorRef)||void 0===Fn||Fn.markForCheck()})}_getPath(ie){return this._parent?Ot(ie,this._parent):[ie]}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(Q,9),t.Y36(N,10),t.Y36(B,10),t.Y36(f,10),t.Y36(t.sBO,8))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([or]),t.qOj,t.TTD]}),Ie})(),Ei=(()=>{class Ie{}return Ie.\u0275fac=function(ie){return new(ie||Ie)},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Ie})();const gr={provide:f,useExisting:(0,t.Gpc)(()=>Mi),multi:!0};let Mi=(()=>{class Ie extends g{writeValue(ie){this.setProperty("value",ie??"")}registerOnChange(ie){this.onChange=rt=>{ie(""==rt?null:parseFloat(rt))}}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ie,rt){1&ie&&t.NdJ("input",function(Fn){return rt.onChange(Fn.target.value)})("blur",function(){return rt.onTouched()})},features:[t._Bn([gr]),t.qOj]}),Ie})();const Hi={provide:f,useExisting:(0,t.Gpc)(()=>us),multi:!0};let cs=(()=>{class Ie{}return Ie.\u0275fac=function(ie){return new(ie||Ie)},Ie.\u0275mod=t.oAB({type:Ie}),Ie.\u0275inj=t.cJS({}),Ie})(),is=(()=>{class Ie{constructor(){this._accessors=[]}add(ie,rt){this._accessors.push([ie,rt])}remove(ie){for(let rt=this._accessors.length-1;rt>=0;--rt)if(this._accessors[rt][1]===ie)return void this._accessors.splice(rt,1)}select(ie){this._accessors.forEach(rt=>{this._isSameGroup(rt,ie)&&rt[1]!==ie&&rt[1].fireUncheck(ie.value)})}_isSameGroup(ie,rt){return!!ie[0].control&&ie[0]._parent===rt._control._parent&&ie[1].name===rt.name}}return Ie.\u0275fac=function(ie){return new(ie||Ie)},Ie.\u0275prov=t.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:cs}),Ie})(),us=(()=>{class Ie extends g{constructor(ie,rt,rn,Fn){super(ie,rt),this._registry=rn,this._injector=Fn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ce),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(ie){this._state=ie===this.value,this.setProperty("checked",this._state)}registerOnChange(ie){this._fn=ie,this.onChange=()=>{ie(this.value),this._registry.select(this)}}fireUncheck(ie){this.writeValue(ie)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(is),t.Y36(t.zs3))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ie,rt){1&ie&&t.NdJ("change",function(){return rt.onChange()})("blur",function(){return rt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[t._Bn([Hi]),t.qOj]}),Ie})();const rs=new t.OlP("NgModelWithFormControlWarning"),Rs={provide:ce,useExisting:(0,t.Gpc)(()=>Cs)};let Cs=(()=>{class Ie extends ce{constructor(ie,rt,rn,Fn){super(),this._ngModelWarningConfig=Fn,this.update=new t.vpe,this._ngModelWarningSent=!1,this._setValidators(ie),this._setAsyncValidators(rt),this.valueAccessor=Wt(0,rn)}set isDisabled(ie){}ngOnChanges(ie){if(this._isControlChanged(ie)){const rt=ie.form.previousValue;rt&&Ke(rt,this,!1),Ze(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}pi(ie,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ke(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}_isControlChanged(ie){return ie.hasOwnProperty("form")}}return Ie._ngModelWarningSentOnce=!1,Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(N,10),t.Y36(B,10),t.Y36(f,10),t.Y36(rs,8))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[t._Bn([Rs]),t.qOj,t.TTD]}),Ie})();const Sr={provide:Q,useExisting:(0,t.Gpc)(()=>rr)};let rr=(()=>{class Ie extends Q{constructor(ie,rt){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.vpe,this._setValidators(ie),this._setAsyncValidators(rt)}ngOnChanges(ie){this._checkFormPresent(),ie.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(on(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ie){const rt=this.form.get(ie.path);return Ze(rt,ie),rt.updateValueAndValidity({emitEvent:!1}),this.directives.push(ie),rt}getControl(ie){return this.form.get(ie.path)}removeControl(ie){Ke(ie.control||null,ie,!1),function Pn(Ie,ve){const ie=Ie.indexOf(ve);ie>-1&&Ie.splice(ie,1)}(this.directives,ie)}addFormGroup(ie){this._setUpFormContainer(ie)}removeFormGroup(ie){this._cleanUpFormContainer(ie)}getFormGroup(ie){return this.form.get(ie.path)}addFormArray(ie){this._setUpFormContainer(ie)}removeFormArray(ie){this._cleanUpFormContainer(ie)}getFormArray(ie){return this.form.get(ie.path)}updateModel(ie,rt){this.form.get(ie.path).setValue(rt)}onSubmit(ie){var rt;return this.submitted=!0,Fi(this.form,this.directives),this.ngSubmit.emit(ie),"dialog"===(null==ie||null===(rt=ie.target)||void 0===rt?void 0:rt.method)}onReset(){this.resetForm()}resetForm(ie){this.form.reset(ie),this.submitted=!1}_updateDomValue(){this.directives.forEach(ie=>{const rt=ie.control,rn=this.form.get(ie.path);rt!==rn&&(Ke(rt||null,ie),(Ie=>Ie instanceof et)(rn)&&(Ze(rn,ie),ie.control=rn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ie){const rt=this.form.get(ie.path);Cn(rt,ie),rt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ie){if(this.form){const rt=this.form.get(ie.path);rt&&function Zn(Ie,ve){return on(Ie,ve)}(rt,ie)&&rt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jt(this.form,this),this._oldForm&&on(this._oldForm,this)}_checkFormPresent(){}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(N,10),t.Y36(B,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formGroup",""]],hostBindings:function(ie,rt){1&ie&&t.NdJ("submit",function(Fn){return rt.onSubmit(Fn)})("reset",function(){return rt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t._Bn([Sr]),t.qOj,t.TTD]}),Ie})();const Ri={provide:Q,useExisting:(0,t.Gpc)(()=>ds)};let ds=(()=>{class Ie extends pn{constructor(ie,rt,rn){super(),this._parent=ie,this._setValidators(rt),this._setAsyncValidators(rn)}_checkParentType(){Wn(this._parent)}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(Q,13),t.Y36(N,10),t.Y36(B,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[t._Bn([Ri]),t.qOj]}),Ie})();const Xn={provide:Q,useExisting:(0,t.Gpc)(()=>_s)};let _s=(()=>{class Ie extends Q{constructor(ie,rt,rn){super(),this._parent=ie,this._setValidators(rt),this._setAsyncValidators(rn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ot(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Wn(this._parent)}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(Q,13),t.Y36(N,10),t.Y36(B,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[t._Bn([Xn]),t.qOj]}),Ie})();function Wn(Ie){return!(Ie instanceof ds||Ie instanceof rr||Ie instanceof _s)}const pr={provide:ce,useExisting:(0,t.Gpc)(()=>xr)};let xr=(()=>{class Ie extends ce{constructor(ie,rt,rn,Fn,ji){super(),this._ngModelWarningConfig=ji,this._added=!1,this.update=new t.vpe,this._ngModelWarningSent=!1,this._parent=ie,this._setValidators(rt),this._setAsyncValidators(rn),this.valueAccessor=Wt(0,Fn)}set isDisabled(ie){}ngOnChanges(ie){this._added||this._setUpControl(),pi(ie,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}get path(){return Ot(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return Ie._ngModelWarningSentOnce=!1,Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(Q,13),t.Y36(N,10),t.Y36(B,10),t.Y36(f,10),t.Y36(rs,8))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[t._Bn([pr]),t.qOj,t.TTD]}),Ie})();const Yr={provide:f,useExisting:(0,t.Gpc)(()=>vr),multi:!0};function Zr(Ie,ve){return null==Ie?`${ve}`:(ve&&"object"==typeof ve&&(ve="Object"),`${Ie}: ${ve}`.slice(0,50))}let vr=(()=>{class Ie extends g{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ie){this._compareWith=ie}writeValue(ie){this.value=ie;const rn=Zr(this._getOptionId(ie),ie);this.setProperty("value",rn)}registerOnChange(ie){this.onChange=rt=>{this.value=this._getOptionValue(rt),ie(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ie){for(const rt of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(rt),ie))return rt;return null}_getOptionValue(ie){const rt=function Pr(Ie){return Ie.split(":")[0]}(ie);return this._optionMap.has(rt)?this._optionMap.get(rt):ie}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ie,rt){1&ie&&t.NdJ("change",function(Fn){return rt.onChange(Fn.target.value)})("blur",function(){return rt.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([Yr]),t.qOj]}),Ie})(),ss=(()=>{class Ie{constructor(ie,rt,rn){this._element=ie,this._renderer=rt,this._select=rn,this._select&&(this.id=this._select._registerOption())}set ngValue(ie){null!=this._select&&(this._select._optionMap.set(this.id,ie),this._setElementValue(Zr(this.id,ie)),this._select.writeValue(this._select.value))}set value(ie){this._setElementValue(ie),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ie){this._renderer.setProperty(this._element.nativeElement,"value",ie)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(vr,9))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Ie})();const sr={provide:f,useExisting:(0,t.Gpc)(()=>Ji),multi:!0};function yr(Ie,ve){return null==Ie?`${ve}`:("string"==typeof ve&&(ve=`'${ve}'`),ve&&"object"==typeof ve&&(ve="Object"),`${Ie}: ${ve}`.slice(0,50))}let Ji=(()=>{class Ie extends g{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ie){this._compareWith=ie}writeValue(ie){let rt;if(this.value=ie,Array.isArray(ie)){const rn=ie.map(Fn=>this._getOptionId(Fn));rt=(Fn,ji)=>{Fn._setSelected(rn.indexOf(ji.toString())>-1)}}else rt=(rn,Fn)=>{rn._setSelected(!1)};this._optionMap.forEach(rt)}registerOnChange(ie){this.onChange=rt=>{const rn=[],Fn=rt.selectedOptions;if(void 0!==Fn){const ji=Fn;for(let Ir=0;Ir<ji.length;Ir++){const er=this._getOptionValue(ji[Ir].value);rn.push(er)}}else{const ji=rt.options;for(let Ir=0;Ir<ji.length;Ir++){const Or=ji[Ir];if(Or.selected){const er=this._getOptionValue(Or.value);rn.push(er)}}}this.value=rn,ie(rn)}}_registerOption(ie){const rt=(this._idCounter++).toString();return this._optionMap.set(rt,ie),rt}_getOptionId(ie){for(const rt of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(rt)._value,ie))return rt;return null}_getOptionValue(ie){const rt=function os(Ie){return Ie.split(":")[0]}(ie);return this._optionMap.has(rt)?this._optionMap.get(rt)._value:ie}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ie,rt){1&ie&&t.NdJ("change",function(Fn){return rt.onChange(Fn.target)})("blur",function(){return rt.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([sr]),t.qOj]}),Ie})(),jr=(()=>{class Ie{constructor(ie,rt,rn){this._element=ie,this._renderer=rt,this._select=rn,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ie){null!=this._select&&(this._value=ie,this._setElementValue(yr(this.id,ie)),this._select.writeValue(this._select.value))}set value(ie){this._select?(this._value=ie,this._setElementValue(yr(this.id,ie)),this._select.writeValue(this._select.value)):this._setElementValue(ie)}_setElementValue(ie){this._renderer.setProperty(this._element.nativeElement,"value",ie)}_setSelected(ie){this._renderer.setProperty(this._element.nativeElement,"selected",ie)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Ie.\u0275fac=function(ie){return new(ie||Ie)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Ji,9))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Ie})();function hs(Ie){return"number"==typeof Ie?Ie:parseInt(Ie,10)}let Rr=(()=>{class Ie{constructor(){this._validator=le}ngOnChanges(ie){if(this.inputName in ie){const rt=this.normalizeInput(ie[this.inputName].currentValue);this._enabled=this.enabled(rt),this._validator=this._enabled?this.createValidator(rt):le,this._onChange&&this._onChange()}}validate(ie){return this._validator(ie)}registerOnValidatorChange(ie){this._onChange=ie}enabled(ie){return null!=ie}}return Ie.\u0275fac=function(ie){return new(ie||Ie)},Ie.\u0275dir=t.lG2({type:Ie,features:[t.TTD]}),Ie})();const ws={provide:N,useExisting:(0,t.Gpc)(()=>no),multi:!0};let no=(()=>{class Ie extends Rr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ie=>function Ds(Ie){return"number"==typeof Ie?Ie:parseFloat(Ie)}(ie),this.createValidator=ie=>q(ie)}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ie,rt){2&ie&&t.uIk("min",rt._enabled?rt.min:null)},inputs:{min:"min"},features:[t._Bn([ws]),t.qOj]}),Ie})();const Vr={provide:N,useExisting:(0,t.Gpc)(()=>ks),multi:!0};let ks=(()=>{class Ie extends Rr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t.D6c,this.createValidator=ie=>W}enabled(ie){return ie}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ie,rt){2&ie&&t.uIk("required",rt._enabled?"":null)},inputs:{required:"required"},features:[t._Bn([Vr]),t.qOj]}),Ie})();const Gr={provide:N,useExisting:(0,t.Gpc)(()=>as),multi:!0};let as=(()=>{class Ie extends Rr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=ie=>hs(ie),this.createValidator=ie=>E(ie)}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ie,rt){2&ie&&t.uIk("minlength",rt._enabled?rt.minlength:null)},inputs:{minlength:"minlength"},features:[t._Bn([Gr]),t.qOj]}),Ie})();const ao={provide:N,useExisting:(0,t.Gpc)(()=>Zi),multi:!0};let Zi=(()=>{class Ie extends Rr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=ie=>hs(ie),this.createValidator=ie=>ne(ie)}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ie,rt){2&ie&&t.uIk("maxlength",rt._enabled?rt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t._Bn([ao]),t.qOj]}),Ie})(),Hr=(()=>{class Ie{}return Ie.\u0275fac=function(ie){return new(ie||Ie)},Ie.\u0275mod=t.oAB({type:Ie}),Ie.\u0275inj=t.cJS({imports:[cs]}),Ie})(),io=(()=>{class Ie{}return Ie.\u0275fac=function(ie){return new(ie||Ie)},Ie.\u0275mod=t.oAB({type:Ie}),Ie.\u0275inj=t.cJS({imports:[Hr]}),Ie})(),ki=(()=>{class Ie{static withConfig(ie){return{ngModule:Ie,providers:[{provide:rs,useValue:ie.warnOnNgModelWithFormControl}]}}}return Ie.\u0275fac=function(ie){return new(ie||Ie)},Ie.\u0275mod=t.oAB({type:Ie}),Ie.\u0275inj=t.cJS({imports:[Hr]}),Ie})();class wr extends ii{constructor(ve,ie,rt){super(It(ie),fn(rt,ie)),this.controls=ve,this._initObservables(),this._setUpdateStrategy(ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ve){return this.controls[this._adjustIndex(ve)]}push(ve,ie={}){this.controls.push(ve),this._registerControl(ve),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}insert(ve,ie,rt={}){this.controls.splice(ve,0,ie),this._registerControl(ie),this.updateValueAndValidity({emitEvent:rt.emitEvent})}removeAt(ve,ie={}){let rt=this._adjustIndex(ve);rt<0&&(rt=0),this.controls[rt]&&this.controls[rt]._registerOnCollectionChange(()=>{}),this.controls.splice(rt,1),this.updateValueAndValidity({emitEvent:ie.emitEvent})}setControl(ve,ie,rt={}){let rn=this._adjustIndex(ve);rn<0&&(rn=0),this.controls[rn]&&this.controls[rn]._registerOnCollectionChange(()=>{}),this.controls.splice(rn,1),ie&&(this.controls.splice(rn,0,ie),this._registerControl(ie)),this.updateValueAndValidity({emitEvent:rt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ve,ie={}){ti(this,0,ve),ve.forEach((rt,rn)=>{Gn(this,!1,rn),this.at(rn).setValue(rt,{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie)}patchValue(ve,ie={}){null!=ve&&(ve.forEach((rt,rn)=>{this.at(rn)&&this.at(rn).patchValue(rt,{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie))}reset(ve=[],ie={}){this._forEachChild((rt,rn)=>{rt.reset(ve[rn],{onlySelf:!0,emitEvent:ie.emitEvent})}),this._updatePristine(ie),this._updateTouched(ie),this.updateValueAndValidity(ie)}getRawValue(){return this.controls.map(ve=>ve.getRawValue())}clear(ve={}){this.controls.length<1||(this._forEachChild(ie=>ie._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ve.emitEvent}))}_adjustIndex(ve){return ve<0?ve+this.length:ve}_syncPendingControls(){let ve=this.controls.reduce((ie,rt)=>!!rt._syncPendingControls()||ie,!1);return ve&&this.updateValueAndValidity({onlySelf:!0}),ve}_forEachChild(ve){this.controls.forEach((ie,rt)=>{ve(ie,rt)})}_updateValue(){this.value=this.controls.filter(ve=>ve.enabled||this.disabled).map(ve=>ve.value)}_anyControls(ve){return this.controls.some(ie=>ie.enabled&&ve(ie))}_setUpControls(){this._forEachChild(ve=>this._registerControl(ve))}_allControlsDisabled(){for(const ve of this.controls)if(ve.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ve){ve.setParent(this),ve._registerOnCollectionChange(this._onCollectionChange)}_find(ve){var ie;return null!==(ie=this.at(ve))&&void 0!==ie?ie:null}}function yn(Ie){return!!Ie&&(void 0!==Ie.asyncValidators||void 0!==Ie.validators||void 0!==Ie.updateOn)}let oi=(()=>{class Ie{constructor(){this.useNonNullable=!1}get nonNullable(){const ie=new Ie;return ie.useNonNullable=!0,ie}group(ie,rt=null){const rn=this._reduceControls(ie);let Fn={};return yn(rt)?Fn=rt:null!==rt&&(Fn.validators=rt.validator,Fn.asyncValidators=rt.asyncValidator),new $t(rn,Fn)}record(ie,rt=null){const rn=this._reduceControls(ie);return new bt(rn,rt)}control(ie,rt,rn){let Fn={};return this.useNonNullable?(yn(rt)?Fn=rt:(Fn.validators=rt,Fn.asyncValidators=rn),new et(ie,{...Fn,nonNullable:!0})):new et(ie,rt,rn)}array(ie,rt,rn){const Fn=ie.map(ji=>this._createControl(ji));return new wr(Fn,rt,rn)}_reduceControls(ie){const rt={};return Object.keys(ie).forEach(rn=>{rt[rn]=this._createControl(ie[rn])}),rt}_createControl(ie){return ie instanceof et||ie instanceof ii?ie:Array.isArray(ie)?this.control(ie[0],ie.length>1?ie[1]:null,ie.length>2?ie[2]:null):this.control(ie)}}return Ie.\u0275fac=function(ie){return new(ie||Ie)},Ie.\u0275prov=t.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:ki}),Ie})(),hi=(()=>{class Ie extends oi{group(ie,rt=null){return super.group(ie,rt)}control(ie,rt,rn){return super.control(ie,rt,rn)}array(ie,rt,rn){return super.array(ie,rt,rn)}}return Ie.\u0275fac=function(){let ve;return function(rt){return(ve||(ve=t.n5z(Ie)))(rt||Ie)}}(),Ie.\u0275prov=t.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:ki}),Ie})()},1481:(dt,Ce,p)=>{"use strict";p.d(Ce,{Dx:()=>vt,H7:()=>Nn,b2:()=>$e,q6:()=>Je,se:()=>me});var t=p(6895),e=p(4650);class m extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class T extends m{static makeCurrent(){(0,t.HT)(new T)}onAndCancel(Ke,it,yt){return Ke.addEventListener(it,yt,!1),()=>{Ke.removeEventListener(it,yt,!1)}}dispatchEvent(Ke,it){Ke.dispatchEvent(it)}remove(Ke){Ke.parentNode&&Ke.parentNode.removeChild(Ke)}createElement(Ke,it){return(it=it||this.getDefaultDocument()).createElement(Ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ke){return Ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ke){return Ke instanceof DocumentFragment}getGlobalEventTarget(Ke,it){return"window"===it?window:"document"===it?Ke:"body"===it?Ke.body:null}getBaseHref(Ke){const it=function b(){return C=C||document.querySelector("base"),C?C.getAttribute("href"):null}();return null==it?null:function f(Ze){g=g||document.createElement("a"),g.setAttribute("href",Ze);const Ke=g.pathname;return"/"===Ke.charAt(0)?Ke:`/${Ke}`}(it)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ke){return(0,t.Mx)(document.cookie,Ke)}}let g,C=null;const w=new e.OlP("TRANSITION_ID"),R=[{provide:e.ip1,useFactory:function _(Ze,Ke,it){return()=>{it.get(e.CZH).donePromise.then(()=>{const yt=(0,t.q)(),Jt=Ke.querySelectorAll(`style[ng-transition="${Ze}"]`);for(let on=0;on<Jt.length;on++)yt.remove(Jt[on])})}},deps:[w,t.K0,e.zs3],multi:!0}];let a=(()=>{class Ze{build(){return new XMLHttpRequest}}return Ze.\u0275fac=function(it){return new(it||Ze)},Ze.\u0275prov=e.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const k=new e.OlP("EventManagerPlugins");let L=(()=>{class Ze{constructor(it,yt){this._zone=yt,this._eventNameToPlugin=new Map,it.forEach(Jt=>Jt.manager=this),this._plugins=it.slice().reverse()}addEventListener(it,yt,Jt){return this._findPluginFor(yt).addEventListener(it,yt,Jt)}addGlobalEventListener(it,yt,Jt){return this._findPluginFor(yt).addGlobalEventListener(it,yt,Jt)}getZone(){return this._zone}_findPluginFor(it){const yt=this._eventNameToPlugin.get(it);if(yt)return yt;const Jt=this._plugins;for(let on=0;on<Jt.length;on++){const Bt=Jt[on];if(Bt.supports(it))return this._eventNameToPlugin.set(it,Bt),Bt}throw new Error(`No event manager plugin found for event ${it}`)}}return Ze.\u0275fac=function(it){return new(it||Ze)(e.LFG(k),e.LFG(e.R0b))},Ze.\u0275prov=e.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class Z{constructor(Ke){this._doc=Ke}addGlobalEventListener(Ke,it,yt){const Jt=(0,t.q)().getGlobalEventTarget(this._doc,Ke);if(!Jt)throw new Error(`Unsupported event target ${Jt} for event ${it}`);return this.addEventListener(Jt,it,yt)}}let j=(()=>{class Ze{constructor(){this._stylesSet=new Set}addStyles(it){const yt=new Set;it.forEach(Jt=>{this._stylesSet.has(Jt)||(this._stylesSet.add(Jt),yt.add(Jt))}),this.onStylesAdded(yt)}onStylesAdded(it){}getAllStyles(){return Array.from(this._stylesSet)}}return Ze.\u0275fac=function(it){return new(it||Ze)},Ze.\u0275prov=e.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),N=(()=>{class Ze extends j{constructor(it){super(),this._doc=it,this._hostNodes=new Map,this._hostNodes.set(it.head,[])}_addStylesToHost(it,yt,Jt){it.forEach(on=>{const Bt=this._doc.createElement("style");Bt.textContent=on,Jt.push(yt.appendChild(Bt))})}addHost(it){const yt=[];this._addStylesToHost(this._stylesSet,it,yt),this._hostNodes.set(it,yt)}removeHost(it){const yt=this._hostNodes.get(it);yt&&yt.forEach(B),this._hostNodes.delete(it)}onStylesAdded(it){this._hostNodes.forEach((yt,Jt)=>{this._addStylesToHost(it,Jt,yt)})}ngOnDestroy(){this._hostNodes.forEach(it=>it.forEach(B))}}return Ze.\u0275fac=function(it){return new(it||Ze)(e.LFG(t.K0))},Ze.\u0275prov=e.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();function B(Ze){(0,t.q)().remove(Ze)}const V={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},J=/%COMP%/g;function ne(Ze,Ke,it){for(let yt=0;yt<Ke.length;yt++){let Jt=Ke[yt];Array.isArray(Jt)?ne(Ze,Jt,it):(Jt=Jt.replace(J,Ze),it.push(Jt))}return it}function K(Ze){return Ke=>{if("__ngUnwrap__"===Ke)return Ze;!1===Ze(Ke)&&(Ke.preventDefault(),Ke.returnValue=!1)}}let me=(()=>{class Ze{constructor(it,yt,Jt){this.eventManager=it,this.sharedStylesHost=yt,this.appId=Jt,this.rendererByCompId=new Map,this.defaultRenderer=new Se(it)}createRenderer(it,yt){if(!it||!yt)return this.defaultRenderer;switch(yt.encapsulation){case e.ifc.Emulated:{let Jt=this.rendererByCompId.get(yt.id);return Jt||(Jt=new qe(this.eventManager,this.sharedStylesHost,yt,this.appId),this.rendererByCompId.set(yt.id,Jt)),Jt.applyToHost(it),Jt}case 1:case e.ifc.ShadowDom:return new Te(this.eventManager,this.sharedStylesHost,it,yt);default:if(!this.rendererByCompId.has(yt.id)){const Jt=ne(yt.id,yt.styles,[]);this.sharedStylesHost.addStyles(Jt),this.rendererByCompId.set(yt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ze.\u0275fac=function(it){return new(it||Ze)(e.LFG(L),e.LFG(N),e.LFG(e.AFp))},Ze.\u0275prov=e.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class Se{constructor(Ke){this.eventManager=Ke,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ke,it){return it?document.createElementNS(V[it]||it,Ke):document.createElement(Ke)}createComment(Ke){return document.createComment(Ke)}createText(Ke){return document.createTextNode(Ke)}appendChild(Ke,it){(Ee(Ke)?Ke.content:Ke).appendChild(it)}insertBefore(Ke,it,yt){Ke&&(Ee(Ke)?Ke.content:Ke).insertBefore(it,yt)}removeChild(Ke,it){Ke&&Ke.removeChild(it)}selectRootElement(Ke,it){let yt="string"==typeof Ke?document.querySelector(Ke):Ke;if(!yt)throw new Error(`The selector "${Ke}" did not match any elements`);return it||(yt.textContent=""),yt}parentNode(Ke){return Ke.parentNode}nextSibling(Ke){return Ke.nextSibling}setAttribute(Ke,it,yt,Jt){if(Jt){it=Jt+":"+it;const on=V[Jt];on?Ke.setAttributeNS(on,it,yt):Ke.setAttribute(it,yt)}else Ke.setAttribute(it,yt)}removeAttribute(Ke,it,yt){if(yt){const Jt=V[yt];Jt?Ke.removeAttributeNS(Jt,it):Ke.removeAttribute(`${yt}:${it}`)}else Ke.removeAttribute(it)}addClass(Ke,it){Ke.classList.add(it)}removeClass(Ke,it){Ke.classList.remove(it)}setStyle(Ke,it,yt,Jt){Jt&(e.JOm.DashCase|e.JOm.Important)?Ke.style.setProperty(it,yt,Jt&e.JOm.Important?"important":""):Ke.style[it]=yt}removeStyle(Ke,it,yt){yt&e.JOm.DashCase?Ke.style.removeProperty(it):Ke.style[it]=""}setProperty(Ke,it,yt){Ke[it]=yt}setValue(Ke,it){Ke.nodeValue=it}listen(Ke,it,yt){return"string"==typeof Ke?this.eventManager.addGlobalEventListener(Ke,it,K(yt)):this.eventManager.addEventListener(Ke,it,K(yt))}}function Ee(Ze){return"TEMPLATE"===Ze.tagName&&void 0!==Ze.content}class qe extends Se{constructor(Ke,it,yt,Jt){super(Ke),this.component=yt;const on=ne(Jt+"-"+yt.id,yt.styles,[]);it.addStyles(on),this.contentAttr=function X(Ze){return"_ngcontent-%COMP%".replace(J,Ze)}(Jt+"-"+yt.id),this.hostAttr=function E(Ze){return"_nghost-%COMP%".replace(J,Ze)}(Jt+"-"+yt.id)}applyToHost(Ke){super.setAttribute(Ke,this.hostAttr,"")}createElement(Ke,it){const yt=super.createElement(Ke,it);return super.setAttribute(yt,this.contentAttr,""),yt}}class Te extends Se{constructor(Ke,it,yt,Jt){super(Ke),this.sharedStylesHost=it,this.hostEl=yt,this.shadowRoot=yt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=ne(Jt.id,Jt.styles,[]);for(let Bt=0;Bt<on.length;Bt++){const Mn=document.createElement("style");Mn.textContent=on[Bt],this.shadowRoot.appendChild(Mn)}}nodeOrShadowRoot(Ke){return Ke===this.hostEl?this.shadowRoot:Ke}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ke,it){return super.appendChild(this.nodeOrShadowRoot(Ke),it)}insertBefore(Ke,it,yt){return super.insertBefore(this.nodeOrShadowRoot(Ke),it,yt)}removeChild(Ke,it){return super.removeChild(this.nodeOrShadowRoot(Ke),it)}parentNode(Ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ke)))}}let nt=(()=>{class Ze extends Z{constructor(it){super(it)}supports(it){return!0}addEventListener(it,yt,Jt){return it.addEventListener(yt,Jt,!1),()=>this.removeEventListener(it,yt,Jt)}removeEventListener(it,yt,Jt){return it.removeEventListener(yt,Jt)}}return Ze.\u0275fac=function(it){return new(it||Ze)(e.LFG(t.K0))},Ze.\u0275prov=e.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const at=["alt","control","meta","shift"],wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lt={alt:Ze=>Ze.altKey,control:Ze=>Ze.ctrlKey,meta:Ze=>Ze.metaKey,shift:Ze=>Ze.shiftKey};let mt=(()=>{class Ze extends Z{constructor(it){super(it)}supports(it){return null!=Ze.parseEventName(it)}addEventListener(it,yt,Jt){const on=Ze.parseEventName(yt),Bt=Ze.eventCallback(on.fullKey,Jt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(it,on.domEventName,Bt))}static parseEventName(it){const yt=it.toLowerCase().split("."),Jt=yt.shift();if(0===yt.length||"keydown"!==Jt&&"keyup"!==Jt)return null;const on=Ze._normalizeKey(yt.pop());let Bt="",Mn=yt.indexOf("code");if(Mn>-1&&(yt.splice(Mn,1),Bt="code."),at.forEach(_i=>{const Cn=yt.indexOf(_i);Cn>-1&&(yt.splice(Cn,1),Bt+=_i+".")}),Bt+=on,0!=yt.length||0===on.length)return null;const Jn={};return Jn.domEventName=Jt,Jn.fullKey=Bt,Jn}static matchEventFullKeyCode(it,yt){let Jt=wt[it.key]||it.key,on="";return yt.indexOf("code.")>-1&&(Jt=it.code,on="code."),!(null==Jt||!Jt)&&(Jt=Jt.toLowerCase()," "===Jt?Jt="space":"."===Jt&&(Jt="dot"),at.forEach(Bt=>{Bt!==Jt&&(0,lt[Bt])(it)&&(on+=Bt+".")}),on+=Jt,on===yt)}static eventCallback(it,yt,Jt){return on=>{Ze.matchEventFullKeyCode(on,it)&&Jt.runGuarded(()=>yt(on))}}static _normalizeKey(it){return"esc"===it?"escape":it}}return Ze.\u0275fac=function(it){return new(it||Ze)(e.LFG(t.K0))},Ze.\u0275prov=e.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const Je=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:t.bD},{provide:e.g9A,useValue:function Y(){T.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function ce(){return(0,e.RDi)(document),document},deps:[]}]),Oe=new e.OlP(""),i=[{provide:e.rWj,useClass:class P{addToWindow(Ke){e.dqk.getAngularTestability=(yt,Jt=!0)=>{const on=Ke.findTestabilityInTree(yt,Jt);if(null==on)throw new Error("Could not find testability for element.");return on},e.dqk.getAllAngularTestabilities=()=>Ke.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>Ke.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(yt=>{const Jt=e.dqk.getAllAngularTestabilities();let on=Jt.length,Bt=!1;const Mn=function(Jn){Bt=Bt||Jn,on--,0==on&&yt(Bt)};Jt.forEach(function(Jn){Jn.whenStable(Mn)})})}findTestabilityInTree(Ke,it,yt){return null==it?null:Ke.getTestability(it)??(yt?(0,t.q)().isShadowRoot(it)?this.findTestabilityInTree(Ke,it.host,!0):this.findTestabilityInTree(Ke,it.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],we=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Q(){return new e.qLn},deps:[]},{provide:k,useClass:nt,multi:!0,deps:[t.K0,e.R0b,e.Lbi]},{provide:k,useClass:mt,multi:!0,deps:[t.K0]},{provide:me,useClass:me,deps:[L,N,e.AFp]},{provide:e.FYo,useExisting:me},{provide:j,useExisting:N},{provide:N,useClass:N,deps:[t.K0]},{provide:L,useClass:L,deps:[k,e.R0b]},{provide:t.JF,useClass:a,deps:[]},[]];let $e=(()=>{class Ze{constructor(it){}static withServerTransition(it){return{ngModule:Ze,providers:[{provide:e.AFp,useValue:it.appId},{provide:w,useExisting:e.AFp},R]}}}return Ze.\u0275fac=function(it){return new(it||Ze)(e.LFG(Oe,12))},Ze.\u0275mod=e.oAB({type:Ze}),Ze.\u0275inj=e.cJS({providers:[...we,...i],imports:[t.ez,e.hGG]}),Ze})(),vt=(()=>{class Ze{constructor(it){this._doc=it}getTitle(){return this._doc.title}setTitle(it){this._doc.title=it||""}}return Ze.\u0275fac=function(it){return new(it||Ze)(e.LFG(t.K0))},Ze.\u0275prov=e.Yz7({token:Ze,factory:function(it){let yt=null;return yt=it?new it:function Tt(){return new vt((0,e.LFG)(t.K0))}(),yt},providedIn:"root"}),Ze})();typeof window<"u"&&window;let Nn=(()=>{class Ze{}return Ze.\u0275fac=function(it){return new(it||Ze)},Ze.\u0275prov=e.Yz7({token:Ze,factory:function(it){let yt=null;return yt=it?new(it||Ze):e.LFG(_t),yt},providedIn:"root"}),Ze})(),_t=(()=>{class Ze extends Nn{constructor(it){super(),this._doc=it}sanitize(it,yt){if(null==yt)return null;switch(it){case e.q3G.NONE:return yt;case e.q3G.HTML:return(0,e.qzn)(yt,"HTML")?(0,e.z3N)(yt):(0,e.EiD)(this._doc,String(yt)).toString();case e.q3G.STYLE:return(0,e.qzn)(yt,"Style")?(0,e.z3N)(yt):yt;case e.q3G.SCRIPT:if((0,e.qzn)(yt,"Script"))return(0,e.z3N)(yt);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.qzn)(yt,"URL")?(0,e.z3N)(yt):(0,e.mCW)(String(yt));case e.q3G.RESOURCE_URL:if((0,e.qzn)(yt,"ResourceURL"))return(0,e.z3N)(yt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${it} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(it){return(0,e.JVY)(it)}bypassSecurityTrustStyle(it){return(0,e.L6k)(it)}bypassSecurityTrustScript(it){return(0,e.eBb)(it)}bypassSecurityTrustUrl(it){return(0,e.LAX)(it)}bypassSecurityTrustResourceUrl(it){return(0,e.pB0)(it)}}return Ze.\u0275fac=function(it){return new(it||Ze)(e.LFG(t.K0))},Ze.\u0275prov=e.Yz7({token:Ze,factory:function(it){let yt=null;return yt=it?new it:function bt(Ze){return new _t(Ze.get(t.K0))}(e.LFG(e.zs3)),yt},providedIn:"root"}),Ze})()},8185:(dt,Ce,p)=>{"use strict";p.d(Ce,{gz:()=>rr,y6:()=>hs,gk:()=>hn,m2:()=>pn,OD:()=>Lt,cx:()=>_o,Z6:()=>ro,wN:()=>zs,F0:()=>st,rH:()=>Zt,Od:()=>Vn,yS:()=>ln,Bz:()=>Ko,lC:()=>Rr,oI:()=>De,Hx:()=>mn});var t=p(4650),e=p(2076),m=p(9646),T=p(1135),C=p(6805),b=p(9841),g=p(7272),f=p(9770),w=p(9635),_=p(2843),R=p(9751),P=p(515),a=p(727),k=p(4482),L=p(5403);function Z(){return(0,k.e)((o,c)=>{let v=null;o._refCount++;const S=(0,L.x)(c,void 0,void 0,void 0,()=>{if(!o||o._refCount<=0||0<--o._refCount)return void(v=null);const I=o._connection,H=v;v=null,I&&(!H||I===H)&&I.unsubscribe(),c.unsubscribe()});o.subscribe(S),S.closed||(v=o.connect())})}class j extends R.y{constructor(c,v){super(),this.source=c,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,k.A)(c)&&(this.lift=c.lift)}_subscribe(c){return this.getSubject().subscribe(c)}getSubject(){const c=this._subject;return(!c||c.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:c}=this;this._subject=this._connection=null,c?.unsubscribe()}connect(){let c=this._connection;if(!c){c=this._connection=new a.w0;const v=this.getSubject();c.add(this.source.subscribe((0,L.x)(v,void 0,()=>{this._teardown(),v.complete()},S=>{this._teardown(),v.error(S)},()=>this._teardown()))),c.closed&&(this._connection=null,c=a.w0.EMPTY)}return c}refCount(){return Z()(this)}}var N=p(7579),B=p(6895),V=p(4004),J=p(3900),q=p(5698),re=p(8675),W=p(9300),G=p(5577),X=p(590),E=p(4351),ne=p(8505),K=p(262),le=p(7359);function me(o,c){return(0,k.e)((0,le.U)(o,c,arguments.length>=2,!0))}function Se(o){return o<=0?()=>P.E:(0,k.e)((c,v)=>{let S=[];c.subscribe((0,L.x)(v,I=>{S.push(I),o<S.length&&S.shift()},()=>{for(const I of S)v.next(I);v.complete()},void 0,()=>{S=null}))})}var ye=p(8068),ze=p(6590),Ee=p(4671);function qe(o,c){const v=arguments.length>=2;return S=>S.pipe(o?(0,W.h)((I,H)=>o(I,H,S)):Ee.y,Se(1),v?(0,ze.d)(c):(0,ye.T)(()=>new C.K))}var nt=p(9718);function at(o){return(0,k.e)((c,v)=>{try{c.subscribe(v)}finally{v.add(o)}})}var wt=p(8189),lt=p(1481);const mt="primary",pt=Symbol("RouteTitle");class Yt{constructor(c){this.params=c||{}}has(c){return Object.prototype.hasOwnProperty.call(this.params,c)}get(c){if(this.has(c)){const v=this.params[c];return Array.isArray(v)?v[0]:v}return null}getAll(c){if(this.has(c)){const v=this.params[c];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function un(o){return new Yt(o)}function Nt(o,c,v){const S=v.path.split("/");if(S.length>o.length||"full"===v.pathMatch&&(c.hasChildren()||S.length<o.length))return null;const I={};for(let H=0;H<S.length;H++){const se=S[H],he=o[H];if(se.startsWith(":"))I[se.substring(1)]=he;else if(se!==he.path)return null}return{consumed:o.slice(0,S.length),posParams:I}}function Y(o,c){const v=o?Object.keys(o):void 0,S=c?Object.keys(c):void 0;if(!v||!S||v.length!=S.length)return!1;let I;for(let H=0;H<v.length;H++)if(I=v[H],!Q(o[I],c[I]))return!1;return!0}function Q(o,c){if(Array.isArray(o)&&Array.isArray(c)){if(o.length!==c.length)return!1;const v=[...o].sort(),S=[...c].sort();return v.every((I,H)=>S[H]===I)}return o===c}function ce(o){return Array.prototype.concat.apply([],o)}function We(o){return o.length>0?o[o.length-1]:null}function Oe(o,c){for(const v in o)o.hasOwnProperty(v)&&c(o[v],v)}function i(o){return(0,t.CqO)(o)?o:(0,t.QGY)(o)?(0,e.D)(Promise.resolve(o)):(0,m.of)(o)}const Ye={exact:function vt(o,c,v){if(!Dt(o.segments,c.segments)||!U(o.segments,c.segments,v)||o.numberOfChildren!==c.numberOfChildren)return!1;for(const S in c.children)if(!o.children[S]||!vt(o.children[S],c.children[S],v))return!1;return!0},subset:de},Xe={exact:function Tt(o,c){return Y(o,c)},subset:function Ge(o,c){return Object.keys(c).length<=Object.keys(o).length&&Object.keys(c).every(v=>Q(o[v],c[v]))},ignored:()=>!0};function Fe(o,c,v){return Ye[v.paths](o.root,c.root,v.matrixParams)&&Xe[v.queryParams](o.queryParams,c.queryParams)&&!("exact"===v.fragment&&o.fragment!==c.fragment)}function de(o,c,v){return ee(o,c,c.segments,v)}function ee(o,c,v,S){if(o.segments.length>v.length){const I=o.segments.slice(0,v.length);return!(!Dt(I,v)||c.hasChildren()||!U(I,v,S))}if(o.segments.length===v.length){if(!Dt(o.segments,v)||!U(o.segments,v,S))return!1;for(const I in c.children)if(!o.children[I]||!de(o.children[I],c.children[I],S))return!1;return!0}{const I=v.slice(0,o.segments.length),H=v.slice(o.segments.length);return!!(Dt(o.segments,I)&&U(o.segments,I,S)&&o.children[mt])&&ee(o.children[mt],c,H,S)}}function U(o,c,v){return c.every((S,I)=>Xe[v](o[I].parameters,S.parameters))}class te{constructor(c,v,S){this.root=c,this.queryParams=v,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return _n.serialize(this)}}class Re{constructor(c,v){this.segments=c,this.children=v,this.parent=null,Oe(v,(S,I)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class ot{constructor(c,v){this.path=c,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=un(this.parameters)),this._parameterMap}toString(){return Gn(this)}}function Dt(o,c){return o.length===c.length&&o.every((v,S)=>v.path===c[S].path)}let mn=(()=>{class o{}return o.\u0275fac=function(v){return new(v||o)},o.\u0275prov=t.Yz7({token:o,factory:function(){return new nn},providedIn:"root"}),o})();class nn{parse(c){const v=new Ze(c);return new te(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(c){const v=`/${gt(c.root,!0)}`,S=function ii(o){const c=Object.keys(o).map(v=>{const S=o[v];return Array.isArray(S)?S.map(I=>`${It(v)}=${It(I)}`).join("&"):`${It(v)}=${It(S)}`}).filter(v=>!!v);return c.length?`?${c.join("&")}`:""}(c.queryParams);return`${v}${S}${"string"==typeof c.fragment?`#${function Xt(o){return encodeURI(o)}(c.fragment)}`:""}`}}const _n=new nn;function sn(o){return o.segments.map(c=>Gn(c)).join("/")}function gt(o,c){if(!o.hasChildren())return sn(o);if(c){const v=o.children[mt]?gt(o.children[mt],!1):"",S=[];return Oe(o.children,(I,H)=>{H!==mt&&S.push(`${H}:${gt(I,!1)}`)}),S.length>0?`${v}(${S.join("//")})`:v}{const v=function Qt(o,c){let v=[];return Oe(o.children,(S,I)=>{I===mt&&(v=v.concat(c(S,I)))}),Oe(o.children,(S,I)=>{I!==mt&&(v=v.concat(c(S,I)))}),v}(o,(S,I)=>I===mt?[gt(o.children[mt],!1)]:[`${I}:${gt(S,!1)}`]);return 1===Object.keys(o.children).length&&null!=o.children[mt]?`${sn(o)}/${v[0]}`:`${sn(o)}/(${v.join("//")})`}}function dn(o){return encodeURIComponent(o).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function It(o){return dn(o).replace(/%3B/gi,";")}function fn(o){return dn(o).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function An(o){return decodeURIComponent(o)}function kn(o){return An(o.replace(/\+/g,"%20"))}function Gn(o){return`${fn(o.path)}${function ti(o){return Object.keys(o).map(c=>`;${fn(c)}=${fn(o[c])}`).join("")}(o.parameters)}`}const $t=/^[^\/()?;=#]+/;function Qn(o){const c=o.match($t);return c?c[0]:""}const Nn=/^[^=?&#]+/,_t=/^[^&#]+/;class Ze{constructor(c){this.url=c,this.remaining=c}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const c={};if(this.consumeOptional("?"))do{this.parseQueryParam(c)}while(this.consumeOptional("&"));return c}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const c=[];for(this.peekStartsWith("(")||c.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),c.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(c.length>0||Object.keys(v).length>0)&&(S[mt]=new Re(c,v)),S}parseSegment(){const c=Qn(this.remaining);if(""===c&&this.peekStartsWith(";"))throw new t.vHH(4009,!1);return this.capture(c),new ot(An(c),this.parseMatrixParams())}parseMatrixParams(){const c={};for(;this.consumeOptional(";");)this.parseParam(c);return c}parseParam(c){const v=Qn(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const I=Qn(this.remaining);I&&(S=I,this.capture(S))}c[An(v)]=An(S)}parseQueryParam(c){const v=function bt(o){const c=o.match(Nn);return c?c[0]:""}(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const se=function Ot(o){const c=o.match(_t);return c?c[0]:""}(this.remaining);se&&(S=se,this.capture(S))}const I=kn(v),H=kn(S);if(c.hasOwnProperty(I)){let se=c[I];Array.isArray(se)||(se=[se],c[I]=se),se.push(H)}else c[I]=H}parseParens(c){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Qn(this.remaining),I=this.remaining[S.length];if("/"!==I&&")"!==I&&";"!==I)throw new t.vHH(4010,!1);let H;S.indexOf(":")>-1?(H=S.slice(0,S.indexOf(":")),this.capture(H),this.capture(":")):c&&(H=mt);const se=this.parseChildren();v[H]=1===Object.keys(se).length?se[mt]:new Re([],se),this.consumeOptional("//")}return v}peekStartsWith(c){return this.remaining.startsWith(c)}consumeOptional(c){return!!this.peekStartsWith(c)&&(this.remaining=this.remaining.substring(c.length),!0)}capture(c){if(!this.consumeOptional(c))throw new t.vHH(4011,!1)}}function Ke(o){return o.segments.length>0?new Re([],{[mt]:o}):o}function it(o){const c={};for(const S of Object.keys(o.children)){const H=it(o.children[S]);(H.segments.length>0||H.hasChildren())&&(c[S]=H)}return function yt(o){if(1===o.numberOfChildren&&o.children[mt]){const c=o.children[mt];return new Re(o.segments.concat(c.segments),c.children)}return o}(new Re(o.segments,c))}function Jt(o){return o instanceof te}function _i(o,c,v,S,I){var H;if(0===v.length)return di(c.root,c.root,c.root,S,I);const se=function bi(o){if("string"==typeof o[0]&&1===o.length&&"/"===o[0])return new Ui(!0,0,o);let c=0,v=!1;const S=o.reduce((I,H,se)=>{if("object"==typeof H&&null!=H){if(H.outlets){const he={};return Oe(H.outlets,(Ne,F)=>{he[F]="string"==typeof Ne?Ne.split("/"):Ne}),[...I,{outlets:he}]}if(H.segmentPath)return[...I,H.segmentPath]}return"string"!=typeof H?[...I,H]:0===se?(H.split("/").forEach((he,Ne)=>{0==Ne&&"."===he||(0==Ne&&""===he?v=!0:".."===he?c++:""!=he&&I.push(he))}),I):[...I,H]},[]);return new Ui(v,c,S)}(v);if(se.toRoot())return di(c.root,c.root,new Re([],{}),S,I);const Ne=function he(Ae){var D;const oe=function Fi(o,c,v,S){if(o.isAbsolute)return new pi(c.root,!0,0);if(-1===S)return new pi(v,v===c.root,0);return function Wt(o,c,v){let S=o,I=c,H=v;for(;H>I;){if(H-=I,S=S.parent,!S)throw new t.vHH(4005,!1);I=S.segments.length}return new pi(S,!1,I-H)}(v,S+(Cn(o.commands[0])?0:1),o.numberOfDoubleDots)}(se,c,null===(D=o.snapshot)||void 0===D?void 0:D._urlSegment,Ae),ht=oe.processChildren?zt(oe.segmentGroup,oe.index,se.commands):kt(oe.segmentGroup,oe.index,se.commands);return di(c.root,oe.segmentGroup,ht,S,I)}(null===(H=o.snapshot)||void 0===H?void 0:H._lastPathIndex);return Ne}function Cn(o){return"object"==typeof o&&null!=o&&!o.outlets&&!o.segmentPath}function Zn(o){return"object"==typeof o&&null!=o&&o.outlets}function di(o,c,v,S,I){let se,H={};S&&Oe(S,(Ne,F)=>{H[F]=Array.isArray(Ne)?Ne.map(Ae=>`${Ae}`):`${Ne}`}),se=o===c?v:Un(o,c,v);const he=Ke(it(se));return new te(he,H,I)}function Un(o,c,v){const S={};return Oe(o.children,(I,H)=>{S[H]=I===c?v:Un(I,c,v)}),new Re(o.segments,S)}class Ui{constructor(c,v,S){if(this.isAbsolute=c,this.numberOfDoubleDots=v,this.commands=S,c&&S.length>0&&Cn(S[0]))throw new t.vHH(4003,!1);const I=S.find(Zn);if(I&&I!==We(S))throw new t.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pi{constructor(c,v,S){this.segmentGroup=c,this.processChildren=v,this.index=S}}function kt(o,c,v){if(o||(o=new Re([],{})),0===o.segments.length&&o.hasChildren())return zt(o,c,v);const S=function Sn(o,c,v){let S=0,I=c;const H={match:!1,pathIndex:0,commandIndex:0};for(;I<o.segments.length;){if(S>=v.length)return H;const se=o.segments[I],he=v[S];if(Zn(he))break;const Ne=`${he}`,F=S<v.length-1?v[S+1]:null;if(I>0&&void 0===Ne)break;if(Ne&&F&&"object"==typeof F&&void 0===F.outlets){if(!et(Ne,F,se))return H;S+=2}else{if(!et(Ne,{},se))return H;S++}I++}return{match:!0,pathIndex:I,commandIndex:S}}(o,c,v),I=v.slice(S.commandIndex);if(S.match&&S.pathIndex<o.segments.length){const H=new Re(o.segments.slice(0,S.pathIndex),{});return H.children[mt]=new Re(o.segments.slice(S.pathIndex),o.children),zt(H,0,I)}return S.match&&0===I.length?new Re(o.segments,{}):S.match&&!o.hasChildren()?Ln(o,c,v):S.match?zt(o,0,I):Ln(o,c,v)}function zt(o,c,v){if(0===v.length)return new Re(o.segments,{});{const S=function Pn(o){return Zn(o[0])?o[0].outlets:{[mt]:o}}(v),I={};return Oe(S,(H,se)=>{"string"==typeof H&&(H=[H]),null!==H&&(I[se]=kt(o.children[se],c,H))}),Oe(o.children,(H,se)=>{void 0===S[se]&&(I[se]=H)}),new Re(o.segments,I)}}function Ln(o,c,v){const S=o.segments.slice(0,c);let I=0;for(;I<v.length;){const H=v[I];if(Zn(H)){const Ne=zn(H.outlets);return new Re(S,Ne)}if(0===I&&Cn(v[0])){S.push(new ot(o.segments[c].path,Be(v[0]))),I++;continue}const se=Zn(H)?H.outlets[mt]:`${H}`,he=I<v.length-1?v[I+1]:null;se&&he&&Cn(he)?(S.push(new ot(se,Be(he))),I+=2):(S.push(new ot(se,{})),I++)}return new Re(S,{})}function zn(o){const c={};return Oe(o,(v,S)=>{"string"==typeof v&&(v=[v]),null!==v&&(c[S]=Ln(new Re([],{}),0,v))}),c}function Be(o){const c={};return Oe(o,(v,S)=>c[S]=`${v}`),c}function et(o,c,v){return o==v.path&&Y(c,v.parameters)}class ft{constructor(c,v){this.id=c,this.url=v}}class Lt extends ft{constructor(c,v,S="imperative",I=null){super(c,v),this.type=0,this.navigationTrigger=S,this.restoredState=I}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pn extends ft{constructor(c,v,S){super(c,v),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hn extends ft{constructor(c,v,S,I){super(c,v),this.reason=S,this.code=I,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class In extends ft{constructor(c,v,S,I){super(c,v),this.error=S,this.target=I,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rn extends ft{constructor(c,v,S,I){super(c,v),this.urlAfterRedirects=S,this.state=I,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi extends ft{constructor(c,v,S,I){super(c,v),this.urlAfterRedirects=S,this.state=I,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends ft{constructor(c,v,S,I,H){super(c,v),this.urlAfterRedirects=S,this.state=I,this.shouldActivate=H,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qn extends ft{constructor(c,v,S,I){super(c,v),this.urlAfterRedirects=S,this.state=I,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends ft{constructor(c,v,S,I){super(c,v),this.urlAfterRedirects=S,this.state=I,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi{constructor(c){this.route=c,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hr{constructor(c){this.route=c,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ei{constructor(c){this.snapshot=c,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(c){this.snapshot=c,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{constructor(c){this.snapshot=c,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(c){this.snapshot=c,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(c,v,S){this.routerEvent=c,this.position=v,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class is{constructor(c){this._root=c}get root(){return this._root.value}parent(c){const v=this.pathFromRoot(c);return v.length>1?v[v.length-2]:null}children(c){const v=us(c,this._root);return v?v.children.map(S=>S.value):[]}firstChild(c){const v=us(c,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(c){const v=qr(c,this._root);return v.length<2?[]:v[v.length-2].children.map(I=>I.value).filter(I=>I!==c)}pathFromRoot(c){return qr(c,this._root).map(v=>v.value)}}function us(o,c){if(o===c.value)return c;for(const v of c.children){const S=us(o,v);if(S)return S}return null}function qr(o,c){if(o===c.value)return[c];for(const v of c.children){const S=qr(o,v);if(S.length)return S.unshift(c),S}return[]}class _r{constructor(c,v){this.value=c,this.children=v}toString(){return`TreeNode(${this.value})`}}function rs(o){const c={};return o&&o.children.forEach(v=>c[v.value.outlet]=v),c}class Rs extends is{constructor(c,v){super(c),this.snapshot=v,Wn(this,c)}toString(){return this.snapshot.toString()}}function Cs(o,c){const v=function Sr(o,c){const se=new Xn([],{},{},"",{},mt,c,null,o.root,-1,{});return new _s("",new _r(se,[]))}(o,c),S=new T.X([new ot("",{})]),I=new T.X({}),H=new T.X({}),se=new T.X({}),he=new T.X(""),Ne=new rr(S,I,se,he,H,mt,c,v.root);return Ne.snapshot=v.root,new Rs(new _r(Ne,[]),v)}class rr{constructor(c,v,S,I,H,se,he,Ne){var F,Ae;this.url=c,this.params=v,this.queryParams=S,this.fragment=I,this.data=H,this.outlet=se,this.component=he,this.title=null!==(F=null===(Ae=this.data)||void 0===Ae?void 0:Ae.pipe((0,V.U)(D=>D[pt])))&&void 0!==F?F:(0,m.of)(void 0),this._futureSnapshot=Ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,V.U)(c=>un(c)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,V.U)(c=>un(c)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ri(o,c="emptyOnly"){const v=o.pathFromRoot;let S=0;if("always"!==c)for(S=v.length-1;S>=1;){const I=v[S],H=v[S-1];if(I.routeConfig&&""===I.routeConfig.path)S--;else{if(H.component)break;S--}}return function ds(o){return o.reduce((c,v)=>{var S;return{params:{...c.params,...v.params},data:{...c.data,...v.data},resolve:{...v.data,...c.resolve,...null===(S=v.routeConfig)||void 0===S?void 0:S.data,...v._resolvedData}}},{params:{},data:{},resolve:{}})}(v.slice(S))}class Xn{constructor(c,v,S,I,H,se,he,Ne,F,Ae,D,oe){var ht;this.url=c,this.params=v,this.queryParams=S,this.fragment=I,this.data=H,this.outlet=se,this.component=he,this.title=null===(ht=this.data)||void 0===ht?void 0:ht[pt],this.routeConfig=Ne,this._urlSegment=F,this._lastPathIndex=Ae,this._correctedLastPathIndex=oe??Ae,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _s extends is{constructor(c,v){super(v),this.url=c,Wn(this,v)}toString(){return pr(this._root)}}function Wn(o,c){c.value._routerState=o,c.children.forEach(v=>Wn(o,v))}function pr(o){const c=o.children.length>0?` { ${o.children.map(pr).join(", ")} } `:"";return`${o.value}${c}`}function xr(o){if(o.snapshot){const c=o.snapshot,v=o._futureSnapshot;o.snapshot=v,Y(c.queryParams,v.queryParams)||o.queryParams.next(v.queryParams),c.fragment!==v.fragment&&o.fragment.next(v.fragment),Y(c.params,v.params)||o.params.next(v.params),function Mt(o,c){if(o.length!==c.length)return!1;for(let v=0;v<o.length;++v)if(!Y(o[v],c[v]))return!1;return!0}(c.url,v.url)||o.url.next(v.url),Y(c.data,v.data)||o.data.next(v.data)}else o.snapshot=o._futureSnapshot,o.data.next(o._futureSnapshot.data)}function Yr(o,c){const v=Y(o.params,c.params)&&function ut(o,c){return Dt(o,c)&&o.every((v,S)=>Y(v.parameters,c[S].parameters))}(o.url,c.url);return v&&!(!o.parent!=!c.parent)&&(!o.parent||Yr(o.parent,c.parent))}function Pr(o,c,v){if(v&&o.shouldReuseRoute(c.value,v.value.snapshot)){const S=v.value;S._futureSnapshot=c.value;const I=function vr(o,c,v){return c.children.map(S=>{for(const I of v.children)if(o.shouldReuseRoute(S.value,I.value.snapshot))return Pr(o,S,I);return Pr(o,S)})}(o,c,v);return new _r(S,I)}{if(o.shouldAttach(c.value)){const H=o.retrieve(c.value);if(null!==H){const se=H.route;return se.value._futureSnapshot=c.value,se.children=c.children.map(he=>Pr(o,he)),se}}const S=function ss(o){return new rr(new T.X(o.url),new T.X(o.params),new T.X(o.queryParams),new T.X(o.fragment),new T.X(o.data),o.outlet,o.component,o)}(c.value),I=c.children.map(H=>Pr(o,H));return new _r(S,I)}}const sr="ngNavigationCancelingError";function yr(o,c){const{redirectTo:v,navigationBehaviorOptions:S}=Jt(c)?{redirectTo:c,navigationBehaviorOptions:void 0}:c,I=os(!1,0,c);return I.url=v,I.navigationBehaviorOptions=S,I}function os(o,c,v){const S=new Error("NavigationCancelingError: "+(o||""));return S[sr]=!0,S.cancellationCode=c,v&&(S.url=v),S}function Cr(o){return Ji(o)&&Jt(o.url)}function Ji(o){return o&&o[sr]}class jr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hs,this.attachRef=null}}let hs=(()=>{class o{constructor(){this.contexts=new Map}onChildOutletCreated(v,S){const I=this.getOrCreateContext(v);I.outlet=S,this.contexts.set(v,I)}onChildOutletDestroyed(v){const S=this.getContext(v);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let S=this.getContext(v);return S||(S=new jr,this.contexts.set(v,S)),S}getContext(v){return this.contexts.get(v)||null}}return o.\u0275fac=function(v){return new(v||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ds=!1;let Rr=(()=>{class o{constructor(v,S,I,H,se){this.parentContexts=v,this.location=S,this.changeDetector=H,this.environmentInjector=se,this.activated=null,this._activatedRoute=null,this.activateEvents=new t.vpe,this.deactivateEvents=new t.vpe,this.attachEvents=new t.vpe,this.detachEvents=new t.vpe,this.name=I||mt,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){var v;(null===(v=this.parentContexts.getContext(this.name))||void 0===v?void 0:v.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.vHH(4012,Ds);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.vHH(4012,Ds);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.vHH(4012,Ds);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,S){this.activated=v,this._activatedRoute=S,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,S){if(this.isActivated)throw new t.vHH(4013,Ds);this._activatedRoute=v;const I=this.location,se=v._futureSnapshot.component,he=this.parentContexts.getOrCreateContext(this.name).children,Ne=new bs(v,he,I.injector);if(S&&function Vi(o){return!!o.resolveComponentFactory}(S)){const F=S.resolveComponentFactory(se);this.activated=I.createComponent(F,I.length,Ne)}else this.activated=I.createComponent(se,{index:I.length,injector:Ne,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return o.\u0275fac=function(v){return new(v||o)(t.Y36(hs),t.Y36(t.s_b),t.$8M("name"),t.Y36(t.sBO),t.Y36(t.lqb))},o.\u0275dir=t.lG2({type:o,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),o})();class bs{constructor(c,v,S){this.route=c,this.childContexts=v,this.parent=S}get(c,v){return c===rr?this.route:c===hs?this.childContexts:this.parent.get(c,v)}}let ws=(()=>{class o{}return o.\u0275fac=function(v){return new(v||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(v,S){1&v&&t._UZ(0,"router-outlet")},dependencies:[Rr],encapsulation:2}),o})();function no(o,c){var v;return o.providers&&!o._injector&&(o._injector=(0,t.MMx)(o.providers,c,`Route: ${o.path}`)),null!==(v=o._injector)&&void 0!==v?v:c}function ao(o){const c=o.children&&o.children.map(ao),v=c?{...o,children:c}:{...o};return!v.component&&!v.loadComponent&&(c||v.loadChildren)&&v.outlet&&v.outlet!==mt&&(v.component=ws),v}function Zi(o){return o.outlet||mt}function br(o,c){const v=o.filter(S=>Zi(S)===c);return v.push(...o.filter(S=>Zi(S)!==c)),v}function Er(o){var c;if(!o)return null;if(null!==(c=o.routeConfig)&&void 0!==c&&c._injector)return o.routeConfig._injector;for(let v=o.parent;v;v=v.parent){const S=v.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class Ps{constructor(c,v,S,I){this.routeReuseStrategy=c,this.futureState=v,this.currState=S,this.forwardEvent=I}activate(c){const v=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,S,c),xr(this.futureState.root),this.activateChildRoutes(v,S,c)}deactivateChildRoutes(c,v,S){const I=rs(v);c.children.forEach(H=>{const se=H.value.outlet;this.deactivateRoutes(H,I[se],S),delete I[se]}),Oe(I,(H,se)=>{this.deactivateRouteAndItsChildren(H,S)})}deactivateRoutes(c,v,S){const I=c.value,H=v?v.value:null;if(I===H)if(I.component){const se=S.getContext(I.outlet);se&&this.deactivateChildRoutes(c,v,se.children)}else this.deactivateChildRoutes(c,v,S);else H&&this.deactivateRouteAndItsChildren(v,S)}deactivateRouteAndItsChildren(c,v){c.value.component&&this.routeReuseStrategy.shouldDetach(c.value.snapshot)?this.detachAndStoreRouteSubtree(c,v):this.deactivateRouteAndOutlet(c,v)}detachAndStoreRouteSubtree(c,v){const S=v.getContext(c.value.outlet),I=S&&c.value.component?S.children:v,H=rs(c);for(const se of Object.keys(H))this.deactivateRouteAndItsChildren(H[se],I);if(S&&S.outlet){const se=S.outlet.detach(),he=S.children.onOutletDeactivated();this.routeReuseStrategy.store(c.value.snapshot,{componentRef:se,route:c,contexts:he})}}deactivateRouteAndOutlet(c,v){const S=v.getContext(c.value.outlet),I=S&&c.value.component?S.children:v,H=rs(c);for(const se of Object.keys(H))this.deactivateRouteAndItsChildren(H[se],I);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(c,v,S){const I=rs(v);c.children.forEach(H=>{this.activateRoutes(H,I[H.value.outlet],S),this.forwardEvent(new Hi(H.value.snapshot))}),c.children.length&&this.forwardEvent(new gr(c.value.snapshot))}activateRoutes(c,v,S){const I=c.value,H=v?v.value:null;if(xr(I),I===H)if(I.component){const he=S.getOrCreateContext(I.outlet);this.activateChildRoutes(c,v,he.children)}else this.activateChildRoutes(c,v,S);else if(I.component){const he=S.getOrCreateContext(I.outlet);if(this.routeReuseStrategy.shouldAttach(I.snapshot)){const Ne=this.routeReuseStrategy.retrieve(I.snapshot);this.routeReuseStrategy.store(I.snapshot,null),he.children.onOutletReAttached(Ne.contexts),he.attachRef=Ne.componentRef,he.route=Ne.route.value,he.outlet&&he.outlet.attach(Ne.componentRef,Ne.route.value),xr(Ne.route.value),this.activateChildRoutes(c,null,he.children)}else{var se;const Ne=Er(I.snapshot),F=null!==(se=Ne?.get(t._Vd))&&void 0!==se?se:null;he.attachRef=null,he.route=I,he.resolver=F,he.injector=Ne,he.outlet&&he.outlet.activateWith(I,he.injector),this.activateChildRoutes(c,null,he.children)}}else this.activateChildRoutes(c,null,S)}}class lr{constructor(c){this.path=c,this.route=this.path[this.path.length-1]}}class Hr{constructor(c,v){this.component=c,this.route=v}}function io(o,c,v){const S=o._root;return Lr(S,c?c._root:null,v,[S.value])}function wr(o,c){const v=Symbol(),S=c.get(o,v);return S===v?"function"!=typeof o||(0,t.Z0I)(o)?c.get(o):o:S}function Lr(o,c,v,S,I={canDeactivateChecks:[],canActivateChecks:[]}){const H=rs(c);return o.children.forEach(se=>{(function Dr(o,c,v,S,I={canDeactivateChecks:[],canActivateChecks:[]}){const H=o.value,se=c?c.value:null,he=v?v.getContext(o.value.outlet):null;if(se&&H.routeConfig===se.routeConfig){const Ne=function yn(o,c,v){if("function"==typeof v)return v(o,c);switch(v){case"pathParamsChange":return!Dt(o.url,c.url);case"pathParamsOrQueryParamsChange":return!Dt(o.url,c.url)||!Y(o.queryParams,c.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yr(o,c)||!Y(o.queryParams,c.queryParams);default:return!Yr(o,c)}}(se,H,H.routeConfig.runGuardsAndResolvers);Ne?I.canActivateChecks.push(new lr(S)):(H.data=se.data,H._resolvedData=se._resolvedData),Lr(o,c,H.component?he?he.children:null:v,S,I),Ne&&he&&he.outlet&&he.outlet.isActivated&&I.canDeactivateChecks.push(new Hr(he.outlet.component,se))}else se&&oi(c,he,I),I.canActivateChecks.push(new lr(S)),Lr(o,null,H.component?he?he.children:null:v,S,I)})(se,H[se.value.outlet],v,S.concat([se.value]),I),delete H[se.value.outlet]}),Oe(H,(se,he)=>oi(se,v.getContext(he),I)),I}function oi(o,c,v){const S=rs(o),I=o.value;Oe(S,(H,se)=>{oi(H,I.component?c?c.children.getContext(se):null:c,v)}),v.canDeactivateChecks.push(new Hr(I.component&&c&&c.outlet&&c.outlet.isActivated?c.outlet.component:null,I))}function ps(o){return"function"==typeof o}function ji(o){return o instanceof C.K||"EmptyError"===o?.name}const Ir=Symbol("INITIAL_VALUE");function Or(){return(0,J.w)(o=>(0,b.a)(o.map(c=>c.pipe((0,q.q)(1),(0,re.O)(Ir)))).pipe((0,V.U)(c=>{for(const v of c)if(!0!==v){if(v===Ir)return Ir;if(!1===v||v instanceof te)return v}return!0}),(0,W.h)(c=>c!==Ir),(0,q.q)(1)))}function Tn(o){return(0,w.z)((0,ne.b)(c=>{if(Jt(c))throw yr(0,c)}),(0,V.U)(c=>!0===c))}const jn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ur(o,c,v,S,I){const H=Kr(o,c,v);return H.matched?function ai(o,c,v,S){const I=c.canMatch;if(!I||0===I.length)return(0,m.of)(!0);const H=I.map(se=>{const he=wr(se,o);return i(function rt(o){return o&&ps(o.canMatch)}(he)?he.canMatch(c,v):o.runInContext(()=>he(c,v)))});return(0,m.of)(H).pipe(Or(),Tn())}(S=no(c,S),c,v).pipe((0,V.U)(se=>!0===se?H:{...jn})):(0,m.of)(H)}function Kr(o,c,v){var S;if(""===c.path)return"full"===c.pathMatch&&(o.hasChildren()||v.length>0)?{...jn}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const H=(c.matcher||Nt)(v,o,c);if(!H)return{...jn};const se={};Oe(H.posParams,(Ne,F)=>{se[F]=Ne.path});const he=H.consumed.length>0?{...se,...H.consumed[H.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:H.consumed,remainingSegments:v.slice(H.consumed.length),parameters:he,positionalParamSegments:null!==(S=H.posParams)&&void 0!==S?S:{}}}function dr(o,c,v,S,I="corrected"){if(v.length>0&&function fo(o,c,v){return v.some(S=>fe(o,c,S)&&Zi(S)!==mt)}(o,v,S)){const se=new Re(c,function ri(o,c,v,S){const I={};I[mt]=S,S._sourceSegment=o,S._segmentIndexShift=c.length;for(const H of v)if(""===H.path&&Zi(H)!==mt){const se=new Re([],{});se._sourceSegment=o,se._segmentIndexShift=c.length,I[Zi(H)]=se}return I}(o,c,S,new Re(v,o.children)));return se._sourceSegment=o,se._segmentIndexShift=c.length,{segmentGroup:se,slicedSegments:[]}}if(0===v.length&&function Ks(o,c,v){return v.some(S=>fe(o,c,S))}(o,v,S)){const se=new Re(o.segments,function zi(o,c,v,S,I,H){const se={};for(const he of S)if(fe(o,v,he)&&!I[Zi(he)]){const Ne=new Re([],{});Ne._sourceSegment=o,Ne._segmentIndexShift="legacy"===H?o.segments.length:c.length,se[Zi(he)]=Ne}return{...I,...se}}(o,c,v,S,o.children,I));return se._sourceSegment=o,se._segmentIndexShift=c.length,{segmentGroup:se,slicedSegments:v}}const H=new Re(o.segments,o.children);return H._sourceSegment=o,H._segmentIndexShift=c.length,{segmentGroup:H,slicedSegments:v}}function fe(o,c,v){return(!(o.hasChildren()||c.length>0)||"full"!==v.pathMatch)&&""===v.path}function Le(o,c,v,S){return!!(Zi(o)===S||S!==mt&&fe(c,v,o))&&("**"===o.path||Kr(c,o,v).matched)}function be(o,c,v){return 0===c.length&&!o.children[v]}const tt=!1;class St{constructor(c){this.segmentGroup=c||null}}class en{constructor(c){this.urlTree=c}}function an(o){return(0,_._)(new St(o))}function qt(o){return(0,_._)(new en(o))}class vn{constructor(c,v,S,I,H){this.injector=c,this.configLoader=v,this.urlSerializer=S,this.urlTree=I,this.config=H,this.allowRedirects=!0}apply(){const c=dr(this.urlTree.root,[],[],this.config).segmentGroup,v=new Re(c.segments,c.children);return this.expandSegmentGroup(this.injector,this.config,v,mt).pipe((0,V.U)(H=>this.createUrlTree(it(H),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,K.K)(H=>{if(H instanceof en)return this.allowRedirects=!1,this.match(H.urlTree);throw H instanceof St?this.noMatchError(H):H}))}match(c){return this.expandSegmentGroup(this.injector,this.config,c.root,mt).pipe((0,V.U)(I=>this.createUrlTree(it(I),c.queryParams,c.fragment))).pipe((0,K.K)(I=>{throw I instanceof St?this.noMatchError(I):I}))}noMatchError(c){return new t.vHH(4002,tt)}createUrlTree(c,v,S){const I=Ke(c);return new te(I,v,S)}expandSegmentGroup(c,v,S,I){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(c,v,S).pipe((0,V.U)(H=>new Re([],H))):this.expandSegment(c,S,v,S.segments,I,!0)}expandChildren(c,v,S){const I=[];for(const H of Object.keys(S.children))"primary"===H?I.unshift(H):I.push(H);return(0,e.D)(I).pipe((0,E.b)(H=>{const se=S.children[H],he=br(v,H);return this.expandSegmentGroup(c,he,se,H).pipe((0,V.U)(Ne=>({segment:Ne,outlet:H})))}),me((H,se)=>(H[se.outlet]=se.segment,H),{}),qe())}expandSegment(c,v,S,I,H,se){return(0,e.D)(S).pipe((0,E.b)(he=>this.expandSegmentAgainstRoute(c,v,S,he,I,H,se).pipe((0,K.K)(F=>{if(F instanceof St)return(0,m.of)(null);throw F}))),(0,X.P)(he=>!!he),(0,K.K)((he,Ne)=>{if(ji(he))return be(v,I,H)?(0,m.of)(new Re([],{})):an(v);throw he}))}expandSegmentAgainstRoute(c,v,S,I,H,se,he){return Le(I,v,H,se)?void 0===I.redirectTo?this.matchSegmentAgainstRoute(c,v,I,H,se):he&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(c,v,S,I,H,se):an(v):an(v)}expandSegmentAgainstRouteUsingRedirect(c,v,S,I,H,se){return"**"===I.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(c,S,I,se):this.expandRegularSegmentAgainstRouteUsingRedirect(c,v,S,I,H,se)}expandWildCardWithParamsAgainstRouteUsingRedirect(c,v,S,I){const H=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?qt(H):this.lineralizeSegments(S,H).pipe((0,G.z)(se=>{const he=new Re(se,{});return this.expandSegment(c,he,v,se,I,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(c,v,S,I,H,se){const{matched:he,consumedSegments:Ne,remainingSegments:F,positionalParamSegments:Ae}=Kr(v,I,H);if(!he)return an(v);const D=this.applyRedirectCommands(Ne,I.redirectTo,Ae);return I.redirectTo.startsWith("/")?qt(D):this.lineralizeSegments(I,D).pipe((0,G.z)(oe=>this.expandSegment(c,v,S,oe.concat(F),se,!1)))}matchSegmentAgainstRoute(c,v,S,I,H){return"**"===S.path?(c=no(S,c),S.loadChildren?(S._loadedRoutes?(0,m.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(c,S)).pipe((0,V.U)(he=>(S._loadedRoutes=he.routes,S._loadedInjector=he.injector,new Re(I,{})))):(0,m.of)(new Re(I,{}))):ur(v,S,I,c).pipe((0,J.w)(({matched:se,consumedSegments:he,remainingSegments:Ne})=>{var F;return se?(c=null!==(F=S._injector)&&void 0!==F?F:c,this.getChildConfig(c,S,I).pipe((0,G.z)(D=>{var oe;const ht=null!==(oe=D.injector)&&void 0!==oe?oe:c,Gt=D.routes,{segmentGroup:xn,slicedSegments:Yn}=dr(v,he,Ne,Gt),Ii=new Re(xn.segments,xn.children);if(0===Yn.length&&Ii.hasChildren())return this.expandChildren(ht,Gt,Ii).pipe((0,V.U)(Bs=>new Re(he,Bs)));if(0===Gt.length&&0===Yn.length)return(0,m.of)(new Re(he,{}));const Ur=Zi(S)===H;return this.expandSegment(ht,Ii,Gt,Yn,Ur?mt:H,!0).pipe((0,V.U)(mr=>new Re(he.concat(mr.segments),mr.children)))}))):an(v)}))}getChildConfig(c,v,S){return v.children?(0,m.of)({routes:v.children,injector:c}):v.loadChildren?void 0!==v._loadedRoutes?(0,m.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function gn(o,c,v,S){const I=c.canLoad;if(void 0===I||0===I.length)return(0,m.of)(!0);const H=I.map(se=>{const he=wr(se,o);return i(function Xi(o){return o&&ps(o.canLoad)}(he)?he.canLoad(c,v):o.runInContext(()=>he(c,v)))});return(0,m.of)(H).pipe(Or(),Tn())}(c,v,S).pipe((0,G.z)(I=>I?this.configLoader.loadChildren(c,v).pipe((0,ne.b)(H=>{v._loadedRoutes=H.routes,v._loadedInjector=H.injector})):function wi(o){return(0,_._)(os(tt,3))}())):(0,m.of)({routes:[],injector:c})}lineralizeSegments(c,v){let S=[],I=v.root;for(;;){if(S=S.concat(I.segments),0===I.numberOfChildren)return(0,m.of)(S);if(I.numberOfChildren>1||!I.children[mt])return(0,_._)(new t.vHH(4e3,tt));I=I.children[mt]}}applyRedirectCommands(c,v,S){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),c,S)}applyRedirectCreateUrlTree(c,v,S,I){const H=this.createSegmentGroup(c,v.root,S,I);return new te(H,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(c,v){const S={};return Oe(c,(I,H)=>{if("string"==typeof I&&I.startsWith(":")){const he=I.substring(1);S[H]=v[he]}else S[H]=I}),S}createSegmentGroup(c,v,S,I){const H=this.createSegments(c,v.segments,S,I);let se={};return Oe(v.children,(he,Ne)=>{se[Ne]=this.createSegmentGroup(c,he,S,I)}),new Re(H,se)}createSegments(c,v,S,I){return v.map(H=>H.path.startsWith(":")?this.findPosParam(c,H,I):this.findOrReturn(H,S))}findPosParam(c,v,S){const I=S[v.path.substring(1)];if(!I)throw new t.vHH(4001,tt);return I}findOrReturn(c,v){let S=0;for(const I of v){if(I.path===c.path)return v.splice(S),I;S++}return c}}class fr{}class Br{constructor(c,v,S,I,H,se,he,Ne){this.injector=c,this.rootComponentType=v,this.config=S,this.urlTree=I,this.url=H,this.paramsInheritanceStrategy=se,this.relativeLinkResolution=he,this.urlSerializer=Ne}recognize(){const c=dr(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,c,mt).pipe((0,V.U)(v=>{if(null===v)return null;const S=new Xn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),I=new _r(S,v),H=new _s(this.url,I);return this.inheritParamsAndData(H._root),H}))}inheritParamsAndData(c){const v=c.value,S=Ri(v,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),c.children.forEach(I=>this.inheritParamsAndData(I))}processSegmentGroup(c,v,S,I){return 0===S.segments.length&&S.hasChildren()?this.processChildren(c,v,S):this.processSegment(c,v,S,S.segments,I)}processChildren(c,v,S){return(0,e.D)(Object.keys(S.children)).pipe((0,E.b)(I=>{const H=S.children[I],se=br(v,I);return this.processSegmentGroup(c,se,H,I)}),me((I,H)=>I&&H?(I.push(...H),I):null),function Te(o,c=!1){return(0,k.e)((v,S)=>{let I=0;v.subscribe((0,L.x)(S,H=>{const se=o(H,I++);(se||c)&&S.next(H),!se&&S.complete()}))})}(I=>null!==I),(0,ze.d)(null),qe(),(0,V.U)(I=>{if(null===I)return null;const H=$s(I);return function kr(o){o.sort((c,v)=>c.value.outlet===mt?-1:v.value.outlet===mt?1:c.value.outlet.localeCompare(v.value.outlet))}(H),H}))}processSegment(c,v,S,I,H){return(0,e.D)(v).pipe((0,E.b)(se=>{var he;return this.processSegmentAgainstRoute(null!==(he=se._injector)&&void 0!==he?he:c,se,S,I,H)}),(0,X.P)(se=>!!se),(0,K.K)(se=>{if(ji(se))return be(S,I,H)?(0,m.of)([]):(0,m.of)(null);throw se}))}processSegmentAgainstRoute(c,v,S,I,H){if(v.redirectTo||!Le(v,S,I,H))return(0,m.of)(null);let se;if("**"===v.path){var he,Ne;const F=I.length>0?We(I).parameters:{},Ae=Gs(S)+I.length,D=new Xn(I,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jo(v),Zi(v),null!==(he=null!==(Ne=v.component)&&void 0!==Ne?Ne:v._loadedComponent)&&void 0!==he?he:null,v,vs(S),Ae,Os(v),Ae);se=(0,m.of)({snapshot:D,consumedSegments:[],remainingSegments:[]})}else se=ur(S,v,I,c).pipe((0,V.U)(({matched:F,consumedSegments:Ae,remainingSegments:D,parameters:oe})=>{var ht,Gt;if(!F)return null;const xn=Gs(S)+Ae.length;return{snapshot:new Xn(Ae,oe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jo(v),Zi(v),null!==(ht=null!==(Gt=v.component)&&void 0!==Gt?Gt:v._loadedComponent)&&void 0!==ht?ht:null,v,vs(S),xn,Os(v),xn),consumedSegments:Ae,remainingSegments:D}}));return se.pipe((0,J.w)(F=>{var Ae,D;if(null===F)return(0,m.of)(null);const{snapshot:oe,consumedSegments:ht,remainingSegments:Gt}=F;c=null!==(Ae=v._injector)&&void 0!==Ae?Ae:c;const xn=null!==(D=v._loadedInjector)&&void 0!==D?D:c,Yn=function Tr(o){return o.children?o.children:o.loadChildren?o._loadedRoutes:[]}(v),{segmentGroup:Ii,slicedSegments:Ur}=dr(S,ht,Gt,Yn.filter(mr=>void 0===mr.redirectTo),this.relativeLinkResolution);if(0===Ur.length&&Ii.hasChildren())return this.processChildren(xn,Yn,Ii).pipe((0,V.U)(mr=>null===mr?null:[new _r(oe,mr)]));if(0===Yn.length&&0===Ur.length)return(0,m.of)([new _r(oe,[])]);const ar=Zi(v)===H;return this.processSegment(xn,Yn,Ii,Ur,ar?mt:H).pipe((0,V.U)(mr=>null===mr?null:[new _r(oe,mr)]))}))}}function Ts(o){const c=o.value.routeConfig;return c&&""===c.path&&void 0===c.redirectTo}function $s(o){const c=[],v=new Set;for(const S of o){if(!Ts(S)){c.push(S);continue}const I=c.find(H=>S.value.routeConfig===H.value.routeConfig);void 0!==I?(I.children.push(...S.children),v.add(I)):c.push(S)}for(const S of v){const I=$s(S.children);c.push(new _r(S.value,I))}return c.filter(S=>!v.has(S))}function vs(o){let c=o;for(;c._sourceSegment;)c=c._sourceSegment;return c}function Gs(o){var c;let v=o,S=null!==(c=v._segmentIndexShift)&&void 0!==c?c:0;for(;v._sourceSegment;){var I;v=v._sourceSegment,S+=null!==(I=v._segmentIndexShift)&&void 0!==I?I:0}return S-1}function Jo(o){return o.data||{}}function Os(o){return o.resolve||{}}function Ss(o){return"string"==typeof o.title||null===o.title}function Mr(o){return(0,J.w)(c=>{const v=o(c);return v?(0,e.D)(v).pipe((0,V.U)(()=>c)):(0,m.of)(c)})}let qo=(()=>{class o{buildTitle(v){let S,I=v.root;for(;void 0!==I;){var H;S=null!==(H=this.getResolvedTitleForRoute(I))&&void 0!==H?H:S,I=I.children.find(se=>se.outlet===mt)}return S}getResolvedTitleForRoute(v){return v.data[pt]}}return o.\u0275fac=function(v){return new(v||o)},o.\u0275prov=t.Yz7({token:o,factory:function(){return(0,t.f3M)(Qs)},providedIn:"root"}),o})(),Qs=(()=>{class o extends qo{constructor(v){super(),this.title=v}updateTitle(v){const S=this.buildTitle(v);void 0!==S&&this.title.setTitle(S)}}return o.\u0275fac=function(v){return new(v||o)(t.LFG(lt.Dx))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class zs{}class co extends class ia{shouldDetach(c){return!1}store(c,v){}shouldAttach(c){return!1}retrieve(c){return null}shouldReuseRoute(c,v){return c.routeConfig===v.routeConfig}}{}const _o=new t.OlP("",{providedIn:"root",factory:()=>({})}),ro=new t.OlP("ROUTES");let Ys=(()=>{class o{constructor(v,S){this.injector=v,this.compiler=S,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,m.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const S=i(v.loadComponent()).pipe((0,ne.b)(H=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=H}),at(()=>{this.componentLoaders.delete(v)})),I=new j(S,()=>new N.x).pipe(Z());return this.componentLoaders.set(v,I),I}loadChildren(v,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,m.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const H=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,V.U)(he=>{this.onLoadEndListener&&this.onLoadEndListener(S);let Ne,F,Ae=!1;Array.isArray(he)?F=he:(Ne=he.create(v).injector,F=ce(Ne.get(ro,[],t.XFs.Self|t.XFs.Optional)));return{routes:F.map(ao),injector:Ne}}),at(()=>{this.childrenLoaders.delete(S)})),se=new j(H,()=>new N.x).pipe(Z());return this.childrenLoaders.set(S,se),se}loadModuleFactoryOrRoutes(v){return i(v()).pipe((0,G.z)(S=>S instanceof t.YKP||Array.isArray(S)?(0,m.of)(S):(0,e.D)(this.compiler.compileModuleAsync(S))))}}return o.\u0275fac=function(v){return new(v||o)(t.LFG(t.zs3),t.LFG(t.Sil))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class De{}class ${shouldProcessUrl(c){return!0}extract(c){return c}merge(c,v){return c}}function Ve(o){throw o}function Ct(o,c,v){return c.parse("/")}const Ut={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ge(){var o,c;const v=(0,t.f3M)(mn),S=(0,t.f3M)(hs),I=(0,t.f3M)(B.Ye),H=(0,t.f3M)(t.zs3),se=(0,t.f3M)(t.Sil),he=null!==(o=(0,t.f3M)(ro,{optional:!0}))&&void 0!==o?o:[],Ne=null!==(c=(0,t.f3M)(_o,{optional:!0}))&&void 0!==c?c:{},F=(0,t.f3M)(Qs),Ae=(0,t.f3M)(qo,{optional:!0}),D=(0,t.f3M)(De,{optional:!0}),oe=(0,t.f3M)(zs,{optional:!0}),ht=new st(null,v,S,I,H,se,ce(he));return D&&(ht.urlHandlingStrategy=D),oe&&(ht.routeReuseStrategy=oe),ht.titleStrategy=Ae??F,function Kt(o,c){o.errorHandler&&(c.errorHandler=o.errorHandler),o.malformedUriErrorHandler&&(c.malformedUriErrorHandler=o.malformedUriErrorHandler),o.onSameUrlNavigation&&(c.onSameUrlNavigation=o.onSameUrlNavigation),o.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=o.paramsInheritanceStrategy),o.relativeLinkResolution&&(c.relativeLinkResolution=o.relativeLinkResolution),o.urlUpdateStrategy&&(c.urlUpdateStrategy=o.urlUpdateStrategy),o.canceledNavigationResolution&&(c.canceledNavigationResolution=o.canceledNavigationResolution)}(Ne,ht),ht}let st=(()=>{class o{constructor(v,S,I,H,se,he,Ne){this.rootComponentType=v,this.urlSerializer=S,this.rootContexts=I,this.location=H,this.config=Ne,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new N.x,this.errorHandler=Ve,this.malformedUriErrorHandler=Ct,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,m.of)(void 0),this.urlHandlingStrategy=new $,this.routeReuseStrategy=new co,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=se.get(Ys),this.configLoader.onLoadEndListener=oe=>this.triggerEvent(new hr(oe)),this.configLoader.onLoadStartListener=oe=>this.triggerEvent(new Yi(oe)),this.ngModule=se.get(t.h0i),this.console=se.get(t.c2e);const D=se.get(t.R0b);this.isNgZoneEnabled=D instanceof t.R0b&&t.R0b.isInAngularZone(),this.resetConfig(Ne),this.currentUrlTree=function $e(){return new te(new Re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Cs(this.currentUrlTree,this.rootComponentType),this.transitions=new T.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const S=this.events;return v.pipe((0,W.h)(I=>0!==I.id),(0,V.U)(I=>({...I,extractedUrl:this.urlHandlingStrategy.extract(I.rawUrl)})),(0,J.w)(I=>{let H=!1,se=!1;return(0,m.of)(I).pipe((0,ne.b)(he=>{this.currentNavigation={id:he.id,initialUrl:he.rawUrl,extractedUrl:he.extractedUrl,trigger:he.source,extras:he.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,J.w)(he=>{const Ne=this.browserUrlTree.toString(),F=!this.navigated||he.extractedUrl.toString()!==Ne||Ne!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||F)&&this.urlHandlingStrategy.shouldProcessUrl(he.rawUrl))return Ue(he.source)&&(this.browserUrlTree=he.extractedUrl),(0,m.of)(he).pipe((0,J.w)(D=>{const oe=this.transitions.getValue();return S.next(new Lt(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),oe!==this.transitions.getValue()?P.E:Promise.resolve(D)}),function mi(o,c,v,S){return(0,J.w)(I=>function yi(o,c,v,S,I){return new vn(o,c,v,S,I).apply()}(o,c,v,I.extractedUrl,S).pipe((0,V.U)(H=>({...I,urlAfterRedirects:H}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ne.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},I.urlAfterRedirects=D.urlAfterRedirects}),function fs(o,c,v,S,I,H){return(0,G.z)(se=>function Gi(o,c,v,S,I,H,se="emptyOnly",he="legacy"){return new Br(o,c,v,S,I,se,he,H).recognize().pipe((0,J.w)(Ne=>null===Ne?function es(o){return new R.y(c=>c.error(o))}(new fr):(0,m.of)(Ne)))}(o,c,v,se.urlAfterRedirects,S.serialize(se.urlAfterRedirects),S,I,H).pipe((0,V.U)(he=>({...se,targetSnapshot:he}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ne.b)(D=>{if(I.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const ht=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(ht,D)}this.browserUrlTree=D.urlAfterRedirects}const oe=new Rn(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);S.next(oe)}));if(F&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:oe,extractedUrl:ht,source:Gt,restoredState:xn,extras:Yn}=he,Ii=new Lt(oe,this.serializeUrl(ht),Gt,xn);S.next(Ii);const Ur=Cs(ht,this.rootComponentType).snapshot;return I={...he,targetSnapshot:Ur,urlAfterRedirects:ht,extras:{...Yn,skipLocationChange:!1,replaceUrl:!1}},(0,m.of)(I)}return this.rawUrlTree=he.rawUrl,he.resolve(null),P.E}),(0,ne.b)(he=>{const Ne=new xi(he.id,this.serializeUrl(he.extractedUrl),this.serializeUrl(he.urlAfterRedirects),he.targetSnapshot);this.triggerEvent(Ne)}),(0,V.U)(he=>I={...he,guards:io(he.targetSnapshot,he.currentSnapshot,this.rootContexts)}),function er(o,c){return(0,G.z)(v=>{const{targetSnapshot:S,currentSnapshot:I,guards:{canActivateChecks:H,canDeactivateChecks:se}}=v;return 0===se.length&&0===H.length?(0,m.of)({...v,guardsResult:!0}):function vi(o,c,v,S){return(0,e.D)(o).pipe((0,G.z)(I=>function Ht(o,c,v,S,I){const H=c&&c.routeConfig?c.routeConfig.canDeactivate:null;if(!H||0===H.length)return(0,m.of)(!0);const se=H.map(he=>{var Ne;const F=null!==(Ne=Er(c))&&void 0!==Ne?Ne:I,Ae=wr(he,F);return i(function ie(o){return o&&ps(o.canDeactivate)}(Ae)?Ae.canDeactivate(o,c,v,S):F.runInContext(()=>Ae(o,c,v,S))).pipe((0,X.P)())});return(0,m.of)(se).pipe(Or())}(I.component,I.route,v,c,S)),(0,X.P)(I=>!0!==I,!0))}(se,S,I,o).pipe((0,G.z)(he=>he&&function hi(o){return"boolean"==typeof o}(he)?function Me(o,c,v,S){return(0,e.D)(c).pipe((0,E.b)(I=>(0,g.z)(function Et(o,c){return null!==o&&c&&c(new Ei(o)),(0,m.of)(!0)}(I.route.parent,S),function je(o,c){return null!==o&&c&&c(new Mi(o)),(0,m.of)(!0)}(I.route,S),function jt(o,c,v){const S=c[c.length-1],H=c.slice(0,c.length-1).reverse().map(se=>function ki(o){const c=o.routeConfig?o.routeConfig.canActivateChild:null;return c&&0!==c.length?{node:o,guards:c}:null}(se)).filter(se=>null!==se).map(se=>(0,f.P)(()=>{const he=se.guards.map(Ne=>{var F;const Ae=null!==(F=Er(se.node))&&void 0!==F?F:v,D=wr(Ne,Ae);return i(function ve(o){return o&&ps(o.canActivateChild)}(D)?D.canActivateChild(S,o):Ae.runInContext(()=>D(S,o))).pipe((0,X.P)())});return(0,m.of)(he).pipe(Or())}));return(0,m.of)(H).pipe(Or())}(o,I.path,v),function Rt(o,c,v){const S=c.routeConfig?c.routeConfig.canActivate:null;if(!S||0===S.length)return(0,m.of)(!0);const I=S.map(H=>(0,f.P)(()=>{var se;const he=null!==(se=Er(c))&&void 0!==se?se:v,Ne=wr(H,he);return i(function Ie(o){return o&&ps(o.canActivate)}(Ne)?Ne.canActivate(c,o):he.runInContext(()=>Ne(c,o))).pipe((0,X.P)())}));return(0,m.of)(I).pipe(Or())}(o,I.route,v))),(0,X.P)(I=>!0!==I,!0))}(S,H,o,c):(0,m.of)(he)),(0,V.U)(he=>({...v,guardsResult:he})))})}(this.ngModule.injector,he=>this.triggerEvent(he)),(0,ne.b)(he=>{if(I.guardsResult=he.guardsResult,Jt(he.guardsResult))throw yr(0,he.guardsResult);const Ne=new fi(he.id,this.serializeUrl(he.extractedUrl),this.serializeUrl(he.urlAfterRedirects),he.targetSnapshot,!!he.guardsResult);this.triggerEvent(Ne)}),(0,W.h)(he=>!!he.guardsResult||(this.restoreHistory(he),this.cancelNavigationTransition(he,"",3),!1)),Mr(he=>{if(he.guards.canActivateChecks.length)return(0,m.of)(he).pipe((0,ne.b)(Ne=>{const F=new qn(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);this.triggerEvent(F)}),(0,J.w)(Ne=>{let F=!1;return(0,m.of)(Ne).pipe(function mo(o,c){return(0,G.z)(v=>{const{targetSnapshot:S,guards:{canActivateChecks:I}}=v;if(!I.length)return(0,m.of)(v);let H=0;return(0,e.D)(I).pipe((0,E.b)(se=>function ls(o,c,v,S){const I=o.routeConfig,H=o._resolve;return void 0!==I?.title&&!Ss(I)&&(H[pt]=I.title),function As(o,c,v,S){const I=function go(o){return[...Object.keys(o),...Object.getOwnPropertySymbols(o)]}(o);if(0===I.length)return(0,m.of)({});const H={};return(0,e.D)(I).pipe((0,G.z)(se=>function Wo(o,c,v,S){var I;const H=null!==(I=Er(c))&&void 0!==I?I:S,se=wr(o,H);return i(se.resolve?se.resolve(c,v):H.runInContext(()=>se(c,v)))}(o[se],c,v,S).pipe((0,X.P)(),(0,ne.b)(he=>{H[se]=he}))),Se(1),(0,nt.h)(H),(0,K.K)(se=>ji(se)?P.E:(0,_._)(se)))}(H,o,c,S).pipe((0,V.U)(se=>(o._resolvedData=se,o.data=Ri(o,v).resolve,I&&Ss(I)&&(o.data[pt]=I.title),null)))}(se.route,S,o,c)),(0,ne.b)(()=>H++),Se(1),(0,G.z)(se=>H===I.length?(0,m.of)(v):P.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ne.b)({next:()=>F=!0,complete:()=>{F||(this.restoreHistory(Ne),this.cancelNavigationTransition(Ne,"",2))}}))}),(0,ne.b)(Ne=>{const F=new or(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);this.triggerEvent(F)}))}),Mr(he=>{const Ne=F=>{var Ae;const D=[];null!==(Ae=F.routeConfig)&&void 0!==Ae&&Ae.loadComponent&&!F.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(F.routeConfig).pipe((0,ne.b)(oe=>{F.component=oe}),(0,V.U)(()=>{})));for(const oe of F.children)D.push(...Ne(oe));return D};return(0,b.a)(Ne(he.targetSnapshot.root)).pipe((0,ze.d)(),(0,q.q)(1))}),Mr(()=>this.afterPreactivation()),(0,V.U)(he=>{const Ne=function Zr(o,c,v){const S=Pr(o,c._root,v?v._root:void 0);return new Rs(S,c)}(this.routeReuseStrategy,he.targetSnapshot,he.currentRouterState);return I={...he,targetRouterState:Ne}}),(0,ne.b)(he=>{this.currentUrlTree=he.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(he.urlAfterRedirects,he.rawUrl),this.routerState=he.targetRouterState,"deferred"===this.urlUpdateStrategy&&(he.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,he),this.browserUrlTree=he.urlAfterRedirects)}),((o,c,v)=>(0,V.U)(S=>(new Ps(c,S.targetRouterState,S.currentRouterState,v).activate(o),S)))(this.rootContexts,this.routeReuseStrategy,he=>this.triggerEvent(he)),(0,ne.b)({next(){H=!0},complete(){H=!0}}),at(()=>{var he;H||se||this.cancelNavigationTransition(I,"",1),(null===(he=this.currentNavigation)||void 0===he?void 0:he.id)===I.id&&(this.currentNavigation=null)}),(0,K.K)(he=>{if(se=!0,Ji(he)){Cr(he)||(this.navigated=!0,this.restoreHistory(I,!0));const F=new hn(I.id,this.serializeUrl(I.extractedUrl),he.message,he.cancellationCode);if(S.next(F),Cr(he)){const Ae=this.urlHandlingStrategy.merge(he.url,this.rawUrlTree),D={skipLocationChange:I.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ue(I.source)};this.scheduleNavigation(Ae,"imperative",null,D,{resolve:I.resolve,reject:I.reject,promise:I.promise})}else I.resolve(!1)}else{var Ne;this.restoreHistory(I,!0);const F=new In(I.id,this.serializeUrl(I.extractedUrl),he,null!==(Ne=I.targetSnapshot)&&void 0!==Ne?Ne:void 0);S.next(F);try{I.resolve(this.errorHandler(he))}catch(Ae){I.reject(Ae)}}return P.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const S="popstate"===v.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{var I;const H={replaceUrl:!0},se=null!==(I=v.state)&&void 0!==I&&I.navigationId?v.state:null;if(se){const Ne={...se};delete Ne.navigationId,delete Ne.\u0275routerPageId,0!==Object.keys(Ne).length&&(H.state=Ne)}const he=this.parseUrl(v.url);this.scheduleNavigation(he,S,se,H)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(ao),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,S={}){const{relativeTo:I,queryParams:H,fragment:se,queryParamsHandling:he,preserveFragment:Ne}=S,F=I||this.routerState.root,Ae=Ne?this.currentUrlTree.fragment:se;let D=null;switch(he){case"merge":D={...this.currentUrlTree.queryParams,...H};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=H||null}return null!==D&&(D=this.removeEmptyProps(D)),_i(F,this.currentUrlTree,v,D,Ae??null)}navigateByUrl(v,S={skipLocationChange:!1}){const I=Jt(v)?v:this.parseUrl(v),H=this.urlHandlingStrategy.merge(I,this.rawUrlTree);return this.scheduleNavigation(H,"imperative",null,S)}navigate(v,S={skipLocationChange:!1}){return function ue(o){for(let c=0;c<o.length;c++){if(null==o[c])throw new t.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,S),S)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let S;try{S=this.urlSerializer.parse(v)}catch(I){S=this.malformedUriErrorHandler(I,this.urlSerializer,v)}return S}isActive(v,S){let I;if(I=!0===S?{...Ut}:!1===S?{...Pt}:S,Jt(v))return Fe(this.currentUrlTree,v,I);const H=this.parseUrl(v);return Fe(this.currentUrlTree,H,I)}removeEmptyProps(v){return Object.keys(v).reduce((S,I)=>{const H=v[I];return null!=H&&(S[I]=H),S},{})}processNavigations(){this.navigations.subscribe(v=>{var S;this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new pn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(S=this.titleStrategy)||void 0===S||S.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,S,I,H,se){if(this.disposed)return Promise.resolve(!1);let he,Ne,F;se?(he=se.resolve,Ne=se.reject,F=se.promise):F=new Promise((Gt,xn)=>{he=Gt,Ne=xn});const Ae=++this.navigationId;let D;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(I=this.location.getState()),I&&I.\u0275routerPageId)D=I.\u0275routerPageId;else if(H.replaceUrl||H.skipLocationChange){var oe;D=null!==(oe=this.browserPageId)&&void 0!==oe?oe:0}else{var ht;D=(null!==(ht=this.browserPageId)&&void 0!==ht?ht:0)+1}else D=0;return this.setTransition({id:Ae,targetPageId:D,source:S,restoredState:I,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:H,resolve:he,reject:Ne,promise:F,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),F.catch(Gt=>Promise.reject(Gt))}setBrowserUrl(v,S){const I=this.urlSerializer.serialize(v),H={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.isCurrentPathEqualTo(I)||S.extras.replaceUrl?this.location.replaceState(I,"",H):this.location.go(I,"",H)}restoreHistory(v,S=!1){if("computed"===this.canceledNavigationResolution){var I,H;const se=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(I=this.currentNavigation)||void 0===I?void 0:I.finalUrl)||0===se?this.currentUrlTree===(null===(H=this.currentNavigation)||void 0===H?void 0:H.finalUrl)&&0===se&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(se)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,S,I){const H=new hn(v.id,this.serializeUrl(v.extractedUrl),S,I);this.triggerEvent(H),v.resolve(!1)}generateNgRouterState(v,S){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:S}:{navigationId:v}}}return o.\u0275fac=function(v){t.$Z()},o.\u0275prov=t.Yz7({token:o,factory:function(){return ge()},providedIn:"root"}),o})();function Ue(o){return"imperative"!==o}let Zt=(()=>{class o{constructor(v,S,I,H,se){this.router=v,this.route=S,this.tabIndexAttribute=I,this.renderer=H,this.el=se,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new N.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(v){this._preserveFragment=(0,t.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,t.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,t.D6c)(v)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const S=this.renderer,I=this.el.nativeElement;null!==v?S.setAttribute(I,"tabindex",v):S.removeAttribute(I,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return o.\u0275fac=function(v){return new(v||o)(t.Y36(st),t.Y36(rr),t.$8M("tabindex"),t.Y36(t.Qsj),t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,S){1&v&&t.NdJ("click",function(){return S.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[t.TTD]}),o})(),ln=(()=>{class o{constructor(v,S,I){this.router=v,this.route=S,this.locationStrategy=I,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new N.x,this.subscription=v.events.subscribe(H=>{H instanceof pn&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,t.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,t.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,t.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,S,I,H,se){return!!(0!==v||S||I||H||se||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return o.\u0275fac=function(v){return new(v||o)(t.Y36(st),t.Y36(rr),t.Y36(B.S$))},o.\u0275dir=t.lG2({type:o,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,S){1&v&&t.NdJ("click",function(H){return S.onClick(H.button,H.ctrlKey,H.shiftKey,H.altKey,H.metaKey)}),2&v&&t.uIk("target",S.target)("href",S.href,t.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[t.TTD]}),o})(),Vn=(()=>{class o{constructor(v,S,I,H,se,he){this.router=v,this.element=S,this.renderer=I,this.cdr=H,this.link=se,this.linkWithHref=he,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.vpe,this.routerEventsSubscription=v.events.subscribe(Ne=>{Ne instanceof pn&&this.update()})}ngAfterContentInit(){(0,m.of)(this.links.changes,this.linksWithHrefs.changes,(0,m.of)(null)).pipe((0,wt.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var v;null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe();const S=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(I=>!!I).map(I=>I.onChanges);this.linkInputChangesSubscription=(0,e.D)(S).pipe((0,wt.J)()).subscribe(I=>{this.isActive!==this.isLinkActive(this.router)(I)&&this.update()})}set routerLinkActive(v){const S=Array.isArray(v)?v:v.split(" ");this.classes=S.filter(I=>!!I)}ngOnChanges(v){this.update()}ngOnDestroy(){var v;this.routerEventsSubscription.unsubscribe(),null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const v=this.hasActiveLinks();this.isActive!==v&&(this.isActive=v,this.cdr.markForCheck(),this.classes.forEach(S=>{v?this.renderer.addClass(this.element.nativeElement,S):this.renderer.removeClass(this.element.nativeElement,S)}),v&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(v))})}isLinkActive(v){const S=function Di(o){return!!o.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return I=>!!I.urlTree&&v.isActive(I.urlTree,S)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.linkWithHref&&v(this.linkWithHref)||this.links.some(v)||this.linksWithHrefs.some(v)}}return o.\u0275fac=function(v){return new(v||o)(t.Y36(st),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(Zt,8),t.Y36(ln,8))},o.\u0275dir=t.lG2({type:o,selectors:[["","routerLinkActive",""]],contentQueries:function(v,S,I){if(1&v&&(t.Suo(I,Zt,5),t.Suo(I,ln,5)),2&v){let H;t.iGM(H=t.CRH())&&(S.links=H),t.iGM(H=t.CRH())&&(S.linksWithHrefs=H)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[t.TTD]}),o})();class ts{}let ko=(()=>{class o{constructor(v,S,I,H,se){this.router=v,this.injector=I,this.preloadingStrategy=H,this.loader=se}setUpPreloading(){this.subscription=this.router.events.pipe((0,W.h)(v=>v instanceof pn),(0,E.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,S){const I=[];for(const Ne of S){var H,se;Ne.providers&&!Ne._injector&&(Ne._injector=(0,t.MMx)(Ne.providers,v,`Route: ${Ne.path}`));const F=null!==(H=Ne._injector)&&void 0!==H?H:v,Ae=null!==(se=Ne._loadedInjector)&&void 0!==se?se:F;if(Ne.loadChildren&&!Ne._loadedRoutes&&void 0===Ne.canLoad||Ne.loadComponent&&!Ne._loadedComponent)I.push(this.preloadConfig(F,Ne));else if(Ne.children||Ne._loadedRoutes){var he;I.push(this.processRoutes(Ae,null!==(he=Ne.children)&&void 0!==he?he:Ne._loadedRoutes))}}return(0,e.D)(I).pipe((0,wt.J)())}preloadConfig(v,S){return this.preloadingStrategy.preload(S,()=>{let I;I=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(v,S):(0,m.of)(null);const H=I.pipe((0,G.z)(se=>{var he;return null===se?(0,m.of)(void 0):(S._loadedRoutes=se.routes,S._loadedInjector=se.injector,this.processRoutes(null!==(he=se.injector)&&void 0!==he?he:v,se.routes))}));if(S.loadComponent&&!S._loadedComponent){const se=this.loader.loadComponent(S);return(0,e.D)([H,se]).pipe((0,wt.J)())}return H})}}return o.\u0275fac=function(v){return new(v||o)(t.LFG(st),t.LFG(t.Sil),t.LFG(t.lqb),t.LFG(ts),t.LFG(Ys))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const xs=new t.OlP("");let yo=(()=>{class o{constructor(v,S,I={}){this.router=v,this.viewportScroller=S,this.options=I,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},I.scrollPositionRestoration=I.scrollPositionRestoration||"disabled",I.anchorScrolling=I.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Lt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof pn&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Nr&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,S){this.router.triggerEvent(new Nr(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return o.\u0275fac=function(v){t.$Z()},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();function So(o,c){return{\u0275kind:o,\u0275providers:c}}function ra(o){return[{provide:ro,multi:!0,useValue:o}]}function Ga(){const o=(0,t.f3M)(t.zs3);return c=>{var v,S;const I=o.get(t.z2F);if(c!==I.components[0])return;const H=o.get(st),se=o.get(Lo);1===o.get(Ki)&&H.initialNavigation(),null===(v=o.get(Qa,null,t.XFs.Optional))||void 0===v||v.setUpPreloading(),null===(S=o.get(xs,null,t.XFs.Optional))||void 0===S||S.init(),H.resetRootComponentType(I.componentTypes[0]),se.next(),se.complete()}}const Lo=new t.OlP("",{factory:()=>new N.x}),Ki=new t.OlP("",{providedIn:"root",factory:()=>1});const Qa=new t.OlP("");function ll(o){return So(0,[{provide:Qa,useExisting:ko},{provide:ts,useExisting:o}])}const Co=new t.OlP("ROUTER_FORROOT_GUARD"),_c=[B.Ye,{provide:mn,useClass:nn},{provide:st,useFactory:ge},hs,{provide:rr,useFactory:function Vs(o){return o.routerState.root},deps:[st]},Ys];function ms(){return new t.PXZ("Router",st)}let Ko=(()=>{class o{constructor(v){}static forRoot(v,S){return{ngModule:o,providers:[_c,[],ra(v),{provide:Co,useFactory:Hs,deps:[[st,new t.FiY,new t.tp0]]},{provide:_o,useValue:S||{}},null!=S&&S.useHash?{provide:B.S$,useClass:B.Do}:{provide:B.S$,useClass:B.b0},{provide:xs,useFactory:()=>{const o=(0,t.f3M)(st),c=(0,t.f3M)(B.EM),v=(0,t.f3M)(_o);return v.scrollOffset&&c.setOffset(v.scrollOffset),new yo(o,c,v)}},null!=S&&S.preloadingStrategy?ll(S.preloadingStrategy).\u0275providers:[],{provide:t.PXZ,multi:!0,useFactory:ms},null!=S&&S.initialNavigation?Eo(S):[],[{provide:Pa,useFactory:Ga},{provide:t.tb,multi:!0,useExisting:Pa}]]}}static forChild(v){return{ngModule:o,providers:[ra(v)]}}}return o.\u0275fac=function(v){return new(v||o)(t.LFG(Co,8))},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[ws]}),o})();function Hs(o){return"guarded"}function Eo(o){return["disabled"===o.initialNavigation?So(3,[{provide:t.ip1,multi:!0,useFactory:()=>{const c=(0,t.f3M)(st);return()=>{c.setUpLocationChangeListener()}}},{provide:Ki,useValue:2}]).\u0275providers:[],"enabledBlocking"===o.initialNavigation?So(2,[{provide:Ki,useValue:0},{provide:t.ip1,multi:!0,deps:[t.zs3],useFactory:c=>{const v=c.get(B.V_,Promise.resolve());let S=!1;return()=>v.then(()=>new Promise(H=>{const se=c.get(st),he=c.get(Lo);(function I(H){c.get(st).events.pipe((0,W.h)(he=>he instanceof pn||he instanceof hn||he instanceof In),(0,V.U)(he=>he instanceof pn||he instanceof hn&&(0===he.code||1===he.code)&&null),(0,W.h)(he=>null!==he),(0,q.q)(1)).subscribe(()=>{H()})})(()=>{H(!0),S=!0}),se.afterPreactivation=()=>(H(!0),S||he.closed?(0,m.of)(void 0):he),se.initialNavigation()}))}}]).\u0275providers:[]]}const Pa=new t.OlP("")},2979:(dt,Ce,p)=>{"use strict";p.d(Ce,{DJ:()=>ye,fQ:()=>Q,lO:()=>mt,An:()=>wt,uh:()=>me});var t=p(4650),e=p(8185),m=p(9751),T=p(7579),C=p(4707),b=p(9646),g=p(2076),f=p(5191),w=p(9300),_=p(4482),R=p(5403),a=p(5577),k=p(4004),L=p(9383),Z=p(6895),j=p(529);const N=new t.OlP("LOCALIZE_ROUTER_FORROOT_GUARD"),B=new t.OlP("RAW_ROUTES");var V=(()=>{return(Oe=V||(V={})).LocalStorage="LocalStorage",Oe.SessionStorage="SessionStorage",Oe.Cookie="Cookie",V;var Oe})();const J=new t.OlP("USE_CACHED_LANG"),q=new t.OlP("CACHE_MECHANISM"),re=new t.OlP("CACHE_NAME"),W=new t.OlP("COOKIE_FORMAT"),G=new t.OlP("INITIAL_NAVIGATION"),X=new t.OlP("DEFAULT_LANG_FUNCTION"),E=new t.OlP("ALWAYS_SET_PREFIX");let me=(()=>{class Oe{constructor(we=!0,$e=!0,Ye=V.LocalStorage,Xe="LOCALIZE_DEFAULT_LANGUAGE",Fe,Tt="{{value}};{{expires}}",vt=!1){this.useCachedLang=we,this.alwaysSetPrefix=$e,this.cacheName=Xe,this.cookieFormat=Tt,this.initialNavigation=vt,this.cacheMechanism=Ye,this.defaultLangFunction=Fe}}return Oe.\u0275fac=function(we){return new(we||Oe)(t.LFG(J),t.LFG(E),t.LFG(q),t.LFG(re),t.LFG(X),t.LFG(W),t.LFG(G))},Oe.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),ye=(()=>{class Oe{constructor(we,$e,Ye){this.translate=we,this.location=$e,this.settings=Ye}init(we){let $e;if(this.routes=we,!this.locales||!this.locales.length)return Promise.resolve();const Ye=this.getLocationLang(),Xe=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,Xe):this._cachedLang||Xe||this.locales[0],$e=Ye||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let Fe=[];if(this.settings.alwaysSetPrefix){const vt={path:"",redirectTo:this.defaultLang,pathMatch:"full"},Ge=we.findIndex(de=>"**"===de.path);-1!==Ge&&(this._wildcardRoute=we.splice(Ge,1)[0]),Fe=this.routes.splice(0,this.routes.length,vt)}else Fe=[...this.routes];for(let vt=Fe.length-1;vt>=0;vt--)Fe[vt].data&&Fe[vt].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(Fe[vt]),(void 0===Fe[vt].redirectTo||!Fe[vt].data.skipRouteLocalization.localizeRedirectTo)&&Fe.splice(vt,1));return Fe&&Fe.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:Fe},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),this.translateRoutes($e).toPromise()}initChildRoutes(we){return this._translateRouteTree(we),we}translateRoutes(we){return new m.y($e=>{this._cachedLang=we,this._languageRoute&&(this._languageRoute.path=we),this.translate.use(we).subscribe(Ye=>{this._translationObject=Ye,this.currentLang=we,this._languageRoute?(this._languageRoute&&this._translateRouteTree(this._languageRoute.children),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes),$e.next(void 0),$e.complete()})})}_translateRouteTree(we){we.forEach($e=>{const Ye=$e.data&&$e.data.skipRouteLocalization;$e.redirectTo&&(!Ye||Ye.localizeRedirectTo)&&this._translateProperty($e,"redirectTo",!$e.redirectTo.indexOf("/")),Ye||(null!=$e.path&&this._translateProperty($e,"path"),$e.children&&this._translateRouteTree($e.children),$e.loadChildren&&$e._loadedConfig&&this._translateRouteTree($e._loadedConfig.routes))})}_translateProperty(we,$e,Ye){const Xe=we.data=we.data||{};Xe.localizeRouter||(Xe.localizeRouter={}),Xe.localizeRouter[$e]||(Xe.localizeRouter={...Xe.localizeRouter,[$e]:we[$e]});const Fe=this.translateRoute(Xe.localizeRouter[$e]);we[$e]=Ye?this.addPrefixToUrl(Fe):Fe}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(we){const $e=we.split("?");return $e[0]=$e[0].replace(/\/$/,""),`/${this.urlPrefix}${$e.join("?")}`}translateRoute(we){const $e=we.split("?");if($e.length>2)throw Error("There should be only one query parameter block in the URL");return $e[0].split("/").map(Xe=>Xe.length?this.translateText(Xe):Xe).join("/")+($e.length>1?`?${$e[1]}`:"")}getLocationLang(we){const $e=(we||this.location.path()).split(/[\?;]/);let Ye=[];return $e.length>0&&(Ye=$e[0].split("/")),Ye.length>1&&-1!==this.locales.indexOf(Ye[1])?Ye[1]:Ye.length&&-1!==this.locales.indexOf(Ye[0])?Ye[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===V.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===V.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===V.Cookie)return this._cacheWithCookies()}}set _cachedLang(we){!this.settings.useCachedLang||(this.settings.cacheMechanism===V.LocalStorage&&this._cacheWithLocalStorage(we),this.settings.cacheMechanism===V.SessionStorage&&this._cacheWithSessionStorage(we),this.settings.cacheMechanism===V.Cookie&&this._cacheWithCookies(we))}_cacheWithLocalStorage(we){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return we?void window.localStorage.setItem(this.settings.cacheName,we):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(we){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return we?void window.sessionStorage.setItem(this.settings.cacheName,we):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(we){try{if(typeof document>"u"||typeof document.cookie>"u")return;const $e=encodeURIComponent(this.settings.cacheName);if(we){let Fe=`${this.settings.cookieFormat}`;return Fe=Fe.replace("{{value}}",`${$e}=${encodeURIComponent(we)}`).replace(/{{expires:?(\d+)?}}/g,(Tt,vt)=>{const Ge=void 0===vt?30:parseInt(vt,10),de=new Date;return de.setTime(de.getTime()+864e5*Ge),`expires=${de.toUTCString()}`}),void(document.cookie=Fe)}const Xe=new RegExp("(?:^"+$e+"|;\\s*"+$e+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(Xe[1])}catch{return}}_returnIfInLocales(we){return we&&-1!==this.locales.indexOf(we)?we:null}translateText(we){if(this.escapePrefix&&we.startsWith(this.escapePrefix))return we.replace(this.escapePrefix,"");{if(!this._translationObject)return we;const $e=this.prefix+we,Ye=this.translate.getParsedResult(this._translationObject,$e);return Ye!==$e?Ye:we}}chooseQueryParams(we,$e){let Ye;return we&&we.queryParams?Ye=we.queryParams:$e&&(Ye=$e),Ye}formatQueryParams(we){return new j.LE({fromObject:we}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}}return Oe.\u0275fac=function(we){return new(we||Oe)(t.LFG(L.sK),t.LFG(Z.Ye),t.LFG(me))},Oe.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),Ee=(()=>{class Oe extends ye{load(we){return new Promise($e=>{this.init(we).then($e)})}}return Oe.\u0275fac=function(){let i;return function($e){return(i||(i=t.n5z(Oe)))($e||Oe)}}(),Oe.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();function qe(Oe,i){if(Oe===i)return!0;if(null===Oe||null===i)return!1;if(Oe!=Oe&&i!=i)return!0;const we=typeof Oe;let Ye,Xe,Fe;if(we===typeof i&&"object"===we){if(!Array.isArray(Oe)){if(Array.isArray(i))return!1;for(Xe in Fe=Object.create(null),Oe)if(Oe.hasOwnProperty(Xe)){if(!qe(Oe[Xe],i[Xe]))return!1;Fe[Xe]=!0}for(Xe in i)if(i.hasOwnProperty(Xe)&&!(Xe in Fe)&&typeof i[Xe]<"u")return!1;return!0}if(!Array.isArray(i))return!1;if((Ye=Oe.length)===i.length){for(Xe=0;Xe<Ye;Xe++)if(!qe(Oe[Xe],i[Xe]))return!1;return!0}}return!1}function nt(Oe){const i=Array.isArray(Oe)?[]:{};for(const we in Oe)if(we){const $e=Oe[we];i[we]="object"==typeof $e?nt($e):$e}return i}function at(Oe){return Oe.reduce((i,we)=>{const $e=Array.isArray(we)?at(we):we;return i.concat($e)},[])}let wt=(()=>{class Oe{constructor(we,$e,Ye,Xe){this.parser=we,this.settings=$e,this.router=Ye,this.route=Xe,this.routerEvents=new T.x;const Fe=new C.t(1);this.hooks={_initializedSubject:Fe,initialized:Fe.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,w.h)(we=>we instanceof e.OD),function P(){return(0,_.e)((Oe,i)=>{let we,$e=!1;Oe.subscribe((0,R.x)(i,Ye=>{const Xe=we;we=Ye,$e&&i.next([Xe,Ye]),$e=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(we,$e,Ye){if(we!==this.parser.currentLang){const Xe=this.router.routerState.snapshot.root;this.parser.translateRoutes(we).subscribe(()=>{let Fe=this.traverseRouteSnapshot(Xe);if(Fe=this.translateRoute(Fe),!this.settings.alwaysSetPrefix){let Ge=Fe.split("/");const de=Ge.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===de||1===de&&""===Ge[0])&&(Ge=Ge.slice(0,de).concat(Ge.slice(de+1)));else if(-1===de){const ee=""===Ge[0]?1:0;Ge=Ge.slice(0,ee).concat(this.parser.currentLang,Ge.slice(ee))}Fe=Ge.join("/")}Fe=Fe.replace(/\/+/g,"/");const Tt=Fe.lastIndexOf("/");Tt>0&&Tt===Fe.length-1&&(Fe=Fe.slice(0,-1));const vt=this.parser.chooseQueryParams($e,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=$e,Ye){const Ge=$e?{...$e}:{};vt&&(Ge.queryParams=vt),this.router.navigate([Fe],Ge)}else{let Ge=this.parser.formatQueryParams(vt);Ge=Ge?`?${Ge}`:"",this.router.navigateByUrl(`${Fe}${Ge}`,$e)}})}}traverseRouteSnapshot(we){return we.firstChild&&we.routeConfig?`${this.parseSegmentValue(we)}/${this.traverseRouteSnapshot(we.firstChild)}`:we.firstChild?this.traverseRouteSnapshot(we.firstChild):this.parseSegmentValue(we)}buildUrlFromSegments(we,$e){return $e.map((Ye,Xe)=>0===Ye.indexOf(":")?we.url[Xe].path:Ye).join("/")}parseSegmentValue(we){if(we.routeConfig&&we.routeConfig.matcher){const $e=this.parseSegmentValueMatcher(we);return this.buildUrlFromSegments(we,$e)}if(we.data.localizeRouter){const Ye=we.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(we,Ye)}if(we.parent&&we.parent.parent){const Ye=we.routeConfig.path.split("/");return this.buildUrlFromSegments(we,Ye)}return""}parseSegmentValueMatcher(we){const $e=we.data&&we.data.localizeMatcher&&we.data.localizeMatcher.params||{};return we.url.map(Xe=>{const Fe=Xe.path,Tt=Xe.localizedParamName;return(Tt&&$e[Tt]?$e[Tt](Fe):null)||`${this.parser.getEscapePrefix()}${Fe}`})}translateRoute(we){if("string"==typeof we){const Ye=this.parser.translateRoute(we);return we.indexOf("/")?Ye:this.parser.addPrefixToUrl(Ye)}const $e=[];return we.forEach((Ye,Xe)=>{if("string"==typeof Ye){const Fe=this.parser.translateRoute(Ye);Xe||Ye.indexOf("/")?$e.push(Fe):$e.push(this.parser.addPrefixToUrl(Fe))}else $e.push(Ye)}),$e}_routeChanged(){return([we,$e])=>{const Ye=this.parser.getLocationLang(we.url)||this.parser.defaultLang,Xe=this.parser.getLocationLang($e.url)||this.parser.defaultLang,Fe=this.lastExtras;Xe!==Ye&&this.latestUrl!==$e.url&&(this.latestUrl=$e.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(Xe).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl($e.url,Fe),this.routerEvents.next(Xe)})),this.latestUrl=$e.url}}cancelCurrentNavigation(){const we=this.router.getCurrentNavigation(),$e=this.router.serializeUrl(we.extractedUrl);this.router.events.next(new e.gk(we.id,$e,"")),this.router.transitions.next({...this.router.transitions.getValue(),id:0})}applyConfigToRouter(we){this.router.resetConfig(nt(we))}}return Oe.\u0275fac=function(we){return new(we||Oe)(t.LFG(ye),t.LFG(me),t.LFG(e.F0),t.LFG(e.gz))},Oe.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),mt=(()=>{class Oe{constructor(we,$e){this.localize=we,this._ref=$e,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(we){if(!we||0===we.length||!this.localize.parser.currentLang)return we;if(qe(we,this.lastKey)&&qe(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=we,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(we),this.lastKey=we;const $e=this._ref._view;return $e&&128&$e.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}}return Oe.\u0275fac=function(we){return new(we||Oe)(t.Y36(wt,16),t.Y36(t.sBO,16))},Oe.\u0275pipe=t.Yjl({name:"localize",type:Oe,pure:!1}),Oe})();class pt{constructor(){}shouldDetach(i){return!1}store(i,we){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,we){return!(!i||!we)&&this.getKey(i)===this.getKey(we)}getKey(i){if(i.firstChild&&i.firstChild.routeConfig&&i.firstChild.routeConfig.path&&-1!==i.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(i.data.localizeRouter||i.parent&&i.parent.parent||i.data.skipRouteLocalization))return"LANG";if(i.routeConfig.matcher){let we=`${this.getKey(i.parent)}/${i.routeConfig.matcher.name}`;return i.data.discriminantPathKey&&(we=`${we}-${i.data.discriminantPathKey}`),we}if(i.data.localizeRouter){let we=`${this.getKey(i.parent)}/${i.data.localizeRouter.path}`;return i.data.discriminantPathKey&&(we=`${we}-${i.data.discriminantPathKey}`),we}{let we=i.routeConfig.path;return i.parent&&(we=`${this.getKey(i.parent)}/${i.routeConfig.path}`),i.data.discriminantPathKey&&(we=`${we}-${i.data.discriminantPathKey}`),we}}}class Yt extends e.F0{constructor(i,we,$e,Ye,Xe,Fe,Tt,vt){super(i,we,$e,Ye,Xe,Fe,Tt),this.config=Tt;const Ge=Xe.get(t.Lbi);((0,Z.NF)(Ge)?this.configLoader.__proto__:this.configLoader).loadModuleFactory=U=>function Nt(Oe){return(0,f.b)(Oe)?Oe:function Te(Oe){return!!Oe&&"function"==typeof Oe.then}(Oe)?(0,g.D)(Promise.resolve(Oe)):(0,b.of)(Oe)}(U()).pipe((0,a.z)(te=>{let Re;return Re=te instanceof t.YKP?(0,b.of)(te):(0,g.D)(Fe.compileModuleAsync(te)),Re.pipe((0,k.U)(ot=>({moduleType:ot.moduleType,create:ut=>{const Dt=ot.create(ut),Qt=Dt.injector.get.bind(Dt.injector);return Dt.injector.get=(mn,nn)=>{const _n=Qt(mn,nn);return mn===e.Z6?vt.initChildRoutes([].concat(..._n)):_n},Dt}})))}))}}function un(Oe,i,we,$e,Ye,Xe,Fe,Tt,vt={},Ge,de){const ee=new Yt(null,i,we,$e,Ye,Xe,at(Fe),Tt);return Ge&&(ee.urlHandlingStrategy=Ge),de&&(ee.routeReuseStrategy=de),vt.errorHandler&&(ee.errorHandler=vt.errorHandler),vt.malformedUriErrorHandler&&(ee.malformedUriErrorHandler=vt.malformedUriErrorHandler),vt.enableTracing&&ee.events.subscribe(U=>{console.group(`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),console.groupEnd()}),vt.onSameUrlNavigation&&(ee.onSameUrlNavigation=vt.onSameUrlNavigation),vt.paramsInheritanceStrategy&&(ee.paramsInheritanceStrategy=vt.paramsInheritanceStrategy),vt.urlUpdateStrategy&&(ee.urlUpdateStrategy=vt.urlUpdateStrategy),vt.relativeLinkResolution&&(ee.relativeLinkResolution=vt.relativeLinkResolution),ee}let Mt=(()=>{class Oe{constructor(we){this.injector=we}appInitializer(){return this.parser.load(this.routes).then(()=>{const $e=this.injector.get(wt),Ye=this.injector.get(e.F0),Xe=this.injector.get(me);if($e.init(),Xe.initialNavigation)return new Promise(Fe=>{const Tt=Ye.hooks.afterPreactivation;let vt=!0;Ye.hooks.afterPreactivation=()=>(vt&&(Fe(),vt=!1,$e.hooks._initializedSubject.next(!0),$e.hooks._initializedSubject.complete()),Tt())});$e.hooks._initializedSubject.next(!0),$e.hooks._initializedSubject.complete()})}generateInitializer(we,$e){return this.parser=we,this.routes=$e.reduce((Ye,Xe)=>Ye.concat(Xe)),this.appInitializer}}return Oe.\u0275fac=function(we){return new(we||Oe)(t.LFG(t.zs3))},Oe.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();function Y(Oe,i,we){const $e=nt(we);return Oe.generateInitializer(i,$e).bind(Oe)}let Q=(()=>{class Oe{static forRoot(we,$e={}){return{ngModule:Oe,providers:[{provide:e.F0,useFactory:un,deps:[t.z2F,e.Hx,e.y6,Z.Ye,t.zs3,t.Sil,e.Z6,ye,e.cx,[e.oI,new t.FiY],[e.wN,new t.FiY]]},{provide:N,useFactory:ce,deps:[[Oe,new t.FiY,new t.tp0]]},{provide:J,useValue:$e.useCachedLang},{provide:E,useValue:$e.alwaysSetPrefix},{provide:re,useValue:$e.cacheName},{provide:q,useValue:$e.cacheMechanism},{provide:X,useValue:$e.defaultLangFunction},{provide:W,useValue:$e.cookieFormat},{provide:G,useValue:$e.initialNavigation},me,$e.parser||{provide:ye,useClass:Ee},{provide:B,multi:!0,useValue:we},wt,Mt,{provide:t.ip1,multi:!0,useFactory:Y,deps:[Mt,ye,B]},{provide:e.wN,useClass:pt}]}}static forChild(we){return{ngModule:Oe,providers:[{provide:B,multi:!0,useValue:we}]}}}return Oe.\u0275fac=function(we){return new(we||Oe)},Oe.\u0275mod=t.oAB({type:Oe}),Oe.\u0275inj=t.cJS({imports:[[Z.ez,e.Bz,L.aw]]}),Oe})();function ce(Oe){if(Oe)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},9383:(dt,Ce,p)=>{"use strict";p.d(Ce,{X$:()=>me,Zw:()=>P,aw:()=>Se,sK:()=>K});var t=p(4650),e=p(9646),m=p(5191),T=p(4128),C=p(7272),b=p(9770),g=p(5698),f=p(4782),w=p(4004),_=p(4351),R=p(3900);class P{}let a=(()=>{class ye extends P{getTranslation(Ee){return(0,e.of)({})}}return ye.\u0275fac=function(){let ze;return function(qe){return(ze||(ze=t.n5z(ye)))(qe||ye)}}(),ye.\u0275prov=t.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class k{}let L=(()=>{class ye{handle(Ee){return Ee.key}}return ye.\u0275fac=function(Ee){return new(Ee||ye)},ye.\u0275prov=t.Yz7({token:ye,factory:ye.\u0275fac}),ye})();function Z(ye,ze){if(ye===ze)return!0;if(null===ye||null===ze)return!1;if(ye!=ye&&ze!=ze)return!0;let Te,nt,at,Ee=typeof ye;if(Ee==typeof ze&&"object"==Ee){if(!Array.isArray(ye)){if(Array.isArray(ze))return!1;for(nt in at=Object.create(null),ye){if(!Z(ye[nt],ze[nt]))return!1;at[nt]=!0}for(nt in ze)if(!(nt in at)&&typeof ze[nt]<"u")return!1;return!0}if(!Array.isArray(ze))return!1;if((Te=ye.length)==ze.length){for(nt=0;nt<Te;nt++)if(!Z(ye[nt],ze[nt]))return!1;return!0}}return!1}function j(ye){return typeof ye<"u"&&null!==ye}function N(ye){return ye&&"object"==typeof ye&&!Array.isArray(ye)}function B(ye,ze){let Ee=Object.assign({},ye);return N(ye)&&N(ze)&&Object.keys(ze).forEach(qe=>{N(ze[qe])?qe in ye?Ee[qe]=B(ye[qe],ze[qe]):Object.assign(Ee,{[qe]:ze[qe]}):Object.assign(Ee,{[qe]:ze[qe]})}),Ee}class V{}let J=(()=>{class ye extends V{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Ee,qe){let Te;return Te="string"==typeof Ee?this.interpolateString(Ee,qe):"function"==typeof Ee?this.interpolateFunction(Ee,qe):Ee,Te}getValue(Ee,qe){let Te="string"==typeof qe?qe.split("."):[qe];qe="";do{qe+=Te.shift(),!j(Ee)||!j(Ee[qe])||"object"!=typeof Ee[qe]&&Te.length?Te.length?qe+=".":Ee=void 0:(Ee=Ee[qe],qe="")}while(Te.length);return Ee}interpolateFunction(Ee,qe){return Ee(qe)}interpolateString(Ee,qe){return qe?Ee.replace(this.templateMatcher,(Te,nt)=>{let at=this.getValue(qe,nt);return j(at)?at:Te}):Ee}}return ye.\u0275fac=function(){let ze;return function(qe){return(ze||(ze=t.n5z(ye)))(qe||ye)}}(),ye.\u0275prov=t.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class q{}let re=(()=>{class ye extends q{compile(Ee,qe){return Ee}compileTranslations(Ee,qe){return Ee}}return ye.\u0275fac=function(){let ze;return function(qe){return(ze||(ze=t.n5z(ye)))(qe||ye)}}(),ye.\u0275prov=t.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class W{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.vpe,this.onLangChange=new t.vpe,this.onDefaultLangChange=new t.vpe}}const G=new t.OlP("USE_STORE"),X=new t.OlP("USE_DEFAULT_LANG"),E=new t.OlP("DEFAULT_LANGUAGE"),ne=new t.OlP("USE_EXTEND");let K=(()=>{class ye{constructor(Ee,qe,Te,nt,at,wt=!0,lt=!1,mt=!1,pt){this.store=Ee,this.currentLoader=qe,this.compiler=Te,this.parser=nt,this.missingTranslationHandler=at,this.useDefaultLang=wt,this.isolate=lt,this.extend=mt,this.pending=!1,this._onTranslationChange=new t.vpe,this._onLangChange=new t.vpe,this._onDefaultLangChange=new t.vpe,this._langs=[],this._translations={},this._translationRequests={},pt&&this.setDefaultLang(pt)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Ee){this.isolate?this._defaultLang=Ee:this.store.defaultLang=Ee}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Ee){this.isolate?this._currentLang=Ee:this.store.currentLang=Ee}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Ee){this.isolate?this._langs=Ee:this.store.langs=Ee}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Ee){this.isolate?this._translations=Ee:this.store.translations=Ee}setDefaultLang(Ee){if(Ee===this.defaultLang)return;let qe=this.retrieveTranslations(Ee);typeof qe<"u"?(null==this.defaultLang&&(this.defaultLang=Ee),qe.pipe((0,g.q)(1)).subscribe(Te=>{this.changeDefaultLang(Ee)})):this.changeDefaultLang(Ee)}getDefaultLang(){return this.defaultLang}use(Ee){if(Ee===this.currentLang)return(0,e.of)(this.translations[Ee]);let qe=this.retrieveTranslations(Ee);return typeof qe<"u"?(this.currentLang||(this.currentLang=Ee),qe.pipe((0,g.q)(1)).subscribe(Te=>{this.changeLang(Ee)}),qe):(this.changeLang(Ee),(0,e.of)(this.translations[Ee]))}retrieveTranslations(Ee){let qe;return(typeof this.translations[Ee]>"u"||this.extend)&&(this._translationRequests[Ee]=this._translationRequests[Ee]||this.getTranslation(Ee),qe=this._translationRequests[Ee]),qe}getTranslation(Ee){this.pending=!0;const qe=this.currentLoader.getTranslation(Ee).pipe((0,f.d)(1),(0,g.q)(1));return this.loadingTranslations=qe.pipe((0,w.U)(Te=>this.compiler.compileTranslations(Te,Ee)),(0,f.d)(1),(0,g.q)(1)),this.loadingTranslations.subscribe({next:Te=>{this.translations[Ee]=this.extend&&this.translations[Ee]?{...Te,...this.translations[Ee]}:Te,this.updateLangs(),this.pending=!1},error:Te=>{this.pending=!1}}),qe}setTranslation(Ee,qe,Te=!1){qe=this.compiler.compileTranslations(qe,Ee),this.translations[Ee]=(Te||this.extend)&&this.translations[Ee]?B(this.translations[Ee],qe):qe,this.updateLangs(),this.onTranslationChange.emit({lang:Ee,translations:this.translations[Ee]})}getLangs(){return this.langs}addLangs(Ee){Ee.forEach(qe=>{-1===this.langs.indexOf(qe)&&this.langs.push(qe)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Ee,qe,Te){let nt;if(qe instanceof Array){let at={},wt=!1;for(let lt of qe)at[lt]=this.getParsedResult(Ee,lt,Te),(0,m.b)(at[lt])&&(wt=!0);if(wt){const lt=qe.map(mt=>(0,m.b)(at[mt])?at[mt]:(0,e.of)(at[mt]));return(0,T.D)(lt).pipe((0,w.U)(mt=>{let pt={};return mt.forEach((Yt,un)=>{pt[qe[un]]=Yt}),pt}))}return at}if(Ee&&(nt=this.parser.interpolate(this.parser.getValue(Ee,qe),Te)),typeof nt>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(nt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],qe),Te)),typeof nt>"u"){let at={key:qe,translateService:this};typeof Te<"u"&&(at.interpolateParams=Te),nt=this.missingTranslationHandler.handle(at)}return typeof nt<"u"?nt:qe}get(Ee,qe){if(!j(Ee)||!Ee.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,_.b)(Te=>(Te=this.getParsedResult(Te,Ee,qe),(0,m.b)(Te)?Te:(0,e.of)(Te))));{let Te=this.getParsedResult(this.translations[this.currentLang],Ee,qe);return(0,m.b)(Te)?Te:(0,e.of)(Te)}}getStreamOnTranslationChange(Ee,qe){if(!j(Ee)||!Ee.length)throw new Error('Parameter "key" required');return(0,C.z)((0,b.P)(()=>this.get(Ee,qe)),this.onTranslationChange.pipe((0,R.w)(Te=>{const nt=this.getParsedResult(Te.translations,Ee,qe);return"function"==typeof nt.subscribe?nt:(0,e.of)(nt)})))}stream(Ee,qe){if(!j(Ee)||!Ee.length)throw new Error('Parameter "key" required');return(0,C.z)((0,b.P)(()=>this.get(Ee,qe)),this.onLangChange.pipe((0,R.w)(Te=>{const nt=this.getParsedResult(Te.translations,Ee,qe);return(0,m.b)(nt)?nt:(0,e.of)(nt)})))}instant(Ee,qe){if(!j(Ee)||!Ee.length)throw new Error('Parameter "key" required');let Te=this.getParsedResult(this.translations[this.currentLang],Ee,qe);if((0,m.b)(Te)){if(Ee instanceof Array){let nt={};return Ee.forEach((at,wt)=>{nt[Ee[wt]]=Ee[wt]}),nt}return Ee}return Te}set(Ee,qe,Te=this.currentLang){this.translations[Te][Ee]=this.compiler.compile(qe,Te),this.updateLangs(),this.onTranslationChange.emit({lang:Te,translations:this.translations[Te]})}changeLang(Ee){this.currentLang=Ee,this.onLangChange.emit({lang:Ee,translations:this.translations[Ee]}),null==this.defaultLang&&this.changeDefaultLang(Ee)}changeDefaultLang(Ee){this.defaultLang=Ee,this.onDefaultLangChange.emit({lang:Ee,translations:this.translations[Ee]})}reloadLang(Ee){return this.resetLang(Ee),this.getTranslation(Ee)}resetLang(Ee){this._translationRequests[Ee]=void 0,this.translations[Ee]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Ee=window.navigator.languages?window.navigator.languages[0]:null;return Ee=Ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Ee>"u"?void 0:(-1!==Ee.indexOf("-")&&(Ee=Ee.split("-")[0]),-1!==Ee.indexOf("_")&&(Ee=Ee.split("_")[0]),Ee)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Ee=window.navigator.languages?window.navigator.languages[0]:null;return Ee=Ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Ee}}return ye.\u0275fac=function(Ee){return new(Ee||ye)(t.LFG(W),t.LFG(P),t.LFG(q),t.LFG(V),t.LFG(k),t.LFG(X),t.LFG(G),t.LFG(ne),t.LFG(E))},ye.\u0275prov=t.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),me=(()=>{class ye{constructor(Ee,qe){this.translate=Ee,this._ref=qe,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Ee,qe,Te){let nt=at=>{this.value=void 0!==at?at:Ee,this.lastKey=Ee,this._ref.markForCheck()};if(Te){let at=this.translate.getParsedResult(Te,Ee,qe);(0,m.b)(at.subscribe)?at.subscribe(nt):nt(at)}this.translate.get(Ee,qe).subscribe(nt)}transform(Ee,...qe){if(!Ee||!Ee.length)return Ee;if(Z(Ee,this.lastKey)&&Z(qe,this.lastParams))return this.value;let Te;if(j(qe[0])&&qe.length)if("string"==typeof qe[0]&&qe[0].length){let nt=qe[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{Te=JSON.parse(nt)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${qe[0]}`)}}else"object"==typeof qe[0]&&!Array.isArray(qe[0])&&(Te=qe[0]);return this.lastKey=Ee,this.lastParams=qe,this.updateValue(Ee,Te),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(nt=>{this.lastKey&&nt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Ee,Te,nt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(nt=>{this.lastKey&&(this.lastKey=null,this.updateValue(Ee,Te,nt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Ee,Te))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ye.\u0275fac=function(Ee){return new(Ee||ye)(t.Y36(K,16),t.Y36(t.sBO,16))},ye.\u0275pipe=t.Yjl({name:"translate",type:ye,pure:!1}),ye.\u0275prov=t.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),Se=(()=>{class ye{static forRoot(Ee={}){return{ngModule:ye,providers:[Ee.loader||{provide:P,useClass:a},Ee.compiler||{provide:q,useClass:re},Ee.parser||{provide:V,useClass:J},Ee.missingTranslationHandler||{provide:k,useClass:L},W,{provide:G,useValue:Ee.isolate},{provide:X,useValue:Ee.useDefaultLang},{provide:ne,useValue:Ee.extend},{provide:E,useValue:Ee.defaultLanguage},K]}}static forChild(Ee={}){return{ngModule:ye,providers:[Ee.loader||{provide:P,useClass:a},Ee.compiler||{provide:q,useClass:re},Ee.parser||{provide:V,useClass:J},Ee.missingTranslationHandler||{provide:k,useClass:L},{provide:G,useValue:Ee.isolate},{provide:X,useValue:Ee.useDefaultLang},{provide:ne,useValue:Ee.extend},{provide:E,useValue:Ee.defaultLanguage},K]}}}return ye.\u0275fac=function(Ee){return new(Ee||ye)},ye.\u0275mod=t.oAB({type:ye}),ye.\u0275inj=t.cJS({}),ye})()},1837:(dt,Ce,p)=>{"use strict";p.d(Ce,{ou:()=>gi,Zr:()=>sn});class t extends Error{}class e extends t{constructor($){super(`Invalid DateTime: ${$.toMessage()}`)}}class m extends t{constructor($){super(`Invalid Interval: ${$.toMessage()}`)}}class T extends t{constructor($){super(`Invalid Duration: ${$.toMessage()}`)}}class C extends t{}class b extends t{constructor($){super(`Invalid unit ${$}`)}}class g extends t{}class f extends t{constructor(){super("Zone is an abstract class")}}const w="numeric",_="short",R="long",P={year:w,month:w,day:w},a={year:w,month:_,day:w},k={year:w,month:_,day:w,weekday:_},L={year:w,month:R,day:w},Z={year:w,month:R,day:w,weekday:R},j={hour:w,minute:w},N={hour:w,minute:w,second:w},B={hour:w,minute:w,second:w,timeZoneName:_},V={hour:w,minute:w,second:w,timeZoneName:R},J={hour:w,minute:w,hourCycle:"h23"},q={hour:w,minute:w,second:w,hourCycle:"h23"},re={hour:w,minute:w,second:w,hourCycle:"h23",timeZoneName:_},W={hour:w,minute:w,second:w,hourCycle:"h23",timeZoneName:R},G={year:w,month:w,day:w,hour:w,minute:w},X={year:w,month:w,day:w,hour:w,minute:w,second:w},E={year:w,month:_,day:w,hour:w,minute:w},ne={year:w,month:_,day:w,hour:w,minute:w,second:w},K={year:w,month:_,day:w,weekday:_,hour:w,minute:w},le={year:w,month:R,day:w,hour:w,minute:w,timeZoneName:_},me={year:w,month:R,day:w,hour:w,minute:w,second:w,timeZoneName:_},Se={year:w,month:R,day:w,weekday:R,hour:w,minute:w,timeZoneName:R},ye={year:w,month:R,day:w,weekday:R,hour:w,minute:w,second:w,timeZoneName:R};class ze{get type(){throw new f}get name(){throw new f}get ianaName(){return this.name}get isUniversal(){throw new f}offsetName($,xe){throw new f}formatOffset($,xe){throw new f}offset($){throw new f}equals($){throw new f}get isValid(){throw new f}}let Ee=null;class qe extends ze{static get instance(){return null===Ee&&(Ee=new qe),Ee}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName($,{format:xe,locale:Ve}){return Mn($,xe,Ve)}formatOffset($,xe){return Zn(this.offset($),xe)}offset($){return-new Date($).getTimezoneOffset()}equals($){return"system"===$.type}get isValid(){return!0}}let Te={};const at={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let mt={};class pt extends ze{static create($){return mt[$]||(mt[$]=new pt($)),mt[$]}static resetCache(){mt={},Te={}}static isValidSpecifier($){return this.isValidZone($)}static isValidZone($){if(!$)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:$}).format(),!0}catch{return!1}}constructor($){super(),this.zoneName=$,this.valid=pt.isValidZone($)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName($,{format:xe,locale:Ve}){return Mn($,xe,Ve,this.name)}formatOffset($,xe){return Zn(this.offset($),xe)}offset($){const xe=new Date($);if(isNaN(xe))return NaN;const Ve=function nt(De){return Te[De]||(Te[De]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:De,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Te[De]}(this.name);let[Ct,Ut,Pt,Kt,ge,st,ue]=Ve.formatToParts?function lt(De,$){const xe=De.formatToParts($),Ve=[];for(let Ct=0;Ct<xe.length;Ct++){const{type:Ut,value:Pt}=xe[Ct],Kt=at[Ut];"era"===Ut?Ve[Kt]=Pt:gt(Kt)||(Ve[Kt]=parseInt(Pt,10))}return Ve}(Ve,xe):function wt(De,$){const xe=De.format($).replace(/\u200E/g,""),Ve=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(xe),[,Ct,Ut,Pt,Kt,ge,st,ue]=Ve;return[Pt,Ct,Ut,Kt,ge,st,ue]}(Ve,xe);"BC"===Kt&&(Ct=1-Math.abs(Ct));let ln=+xe;const Vn=ln%1e3;return ln-=Vn>=0?Vn:1e3+Vn,(Jt({year:Ct,month:Ut,day:Pt,hour:24===ge?0:ge,minute:st,second:ue,millisecond:0})-ln)/6e4}equals($){return"iana"===$.type&&$.name===this.name}get isValid(){return this.valid}}let Yt={},Nt={};function Mt(De,$={}){const xe=JSON.stringify([De,$]);let Ve=Nt[xe];return Ve||(Ve=new Intl.DateTimeFormat(De,$),Nt[xe]=Ve),Ve}let Y={},ce={},Je=null;function Xe(De,$,xe,Ve,Ct){const Ut=De.listingMode(xe);return"error"===Ut?null:"en"===Ut?Ve($):Ct($)}class Tt{constructor($,xe,Ve){this.padTo=Ve.padTo||0,this.floor=Ve.floor||!1;const{padTo:Ct,floor:Ut,...Pt}=Ve;if(!xe||Object.keys(Pt).length>0){const Kt={useGrouping:!1,...Ve};Ve.padTo>0&&(Kt.minimumIntegerDigits=Ve.padTo),this.inf=function Q(De,$={}){const xe=JSON.stringify([De,$]);let Ve=Y[xe];return Ve||(Ve=new Intl.NumberFormat(De,$),Y[xe]=Ve),Ve}($,Kt)}}format($){if(this.inf){const xe=this.floor?Math.floor($):$;return this.inf.format(xe)}return Nn(this.floor?Math.floor($):Ze($,3),this.padTo)}}class vt{constructor($,xe,Ve){let Ct;if(this.opts=Ve,this.originalZone=void 0,this.opts.timeZone)this.dt=$;else if("fixed"===$.zone.type){const Pt=$.offset/60*-1,Kt=Pt>=0?`Etc/GMT+${Pt}`:`Etc/GMT${Pt}`;0!==$.offset&&pt.create(Kt).valid?(Ct=Kt,this.dt=$):(Ct="UTC",this.dt=0===$.offset?$:$.setZone("UTC").plus({minutes:$.offset}),this.originalZone=$.zone)}else"system"===$.zone.type?this.dt=$:"iana"===$.zone.type?(this.dt=$,Ct=$.zone.name):(Ct="UTC",this.dt=$.setZone("UTC").plus({minutes:$.offset}),this.originalZone=$.zone);const Ut={...this.opts};Ut.timeZone=Ut.timeZone||Ct,this.dtf=Mt(xe,Ut)}format(){return this.originalZone?this.formatToParts().map(({value:$})=>$).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const $=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?$.map(xe=>{if("timeZoneName"===xe.type){const Ve=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...xe,value:Ve}}return xe}):$}resolvedOptions(){return this.dtf.resolvedOptions()}}class Ge{constructor($,xe,Ve){this.opts={style:"long",...Ve},!xe&&An()&&(this.rtf=function We(De,$={}){const{base:xe,...Ve}=$,Ct=JSON.stringify([De,Ve]);let Ut=ce[Ct];return Ut||(Ut=new Intl.RelativeTimeFormat(De,$),ce[Ct]=Ut),Ut}($,Ve))}format($,xe){return this.rtf?this.rtf.format($,xe):function hn(De,$,xe="always",Ve=!1){const Ct={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Ut=-1===["hours","minutes","seconds"].indexOf(De);if("auto"===xe&&Ut){const Ue="days"===De;switch($){case 1:return Ue?"tomorrow":`next ${Ct[De][0]}`;case-1:return Ue?"yesterday":`last ${Ct[De][0]}`;case 0:return Ue?"today":`this ${Ct[De][0]}`}}const Pt=Object.is($,-0)||$<0,Kt=Math.abs($),ge=1===Kt,st=Ct[De],ue=Ve?ge?st[1]:st[2]||st[1]:ge?Ct[De][0]:De;return Pt?`${Kt} ${ue} ago`:`in ${Kt} ${ue}`}(xe,$,this.opts.numeric,"long"!==this.opts.style)}formatToParts($,xe){return this.rtf?this.rtf.formatToParts($,xe):[]}}class de{static fromOpts($){return de.create($.locale,$.numberingSystem,$.outputCalendar,$.defaultToEN)}static create($,xe,Ve,Ct=!1){const Ut=$||sn.defaultLocale,Pt=Ut||(Ct?"en-US":function Oe(){return Je||(Je=(new Intl.DateTimeFormat).resolvedOptions().locale,Je)}());return new de(Pt,xe||sn.defaultNumberingSystem,Ve||sn.defaultOutputCalendar,Ut)}static resetCache(){Je=null,Nt={},Y={},ce={}}static fromObject({locale:$,numberingSystem:xe,outputCalendar:Ve}={}){return de.create($,xe,Ve)}constructor($,xe,Ve,Ct){const[Ut,Pt,Kt]=function i(De){const $=De.indexOf("-x-");-1!==$&&(De=De.substring(0,$));const xe=De.indexOf("-u-");if(-1===xe)return[De];{let Ve,Ct;try{Ve=Mt(De).resolvedOptions(),Ct=De}catch{const ge=De.substring(0,xe);Ve=Mt(ge).resolvedOptions(),Ct=ge}const{numberingSystem:Ut,calendar:Pt}=Ve;return[Ct,Ut,Pt]}}($);this.locale=Ut,this.numberingSystem=xe||Pt||null,this.outputCalendar=Ve||Kt||null,this.intl=function we(De,$,xe){return(xe||$)&&(De.includes("-u-")||(De+="-u"),xe&&(De+=`-ca-${xe}`),$&&(De+=`-nu-${$}`)),De}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=Ct,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Fe(De){return(!De.numberingSystem||"latn"===De.numberingSystem)&&("latn"===De.numberingSystem||!De.locale||De.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(De.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone($){return $&&0!==Object.getOwnPropertyNames($).length?de.create($.locale||this.specifiedLocale,$.numberingSystem||this.numberingSystem,$.outputCalendar||this.outputCalendar,$.defaultToEN||!1):this}redefaultToEN($={}){return this.clone({...$,defaultToEN:!0})}redefaultToSystem($={}){return this.clone({...$,defaultToEN:!1})}months($,xe=!1,Ve=!0){return Xe(this,$,Ve,ci,()=>{const Ct=xe?{month:$,day:"numeric"}:{month:$},Ut=xe?"format":"standalone";return this.monthsCache[Ut][$]||(this.monthsCache[Ut][$]=function $e(De){const $=[];for(let xe=1;xe<=12;xe++){const Ve=gi.utc(2016,xe,1);$.push(De(Ve))}return $}(Pt=>this.extract(Pt,Ct,"month"))),this.monthsCache[Ut][$]})}weekdays($,xe=!1,Ve=!0){return Xe(this,$,Ve,kt,()=>{const Ct=xe?{weekday:$,year:"numeric",month:"long",day:"numeric"}:{weekday:$},Ut=xe?"format":"standalone";return this.weekdaysCache[Ut][$]||(this.weekdaysCache[Ut][$]=function Ye(De){const $=[];for(let xe=1;xe<=7;xe++){const Ve=gi.utc(2016,11,13+xe);$.push(De(Ve))}return $}(Pt=>this.extract(Pt,Ct,"weekday"))),this.weekdaysCache[Ut][$]})}meridiems($=!0){return Xe(this,void 0,$,()=>zt,()=>{if(!this.meridiemCache){const xe={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[gi.utc(2016,11,13,9),gi.utc(2016,11,13,19)].map(Ve=>this.extract(Ve,xe,"dayperiod"))}return this.meridiemCache})}eras($,xe=!0){return Xe(this,$,xe,Be,()=>{const Ve={era:$};return this.eraCache[$]||(this.eraCache[$]=[gi.utc(-40,1,1),gi.utc(2017,1,1)].map(Ct=>this.extract(Ct,Ve,"era"))),this.eraCache[$]})}extract($,xe,Ve){const Pt=this.dtFormatter($,xe).formatToParts().find(Kt=>Kt.type.toLowerCase()===Ve);return Pt?Pt.value:null}numberFormatter($={}){return new Tt(this.intl,$.forceSimple||this.fastNumbers,$)}dtFormatter($,xe={}){return new vt($,this.intl,xe)}relFormatter($={}){return new Ge(this.intl,this.isEnglish(),$)}listFormatter($={}){return function un(De,$={}){const xe=JSON.stringify([De,$]);let Ve=Yt[xe];return Ve||(Ve=new Intl.ListFormat(De,$),Yt[xe]=Ve),Ve}(this.intl,$)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals($){return this.locale===$.locale&&this.numberingSystem===$.numberingSystem&&this.outputCalendar===$.outputCalendar}}let ee=null;class U extends ze{static get utcInstance(){return null===ee&&(ee=new U(0)),ee}static instance($){return 0===$?U.utcInstance:new U($)}static parseSpecifier($){if($){const xe=$.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(xe)return new U(Jn(xe[1],xe[2]))}return null}constructor($){super(),this.fixed=$}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Zn(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Zn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset($,xe){return Zn(this.fixed,xe)}get isUniversal(){return!0}offset(){return this.fixed}equals($){return"fixed"===$.type&&$.fixed===this.fixed}get isValid(){return!0}}class te extends ze{constructor($){super(),this.zoneName=$}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Re(De,$){if(gt(De)||null===De)return $;if(De instanceof ze)return De;if(function Xt(De){return"string"==typeof De}(De)){const Ve=De.toLowerCase();return"default"===Ve?$:"local"===Ve||"system"===Ve?qe.instance:"utc"===Ve||"gmt"===Ve?U.utcInstance:U.parseSpecifier(Ve)||pt.create(De)}return dn(De)?U.instance(De):"object"==typeof De&&De.offset&&"number"==typeof De.offset?De:new te(De)}let _n,ot=()=>Date.now(),ut="system",Dt=null,Qt=null,mn=null,nn=60;class sn{static get now(){return ot}static set now($){ot=$}static set defaultZone($){ut=$}static get defaultZone(){return Re(ut,qe.instance)}static get defaultLocale(){return Dt}static set defaultLocale($){Dt=$}static get defaultNumberingSystem(){return Qt}static set defaultNumberingSystem($){Qt=$}static get defaultOutputCalendar(){return mn}static set defaultOutputCalendar($){mn=$}static get twoDigitCutoffYear(){return nn}static set twoDigitCutoffYear($){nn=$%100}static get throwOnInvalid(){return _n}static set throwOnInvalid($){_n=$}static resetCaches(){de.resetCache(),pt.resetCache()}}function gt(De){return typeof De>"u"}function dn(De){return"number"==typeof De}function It(De){return"number"==typeof De&&De%1==0}function An(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Gn(De,$,xe){if(0!==De.length)return De.reduce((Ve,Ct)=>{const Ut=[$(Ct),Ct];return Ve&&xe(Ve[0],Ut[0])===Ve[0]?Ve:Ut},null)[1]}function ii(De,$){return Object.prototype.hasOwnProperty.call(De,$)}function $t(De,$,xe){return It(De)&&De>=$&&De<=xe}function Nn(De,$=2){let Ve;return Ve=De<0?"-"+(""+-De).padStart($,"0"):(""+De).padStart($,"0"),Ve}function bt(De){if(!gt(De)&&null!==De&&""!==De)return parseInt(De,10)}function _t(De){if(!gt(De)&&null!==De&&""!==De)return parseFloat(De)}function Ot(De){if(!gt(De)&&null!==De&&""!==De){const $=1e3*parseFloat("0."+De);return Math.floor($)}}function Ze(De,$,xe=!1){const Ve=10**$;return(xe?Math.trunc:Math.round)(De*Ve)/Ve}function Ke(De){return De%4==0&&(De%100!=0||De%400==0)}function it(De){return Ke(De)?366:365}function yt(De,$){const xe=function Qn(De,$){return De-$*Math.floor(De/$)}($-1,12)+1;return 2===xe?Ke(De+($-xe)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][xe-1]}function Jt(De){let $=Date.UTC(De.year,De.month-1,De.day,De.hour,De.minute,De.second,De.millisecond);return De.year<100&&De.year>=0&&($=new Date($),$.setUTCFullYear(De.year,De.month-1,De.day)),+$}function on(De){const $=(De+Math.floor(De/4)-Math.floor(De/100)+Math.floor(De/400))%7,xe=De-1,Ve=(xe+Math.floor(xe/4)-Math.floor(xe/100)+Math.floor(xe/400))%7;return 4===$||3===Ve?53:52}function Bt(De){return De>99?De:De>sn.twoDigitCutoffYear?1900+De:2e3+De}function Mn(De,$,xe,Ve=null){const Ct=new Date(De),Ut={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Ve&&(Ut.timeZone=Ve);const Pt={timeZoneName:$,...Ut},Kt=new Intl.DateTimeFormat(xe,Pt).formatToParts(Ct).find(ge=>"timezonename"===ge.type.toLowerCase());return Kt?Kt.value:null}function Jn(De,$){let xe=parseInt(De,10);Number.isNaN(xe)&&(xe=0);const Ve=parseInt($,10)||0;return 60*xe+(xe<0||Object.is(xe,-0)?-Ve:Ve)}function _i(De){const $=Number(De);if("boolean"==typeof De||""===De||Number.isNaN($))throw new g(`Invalid unit value ${De}`);return $}function Cn(De,$){const xe={};for(const Ve in De)if(ii(De,Ve)){const Ct=De[Ve];if(null==Ct)continue;xe[$(Ve)]=_i(Ct)}return xe}function Zn(De,$){const xe=Math.trunc(Math.abs(De/60)),Ve=Math.trunc(Math.abs(De%60)),Ct=De>=0?"+":"-";switch($){case"short":return`${Ct}${Nn(xe,2)}:${Nn(Ve,2)}`;case"narrow":return`${Ct}${xe}${Ve>0?`:${Ve}`:""}`;case"techie":return`${Ct}${Nn(xe,2)}${Nn(Ve,2)}`;default:throw new RangeError(`Value format ${$} is out of range for property format`)}}function di(De){return function ti(De,$){return $.reduce((xe,Ve)=>(xe[Ve]=De[Ve],xe),{})}(De,["hour","minute","second","millisecond"])}const Ui=["January","February","March","April","May","June","July","August","September","October","November","December"],bi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pi=["J","F","M","A","M","J","J","A","S","O","N","D"];function ci(De){switch(De){case"narrow":return[...pi];case"short":return[...bi];case"long":return[...Ui];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Fi=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Wt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Pn=["M","T","W","T","F","S","S"];function kt(De){switch(De){case"narrow":return[...Pn];case"short":return[...Wt];case"long":return[...Fi];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const zt=["AM","PM"],Sn=["Before Christ","Anno Domini"],Ln=["BC","AD"],zn=["B","A"];function Be(De){switch(De){case"narrow":return[...zn];case"short":return[...Ln];case"long":return[...Sn];default:return null}}function Rn(De,$){let xe="";for(const Ve of De)xe+=Ve.literal?Ve.val:$(Ve.val);return xe}const xi={D:P,DD:a,DDD:L,DDDD:Z,t:j,tt:N,ttt:B,tttt:V,T:J,TT:q,TTT:re,TTTT:W,f:G,ff:E,fff:le,ffff:Se,F:X,FF:ne,FFF:me,FFFF:ye};class fi{static create($,xe={}){return new fi($,xe)}static parseFormat($){let xe=null,Ve="",Ct=!1;const Ut=[];for(let Pt=0;Pt<$.length;Pt++){const Kt=$.charAt(Pt);"'"===Kt?(Ve.length>0&&Ut.push({literal:Ct||/^\s+$/.test(Ve),val:Ve}),xe=null,Ve="",Ct=!Ct):Ct||Kt===xe?Ve+=Kt:(Ve.length>0&&Ut.push({literal:/^\s+$/.test(Ve),val:Ve}),Ve=Kt,xe=Kt)}return Ve.length>0&&Ut.push({literal:Ct||/^\s+$/.test(Ve),val:Ve}),Ut}static macroTokenToFormatOpts($){return xi[$]}constructor($,xe){this.opts=xe,this.loc=$,this.systemLoc=null}formatWithSystemDefault($,xe){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter($,{...this.opts,...xe}).format()}formatDateTime($,xe={}){return this.loc.dtFormatter($,{...this.opts,...xe}).format()}formatDateTimeParts($,xe={}){return this.loc.dtFormatter($,{...this.opts,...xe}).formatToParts()}formatInterval($,xe={}){return this.loc.dtFormatter($.start,{...this.opts,...xe}).dtf.formatRange($.start.toJSDate(),$.end.toJSDate())}resolvedOptions($,xe={}){return this.loc.dtFormatter($,{...this.opts,...xe}).resolvedOptions()}num($,xe=0){if(this.opts.forceSimple)return Nn($,xe);const Ve={...this.opts};return xe>0&&(Ve.padTo=xe),this.loc.numberFormatter(Ve).format($)}formatDateTimeFromString($,xe){const Ve="en"===this.loc.listingMode(),Ct=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Ut=(ln,Vn)=>this.loc.extract($,ln,Vn),Pt=ln=>$.isOffsetFixed&&0===$.offset&&ln.allowZ?"Z":$.isValid?$.zone.formatOffset($.ts,ln.format):"",ge=(ln,Vn)=>Ve?function Lt(De,$){return ci($)[De.month-1]}($,ln):Ut(Vn?{month:ln}:{month:ln,day:"numeric"},"month"),st=(ln,Vn)=>Ve?function ft(De,$){return kt($)[De.weekday-1]}($,ln):Ut(Vn?{weekday:ln}:{weekday:ln,month:"long",day:"numeric"},"weekday"),ue=ln=>{const Vn=fi.macroTokenToFormatOpts(ln);return Vn?this.formatWithSystemDefault($,Vn):ln},Ue=ln=>Ve?function pn(De,$){return Be($)[De.year<0?0:1]}($,ln):Ut({era:ln},"era");return Rn(fi.parseFormat(xe),ln=>{switch(ln){case"S":return this.num($.millisecond);case"u":case"SSS":return this.num($.millisecond,3);case"s":return this.num($.second);case"ss":return this.num($.second,2);case"uu":return this.num(Math.floor($.millisecond/10),2);case"uuu":return this.num(Math.floor($.millisecond/100));case"m":return this.num($.minute);case"mm":return this.num($.minute,2);case"h":return this.num($.hour%12==0?12:$.hour%12);case"hh":return this.num($.hour%12==0?12:$.hour%12,2);case"H":return this.num($.hour);case"HH":return this.num($.hour,2);case"Z":return Pt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Pt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Pt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return $.zone.offsetName($.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return $.zone.offsetName($.ts,{format:"long",locale:this.loc.locale});case"z":return $.zoneName;case"a":return Ve?function et(De){return zt[De.hour<12?0:1]}($):Ut({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return Ct?Ut({day:"numeric"},"day"):this.num($.day);case"dd":return Ct?Ut({day:"2-digit"},"day"):this.num($.day,2);case"c":case"E":return this.num($.weekday);case"ccc":return st("short",!0);case"cccc":return st("long",!0);case"ccccc":return st("narrow",!0);case"EEE":return st("short",!1);case"EEEE":return st("long",!1);case"EEEEE":return st("narrow",!1);case"L":return Ct?Ut({month:"numeric",day:"numeric"},"month"):this.num($.month);case"LL":return Ct?Ut({month:"2-digit",day:"numeric"},"month"):this.num($.month,2);case"LLL":return ge("short",!0);case"LLLL":return ge("long",!0);case"LLLLL":return ge("narrow",!0);case"M":return Ct?Ut({month:"numeric"},"month"):this.num($.month);case"MM":return Ct?Ut({month:"2-digit"},"month"):this.num($.month,2);case"MMM":return ge("short",!1);case"MMMM":return ge("long",!1);case"MMMMM":return ge("narrow",!1);case"y":return Ct?Ut({year:"numeric"},"year"):this.num($.year);case"yy":return Ct?Ut({year:"2-digit"},"year"):this.num($.year.toString().slice(-2),2);case"yyyy":return Ct?Ut({year:"numeric"},"year"):this.num($.year,4);case"yyyyyy":return Ct?Ut({year:"numeric"},"year"):this.num($.year,6);case"G":return Ue("short");case"GG":return Ue("long");case"GGGGG":return Ue("narrow");case"kk":return this.num($.weekYear.toString().slice(-2),2);case"kkkk":return this.num($.weekYear,4);case"W":return this.num($.weekNumber);case"WW":return this.num($.weekNumber,2);case"o":return this.num($.ordinal);case"ooo":return this.num($.ordinal,3);case"q":return this.num($.quarter);case"qq":return this.num($.quarter,2);case"X":return this.num(Math.floor($.ts/1e3));case"x":return this.num($.ts);default:return ue(ln)}})}formatDurationFromString($,xe){const Ve=ge=>{switch(ge[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Ut=fi.parseFormat(xe),Pt=Ut.reduce((ge,{literal:st,val:ue})=>st?ge:ge.concat(ue),[]);return Rn(Ut,(ge=>st=>{const ue=Ve(st);return ue?this.num(ge.get(ue),st.length):st})($.shiftTo(...Pt.map(Ve).filter(ge=>ge))))}}class qn{constructor($,xe){this.reason=$,this.explanation=xe}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const or=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Yi(...De){const $=De.reduce((xe,Ve)=>xe+Ve.source,"");return RegExp(`^${$}$`)}function hr(...De){return $=>De.reduce(([xe,Ve,Ct],Ut)=>{const[Pt,Kt,ge]=Ut($,Ct);return[{...xe,...Pt},Kt||Ve,ge]},[{},null,1]).slice(0,2)}function Ei(De,...$){if(null==De)return[null,null];for(const[xe,Ve]of $){const Ct=xe.exec(De);if(Ct)return Ve(Ct)}return[null,null]}function gr(...De){return($,xe)=>{const Ve={};let Ct;for(Ct=0;Ct<De.length;Ct++)Ve[De[Ct]]=bt($[xe+Ct]);return[Ve,null,xe+Ct]}}const Mi=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Nr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,cs=RegExp(`${Nr.source}(?:${Mi.source}?(?:\\[(${or.source})\\])?)?`),is=RegExp(`(?:T${cs.source})?`),rs=gr("weekYear","weekNumber","weekDay"),Rs=gr("year","ordinal"),Sr=RegExp(`${Nr.source} ?(?:${Mi.source}|(${or.source}))?`),rr=RegExp(`(?: ${Sr.source})?`);function Ri(De,$,xe){const Ve=De[$];return gt(Ve)?xe:bt(Ve)}function Xn(De,$){return[{hours:Ri(De,$,0),minutes:Ri(De,$+1,0),seconds:Ri(De,$+2,0),milliseconds:Ot(De[$+3])},null,$+4]}function _s(De,$){const xe=!De[$]&&!De[$+1],Ve=Jn(De[$+1],De[$+2]);return[{},xe?null:U.instance(Ve),$+3]}function Wn(De,$){return[{},De[$]?pt.create(De[$]):null,$+1]}const pr=RegExp(`^T?${Nr.source}$`),xr=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Yr(De){const[$,xe,Ve,Ct,Ut,Pt,Kt,ge,st]=De,ue="-"===$[0],Ue=ge&&"-"===ge[0],Zt=(ln,Vn=!1)=>void 0!==ln&&(Vn||ln&&ue)?-ln:ln;return[{years:Zt(_t(xe)),months:Zt(_t(Ve)),weeks:Zt(_t(Ct)),days:Zt(_t(Ut)),hours:Zt(_t(Pt)),minutes:Zt(_t(Kt)),seconds:Zt(_t(ge),"-0"===ge),milliseconds:Zt(Ot(st),Ue)}]}const Zr={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pr(De,$,xe,Ve,Ct,Ut,Pt){const Kt={year:2===$.length?Bt(bt($)):bt($),month:bi.indexOf(xe)+1,day:bt(Ve),hour:bt(Ct),minute:bt(Ut)};return Pt&&(Kt.second=bt(Pt)),De&&(Kt.weekday=De.length>3?Fi.indexOf(De)+1:Wt.indexOf(De)+1),Kt}const vr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ss(De){const[,$,xe,Ve,Ct,Ut,Pt,Kt,ge,st,ue,Ue]=De,Zt=Pr($,Ct,Ve,xe,Ut,Pt,Kt);let ln;return ln=ge?Zr[ge]:st?0:Jn(ue,Ue),[Zt,new U(ln)]}const yr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,os=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Cr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ji(De){const[,$,xe,Ve,Ct,Ut,Pt,Kt]=De;return[Pr($,Ct,Ve,xe,Ut,Pt,Kt),U.utcInstance]}function jr(De){const[,$,xe,Ve,Ct,Ut,Pt,Kt]=De;return[Pr($,Kt,xe,Ve,Ct,Ut,Pt),U.utcInstance]}const hs=Yi(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,is),Ds=Yi(/(\d{4})-?W(\d\d)(?:-?(\d))?/,is),Rr=Yi(/(\d{4})-?(\d{3})/,is),bs=Yi(cs),Vi=hr(function ds(De,$){return[{year:Ri(De,$),month:Ri(De,$+1,1),day:Ri(De,$+2,1)},null,$+3]},Xn,_s,Wn),ws=hr(rs,Xn,_s,Wn),no=hr(Rs,Xn,_s,Wn),Vr=hr(Xn,_s,Wn),Wi=hr(Xn),as=Yi(/(\d{4})-(\d\d)-(\d\d)/,rr),ao=Yi(Sr),Zi=hr(Xn,_s,Wn),si={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Ps={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...si},lr=365.2425,Hr=30.436875,io={years:{quarters:4,months:12,weeks:lr/7,days:lr,hours:24*lr,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:lr/28,days:lr/4,hours:24*lr/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Hr/7,days:Hr,hours:24*Hr,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...si},ki=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],wr=ki.slice(0).reverse();function Lr(De,$,xe=!1){const Ve={values:xe?$.values:{...De.values,...$.values||{}},loc:De.loc.clone($.loc),conversionAccuracy:$.conversionAccuracy||De.conversionAccuracy,matrix:$.matrix||De.matrix};return new hi(Ve)}function yn(De,$,xe,Ve,Ct){const Ut=De[Ct][xe],Pt=$[xe]/Ut,ge=Math.sign(Pt)!==Math.sign(Ve[Ct])&&0!==Ve[Ct]&&Math.abs(Pt)<=1?function Dr(De){return De<0?Math.floor(De):Math.ceil(De)}(Pt):Math.trunc(Pt);Ve[Ct]+=ge,$[xe]-=ge*Ut}class hi{constructor($){const xe="longterm"===$.conversionAccuracy||!1;let Ve=xe?io:Ps;$.matrix&&(Ve=$.matrix),this.values=$.values,this.loc=$.loc||de.create(),this.conversionAccuracy=xe?"longterm":"casual",this.invalid=$.invalid||null,this.matrix=Ve,this.isLuxonDuration=!0}static fromMillis($,xe){return hi.fromObject({milliseconds:$},xe)}static fromObject($,xe={}){if(null==$||"object"!=typeof $)throw new g("Duration.fromObject: argument expected to be an object, got "+(null===$?"null":typeof $));return new hi({values:Cn($,hi.normalizeUnit),loc:de.fromObject(xe),conversionAccuracy:xe.conversionAccuracy,matrix:xe.matrix})}static fromDurationLike($){if(dn($))return hi.fromMillis($);if(hi.isDuration($))return $;if("object"==typeof $)return hi.fromObject($);throw new g(`Unknown duration argument ${$} of type ${typeof $}`)}static fromISO($,xe){const[Ve]=function zr(De){return Ei(De,[xr,Yr])}($);return Ve?hi.fromObject(Ve,xe):hi.invalid("unparsable",`the input "${$}" can't be parsed as ISO 8601`)}static fromISOTime($,xe){const[Ve]=function Gr(De){return Ei(De,[pr,Wi])}($);return Ve?hi.fromObject(Ve,xe):hi.invalid("unparsable",`the input "${$}" can't be parsed as ISO 8601`)}static invalid($,xe=null){if(!$)throw new g("need to specify a reason the Duration is invalid");const Ve=$ instanceof qn?$:new qn($,xe);if(sn.throwOnInvalid)throw new T(Ve);return new hi({invalid:Ve})}static normalizeUnit($){const xe={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[$&&$.toLowerCase()];if(!xe)throw new b($);return xe}static isDuration($){return $&&$.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat($,xe={}){const Ve={...xe,floor:!1!==xe.round&&!1!==xe.floor};return this.isValid?fi.create(this.loc,Ve).formatDurationFromString(this,$):"Invalid Duration"}toHuman($={}){const xe=ki.map(Ve=>{const Ct=this.values[Ve];return gt(Ct)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...$,unit:Ve.slice(0,-1)}).format(Ct)}).filter(Ve=>Ve);return this.loc.listFormatter({type:"conjunction",style:$.listStyle||"narrow",...$}).format(xe)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let $="P";return 0!==this.years&&($+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&($+=this.months+3*this.quarters+"M"),0!==this.weeks&&($+=this.weeks+"W"),0!==this.days&&($+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&($+="T"),0!==this.hours&&($+=this.hours+"H"),0!==this.minutes&&($+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&($+=Ze(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===$&&($+="T0S"),$}toISOTime($={}){if(!this.isValid)return null;const xe=this.toMillis();if(xe<0||xe>=864e5)return null;$={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...$};const Ve=this.shiftTo("hours","minutes","seconds","milliseconds");let Ct="basic"===$.format?"hhmm":"hh:mm";(!$.suppressSeconds||0!==Ve.seconds||0!==Ve.milliseconds)&&(Ct+="basic"===$.format?"ss":":ss",(!$.suppressMilliseconds||0!==Ve.milliseconds)&&(Ct+=".SSS"));let Ut=Ve.toFormat(Ct);return $.includePrefix&&(Ut="T"+Ut),Ut}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus($){if(!this.isValid)return this;const xe=hi.fromDurationLike($),Ve={};for(const Ct of ki)(ii(xe.values,Ct)||ii(this.values,Ct))&&(Ve[Ct]=xe.get(Ct)+this.get(Ct));return Lr(this,{values:Ve},!0)}minus($){if(!this.isValid)return this;const xe=hi.fromDurationLike($);return this.plus(xe.negate())}mapUnits($){if(!this.isValid)return this;const xe={};for(const Ve of Object.keys(this.values))xe[Ve]=_i($(this.values[Ve],Ve));return Lr(this,{values:xe},!0)}get($){return this[hi.normalizeUnit($)]}set($){return this.isValid?Lr(this,{values:{...this.values,...Cn($,hi.normalizeUnit)}}):this}reconfigure({locale:$,numberingSystem:xe,conversionAccuracy:Ve,matrix:Ct}={}){return Lr(this,{loc:this.loc.clone({locale:$,numberingSystem:xe}),matrix:Ct,conversionAccuracy:Ve})}as($){return this.isValid?this.shiftTo($).get($):NaN}normalize(){if(!this.isValid)return this;const $=this.toObject();return function oi(De,$){wr.reduce((xe,Ve)=>gt($[Ve])?xe:(xe&&yn(De,$,xe,$,Ve),Ve),null)}(this.matrix,$),Lr(this,{values:$},!0)}rescale(){return this.isValid?Lr(this,{values:function ps(De){const $={};for(const[xe,Ve]of Object.entries(De))0!==Ve&&($[xe]=Ve);return $}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...$){if(!this.isValid)return this;if(0===$.length)return this;$=$.map(Pt=>hi.normalizeUnit(Pt));const xe={},Ve={},Ct=this.toObject();let Ut;for(const Pt of ki)if($.indexOf(Pt)>=0){Ut=Pt;let Kt=0;for(const st in Ve)Kt+=this.matrix[st][Pt]*Ve[st],Ve[st]=0;dn(Ct[Pt])&&(Kt+=Ct[Pt]);const ge=Math.trunc(Kt);xe[Pt]=ge,Ve[Pt]=(1e3*Kt-1e3*ge)/1e3;for(const st in Ct)ki.indexOf(st)>ki.indexOf(Pt)&&yn(this.matrix,Ct,st,xe,Pt)}else dn(Ct[Pt])&&(Ve[Pt]=Ct[Pt]);for(const Pt in Ve)0!==Ve[Pt]&&(xe[Ut]+=Pt===Ut?Ve[Pt]:Ve[Pt]/this.matrix[Ut][Pt]);return Lr(this,{values:xe},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const $={};for(const xe of Object.keys(this.values))$[xe]=0===this.values[xe]?0:-this.values[xe];return Lr(this,{values:$},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals($){if(!this.isValid||!$.isValid||!this.loc.equals($.loc))return!1;function xe(Ve,Ct){return void 0===Ve||0===Ve?void 0===Ct||0===Ct:Ve===Ct}for(const Ve of ki)if(!xe(this.values[Ve],$.values[Ve]))return!1;return!0}}const Xi="Invalid Interval";class ve{constructor($){this.s=$.start,this.e=$.end,this.invalid=$.invalid||null,this.isLuxonInterval=!0}static invalid($,xe=null){if(!$)throw new g("need to specify a reason the Interval is invalid");const Ve=$ instanceof qn?$:new qn($,xe);if(sn.throwOnInvalid)throw new m(Ve);return new ve({invalid:Ve})}static fromDateTimes($,xe){const Ve=ro($),Ct=ro(xe),Ut=function Ie(De,$){return De&&De.isValid?$&&$.isValid?$<De?ve.invalid("end before start",`The end of an interval must be after its start, but you had start=${De.toISO()} and end=${$.toISO()}`):null:ve.invalid("missing or invalid end"):ve.invalid("missing or invalid start")}(Ve,Ct);return Ut??new ve({start:Ve,end:Ct})}static after($,xe){const Ve=hi.fromDurationLike(xe),Ct=ro($);return ve.fromDateTimes(Ct,Ct.plus(Ve))}static before($,xe){const Ve=hi.fromDurationLike(xe),Ct=ro($);return ve.fromDateTimes(Ct.minus(Ve),Ct)}static fromISO($,xe){const[Ve,Ct]=($||"").split("/",2);if(Ve&&Ct){let Ut,Pt,Kt,ge;try{Ut=gi.fromISO(Ve,xe),Pt=Ut.isValid}catch{Pt=!1}try{Kt=gi.fromISO(Ct,xe),ge=Kt.isValid}catch{ge=!1}if(Pt&&ge)return ve.fromDateTimes(Ut,Kt);if(Pt){const st=hi.fromISO(Ct,xe);if(st.isValid)return ve.after(Ut,st)}else if(ge){const st=hi.fromISO(Ve,xe);if(st.isValid)return ve.before(Kt,st)}}return ve.invalid("unparsable",`the input "${$}" can't be parsed as ISO 8601`)}static isInterval($){return $&&$.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length($="milliseconds"){return this.isValid?this.toDuration($).get($):NaN}count($="milliseconds"){if(!this.isValid)return NaN;const xe=this.start.startOf($),Ve=this.end.startOf($);return Math.floor(Ve.diff(xe,$).get($))+(Ve.valueOf()!==this.end.valueOf())}hasSame($){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,$))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter($){return!!this.isValid&&this.s>$}isBefore($){return!!this.isValid&&this.e<=$}contains($){return!!this.isValid&&this.s<=$&&this.e>$}set({start:$,end:xe}={}){return this.isValid?ve.fromDateTimes($||this.s,xe||this.e):this}splitAt(...$){if(!this.isValid)return[];const xe=$.map(ro).filter(Pt=>this.contains(Pt)).sort(),Ve=[];let{s:Ct}=this,Ut=0;for(;Ct<this.e;){const Pt=xe[Ut]||this.e,Kt=+Pt>+this.e?this.e:Pt;Ve.push(ve.fromDateTimes(Ct,Kt)),Ct=Kt,Ut+=1}return Ve}splitBy($){const xe=hi.fromDurationLike($);if(!this.isValid||!xe.isValid||0===xe.as("milliseconds"))return[];let Ut,{s:Ve}=this,Ct=1;const Pt=[];for(;Ve<this.e;){const Kt=this.start.plus(xe.mapUnits(ge=>ge*Ct));Ut=+Kt>+this.e?this.e:Kt,Pt.push(ve.fromDateTimes(Ve,Ut)),Ve=Ut,Ct+=1}return Pt}divideEqually($){return this.isValid?this.splitBy(this.length()/$).slice(0,$):[]}overlaps($){return this.e>$.s&&this.s<$.e}abutsStart($){return!!this.isValid&&+this.e==+$.s}abutsEnd($){return!!this.isValid&&+$.e==+this.s}engulfs($){return!!this.isValid&&this.s<=$.s&&this.e>=$.e}equals($){return!(!this.isValid||!$.isValid)&&this.s.equals($.s)&&this.e.equals($.e)}intersection($){if(!this.isValid)return this;const xe=this.s>$.s?this.s:$.s,Ve=this.e<$.e?this.e:$.e;return xe>=Ve?null:ve.fromDateTimes(xe,Ve)}union($){return this.isValid?ve.fromDateTimes(this.s<$.s?this.s:$.s,this.e>$.e?this.e:$.e):this}static merge($){const[xe,Ve]=$.sort((Ct,Ut)=>Ct.s-Ut.s).reduce(([Ct,Ut],Pt)=>Ut?Ut.overlaps(Pt)||Ut.abutsStart(Pt)?[Ct,Ut.union(Pt)]:[Ct.concat([Ut]),Pt]:[Ct,Pt],[[],null]);return Ve&&xe.push(Ve),xe}static xor($){let xe=null,Ve=0;const Ct=[],Ut=$.map(ge=>[{time:ge.s,type:"s"},{time:ge.e,type:"e"}]),Kt=Array.prototype.concat(...Ut).sort((ge,st)=>ge.time-st.time);for(const ge of Kt)Ve+="s"===ge.type?1:-1,1===Ve?xe=ge.time:(xe&&+xe!=+ge.time&&Ct.push(ve.fromDateTimes(xe,ge.time)),xe=null);return ve.merge(Ct)}difference(...$){return ve.xor([this].concat($)).map(xe=>this.intersection(xe)).filter(xe=>xe&&!xe.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Xi}toLocaleString($=P,xe={}){return this.isValid?fi.create(this.s.loc.clone(xe),$).formatInterval(this):Xi}toISO($){return this.isValid?`${this.s.toISO($)}/${this.e.toISO($)}`:Xi}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Xi}toISOTime($){return this.isValid?`${this.s.toISOTime($)}/${this.e.toISOTime($)}`:Xi}toFormat($,{separator:xe=" \u2013 "}={}){return this.isValid?`${this.s.toFormat($)}${xe}${this.e.toFormat($)}`:Xi}toDuration($,xe){return this.isValid?this.e.diff(this.s,$,xe):hi.invalid(this.invalidReason)}mapEndpoints($){return ve.fromDateTimes($(this.s),$(this.e))}}class ie{static hasDST($=sn.defaultZone){const xe=gi.now().setZone($).set({month:12});return!$.isUniversal&&xe.offset!==xe.set({month:6}).offset}static isValidIANAZone($){return pt.isValidZone($)}static normalizeZone($){return Re($,sn.defaultZone)}static months($="long",{locale:xe=null,numberingSystem:Ve=null,locObj:Ct=null,outputCalendar:Ut="gregory"}={}){return(Ct||de.create(xe,Ve,Ut)).months($)}static monthsFormat($="long",{locale:xe=null,numberingSystem:Ve=null,locObj:Ct=null,outputCalendar:Ut="gregory"}={}){return(Ct||de.create(xe,Ve,Ut)).months($,!0)}static weekdays($="long",{locale:xe=null,numberingSystem:Ve=null,locObj:Ct=null}={}){return(Ct||de.create(xe,Ve,null)).weekdays($)}static weekdaysFormat($="long",{locale:xe=null,numberingSystem:Ve=null,locObj:Ct=null}={}){return(Ct||de.create(xe,Ve,null)).weekdays($,!0)}static meridiems({locale:$=null}={}){return de.create($).meridiems()}static eras($="short",{locale:xe=null}={}){return de.create(xe,null,"gregory").eras($)}static features(){return{relative:An()}}}function rt(De,$){const xe=Ct=>Ct.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Ve=xe($)-xe(De);return Math.floor(hi.fromMillis(Ve).as("days"))}const ji={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ir={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Or=ji.hanidec.replace(/[\[|\]]/g,"").split("");function vi({numberingSystem:De},$=""){return new RegExp(`${ji[De||"latn"]}${$}`)}function je(De,$=(xe=>xe)){return{regex:De,deser:([xe])=>$(function er(De){let $=parseInt(De,10);if(isNaN($)){$="";for(let xe=0;xe<De.length;xe++){const Ve=De.charCodeAt(xe);if(-1!==De[xe].search(ji.hanidec))$+=Or.indexOf(De[xe]);else for(const Ct in Ir){const[Ut,Pt]=Ir[Ct];Ve>=Ut&&Ve<=Pt&&($+=Ve-Ut)}}return parseInt($,10)}return $}(xe))}}const Rt=`[ ${String.fromCharCode(160)}]`,jt=new RegExp(Rt,"g");function Ht(De){return De.replace(/\./g,"\\.?").replace(jt,Rt)}function gn(De){return De.replace(/\./g,"").replace(jt," ").toLowerCase()}function Tn(De,$){return null===De?null:{regex:RegExp(De.map(Ht).join("|")),deser:([xe])=>De.findIndex(Ve=>gn(xe)===gn(Ve))+$}}function ai(De,$){return{regex:De,deser:([,xe,Ve])=>Jn(xe,Ve),groups:$}}function jn(De){return{regex:De,deser:([$])=>$}}function ur(De){return De.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const dr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let fe=null;function tt(De,$){return Array.prototype.concat(...De.map(xe=>function be(De,$){if(De.literal)return De;const Ve=an(fi.macroTokenToFormatOpts(De.val),$);return null==Ve||Ve.includes(void 0)?De:Ve}(xe,$)))}function St(De,$,xe){const Ve=tt(fi.parseFormat(xe),De),Ct=Ve.map(Pt=>function Kr(De,$){const xe=vi($),Ve=vi($,"{2}"),Ct=vi($,"{3}"),Ut=vi($,"{4}"),Pt=vi($,"{6}"),Kt=vi($,"{1,2}"),ge=vi($,"{1,3}"),st=vi($,"{1,6}"),ue=vi($,"{1,9}"),Ue=vi($,"{2,4}"),Zt=vi($,"{4,6}"),ln=ts=>({regex:RegExp(ur(ts.val)),deser:([Jr])=>Jr,literal:!0}),Di=(ts=>{if(De.literal)return ln(ts);switch(ts.val){case"G":return Tn($.eras("short",!1),0);case"GG":return Tn($.eras("long",!1),0);case"y":return je(st);case"yy":case"kk":return je(Ue,Bt);case"yyyy":case"kkkk":return je(Ut);case"yyyyy":return je(Zt);case"yyyyyy":return je(Pt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return je(Kt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return je(Ve);case"MMM":return Tn($.months("short",!0,!1),1);case"MMMM":return Tn($.months("long",!0,!1),1);case"LLL":return Tn($.months("short",!1,!1),1);case"LLLL":return Tn($.months("long",!1,!1),1);case"o":case"S":return je(ge);case"ooo":case"SSS":return je(Ct);case"u":return jn(ue);case"uu":return jn(Kt);case"uuu":case"E":case"c":return je(xe);case"a":return Tn($.meridiems(),0);case"EEE":return Tn($.weekdays("short",!1,!1),1);case"EEEE":return Tn($.weekdays("long",!1,!1),1);case"ccc":return Tn($.weekdays("short",!0,!1),1);case"cccc":return Tn($.weekdays("long",!0,!1),1);case"Z":case"ZZ":return ai(new RegExp(`([+-]${Kt.source})(?::(${Ve.source}))?`),2);case"ZZZ":return ai(new RegExp(`([+-]${Kt.source})(${Ve.source})?`),2);case"z":return jn(/[a-z_+-/]{1,256}?/i);case" ":return jn(/[^\S\n\r]/);default:return ln(ts)}})(De)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Di.token=De,Di}(Pt,De)),Ut=Ct.find(Pt=>Pt.invalidReason);if(Ut)return{input:$,tokens:Ve,invalidReason:Ut.invalidReason};{const[Pt,Kt]=function ri(De){return[`^${De.map(xe=>xe.regex).reduce((xe,Ve)=>`${xe}(${Ve.source})`,"")}$`,De]}(Ct),ge=RegExp(Pt,"i"),[st,ue]=function fo(De,$,xe){const Ve=De.match($);if(Ve){const Ct={};let Ut=1;for(const Pt in xe)if(ii(xe,Pt)){const Kt=xe[Pt],ge=Kt.groups?Kt.groups+1:1;!Kt.literal&&Kt.token&&(Ct[Kt.token.val[0]]=Kt.deser(Ve.slice(Ut,Ut+ge))),Ut+=ge}return[Ve,Ct]}return[Ve,{}]}($,ge,Kt),[Ue,Zt,ln]=ue?function Ks(De){let Ve,xe=null;return gt(De.z)||(xe=pt.create(De.z)),gt(De.Z)||(xe||(xe=new U(De.Z)),Ve=De.Z),gt(De.q)||(De.M=3*(De.q-1)+1),gt(De.h)||(De.h<12&&1===De.a?De.h+=12:12===De.h&&0===De.a&&(De.h=0)),0===De.G&&De.y&&(De.y=-De.y),gt(De.u)||(De.S=Ot(De.u)),[Object.keys(De).reduce((Ut,Pt)=>{const Kt=(Ut=>{switch(Ut){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Pt);return Kt&&(Ut[Kt]=De[Pt]),Ut},{}),xe,Ve]}(ue):[null,null,void 0];if(ii(ue,"a")&&ii(ue,"H"))throw new C("Can't include meridiem when specifying 24-hour format");return{input:$,tokens:Ve,regex:ge,rawMatches:st,matches:ue,result:Ue,zone:Zt,specificOffset:ln}}}function an(De,$){return De?fi.create($,De).formatDateTimeParts(function Le(){return fe||(fe=gi.fromMillis(1555555555555)),fe}()).map(Ct=>function zi(De,$){const{type:xe,value:Ve}=De;if("literal"===xe){const Pt=/^\s+$/.test(Ve);return{literal:!Pt,val:Pt?" ":Ve}}let Ut=dr[xe];if("object"==typeof Ut&&(Ut=Ut[$[xe]]),Ut)return{literal:!1,val:Ut}}(Ct,De)):null}const qt=[0,31,59,90,120,151,181,212,243,273,304,334],Bi=[0,31,60,91,121,152,182,213,244,274,305,335];function wi(De,$){return new qn("unit out of range",`you specified ${$} (of type ${typeof $}) as a ${De}, which is invalid`)}function yi(De,$,xe){const Ve=new Date(Date.UTC(De,$-1,xe));De<100&&De>=0&&Ve.setUTCFullYear(Ve.getUTCFullYear()-1900);const Ct=Ve.getUTCDay();return 0===Ct?7:Ct}function vn(De,$,xe){return xe+(Ke(De)?Bi:qt)[$-1]}function mi(De,$){const xe=Ke(De)?Bi:qt,Ve=xe.findIndex(Ut=>Ut<$);return{month:Ve+1,day:$-xe[Ve]}}function Pi(De){const{year:$,month:xe,day:Ve}=De,Ct=vn($,xe,Ve),Ut=yi($,xe,Ve);let Kt,Pt=Math.floor((Ct-Ut+10)/7);return Pt<1?(Kt=$-1,Pt=on(Kt)):Pt>on($)?(Kt=$+1,Pt=1):Kt=$,{weekYear:Kt,weekNumber:Pt,weekday:Ut,...di(De)}}function fr(De){const{weekYear:$,weekNumber:xe,weekday:Ve}=De,Ct=yi($,1,4),Ut=it($);let Kt,Pt=7*xe+Ve-Ct-3;Pt<1?(Kt=$-1,Pt+=it(Kt)):Pt>Ut?(Kt=$+1,Pt-=it($)):Kt=$;const{month:ge,day:st}=mi(Kt,Pt);return{year:Kt,month:ge,day:st,...di(De)}}function es(De){const{year:$,month:xe,day:Ve}=De;return{year:$,ordinal:vn($,xe,Ve),...di(De)}}function Gi(De){const{year:$,ordinal:xe}=De,{month:Ve,day:Ct}=mi($,xe);return{year:$,month:Ve,day:Ct,...di(De)}}function Tr(De){const $=It(De.year),xe=$t(De.month,1,12),Ve=$t(De.day,1,yt(De.year,De.month));return $?xe?!Ve&&wi("day",De.day):wi("month",De.month):wi("year",De.year)}function Ts(De){const{hour:$,minute:xe,second:Ve,millisecond:Ct}=De,Ut=$t($,0,23)||24===$&&0===xe&&0===Ve&&0===Ct,Pt=$t(xe,0,59),Kt=$t(Ve,0,59),ge=$t(Ct,0,999);return Ut?Pt?Kt?!ge&&wi("millisecond",Ct):wi("second",Ve):wi("minute",xe):wi("hour",$)}const $s="Invalid DateTime",Ro=864e13;function vs(De){return new qn("unsupported zone",`the zone "${De.name}" is not supported`)}function Gs(De){return null===De.weekData&&(De.weekData=Pi(De.c)),De.weekData}function lo(De,$){const xe={ts:De.ts,zone:De.zone,c:De.c,o:De.o,loc:De.loc,invalid:De.invalid};return new gi({...xe,...$,old:xe})}function Jo(De,$,xe){let Ve=De-60*$*1e3;const Ct=xe.offset(Ve);if($===Ct)return[Ve,$];Ve-=60*(Ct-$)*1e3;const Ut=xe.offset(Ve);return Ct===Ut?[Ve,Ct]:[De-60*Math.min(Ct,Ut)*1e3,Math.max(Ct,Ut)]}function Os(De,$){const xe=new Date(De+=60*$*1e3);return{year:xe.getUTCFullYear(),month:xe.getUTCMonth()+1,day:xe.getUTCDate(),hour:xe.getUTCHours(),minute:xe.getUTCMinutes(),second:xe.getUTCSeconds(),millisecond:xe.getUTCMilliseconds()}}function fs(De,$,xe){return Jo(Jt(De),$,xe)}function mo(De,$){const xe=De.o,Ve=De.c.year+Math.trunc($.years),Ct=De.c.month+Math.trunc($.months)+3*Math.trunc($.quarters),Ut={...De.c,year:Ve,month:Ct,day:Math.min(De.c.day,yt(Ve,Ct))+Math.trunc($.days)+7*Math.trunc($.weeks)},Pt=hi.fromObject({years:$.years-Math.trunc($.years),quarters:$.quarters-Math.trunc($.quarters),months:$.months-Math.trunc($.months),weeks:$.weeks-Math.trunc($.weeks),days:$.days-Math.trunc($.days),hours:$.hours,minutes:$.minutes,seconds:$.seconds,milliseconds:$.milliseconds}).as("milliseconds"),Kt=Jt(Ut);let[ge,st]=Jo(Kt,xe,De.zone);return 0!==Pt&&(ge+=Pt,st=De.zone.offset(ge)),{ts:ge,o:st}}function ls(De,$,xe,Ve,Ct,Ut){const{setZone:Pt,zone:Kt}=xe;if(De&&0!==Object.keys(De).length||$){const ge=$||Kt,st=gi.fromObject(De,{...xe,zone:ge,specificOffset:Ut});return Pt?st:st.setZone(Kt)}return gi.invalid(new qn("unparsable",`the input "${Ct}" can't be parsed as ${Ve}`))}function As(De,$,xe=!0){return De.isValid?fi.create(de.create("en-US"),{allowZ:xe,forceSimple:!0}).formatDateTimeFromString(De,$):null}function go(De,$){const xe=De.c.year>9999||De.c.year<0;let Ve="";return xe&&De.c.year>=0&&(Ve+="+"),Ve+=Nn(De.c.year,xe?6:4),$?(Ve+="-",Ve+=Nn(De.c.month),Ve+="-",Ve+=Nn(De.c.day)):(Ve+=Nn(De.c.month),Ve+=Nn(De.c.day)),Ve}function Wo(De,$,xe,Ve,Ct,Ut){let Pt=Nn(De.c.hour);return $?(Pt+=":",Pt+=Nn(De.c.minute),(0!==De.c.second||!xe)&&(Pt+=":")):Pt+=Nn(De.c.minute),(0!==De.c.second||!xe)&&(Pt+=Nn(De.c.second),(0!==De.c.millisecond||!Ve)&&(Pt+=".",Pt+=Nn(De.c.millisecond,3))),Ct&&(De.isOffsetFixed&&0===De.offset&&!Ut?Pt+="Z":De.o<0?(Pt+="-",Pt+=Nn(Math.trunc(-De.o/60)),Pt+=":",Pt+=Nn(Math.trunc(-De.o%60))):(Pt+="+",Pt+=Nn(Math.trunc(De.o/60)),Pt+=":",Pt+=Nn(Math.trunc(De.o%60)))),Ut&&(Pt+="["+De.zone.ianaName+"]"),Pt}const Ss={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Mr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},qo={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Qs=["year","month","day","hour","minute","second","millisecond"],qs=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zs=["year","ordinal","hour","minute","second","millisecond"];function ia(De){const $={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[De.toLowerCase()];if(!$)throw new b(De);return $}function co(De,$){const xe=Re($.zone,sn.defaultZone),Ve=de.fromObject($),Ct=sn.now();let Ut,Pt;if(gt(De.year))Ut=Ct;else{for(const st of Qs)gt(De[st])&&(De[st]=Ss[st]);const Kt=Tr(De)||Ts(De);if(Kt)return gi.invalid(Kt);const ge=xe.offset(Ct);[Ut,Pt]=fs(De,ge,xe)}return new gi({ts:Ut,zone:xe,loc:Ve,o:Pt})}function jo(De,$,xe){const Ve=!!gt(xe.round)||xe.round,Ct=(Pt,Kt)=>(Pt=Ze(Pt,Ve||xe.calendary?0:2,!0),$.loc.clone(xe).relFormatter(xe).format(Pt,Kt)),Ut=Pt=>xe.calendary?$.hasSame(De,Pt)?0:$.startOf(Pt).diff(De.startOf(Pt),Pt).get(Pt):$.diff(De,Pt).get(Pt);if(xe.unit)return Ct(Ut(xe.unit),xe.unit);for(const Pt of xe.units){const Kt=Ut(Pt);if(Math.abs(Kt)>=1)return Ct(Kt,Pt)}return Ct(De>$?-0:0,xe.units[xe.units.length-1])}function _o(De){let xe,$={};return De.length>0&&"object"==typeof De[De.length-1]?($=De[De.length-1],xe=Array.from(De).slice(0,De.length-1)):xe=Array.from(De),[$,xe]}class gi{constructor($){const xe=$.zone||sn.defaultZone;let Ve=$.invalid||(Number.isNaN($.ts)?new qn("invalid input"):null)||(xe.isValid?null:vs(xe));this.ts=gt($.ts)?sn.now():$.ts;let Ct=null,Ut=null;if(!Ve)if($.old&&$.old.ts===this.ts&&$.old.zone.equals(xe))[Ct,Ut]=[$.old.c,$.old.o];else{const Kt=xe.offset(this.ts);Ct=Os(this.ts,Kt),Ve=Number.isNaN(Ct.year)?new qn("invalid input"):null,Ct=Ve?null:Ct,Ut=Ve?null:Kt}this._zone=xe,this.loc=$.loc||de.create(),this.invalid=Ve,this.weekData=null,this.c=Ct,this.o=Ut,this.isLuxonDateTime=!0}static now(){return new gi({})}static local(){const[$,xe]=_o(arguments),[Ve,Ct,Ut,Pt,Kt,ge,st]=xe;return co({year:Ve,month:Ct,day:Ut,hour:Pt,minute:Kt,second:ge,millisecond:st},$)}static utc(){const[$,xe]=_o(arguments),[Ve,Ct,Ut,Pt,Kt,ge,st]=xe;return $.zone=U.utcInstance,co({year:Ve,month:Ct,day:Ut,hour:Pt,minute:Kt,second:ge,millisecond:st},$)}static fromJSDate($,xe={}){const Ve=function fn(De){return"[object Date]"===Object.prototype.toString.call(De)}($)?$.valueOf():NaN;if(Number.isNaN(Ve))return gi.invalid("invalid input");const Ct=Re(xe.zone,sn.defaultZone);return Ct.isValid?new gi({ts:Ve,zone:Ct,loc:de.fromObject(xe)}):gi.invalid(vs(Ct))}static fromMillis($,xe={}){if(dn($))return $<-Ro||$>Ro?gi.invalid("Timestamp out of range"):new gi({ts:$,zone:Re(xe.zone,sn.defaultZone),loc:de.fromObject(xe)});throw new g(`fromMillis requires a numerical input, but received a ${typeof $} with value ${$}`)}static fromSeconds($,xe={}){if(dn($))return new gi({ts:1e3*$,zone:Re(xe.zone,sn.defaultZone),loc:de.fromObject(xe)});throw new g("fromSeconds requires a numerical input")}static fromObject($,xe={}){$=$||{};const Ve=Re(xe.zone,sn.defaultZone);if(!Ve.isValid)return gi.invalid(vs(Ve));const Ct=sn.now(),Ut=gt(xe.specificOffset)?Ve.offset(Ct):xe.specificOffset,Pt=Cn($,ia),Kt=!gt(Pt.ordinal),ge=!gt(Pt.year),st=!gt(Pt.month)||!gt(Pt.day),ue=ge||st,Ue=Pt.weekYear||Pt.weekNumber,Zt=de.fromObject(xe);if((ue||Kt)&&Ue)throw new C("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(st&&Kt)throw new C("Can't mix ordinal dates with month/day");const ln=Ue||Pt.weekday&&!ue;let Vn,Di,ts=Os(Ct,Ut);ln?(Vn=qs,Di=Mr,ts=Pi(ts)):Kt?(Vn=zs,Di=qo,ts=es(ts)):(Vn=Qs,Di=Ss);let Jr=!1;for(const Vs of Vn)gt(Pt[Vs])?Pt[Vs]=Jr?Di[Vs]:ts[Vs]:Jr=!0;const vo=ln?function Br(De){const $=It(De.weekYear),xe=$t(De.weekNumber,1,on(De.weekYear)),Ve=$t(De.weekday,1,7);return $?xe?!Ve&&wi("weekday",De.weekday):wi("week",De.week):wi("weekYear",De.weekYear)}(Pt):Kt?function kr(De){const $=It(De.year),xe=$t(De.ordinal,1,it(De.year));return $?!xe&&wi("ordinal",De.ordinal):wi("year",De.year)}(Pt):Tr(Pt),ko=vo||Ts(Pt);if(ko)return gi.invalid(ko);const xs=ln?fr(Pt):Kt?Gi(Pt):Pt,[yo,Xs]=fs(xs,Ut,Ve),uo=new gi({ts:yo,zone:Ve,o:Xs,loc:Zt});return Pt.weekday&&ue&&$.weekday!==uo.weekday?gi.invalid("mismatched weekday",`you can't specify both a weekday of ${Pt.weekday} and a date of ${uo.toISO()}`):uo}static fromISO($,xe={}){const[Ve,Ct]=function Xr(De){return Ei(De,[hs,Vi],[Ds,ws],[Rr,no],[bs,Vr])}($);return ls(Ve,Ct,xe,"ISO 8601",$)}static fromRFC2822($,xe={}){const[Ve,Ct]=function ks(De){return Ei(function sr(De){return De.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(De),[vr,ss])}($);return ls(Ve,Ct,xe,"RFC 2822",$)}static fromHTTP($,xe={}){const[Ve,Ct]=function Is(De){return Ei(De,[yr,Ji],[os,Ji],[Cr,jr])}($);return ls(Ve,Ct,xe,"HTTP",xe)}static fromFormat($,xe,Ve={}){if(gt($)||gt(xe))throw new g("fromFormat requires an input string and a format");const{locale:Ct=null,numberingSystem:Ut=null}=Ve,Pt=de.fromOpts({locale:Ct,numberingSystem:Ut,defaultToEN:!0}),[Kt,ge,st,ue]=function en(De,$,xe){const{result:Ve,zone:Ct,specificOffset:Ut,invalidReason:Pt}=St(De,$,xe);return[Ve,Ct,Ut,Pt]}(Pt,$,xe);return ue?gi.invalid(ue):ls(Kt,ge,Ve,`format ${xe}`,$,st)}static fromString($,xe,Ve={}){return gi.fromFormat($,xe,Ve)}static fromSQL($,xe={}){const[Ve,Ct]=function br(De){return Ei(De,[as,Vi],[ao,Zi])}($);return ls(Ve,Ct,xe,"SQL",$)}static invalid($,xe=null){if(!$)throw new g("need to specify a reason the DateTime is invalid");const Ve=$ instanceof qn?$:new qn($,xe);if(sn.throwOnInvalid)throw new e(Ve);return new gi({invalid:Ve})}static isDateTime($){return $&&$.isLuxonDateTime||!1}static parseFormatForOpts($,xe={}){const Ve=an($,de.fromObject(xe));return Ve?Ve.map(Ct=>Ct?Ct.val:null).join(""):null}static expandFormat($,xe={}){return tt(fi.parseFormat($),de.fromObject(xe)).map(Ct=>Ct.val).join("")}get($){return this[$]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Gs(this).weekYear:NaN}get weekNumber(){return this.isValid?Gs(this).weekNumber:NaN}get weekday(){return this.isValid?Gs(this).weekday:NaN}get ordinal(){return this.isValid?es(this.c).ordinal:NaN}get monthShort(){return this.isValid?ie.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ie.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ie.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ie.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return Ke(this.year)}get daysInMonth(){return yt(this.year,this.month)}get daysInYear(){return this.isValid?it(this.year):NaN}get weeksInWeekYear(){return this.isValid?on(this.weekYear):NaN}resolvedLocaleOptions($={}){const{locale:xe,numberingSystem:Ve,calendar:Ct}=fi.create(this.loc.clone($),$).resolvedOptions(this);return{locale:xe,numberingSystem:Ve,outputCalendar:Ct}}toUTC($=0,xe={}){return this.setZone(U.instance($),xe)}toLocal(){return this.setZone(sn.defaultZone)}setZone($,{keepLocalTime:xe=!1,keepCalendarTime:Ve=!1}={}){if(($=Re($,sn.defaultZone)).equals(this.zone))return this;if($.isValid){let Ct=this.ts;if(xe||Ve){const Ut=$.offset(this.ts),Pt=this.toObject();[Ct]=fs(Pt,Ut,$)}return lo(this,{ts:Ct,zone:$})}return gi.invalid(vs($))}reconfigure({locale:$,numberingSystem:xe,outputCalendar:Ve}={}){return lo(this,{loc:this.loc.clone({locale:$,numberingSystem:xe,outputCalendar:Ve})})}setLocale($){return this.reconfigure({locale:$})}set($){if(!this.isValid)return this;const xe=Cn($,ia),Ve=!gt(xe.weekYear)||!gt(xe.weekNumber)||!gt(xe.weekday),Ct=!gt(xe.ordinal),Ut=!gt(xe.year),Pt=!gt(xe.month)||!gt(xe.day);if((Ut||Pt||Ct)&&(xe.weekYear||xe.weekNumber))throw new C("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Pt&&Ct)throw new C("Can't mix ordinal dates with month/day");let st;Ve?st=fr({...Pi(this.c),...xe}):gt(xe.ordinal)?(st={...this.toObject(),...xe},gt(xe.day)&&(st.day=Math.min(yt(st.year,st.month),st.day))):st=Gi({...es(this.c),...xe});const[ue,Ue]=fs(st,this.o,this.zone);return lo(this,{ts:ue,o:Ue})}plus($){return this.isValid?lo(this,mo(this,hi.fromDurationLike($))):this}minus($){return this.isValid?lo(this,mo(this,hi.fromDurationLike($).negate())):this}startOf($){if(!this.isValid)return this;const xe={},Ve=hi.normalizeUnit($);switch(Ve){case"years":xe.month=1;case"quarters":case"months":xe.day=1;case"weeks":case"days":xe.hour=0;case"hours":xe.minute=0;case"minutes":xe.second=0;case"seconds":xe.millisecond=0}if("weeks"===Ve&&(xe.weekday=1),"quarters"===Ve){const Ct=Math.ceil(this.month/3);xe.month=3*(Ct-1)+1}return this.set(xe)}endOf($){return this.isValid?this.plus({[$]:1}).startOf($).minus(1):this}toFormat($,xe={}){return this.isValid?fi.create(this.loc.redefaultToEN(xe)).formatDateTimeFromString(this,$):$s}toLocaleString($=P,xe={}){return this.isValid?fi.create(this.loc.clone(xe),$).formatDateTime(this):$s}toLocaleParts($={}){return this.isValid?fi.create(this.loc.clone($),$).formatDateTimeParts(this):[]}toISO({format:$="extended",suppressSeconds:xe=!1,suppressMilliseconds:Ve=!1,includeOffset:Ct=!0,extendedZone:Ut=!1}={}){if(!this.isValid)return null;const Pt="extended"===$;let Kt=go(this,Pt);return Kt+="T",Kt+=Wo(this,Pt,xe,Ve,Ct,Ut),Kt}toISODate({format:$="extended"}={}){return this.isValid?go(this,"extended"===$):null}toISOWeekDate(){return As(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:$=!1,suppressSeconds:xe=!1,includeOffset:Ve=!0,includePrefix:Ct=!1,extendedZone:Ut=!1,format:Pt="extended"}={}){return this.isValid?(Ct?"T":"")+Wo(this,"extended"===Pt,xe,$,Ve,Ut):null}toRFC2822(){return As(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return As(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?go(this,!0):null}toSQLTime({includeOffset:$=!0,includeZone:xe=!1,includeOffsetSpace:Ve=!0}={}){let Ct="HH:mm:ss.SSS";return(xe||$)&&(Ve&&(Ct+=" "),xe?Ct+="z":$&&(Ct+="ZZ")),As(this,Ct,!0)}toSQL($={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime($)}`:null}toString(){return this.isValid?this.toISO():$s}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject($={}){if(!this.isValid)return{};const xe={...this.c};return $.includeConfig&&(xe.outputCalendar=this.outputCalendar,xe.numberingSystem=this.loc.numberingSystem,xe.locale=this.loc.locale),xe}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff($,xe="milliseconds",Ve={}){if(!this.isValid||!$.isValid)return hi.invalid("created by diffing an invalid DateTime");const Ct={locale:this.locale,numberingSystem:this.numberingSystem,...Ve},Ut=function kn(De){return Array.isArray(De)?De:[De]}(xe).map(hi.normalizeUnit),Pt=$.valueOf()>this.valueOf(),st=function Fn(De,$,xe,Ve){let[Ct,Ut,Pt,Kt]=function rn(De,$,xe){const Ve=[["years",(ge,st)=>st.year-ge.year],["quarters",(ge,st)=>st.quarter-ge.quarter+4*(st.year-ge.year)],["months",(ge,st)=>st.month-ge.month+12*(st.year-ge.year)],["weeks",(ge,st)=>{const ue=rt(ge,st);return(ue-ue%7)/7}],["days",rt]],Ct={},Ut=De;let Pt,Kt;for(const[ge,st]of Ve)xe.indexOf(ge)>=0&&(Pt=ge,Ct[ge]=st(De,$),Kt=Ut.plus(Ct),Kt>$?(Ct[ge]--,De=Ut.plus(Ct)):De=Kt);return[De,Ct,Kt,Pt]}(De,$,xe);const ge=$-Ct,st=xe.filter(Ue=>["hours","minutes","seconds","milliseconds"].indexOf(Ue)>=0);0===st.length&&(Pt<$&&(Pt=Ct.plus({[Kt]:1})),Pt!==Ct&&(Ut[Kt]=(Ut[Kt]||0)+ge/(Pt-Ct)));const ue=hi.fromObject(Ut,Ve);return st.length>0?hi.fromMillis(ge,Ve).shiftTo(...st).plus(ue):ue}(Pt?this:$,Pt?$:this,Ut,Ct);return Pt?st.negate():st}diffNow($="milliseconds",xe={}){return this.diff(gi.now(),$,xe)}until($){return this.isValid?ve.fromDateTimes(this,$):this}hasSame($,xe){if(!this.isValid)return!1;const Ve=$.valueOf(),Ct=this.setZone($.zone,{keepLocalTime:!0});return Ct.startOf(xe)<=Ve&&Ve<=Ct.endOf(xe)}equals($){return this.isValid&&$.isValid&&this.valueOf()===$.valueOf()&&this.zone.equals($.zone)&&this.loc.equals($.loc)}toRelative($={}){if(!this.isValid)return null;const xe=$.base||gi.fromObject({},{zone:this.zone}),Ve=$.padding?this<xe?-$.padding:$.padding:0;let Ct=["years","months","days","hours","minutes","seconds"],Ut=$.unit;return Array.isArray($.unit)&&(Ct=$.unit,Ut=void 0),jo(xe,this.plus(Ve),{...$,numeric:"always",units:Ct,unit:Ut})}toRelativeCalendar($={}){return this.isValid?jo($.base||gi.fromObject({},{zone:this.zone}),this,{...$,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...$){if(!$.every(gi.isDateTime))throw new g("min requires all arguments be DateTimes");return Gn($,xe=>xe.valueOf(),Math.min)}static max(...$){if(!$.every(gi.isDateTime))throw new g("max requires all arguments be DateTimes");return Gn($,xe=>xe.valueOf(),Math.max)}static fromFormatExplain($,xe,Ve={}){const{locale:Ct=null,numberingSystem:Ut=null}=Ve;return St(de.fromOpts({locale:Ct,numberingSystem:Ut,defaultToEN:!0}),$,xe)}static fromStringExplain($,xe,Ve={}){return gi.fromFormatExplain($,xe,Ve)}static get DATE_SHORT(){return P}static get DATE_MED(){return a}static get DATE_MED_WITH_WEEKDAY(){return k}static get DATE_FULL(){return L}static get DATE_HUGE(){return Z}static get TIME_SIMPLE(){return j}static get TIME_WITH_SECONDS(){return N}static get TIME_WITH_SHORT_OFFSET(){return B}static get TIME_WITH_LONG_OFFSET(){return V}static get TIME_24_SIMPLE(){return J}static get TIME_24_WITH_SECONDS(){return q}static get TIME_24_WITH_SHORT_OFFSET(){return re}static get TIME_24_WITH_LONG_OFFSET(){return W}static get DATETIME_SHORT(){return G}static get DATETIME_SHORT_WITH_SECONDS(){return X}static get DATETIME_MED(){return E}static get DATETIME_MED_WITH_SECONDS(){return ne}static get DATETIME_MED_WITH_WEEKDAY(){return K}static get DATETIME_FULL(){return le}static get DATETIME_FULL_WITH_SECONDS(){return me}static get DATETIME_HUGE(){return Se}static get DATETIME_HUGE_WITH_SECONDS(){return ye}}function ro(De){if(gi.isDateTime(De))return De;if(De&&De.valueOf&&dn(De.valueOf()))return gi.fromJSDate(De);if(De&&"object"==typeof De)return gi.fromObject(De);throw new g(`Unknown datetime argument: ${De}, of type ${typeof De}`)}},5241:(dt,Ce,p)=>{"use strict";p.d(Ce,{Zf:()=>Z,gd:()=>L,fx:()=>N,U_:()=>j});var t=p(4650),e=p(1607),m=p(6895),T=p(7340);const C="400ms cubic-bezier(0.4,0.0,0.2,1)",b=[(0,T.oB)({height:0,visibility:"hidden"}),(0,T.jt)(C,(0,T.oB)({height:"*",visibility:"visible"}))],g=[(0,T.oB)({height:"*",visibility:"visible"}),(0,T.jt)(C,(0,T.oB)({height:0,visibility:"hidden"}))];let f=(()=>{class B{constructor(J,q,re){this._el=J,this._renderer=q,this.collapsed=new t.vpe,this.collapses=new t.vpe,this.expanded=new t.vpe,this.expands=new t.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=re.build(g),this._factoryExpandAnimation=re.build(b)}set display(J){this._display=J,"none"!==J?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(J){this.collapseNewValue=J,(!this._player||this._isAnimationDone)&&(this.isExpanded=J,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(J,q){if(!J||!this._stylesLoaded)return W=>W();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const re=q===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=re.create(this._el.nativeElement),this._player.play(),W=>{var G;return null===(G=this._player)||void 0===G?void 0:G.onDone(W)}}}return B.\u0275fac=function(J){return new(J||B)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(T._j))},B.\u0275dir=t.lG2({type:B,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(J,q){2&J&&(t.uIk("aria-hidden",q.isCollapsed),t.ekj("collapse",q.isCollapse)("in",q.isExpanded)("show",q.isExpanded)("collapsing",q.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),B})(),w=(()=>{class B{static forRoot(){return{ngModule:B,providers:[]}}}return B.\u0275fac=function(J){return new(J||B)},B.\u0275mod=t.oAB({type:B}),B.\u0275inj=t.cJS({}),B})();const _=["*"],R=function(B){return{"text-muted":B}};function P(B,V){if(1&B&&(t.TgZ(0,"button",7),t._uU(1),t.qZA()),2&B){const J=t.oxw();t.Q6J("ngClass",t.VKq(2,R,J.isDisabled)),t.xp6(1),t.hij(" ",J.heading," ")}}const a=[[["","accordion-heading",""]],"*"],k=["[accordion-heading]","*"];let L=(()=>{class B{constructor(){this.closeOthers=!1,this.isAnimated=!1}}return B.\u0275fac=function(J){return new(J||B)},B.\u0275prov=t.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Z=(()=>{class B{constructor(J){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,J)}closeOtherPanels(J){!this.closeOthers||this.groups.forEach(q=>{q!==J&&(q.isOpen=!1)})}addGroup(J){J.isAnimated=this.isAnimated,this.groups.push(J)}removeGroup(J){const q=this.groups.indexOf(J);-1!==q&&this.groups.splice(q,1)}}return B.\u0275fac=function(J){return new(J||B)(t.Y36(L))},B.\u0275cmp=t.Xpm({type:B,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(J,q){2&J&&t.uIk("aria-multiselectable",q.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:_,decls:1,vars:0,template:function(J,q){1&J&&(t.F$t(),t.Hsn(0))},encapsulation:2}),B})(),j=(()=>{class B{constructor(J){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new t.vpe,this._isOpen=!1,this.accordion=J}get isOpen(){return this._isOpen}set isOpen(J){J!==this.isOpen&&(J&&this.accordion.closeOtherPanels(this),this._isOpen=J,Promise.resolve(null).then(()=>{this.isOpenChange.emit(J)}))}get isBs3(){return(0,e.XA)()}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}}return B.\u0275fac=function(J){return new(J||B)(t.Y36(Z))},B.\u0275cmp=t.Xpm({type:B,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(J,q){2&J&&t.ekj("panel-open",q.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:k,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(J,q){1&J&&(t.F$t(a),t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return q.toggleOpen()}),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,P,2,4,"button",4),t.Hsn(5),t.qZA()()(),t.TgZ(6,"div",5)(7,"div",6),t.Hsn(8,1),t.qZA()()()),2&J&&(t.Q6J("ngClass",q.panelClass),t.xp6(1),t.Q6J("ngClass",q.isDisabled?"panel-disabled":"panel-enabled"),t.xp6(2),t.uIk("aria-expanded",q.isOpen),t.xp6(1),t.Q6J("ngIf",q.heading),t.xp6(2),t.Q6J("collapse",!q.isOpen)("isAnimated",q.isAnimated))},dependencies:[m.mk,m.O5,f],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),B})(),N=(()=>{class B{static forRoot(){return{ngModule:B,providers:[]}}}return B.\u0275fac=function(J){return new(J||B)},B.\u0275mod=t.oAB({type:B}),B.\u0275inj=t.cJS({imports:[m.ez,w]}),B})()},2381:(dt,Ce,p)=>{"use strict";p.d(Ce,{oj:()=>f});var t=p(4650),e=p(1607),m=p(8664),T=p(6895);class b{constructor(_,R,P){this.nodes=_,this.viewRef=R,this.componentRef=P}}class g{constructor(_,R,P,a,k,L,Z,j,N){this._viewContainerRef=_,this._renderer=R,this._elementRef=P,this._injector=a,this._componentFactoryResolver=k,this._ngZone=L,this._applicationRef=Z,this._posService=j,this._document=N,this.onBeforeShow=new t.vpe,this.onShown=new t.vpe,this.onBeforeHide=new t.vpe,this.onHidden=new t.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(_){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(_),this}to(_){return this.container=_||this.container,this}position(_){return _?(this.attachment=_.attachment||this.attachment,this._elementRef=_.target||this._elementRef,this):this}provide(_){return this._providers.push(_),this}show(_={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(_.content,_.context,_.initialState);const R=t.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(R,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,_),this.container instanceof t.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const P=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!P)return;P.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(_.id?{id:_.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(_){var R,P,a,k,L,Z;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const j=this._componentRef.location.nativeElement;return null===(R=j.parentNode)||void 0===R||R.removeChild(j),null===(P=this._contentRef)||void 0===P||null===(a=P.componentRef)||void 0===a||a.destroy(),this._viewContainerRef&&null!==(k=this._contentRef)&&void 0!==k&&k.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(L=this._contentRef)||void 0===L||null===(Z=L.viewRef)||void 0===Z||Z.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(_?{id:_}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(_){var R;this.triggers=_.triggers||this.triggers,this._listenOpts.outsideClick=_.outsideClick,this._listenOpts.outsideEsc=_.outsideEsc,_.target=_.target||(null===(R=this._elementRef)||void 0===R?void 0:R.nativeElement);const P=this._listenOpts.hide=()=>_.hide?_.hide():void this.hide(),a=this._listenOpts.show=L=>{_.show?_.show(L):this.show(L),L()};return this._renderer&&(this._unregisterListenersFn=(0,e.wo)(this._renderer,{target:_.target,triggers:_.triggers,show:a,hide:P,toggle:L=>{this.isShown?P():a(L)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(_,R){return _&&R&&(this._inlineViewRef=_.createEmbeddedView(R)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const _=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,e.Rg)(this._renderer,{targets:[_,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,e.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var _;this._posService.position({element:null===(_=this._componentRef)||void 0===_?void 0:_.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(_,R,P){if(!_)return new b([]);if(_ instanceof t.Rgc){if(this._viewContainerRef){const L=this._viewContainerRef.createEmbeddedView(_,R);return L.markForCheck(),new b([L.rootNodes],L)}const k=_.createEmbeddedView({});return this._applicationRef.attachView(k),new b([k.rootNodes],k)}if("function"==typeof _){const k=this._componentFactoryResolver.resolveComponentFactory(_),L=t.zs3.create({providers:this._providers,parent:this._injector}),Z=k.create(L);return Object.assign(Z.instance,P),this._applicationRef.attachView(Z.hostView),new b([[Z.location.nativeElement]],Z.hostView,Z)}const a=this._renderer?[this._renderer.createText(`${_}`)]:[];return new b([a])}}let f=(()=>{class w{constructor(R,P,a,k,L,Z){this._componentFactoryResolver=R,this._ngZone=P,this._injector=a,this._posService=k,this._applicationRef=L,this._document=Z}createLoader(R,P,a){return new g(P,a,R,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return w.\u0275fac=function(R){return new(R||w)(t.LFG(t._Vd),t.LFG(t.R0b),t.LFG(t.zs3),t.LFG(m.sA),t.LFG(t.z2F),t.LFG(T.K0))},w.\u0275prov=t.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},388:(dt,Ce,p)=>{"use strict";p.d(Ce,{tT:()=>un,oB:()=>pt,zk:()=>Mt});var t=p(4650),e=p(1607),m=p(6895),T=p(5698);let b,C=(()=>{class Y{constructor(){this._focusTrapStack=[]}register(ce){this._focusTrapStack=this._focusTrapStack.filter(Je=>Je!==ce);let We=this._focusTrapStack;We.length&&We[We.length-1]._disable(),We.push(ce),ce._enable()}deregister(ce){ce._disable();const We=this._focusTrapStack,Je=We.indexOf(ce);-1!==Je&&(We.splice(Je,1),We.length&&We[We.length-1]._enable())}}return Y.\u0275fac=function(ce){return new(ce||Y)},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();try{b=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b=!1}let g=(()=>{class Y{constructor(ce){this._platformId=ce,this.isBrowser=this._platformId?(0,m.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Y.\u0275fac=function(ce){return new(ce||Y)(t.LFG(t.Lbi))},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),w=(()=>{class Y{constructor(ce){this._platform=ce}isDisabled(ce){return ce.hasAttribute("disabled")}isVisible(ce){return function R(Y){return!!(Y.offsetWidth||Y.offsetHeight||"function"==typeof Y.getClientRects&&Y.getClientRects().length)}(ce)&&"visible"===getComputedStyle(ce).visibility}isTabbable(ce){if(!this._platform.isBrowser)return!1;const We=function _(Y){try{return Y.frameElement}catch{return null}}(function J(Y){return Y.ownerDocument&&Y.ownerDocument.defaultView||window}(ce));if(We&&(-1===N(We)||!this.isVisible(We)))return!1;let Je=ce.nodeName.toLowerCase(),Oe=N(ce);return ce.hasAttribute("contenteditable")?-1!==Oe:!("iframe"===Je||"object"===Je||this._platform.WEBKIT&&this._platform.IOS&&!function B(Y){let Q=Y.nodeName.toLowerCase(),ce="input"===Q&&Y.type;return"text"===ce||"password"===ce||"select"===Q||"textarea"===Q}(ce))&&("audio"===Je?!!ce.hasAttribute("controls")&&-1!==Oe:"video"===Je?-1!==Oe&&(null!==Oe||this._platform.FIREFOX||ce.hasAttribute("controls")):ce.tabIndex>=0)}isFocusable(ce,We){return function V(Y){return!function a(Y){return function L(Y){return"input"==Y.nodeName.toLowerCase()}(Y)&&"hidden"==Y.type}(Y)&&(function P(Y){let Q=Y.nodeName.toLowerCase();return"input"===Q||"select"===Q||"button"===Q||"textarea"===Q}(Y)||function k(Y){return function Z(Y){return"a"==Y.nodeName.toLowerCase()}(Y)&&Y.hasAttribute("href")}(Y)||Y.hasAttribute("contenteditable")||j(Y))}(ce)&&!this.isDisabled(ce)&&(We?.ignoreVisibility||this.isVisible(ce))}}return Y.\u0275fac=function(ce){return new(ce||Y)(t.LFG(g))},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();function j(Y){if(!Y.hasAttribute("tabindex")||void 0===Y.tabIndex)return!1;let Q=Y.getAttribute("tabindex");return"-32768"!=Q&&!(!Q||isNaN(parseInt(Q,10)))}function N(Y){if(!j(Y))return null;const Q=parseInt(Y.getAttribute("tabindex")||"",10);return isNaN(Q)?-1:Q}function q(Y){return null!=Y&&"false"!=`${Y}`}class re{constructor(Q,ce,We,Je,Oe=!1){this._element=Q,this._checker=ce,this._ngZone=We,this._document=Je,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Oe||this.attachAnchors()}get enabled(){return this._enabled}set enabled(Q){this._enabled=Q,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Q,this._startAnchor),this._toggleAnchorTabIndex(Q,this._endAnchor))}destroy(){const Q=this._startAnchor,ce=this._endAnchor;Q&&(Q.removeEventListener("focus",this.startAnchorListener),Q.parentNode&&Q.parentNode.removeChild(Q)),ce&&(ce.removeEventListener("focus",this.endAnchorListener),ce.parentNode&&ce.parentNode.removeChild(ce)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(Q=>{this._executeOnStable(()=>Q(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(Q=>{this._executeOnStable(()=>Q(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(Q=>{this._executeOnStable(()=>Q(this.focusLastTabbableElement()))})}_getRegionBoundary(Q){let ce=this._element.querySelectorAll(`[cdk-focus-region-${Q}], [cdkFocusRegion${Q}], [cdk-focus-${Q}]`);for(let We=0;We<ce.length;We++)ce[We].hasAttribute(`cdk-focus-${Q}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${Q}', use 'cdkFocusRegion${Q}' instead. The deprecated attribute will be removed in 8.0.0.`,ce[We]):ce[We].hasAttribute(`cdk-focus-region-${Q}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${Q}', use 'cdkFocusRegion${Q}' instead. The deprecated attribute will be removed in 8.0.0.`,ce[We]);return"start"==Q?ce.length?ce[0]:this._getFirstTabbableElement(this._element):ce.length?ce[ce.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const Q=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Q){if(Q.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",Q),!this._checker.isFocusable(Q)){const ce=this._getFirstTabbableElement(Q);return ce?.focus(),!!ce}return Q.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const Q=this._getRegionBoundary("start");return Q&&Q.focus(),!!Q}focusLastTabbableElement(){const Q=this._getRegionBoundary("end");return Q&&Q.focus(),!!Q}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Q){if(this._checker.isFocusable(Q)&&this._checker.isTabbable(Q))return Q;let ce=Q.children||Q.childNodes;for(let We=0;We<ce.length;We++){let Je=ce[We].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ce[We]):null;if(Je)return Je}return null}_getLastTabbableElement(Q){if(this._checker.isFocusable(Q)&&this._checker.isTabbable(Q))return Q;let ce=Q.children||Q.childNodes;for(let We=ce.length-1;We>=0;We--){let Je=ce[We].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ce[We]):null;if(Je)return Je}return null}_createAnchor(){const Q=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Q),Q.classList.add("cdk-visually-hidden"),Q.classList.add("cdk-focus-trap-anchor"),Q.setAttribute("aria-hidden","true"),Q}_toggleAnchorTabIndex(Q,ce){Q?ce.setAttribute("tabindex","0"):ce.removeAttribute("tabindex")}toggleAnchors(Q){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Q,this._startAnchor),this._toggleAnchorTabIndex(Q,this._endAnchor))}_executeOnStable(Q){this._ngZone.isStable?Q():this._ngZone.onStable.pipe((0,T.q)(1)).subscribe(Q)}}let W=(()=>{class Y{constructor(ce,We,Je){this._checker=ce,this._ngZone=We,this._document=Je}create(ce,We=!1){return new re(ce,this._checker,this._ngZone,this._document,We)}}return Y.\u0275fac=function(ce){return new(ce||Y)(t.LFG(w),t.LFG(t.R0b),t.LFG(m.K0))},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),G=(()=>{class Y{constructor(ce,We,Je){this._elementRef=ce,this._focusTrapFactory=We,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=Je,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(ce){this.focusTrap.enabled=q(ce)}get autoCapture(){return this._autoCapture}set autoCapture(ce){this._autoCapture=q(ce)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(ce){const We=ce.autoCapture;We&&!We.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return Y.\u0275fac=function(ce){return new(ce||Y)(t.Y36(t.SBq),t.Y36(W),t.Y36(m.K0))},Y.\u0275dir=t.lG2({type:Y,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[t.TTD]}),Y})(),X=(()=>{class Y{static forRoot(){return{ngModule:Y,providers:[C,g,w]}}}return Y.\u0275fac=function(ce){return new(ce||Y)},Y.\u0275mod=t.oAB({type:Y}),Y.\u0275inj=t.cJS({imports:[m.ez]}),Y})();var E=p(2381),ne=p(8664);const K=["*"];let le=(()=>{class Y{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return Y.\u0275fac=function(ce){return new(ce||Y)},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"platform"}),Y})(),Se=(()=>{class Y{}return Y.\u0275fac=function(ce){return new(ce||Y)},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"platform"}),Y})();const ye={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},ze=new t.OlP("override-default-config"),Ee_OPEN="modal-open";let at=(()=>{class Y{constructor(ce,We,Je){this._element=We,this._renderer=Je,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},ce)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,(0,e.XA)()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,Ee_OPEN),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(ce){this.clickStartedInContent=ce.target!==this._element.nativeElement}onClickStop(ce){var We;this.config.ignoreBackdropClick||"static"===this.config.backdrop||ce.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(We=this.bsModalService)||void 0===We||We.setDismissReason("backdrop-click"),this.hide())}onPopState(){var ce;null===(ce=this.bsModalService)||void 0===ce||ce.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(ce){var We,Je;this.isShown&&((27===ce.keyCode||"Escape"===ce.key)&&ce.preventDefault(),this.config.keyboard&&this.level===(null===(We=this.bsModalService)||void 0===We?void 0:We.getModalsCount()))&&(null===(Je=this.bsModalService)||void 0===Je||Je.setDismissReason("esc"),this.hide())}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,(0,e.XA)()?"in":"show"),setTimeout(()=>{var ce,We;this.isShown=!1,document&&document.body&&1===(null===(ce=this.bsModalService)||void 0===ce?void 0:ce.getModalsCount())&&(this._renderer.removeClass(document.body,Ee_OPEN),this._renderer.setStyle(document.body,"overflow-y","")),null===(We=this.bsModalService)||void 0===We||We.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return Y.\u0275fac=function(ce){return new(ce||Y)(t.Y36(Se),t.Y36(t.SBq),t.Y36(t.Qsj))},Y.\u0275cmp=t.Xpm({type:Y,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(ce,We){1&ce&&t.NdJ("mousedown",function(Oe){return We.onClickStarted(Oe)})("click",function(Oe){return We.onClickStop(Oe)})("popstate",function(){return We.onPopState()},!1,t.Jf7)("keydown.esc",function(Oe){return We.onEsc(Oe)},!1,t.Jf7),2&ce&&t.uIk("aria-modal",!0)("aria-labelledby",We.config.ariaLabelledBy)("aria-describedby",We.config.ariaDescribedby)},ngContentSelectors:K,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(ce,We){1&ce&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA()()),2&ce&&t.Tol("modal-dialog"+(We.config.class?" "+We.config.class:""))},dependencies:[G],encapsulation:2}),Y})(),wt=(()=>{class Y{constructor(ce,We){this._isAnimated=!1,this._isShown=!1,this.element=ce,this.renderer=We}get isAnimated(){return this._isAnimated}set isAnimated(ce){this._isAnimated=ce}get isShown(){return this._isShown}set isShown(ce){this._isShown=ce,ce?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),(0,e.XA)()||(ce?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),e.cQ.reflow(this.element.nativeElement)),this.isShown=!0}}return Y.\u0275fac=function(ce){return new(ce||Y)(t.Y36(t.SBq),t.Y36(t.Qsj))},Y.\u0275cmp=t.Xpm({type:Y,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(ce,We){},encapsulation:2}),Y})(),pt=(()=>{class Y{constructor(ce,We,Je,Oe,i){this._element=ce,this._renderer=Je,this.onShow=new t.vpe,this.onShown=new t.vpe,this.onHide=new t.vpe,this.onHidden=new t.vpe,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._backdrop=Oe.createLoader(ce,We,Je),this._config=i||ye}set config(ce){this._config=this.getConfig(ce)}get config(){return this._config}get isShown(){return this._isShown}onClickStarted(ce){this.clickStartedInContent=ce.target!==this._element.nativeElement}onClickStop(ce){this.config.ignoreBackdropClick||"static"===this.config.backdrop||ce.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(ce))}onEsc(ce){!this._isShown||((27===ce.keyCode||"Escape"===ce.key)&&ce.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),e.tj&&e.tj.body&&(e.tj.body.classList.contains(Ee_OPEN)?this.isNested=!0:(this._renderer.addClass(e.tj.body,Ee_OPEN),this._renderer.setStyle(e.tj.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(ce){if(this._isShown){if(ce&&ce.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),e.u9.clearTimeout(this.timerHideModal),e.u9.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"in"),(0,e.XA)()||this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=e.u9.setTimeout(()=>this.hideModal(),300):this.hideModal()}getConfig(ce){return Object.assign({},this._config,ce)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&e.tj&&e.tj.body&&e.tj.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&e.cQ.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"in"),(0,e.XA)()||this._renderer.addClass(this._element.nativeElement,"show");const ce=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(ce,300):ce()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(e.tj&&e.tj.body&&(this._renderer.removeClass(e.tj.body,Ee_OPEN),this._renderer.setStyle(e.tj.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(ce){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const We=()=>{this.removeBackdrop(),ce&&ce()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=e.u9.setTimeout(We,150):We()}else ce&&ce();else{if(this.removeBackdrop(),this._backdrop.attach(wt).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!ce)return;if(!this._config.animated)return void ce();setTimeout(ce,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const ce=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");!ce.length||ce[ce.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=e.tj.body.clientWidth<e.u9.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!e.tj||(this.originalBodyPadding=parseInt(e.u9.getComputedStyle(e.tj.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(e.tj.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.tj.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const ce=this._renderer.createElement("div");this._renderer.addClass(ce,"modal-scrollbar-measure"),this._renderer.appendChild(e.tj.body,ce);const We=ce.offsetWidth-ce.clientWidth;return this._renderer.removeChild(e.tj.body,ce),We}}return Y.\u0275fac=function(ce){return new(ce||Y)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t.Qsj),t.Y36(E.oj),t.Y36(ze,8))},Y.\u0275dir=t.lG2({type:Y,selectors:[["","bsModal",""]],hostBindings:function(ce,We){1&ce&&t.NdJ("mousedown",function(Oe){return We.onClickStarted(Oe)})("mouseup",function(Oe){return We.onClickStop(Oe)})("keydown.esc",function(Oe){return We.onEsc(Oe)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]}),Y})(),Yt=1,un=(()=>{class Y{constructor(ce,We,Je){this.clf=We,this.modalDefaultOption=Je,this.onShow=new t.vpe,this.onShown=new t.vpe,this.onHide=new t.vpe,this.onHidden=new t.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=ce.createRenderer(null,null),this.config=Je?Object.assign({},ye,Je):ye}show(ce,We){this.modalsCount++,this._createLoaders();const Je=We?.id||Yt++;return this.config=this.modalDefaultOption?Object.assign({},ye,this.modalDefaultOption,We):Object.assign({},ye,We),this.config.id=Je,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(ce)}hide(ce){(1===this.modalsCount||null==ce)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=ce?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(ce),this.removeLoaders(ce)},this.config.animated?150:0)}_showBackdrop(){const ce=!0===this.config.backdrop||"static"===this.config.backdrop,We=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),ce&&We&&(this._backdropLoader.attach(wt).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(ce){const We=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const we of this.config.providers)We.provide(we);const Je=new le,Oe=We.provide({provide:Se,useValue:this.config}).provide({provide:le,useValue:Je}).attach(at).to("body");var i;return Je.hide=()=>{var we;return null===(we=Oe.instance)||void 0===we?void 0:we.hide()},Je.setClass=we=>{Oe.instance&&(Oe.instance.config.class=we)},Je.onHidden=new t.vpe,Je.onHide=new t.vpe,this.copyEvent(We.onBeforeHide,Je.onHide),this.copyEvent(We.onHidden,Je.onHidden),Oe.show({content:ce,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),Oe.instance&&(Oe.instance.level=this.getModalsCount(),Je.content=We.getInnerComponent(),Je.id=null===(i=Oe.instance.config)||void 0===i?void 0:i.id),Je}_hideModal(ce){if(null!=ce){const We=this.loaders.findIndex(Oe=>{var i;return(null===(i=Oe.instance)||void 0===i?void 0:i.config.id)===ce}),Je=this.loaders[We];Je&&Je.hide(ce)}else this.loaders.forEach(We=>{We.instance&&We.hide(We.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(ce){this.lastDismissReason=ce}removeBackdrop(){this._renderer.removeClass(document.body,Ee_OPEN),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const ce=this._renderer.createElement("div");this._renderer.addClass(ce,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,ce);const We=ce.offsetWidth-ce.clientWidth;return this._renderer.removeChild(document.body,ce),We}_createLoaders(){const ce=this.clf.createLoader();this.copyEvent(ce.onBeforeShow,this.onShow),this.copyEvent(ce.onShown,this.onShown),this.copyEvent(ce.onBeforeHide,this.onHide),this.copyEvent(ce.onHidden,this.onHidden),this.loaders.push(ce)}removeLoaders(ce){if(null!=ce){const We=this.loaders.findIndex(Je=>{var Oe;return(null===(Oe=Je.instance)||void 0===Oe?void 0:Oe.config.id)===ce});We>=0&&(this.loaders.splice(We,1),this.loaders.forEach((Je,Oe)=>{Je.instance&&(Je.instance.level=Oe+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(ce,We){ce.subscribe(Je=>{We.emit(this.lastDismissReason||Je)})}}return Y.\u0275fac=function(ce){return new(ce||Y)(t.LFG(t.FYo),t.LFG(E.oj),t.LFG(ze,8))},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"platform"}),Y})();X.forRoot();let Mt=(()=>{class Y{static forRoot(){return{ngModule:Y,providers:[un,E.oj,ne.sA]}}static forChild(){return{ngModule:Y,providers:[un,E.oj,ne.sA]}}}return Y.\u0275fac=function(ce){return new(ce||Y)},Y.\u0275mod=t.oAB({type:Y}),Y.\u0275inj=t.cJS({imports:[X]}),Y})()},8664:(dt,Ce,p)=>{"use strict";p.d(Ce,{Bz:()=>j,sA:()=>vt});var t=p(1607),e=p(4650),m=p(6895),T=p(7579),C=p(6451),b=p(4968),g=p(9646),f=p(4408),w=p(727);const _={schedule(de){let ee=requestAnimationFrame,U=cancelAnimationFrame;const{delegate:te}=_;te&&(ee=te.requestAnimationFrame,U=te.cancelAnimationFrame);const Re=ee(ot=>{U=void 0,de(ot)});return new w.w0(()=>U?.(Re))},requestAnimationFrame(...de){const{delegate:ee}=_;return(ee?.requestAnimationFrame||requestAnimationFrame)(...de)},cancelAnimationFrame(...de){const{delegate:ee}=_;return(ee?.cancelAnimationFrame||cancelAnimationFrame)(...de)},delegate:void 0};var P=p(7565);const k=new class a extends P.v{flush(ee){this._active=!0;const U=this._scheduled;this._scheduled=void 0;const{actions:te}=this;let Re;ee=ee||te.shift();do{if(Re=ee.execute(ee.state,ee.delay))break}while((ee=te[0])&&ee.id===U&&te.shift());if(this._active=!1,Re){for(;(ee=te[0])&&ee.id===U&&te.shift();)ee.unsubscribe();throw Re}}}(class R extends f.o{constructor(ee,U){super(ee,U),this.scheduler=ee,this.work=U}requestAsyncId(ee,U,te=0){return null!==te&&te>0?super.requestAsyncId(ee,U,te):(ee.actions.push(this),ee._scheduled||(ee._scheduled=_.requestAnimationFrame(()=>ee.flush(void 0))))}recycleAsyncId(ee,U,te=0){if(null!=te&&te>0||null==te&&this.delay>0)return super.recycleAsyncId(ee,U,te);ee.actions.some(Re=>Re.id===U)||(_.cancelAnimationFrame(U),ee._scheduled=void 0)}});var Z=(()=>{return(de=Z||(Z={})).top="top",de.bottom="bottom",de.left="left",de.right="right",de.auto="auto",de.end="right",de.start="left",de["top left"]="top left",de["top right"]="top right",de["right top"]="right top",de["right bottom"]="right bottom",de["bottom right"]="bottom right",de["bottom left"]="bottom left",de["left bottom"]="left bottom",de["left top"]="left top",de["top start"]="top left",de["top end"]="top right",de["end top"]="right top",de["end bottom"]="right bottom",de["bottom end"]="bottom right",de["bottom start"]="bottom left",de["start bottom"]="start bottom",de["start top"]="left top",Z;var de})(),j=(()=>{return(de=j||(j={})).top="top",de.bottom="bottom",de.left="start",de.right="end",de.auto="auto",de.end="end",de.start="start",de["top left"]="top start",de["top right"]="top end",de["right top"]="end top",de["right bottom"]="end bottom",de["bottom right"]="bottom end",de["bottom left"]="bottom start",de["left bottom"]="start bottom",de["left top"]="start top",de["top start"]="top start",de["top end"]="top end",de["end top"]="end top",de["end bottom"]="end bottom",de["bottom end"]="bottom end",de["bottom start"]="bottom start",de["start bottom"]="start bottom",de["start top"]="start top",j;var de})();function N(de,ee){if(1!==de.nodeType)return[];const te=de.ownerDocument.defaultView?.getComputedStyle(de,null);return ee?te&&te[ee]:te}function B(de){if(!de)return document.documentElement;let te,U=de?.offsetParent;for(;null===U&&de.nextElementSibling&&te!==de.nextElementSibling;)te=de.nextElementSibling,U=te.offsetParent;const Re=U&&U.nodeName;return Re&&"BODY"!==Re&&"HTML"!==Re?U&&-1!==["TH","TD","TABLE"].indexOf(U.nodeName)&&"static"===N(U,"position")?B(U):U:te?te.ownerDocument.documentElement:document.documentElement}function J(de){return null!==de.parentNode?J(de.parentNode):de}function q(de,ee){if(!(de&&de.nodeType&&ee&&ee.nodeType))return document.documentElement;const U=de.compareDocumentPosition(ee)&Node.DOCUMENT_POSITION_FOLLOWING,te=U?de:ee,Re=U?ee:de,ot=document.createRange();ot.setStart(te,0),ot.setEnd(Re,0);const ut=ot.commonAncestorContainer;if(de!==ut&&ee!==ut||te.contains(Re))return function V(de){const{nodeName:ee}=de;return"BODY"!==ee&&("HTML"===ee||B(de.firstElementChild)===de)}(ut)?ut:B(ut);const Dt=J(de);return Dt.host?q(Dt.host,ee):q(de,J(ee).host)}function re(de){if(!de||!de.parentElement)return document.documentElement;let ee=de.parentElement;for(;null!==(U=ee)&&void 0!==U&&U.parentElement&&"none"===N(ee,"transform");){var U;ee=ee.parentElement}return ee||document.documentElement}function W(de,ee){const U="x"===ee?"Left":"Top",te="Left"===U?"Right":"Bottom";return parseFloat(de[`border${U}Width`])+parseFloat(de[`border${te}Width`])}function G(de,ee,U,te){return Math.max(ee[`offset${de}`],ee[`scroll${de}`],U[`client${de}`],U[`offset${de}`],U[`scroll${de}`],0)}function X(de){const ee=de.body,U=de.documentElement;return{height:G("Height",ee,U),width:G("Width",ee,U)}}function E(de){return{...de,right:(de.left||0)+de.width,bottom:(de.top||0)+de.height}}function K(de){return"number"==typeof de||"[object Number]"===Object.prototype.toString.call(de)}function le(de){const ee=de.getBoundingClientRect();if(!(ee&&K(ee.top)&&K(ee.left)&&K(ee.bottom)&&K(ee.right)))return ee;const U={left:ee.left,top:ee.top,width:ee.right-ee.left,height:ee.bottom-ee.top},te="HTML"===de.nodeName?X(de.ownerDocument):void 0,Re=te?.width||de.clientWidth||K(ee.right)&&K(U.left)&&ee.right-U.left||0,ot=te?.height||de.clientHeight||K(ee.bottom)&&K(U.top)&&ee.bottom-U.top||0;let ut=de.offsetWidth-Re,Dt=de.offsetHeight-ot;if(ut||Dt){const Qt=N(de);ut-=W(Qt,"x"),Dt-=W(Qt,"y"),U.width-=ut,U.height-=Dt}return E(U)}function me(de){return"HTML"===de.nodeName?de:de.parentNode||de.host}function Se(de){if(!de)return document.body;switch(de.nodeName){case"HTML":case"BODY":return de.ownerDocument.body;case"#document":return de.body}const{overflow:ee,overflowX:U,overflowY:te}=N(de);return/(auto|scroll|overlay)/.test(String(ee)+String(te)+String(U))?de:Se(me(de))}function ye(de,ee,U=!1){var te,Re,ot,ut;const Dt="HTML"===ee.nodeName,Qt=le(de),mn=le(ee),_n=(Se(de),N(ee)),sn=parseFloat(_n.borderTopWidth),gt=parseFloat(_n.borderLeftWidth);var dn,It;U&&Dt&&(mn.top=Math.max(null!==(dn=mn.top)&&void 0!==dn?dn:0,0),mn.left=Math.max(null!==(It=mn.left)&&void 0!==It?It:0,0));const Xt=E({top:(null!==(te=Qt.top)&&void 0!==te?te:0)-(null!==(Re=mn.top)&&void 0!==Re?Re:0)-sn,left:(null!==(ot=Qt.left)&&void 0!==ot?ot:0)-(null!==(ut=mn.left)&&void 0!==ut?ut:0)-gt,width:Qt.width,height:Qt.height});if(Xt.marginTop=0,Xt.marginLeft=0,Dt){const fn=parseFloat(_n.marginTop),An=parseFloat(_n.marginLeft);K(Xt.top)&&(Xt.top-=sn-fn),K(Xt.bottom)&&(Xt.bottom-=sn-fn),K(Xt.left)&&(Xt.left-=gt-An),K(Xt.right)&&(Xt.right-=gt-An),Xt.marginTop=fn,Xt.marginLeft=An}return Xt}function ze(de,ee="top"){const U="top"===ee?"scrollTop":"scrollLeft",te=de.nodeName;if("BODY"===te||"HTML"===te){const Re=de.ownerDocument.documentElement;return(de.ownerDocument.scrollingElement||Re)[U]}return de[U]}function qe(de){const ee=de.nodeName;return"BODY"!==ee&&"HTML"!==ee&&("fixed"===N(de,"position")||qe(me(de)))}function Te(de,ee,U=0,te,Re=!1){let ot={top:0,left:0};const ut=Re?re(de):q(de,ee);if("viewport"===te)ot=function Ee(de,ee=!1){const U=de.ownerDocument.documentElement,te=ye(de,U),Re=Math.max(U.clientWidth,window.innerWidth||0),ot=Math.max(U.clientHeight,window.innerHeight||0),ut=ee?0:ze(U),Dt=ee?0:ze(U,"left");return E({top:ut-Number(te?.top)+Number(te?.marginTop),left:Dt-Number(te?.left)+Number(te?.marginLeft),width:Re,height:ot})}(ut,Re);else{let Dt;"scrollParent"===te?(Dt=Se(me(ee)),"BODY"===Dt.nodeName&&(Dt=de.ownerDocument.documentElement)):Dt="window"===te?de.ownerDocument.documentElement:te;const Qt=ye(Dt,ut,Re);if(Qt&&"HTML"===Dt.nodeName&&!qe(ut)){const{height:mn,width:nn}=X(de.ownerDocument);K(ot.top)&&K(Qt.top)&&K(Qt.marginTop)&&(ot.top+=Qt.top-Qt.marginTop),K(ot.top)&&(ot.bottom=Number(mn)+Number(Qt.top)),K(ot.left)&&K(Qt.left)&&K(Qt.marginLeft)&&(ot.left+=Qt.left-Qt.marginLeft),K(ot.top)&&(ot.right=Number(nn)+Number(Qt.left))}else Qt&&(ot=Qt)}return K(ot.left)&&(ot.left+=U),K(ot.top)&&(ot.top+=U),K(ot.right)&&(ot.right-=U),K(ot.bottom)&&(ot.bottom-=U),ot}function nt({width:de,height:ee}){return de*ee}function at(de,ee,U,te,Re=["top","bottom","right","left"],ot="viewport",ut=0){var Dt,Qt,mn,nn,_n,sn,gt,dn,It,Xt,fn,An;if(-1===de.indexOf("auto"))return de;const kn=Te(U,te,ut,ot),Gn={top:{width:null!==(Dt=kn?.width)&&void 0!==Dt?Dt:0,height:(null!==(Qt=ee?.top)&&void 0!==Qt?Qt:0)-(null!==(mn=kn?.top)&&void 0!==mn?mn:0)},right:{width:(null!==(nn=kn?.right)&&void 0!==nn?nn:0)-(null!==(_n=ee?.right)&&void 0!==_n?_n:0),height:null!==(sn=kn?.height)&&void 0!==sn?sn:0},bottom:{width:null!==(gt=kn?.width)&&void 0!==gt?gt:0,height:(null!==(dn=kn?.bottom)&&void 0!==dn?dn:0)-(null!==(It=ee?.bottom)&&void 0!==It?It:0)},left:{width:(null!==(Xt=ee.left)&&void 0!==Xt?Xt:0)-(null!==(fn=kn?.left)&&void 0!==fn?fn:0),height:null!==(An=kn?.height)&&void 0!==An?An:0}},ti=Object.keys(Gn).map(Nn=>({position:Nn,...Gn[Nn],area:nt(Gn[Nn])})).sort((Nn,bt)=>bt.area-Nn.area);let ii=ti.filter(({width:Nn,height:bt})=>Nn>=U.clientWidth&&bt>=U.clientHeight);ii=ii.filter(({position:Nn})=>Re.some(bt=>bt===Nn));const $t=ii.length>0?ii[0].position:ti[0].position,Qn=de.split(" ")[1];return U.className=U.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,t.Wl)().isBs5?j[$t]:$t}`),$t+(Qn?`-${Qn}`:"")}const pt=(de,ee=0)=>de?parseFloat(de):ee;function Yt(de){const U=de.ownerDocument.defaultView?.getComputedStyle(de),te=pt(U?.marginTop)+pt(U?.marginBottom),Re=pt(U?.marginLeft)+pt(U?.marginRight);return{width:Number(de.offsetWidth)+Re,height:Number(de.offsetHeight)+te}}function un(de,ee,U){return ye(ee,U?re(de):q(de,ee),U)}function Nt(de,ee,U){var te,Re,ot;const ut=U.split(" ")[0],Dt=Yt(de),Qt={width:Dt.width,height:Dt.height},mn=-1!==["right","left"].indexOf(ut),nn=mn?"top":"left",_n=mn?"left":"top",sn=mn?"height":"width",gt=mn?"width":"height";return Qt[nn]=(null!==(te=ee[nn])&&void 0!==te?te:0)+ee[sn]/2-Dt[sn]/2,Qt[_n]=ut===_n?(null!==(Re=ee[_n])&&void 0!==Re?Re:0)-Dt[gt]:null!==(ot=ee[function lt(de){const ee={left:"right",right:"left",bottom:"top",top:"bottom"};return de.replace(/left|right|bottom|top/g,U=>ee[U])}(_n)])&&void 0!==ot?ot:0,Qt}function Mt(de,ee){var U;return!(null===(U=de.modifiers[ee])||void 0===U||!U.enabled)}const Y={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Q(de,ee){return!!(0,t.Wl)().isBs5&&Y[ee].includes(de)}function Je(de,ee,U){!de||!ee||Object.keys(ee).forEach(te=>{let Re="";-1!==["width","height","top","right","bottom","left"].indexOf(te)&&function ne(de){return""!==de&&!isNaN(parseFloat(de))&&isFinite(Number(de))}(ee[te])&&(Re="px"),U?U.setStyle(de,te,`${String(ee[te])}${Re}`):de.style[te]=String(ee[te])+Re})}function Oe(de){var ee,U,te,Re;let ot=de.offsets.target;const ut=de.instance.target.querySelector(".arrow");if(!ut)return de;const Dt=-1!==["left","right"].indexOf(de.placement.split(" ")[0]),Qt=Dt?"height":"width",mn=Dt?"Top":"Left",nn=mn.toLowerCase(),_n=Dt?"left":"top",sn=Dt?"bottom":"right",gt=Yt(ut)[Qt],dn=de.placement.split(" ")[1];var It,Xt;(null!==(ee=de.offsets.host[sn])&&void 0!==ee?ee:0)-gt<(null!==(U=ot[nn])&&void 0!==U?U:0)&&(ot[nn]-=(null!==(It=ot[nn])&&void 0!==It?It:0)-((null!==(Xt=de.offsets.host[sn])&&void 0!==Xt?Xt:0)-gt)),Number(de.offsets.host[nn])+Number(gt)>(null!==(te=ot[sn])&&void 0!==te?te:0)&&(ot[nn]+=Number(de.offsets.host[nn])+Number(gt)-Number(ot[sn])),ot=E(ot);const fn=N(de.instance.target),An=parseFloat(fn[`margin${mn}`])||0,kn=parseFloat(fn[`border${mn}Width`])||0;let Gn;if(dn){const ii=parseFloat(fn.borderRadius)||0,$t=Number(An+kn+ii);Gn=nn===dn?Number(de.offsets.host[nn])+$t:Number(de.offsets.host[nn])+Number(de.offsets.host[Qt]-$t)}else Gn=Number(de.offsets.host[nn])+Number(de.offsets.host[Qt]/2-gt/2);let ti=Gn-(null!==(Re=ot[nn])&&void 0!==Re?Re:0)-An-kn;return ti=Math.max(Math.min(ot[Qt]-(gt+5),ti),0),de.offsets.arrow={[nn]:Math.round(ti),[_n]:""},de.instance.arrow=ut,de}function i(de){if(de.offsets.target=E(de.offsets.target),!Mt(de.options,"flip"))return de.offsets.target={...de.offsets.target,...Nt(de.instance.target,de.offsets.host,de.placement)},de;const ee=Te(de.instance.target,de.instance.host,0,"viewport",!1);let U=de.placement.split(" ")[0],te=de.placement.split(" ")[1]||"";const Dt=at("auto",de.offsets.host,de.instance.target,de.instance.host,de.options.allowedPositions),Qt=[U,Dt];return Qt.forEach((mn,nn)=>{var _n,sn,gt,dn,It,Xt,fn,An,kn,Gn,ti,ii,$t,Qn,Nn,bt;if(U!==mn||Qt.length===nn+1)return;U=de.placement.split(" ")[0];const _t="left"===U&&Math.floor(null!==(_n=de.offsets.target.right)&&void 0!==_n?_n:0)>Math.floor(null!==(sn=de.offsets.host.left)&&void 0!==sn?sn:0)||"right"===U&&Math.floor(null!==(gt=de.offsets.target.left)&&void 0!==gt?gt:0)<Math.floor(null!==(dn=de.offsets.host.right)&&void 0!==dn?dn:0)||"top"===U&&Math.floor(null!==(It=de.offsets.target.bottom)&&void 0!==It?It:0)>Math.floor(null!==(Xt=de.offsets.host.top)&&void 0!==Xt?Xt:0)||"bottom"===U&&Math.floor(null!==(fn=de.offsets.target.top)&&void 0!==fn?fn:0)<Math.floor(null!==(An=de.offsets.host.bottom)&&void 0!==An?An:0),Ot=Math.floor(null!==(kn=de.offsets.target.left)&&void 0!==kn?kn:0)<Math.floor(null!==(Gn=ee.left)&&void 0!==Gn?Gn:0),Ze=Math.floor(null!==(ti=de.offsets.target.right)&&void 0!==ti?ti:0)>Math.floor(null!==(ii=ee.right)&&void 0!==ii?ii:0),Ke=Math.floor(null!==($t=de.offsets.target.top)&&void 0!==$t?$t:0)<Math.floor(null!==(Qn=ee.top)&&void 0!==Qn?Qn:0),it=Math.floor(null!==(Nn=de.offsets.target.bottom)&&void 0!==Nn?Nn:0)>Math.floor(null!==(bt=ee.bottom)&&void 0!==bt?bt:0),yt="left"===U&&Ot||"right"===U&&Ze||"top"===U&&Ke||"bottom"===U&&it,Jt=-1!==["top","bottom"].indexOf(U),on=Jt&&"left"===te&&Ot||Jt&&"right"===te&&Ze||!Jt&&"left"===te&&Ke||!Jt&&"right"===te&&it;(_t||yt||on)&&((_t||yt)&&(U=Qt[nn+1]),on&&(te=function mt(de){return"right"===de?"left":"left"===de?"right":de}(te)),de.placement=U+(te?` ${te}`:""),de.offsets.target={...de.offsets.target,...Nt(de.instance.target,de.offsets.host,de.placement)})}),de}function $e(de){var ee;if(!Mt(de.options,"preventOverflow"))return de;const U="transform",te=de.instance.target.style,{top:Re,left:ot,[U]:ut}=te;te.top="",te.left="",te[U]="";const Dt=Te(de.instance.target,de.instance.host,0,(null===(ee=de.options.modifiers.preventOverflow)||void 0===ee?void 0:ee.boundariesElement)||"scrollParent",!1);te.top=Re,te.left=ot,te[U]=ut;const mn={primary(nn){var _n,sn;let gt=de.offsets.target[nn];var dn,It;return(null!==(_n=de.offsets.target[nn])&&void 0!==_n?_n:0)<(null!==(sn=Dt[nn])&&void 0!==sn?sn:0)&&(gt=Math.max(null!==(dn=de.offsets.target[nn])&&void 0!==dn?dn:0,null!==(It=Dt[nn])&&void 0!==It?It:0)),{[nn]:gt}},secondary(nn){var _n,sn;const gt="right"===nn,dn=gt?"left":"top";let Xt=de.offsets.target[dn];var fn,An;return(null!==(_n=de.offsets.target[nn])&&void 0!==_n?_n:0)>(null!==(sn=Dt[nn])&&void 0!==sn?sn:0)&&(Xt=Math.min(null!==(fn=de.offsets.target[dn])&&void 0!==fn?fn:0,(null!==(An=Dt[nn])&&void 0!==An?An:0)-de.offsets.target[gt?"width":"height"])),{[dn]:Xt}}};return["left","right","top","bottom"].forEach(nn=>{const _n=-1!==["left","top","start"].indexOf(nn)?mn.primary:mn.secondary;de.offsets.target={...de.offsets.target,..._n(nn)}}),de}function Ye(de){const ee=de.placement,U=ee.split(" ")[0],te=ee.split(" ")[1];if(te){var Re;const{host:ot,target:ut}=de.offsets,Dt=-1!==["bottom","top"].indexOf(U),Qt=Dt?"left":"top",mn=Dt?"width":"height",nn={start:{[Qt]:ot[Qt]},end:{[Qt]:(null!==(Re=ot[Qt])&&void 0!==Re?Re:0)+ot[mn]-ut[mn]}};de.offsets.target={...ut,[Qt]:Qt===te?nn.start[Qt]:nn.end[Qt]}}return de}const Fe=new class Xe{position(ee,U){return this.offset(ee,U)}offset(ee,U){return un(U,ee)}positionElements(ee,U,te,Re,ot){const ut=[i,Ye,$e,Oe],Qt=function we(de,ee,U,te){if(!de||!ee)return;const Re=un(de,ee);!U.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!U.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(U="auto");const ot=!!U.match(/auto/g);let ut=U.match(/auto\s(left|right|top|bottom|start|end)/)?U.split(" ")[1]||"auto":U;const Dt=ut.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Dt&&(ut=Dt[1]+(Dt[2]?` ${Dt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(ut)&&(ut="auto"),ut=at(ut,Re,de,ee,te?te.allowedPositions:void 0),{options:te||{modifiers:{}},instance:{target:de,host:ee,arrow:void 0},offsets:{target:Nt(de,Re,ut),host:Re,arrow:void 0},positionFixed:!1,placement:ut,placementAuto:ot}}(U,ee,Z[te],ot);if(Qt)return ut.reduce((mn,nn)=>nn(mn),Qt)}};function Tt(de,ee,U,te,Re,ot){const ut=Fe.positionElements(de,ee,U,te,Re);if(!ut)return;const Dt=function wt(de){var ee,U,te,Re;return{width:de.offsets.target.width,height:de.offsets.target.height,left:Math.floor(null!==(ee=de.offsets.target.left)&&void 0!==ee?ee:0),top:Math.round(null!==(U=de.offsets.target.top)&&void 0!==U?U:0),bottom:Math.round(null!==(te=de.offsets.target.bottom)&&void 0!==te?te:0),right:Math.floor(null!==(Re=de.offsets.target.right)&&void 0!==Re?Re:0)}}(ut);Je(ee,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Dt.left}px, ${Dt.top}px, 0px)`},ot),ut.instance.arrow&&Je(ut.instance.arrow,ut.offsets.arrow,ot),function We(de,ee){const U=de.instance.target;let te=U.className;const Re=(0,t.Wl)().isBs5?j[de.placement]:de.placement;de.placementAuto&&(te=te.replace(/bs-popover-auto/g,`bs-popover-${Re}`),te=te.replace(/ms-2|me-2|mb-2|mt-2/g,""),te=te.replace(/bs-tooltip-auto/g,`bs-tooltip-${Re}`),te=te.replace(/\sauto/g,` ${Re}`),-1!==te.indexOf("popover")&&(te=te+" "+function ce(de){return(0,t.Wl)().isBs5?Q(de,"end")?"ms-2":Q(de,"start")?"me-2":Q(de,"top")?"mb-2":Q(de,"bottom")?"mt-2":"":""}(Re)),-1!==te.indexOf("popover")&&-1===te.indexOf("popover-auto")&&(te+=" popover-auto"),-1!==te.indexOf("tooltip")&&-1===te.indexOf("tooltip-auto")&&(te+=" tooltip-auto")),te=te.replace(/left|right|top|bottom|end|start/g,`${Re.split(" ")[0]}`),ee?ee.setAttribute(U,"class",te):U.className=te}(ut,ot)}let vt=(()=>{class de{constructor(U,te,Re){this.update$$=new T.x,this.positionElements=new Map,this.isDisabled=!1,(0,m.NF)(Re)&&U.runOutsideAngular(()=>{this.triggerEvent$=(0,C.T)((0,b.R)(window,"scroll",{passive:!0}),(0,b.R)(window,"resize",{passive:!0}),(0,g.of)(0,k),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(ot=>{Tt(Ge(ot.target),Ge(ot.element),ot.attachment,ot.appendToBody,this.options,te.createRenderer(null,null))})})})}position(U){this.addPositionElement(U)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(U){this.positionElements.set(Ge(U.element),U)}calcPosition(){this.update$$.next(null)}deletePositionElement(U){this.positionElements.delete(Ge(U))}setOptions(U){this.options=U}}return de.\u0275fac=function(U){return new(U||de)(e.LFG(e.R0b),e.LFG(e.FYo),e.LFG(e.Lbi))},de.\u0275prov=e.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();function Ge(de){return"string"==typeof de?document.querySelector(de):de instanceof e.SBq?de.nativeElement:de??null}},9241:(dt,Ce,p)=>{"use strict";p.d(Ce,{AH:()=>w,P4:()=>P,wW:()=>_});var t=p(4650),e=p(6895);function m(a,k){if(1&a){const L=t.EpF();t.TgZ(0,"span",7),t.NdJ("click",function(j){t.CHM(L);const N=t.oxw().$implicit,B=t.oxw();return j.preventDefault(),t.KtG(B.removeTab(N))}),t._uU(1," \u274c"),t.qZA()}}const T=function(a){return["nav-item",a]};function C(a,k){if(1&a){const L=t.EpF();t.TgZ(0,"li",3),t.NdJ("keydown",function(j){const B=t.CHM(L).index,V=t.oxw();return t.KtG(V.keyNavActions(j,B))}),t.TgZ(1,"a",4),t.NdJ("click",function(){const N=t.CHM(L).$implicit;return t.KtG(N.active=!0)}),t.TgZ(2,"span",5),t._uU(3),t.qZA(),t.YNc(4,m,2,0,"span",6),t.qZA()()}if(2&a){const L=k.$implicit;t.ekj("active",L.active)("disabled",L.disabled),t.Q6J("ngClass",t.VKq(15,T,L.customClass||"")),t.xp6(1),t.ekj("active",L.active)("disabled",L.disabled),t.uIk("aria-controls",L.id?L.id:"")("aria-selected",!!L.active)("id",L.id?L.id+"-link":""),t.xp6(1),t.Q6J("ngTransclude",L.headingRef),t.xp6(1),t.Oqu(L.heading),t.xp6(1),t.Q6J("ngIf",L.removable)}}const b=["*"];let g=(()=>{class a{constructor(L){this.viewRef=L}set ngTransclude(L){this._ngTransclude=L,L&&this.viewRef.createEmbeddedView(L)}get ngTransclude(){return this._ngTransclude}}return a.\u0275fac=function(L){return new(L||a)(t.Y36(t.s_b))},a.\u0275dir=t.lG2({type:a,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),a})(),f=(()=>{class a{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return a.\u0275fac=function(L){return new(L||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),w=(()=>{class a{constructor(L,Z,j){this.renderer=Z,this.elementRef=j,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,L)}get vertical(){return this._vertical}set vertical(L){this._vertical=L,this.setClassMap()}get justified(){return this._justified}set justified(L){this._justified=L,this.setClassMap()}get type(){return this._type}set type(L){this._type=L,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(L){this._isKeysAllowed=L}ngOnDestroy(){this.isDestroyed=!0}addTab(L){this.tabs.push(L),L.active=1===this.tabs.length&&!L.active}removeTab(L,Z={reselect:!0,emit:!0}){const j=this.tabs.indexOf(L);if(-1!==j&&!this.isDestroyed){if(Z.reselect&&L.active&&this.hasAvailableTabs(j)){const N=this.getClosestTabIndex(j);this.tabs[N].active=!0}Z.emit&&L.removed.emit(L),this.tabs.splice(j,1),L.elementRef.nativeElement.parentNode&&this.renderer.removeChild(L.elementRef.nativeElement.parentNode,L.elementRef.nativeElement)}}keyNavActions(L,Z){if(!this.isKeysAllowed)return;const j=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===L.keyCode||"Enter"===L.key||32===L.keyCode||"Space"===L.key)return L.preventDefault(),void j[Z%j.length].click();if(39!==L.keyCode&&"RightArrow"!==L.key)if(37!==L.keyCode&&"LeftArrow"!==L.key)if(36!==L.keyCode&&"Home"!==L.key)if(35!==L.keyCode&&"End"!==L.key){if((46===L.keyCode||"Delete"===L.key)&&this.tabs[Z].removable){if(this.removeTab(this.tabs[Z]),j[Z+1])return void j[(Z+1)%j.length].focus();j[j.length-1]&&j[0].focus()}}else{L.preventDefault();let N,B=1,V=Z;do{V-B<0?(V=j.length-1,N=j[V],B=0):N=j[V-B],B++}while(N.classList.contains("disabled"));N.focus()}else{L.preventDefault();let N,B=0;do{N=j[B%j.length],B++}while(N.classList.contains("disabled"));N.focus()}else{let N,B=1,V=Z;do{V-B<0?(V=j.length-1,N=j[V],B=0):N=j[V-B],B++}while(N.classList.contains("disabled"));N.focus()}else{let N,B=1;do{N=j[(Z+B)%j.length],B++}while(N.classList.contains("disabled"));N.focus()}}getClosestTabIndex(L){const Z=this.tabs.length;if(!Z)return-1;for(let j=1;j<=Z;j+=1){const N=L-j,B=L+j;if(this.tabs[N]&&!this.tabs[N].disabled)return N;if(this.tabs[B]&&!this.tabs[B].disabled)return B}return-1}hasAvailableTabs(L){const Z=this.tabs.length;if(!Z)return!1;for(let j=0;j<Z;j+=1)if(!this.tabs[j].disabled&&j!==L)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return a.\u0275fac=function(L){return new(L||a)(t.Y36(f),t.Y36(t.Qsj),t.Y36(t.SBq))},a.\u0275cmp=t.Xpm({type:a,selectors:[["tabset"]],hostVars:2,hostBindings:function(L,Z){2&L&&t.ekj("tab-container",Z.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:b,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(L,Z){1&L&&(t.F$t(),t.TgZ(0,"ul",0),t.NdJ("click",function(N){return N.preventDefault()}),t.YNc(1,C,5,17,"li",1),t.qZA(),t.TgZ(2,"div",2),t.Hsn(3),t.qZA()),2&L&&(t.Q6J("ngClass",Z.classMap),t.uIk("aria-label",Z.ariaLabel),t.xp6(1),t.Q6J("ngForOf",Z.tabs))},dependencies:[e.mk,e.sg,e.O5,g],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),a})(),_=(()=>{class a{constructor(L,Z,j){this.elementRef=Z,this.renderer=j,this.disabled=!1,this.removable=!1,this.selectTab=new t.vpe,this.deselect=new t.vpe,this.removed=new t.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=L,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(L){this.customClass&&this.customClass.split(" ").forEach(Z=>{this.renderer.removeClass(this.elementRef.nativeElement,Z)}),this._customClass=L?L.trim():"",this.customClass&&this.customClass.split(" ").forEach(Z=>{this.renderer.addClass(this.elementRef.nativeElement,Z)})}get active(){return this._active}set active(L){if(this._active!==L){if(this.disabled&&L||!L)return void(this._active&&!L&&(this.deselect.emit(this),this._active=L));this._active=L,this.selectTab.emit(this),this.tabset.tabs.forEach(Z=>{Z!==this&&(Z.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return a.\u0275fac=function(L){return new(L||a)(t.Y36(w),t.Y36(t.SBq),t.Y36(t.Qsj))},a.\u0275dir=t.lG2({type:a,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(L,Z){2&L&&(t.uIk("id",Z.id)("role",Z.role)("aria-labelledby",Z.ariaLabelledby),t.ekj("active",Z.active)("tab-pane",Z.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),a})(),P=(()=>{class a{static forRoot(){return{ngModule:a,providers:[]}}}return a.\u0275fac=function(L){return new(L||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[e.ez]}),a})()},2320:(dt,Ce,p)=>{"use strict";p.d(Ce,{i9:()=>P,z8:()=>a});var t=p(4650),e=p(1607),m=p(8664),T=p(655),C=p(2381),b=p(5963),g=p(6895);const f=["*"];let w=(()=>{class k{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return k.\u0275fac=function(Z){return new(Z||k)},k.\u0275prov=t.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),_=(()=>{class k{constructor(Z){Object.assign(this,Z)}get _bsVersions(){return(0,e.Wl)()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=m.Bz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return k.\u0275fac=function(Z){return new(Z||k)(t.Y36(w))},k.\u0275cmp=t.Xpm({type:k,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(Z,j){2&Z&&(t.uIk("id",j.id),t.Tol("tooltip in tooltip-"+j.placement+" bs-tooltip-"+j.placement+" "+j.placement+" "+j.containerClass),t.ekj("show",!j._bsVersions.isBs3)("bs3",j._bsVersions.isBs3))},ngContentSelectors:f,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(Z,j){1&Z&&(t.F$t(),t._UZ(0,"div",0),t.TgZ(1,"div",1),t.Hsn(2),t.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),k})(),R=0,P=(()=>{class k{constructor(Z,j,N,B,V,J){this._elementRef=B,this._renderer=V,this._positionService=J,this.tooltipId=R++,this.adaptivePosition=!0,this.tooltipChange=new t.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new t.vpe,this._tooltip=j.createLoader(this._elementRef,Z,this._renderer).provide({provide:w,useValue:N}),Object.assign(this,N),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(Z){Z?this.show():this.hide()}set htmlContent(Z){(0,e.O4)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=Z}set _placement(Z){(0,e.O4)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=Z}set _isOpen(Z){(0,e.O4)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=Z}get _isOpen(){return(0,e.O4)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(Z){(0,e.O4)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!Z}get _enable(){return(0,e.O4)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(Z){(0,e.O4)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=Z?"body":this.container}get _appendToBody(){return(0,e.O4)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(Z){(0,e.O4)("tooltipClass deprecated")}set _tooltipContext(Z){(0,e.O4)("tooltipContext deprecated")}set _tooltipPopupDelay(Z){(0,e.O4)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=Z}get _tooltipTrigger(){return(0,e.O4)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(Z){(0,e.O4)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(Z||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(Z=>{Z||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const Z=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(_).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},j=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,b.H)(this.delay).subscribe(()=>{Z(),j()}),this.triggers&&(0,e.AL)(this.triggers).forEach(N=>{!N.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,N.close,()=>{var B;null===(B=this._delaySubscription)||void 0===B||B.unsubscribe(),j()}))})):Z()}hide(){var Z;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(null!==(Z=this._tooltip.instance)&&void 0!==Z&&Z.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return k.\u0275fac=function(Z){return new(Z||k)(t.Y36(t.s_b),t.Y36(C.oj),t.Y36(w),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(m.sA))},k.\u0275dir=t.lG2({type:k,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,T.gn)([(0,e.GU)(),(0,T.w6)("design:type",Object)],k.prototype,"tooltip",void 0),k})(),a=(()=>{class k{static forRoot(){return{ngModule:k,providers:[C.oj,m.sA]}}}return k.\u0275fac=function(Z){return new(Z||k)},k.\u0275mod=t.oAB({type:k}),k.\u0275inj=t.cJS({imports:[g.ez]}),k})()},1191:(dt,Ce,p)=>{"use strict";p.d(Ce,{Bp:()=>We,H3:()=>Je});var t=p(4650),e=p(1607),m=p(8664),T=p(727),C=p(5191),b=p(515),g=p(2076),f=p(7340),w=p(6895),_=p(4006),R=p(2381),P=p(8372),a=p(8505),k=p(3900),L=p(5577),Z=p(9300),j=p(7359),N=p(4482);const V=(Oe,i)=>(Oe.push(i),Oe);const q=["ulElement"],re=["liElements"];function W(Oe,i){}function G(Oe,i){if(1&Oe&&t._UZ(0,"span",4),2&Oe){const we=i.match,$e=i.query,Ye=t.oxw();t.Q6J("innerHtml",Ye.highlight(we,$e),t.oJD)}}function X(Oe,i){if(1&Oe&&(t.TgZ(0,"li",10,11),t._uU(2),t.qZA()),2&Oe){const we=t.oxw().$implicit;t.xp6(2),t.Oqu(we)}}function E(Oe,i){}const ne=function(Oe,i,we,$e){return{item:Oe,index:i,match:we,query:$e}};function K(Oe,i){if(1&Oe){const we=t.EpF();t.TgZ(0,"li",12,11),t.NdJ("mouseenter",function(){t.CHM(we);const Ye=t.oxw().$implicit,Xe=t.oxw(2);return t.KtG(Xe.selectActive(Ye))}),t.TgZ(2,"a",13),t.NdJ("click",function(Ye){t.CHM(we);const Xe=t.oxw().$implicit,Fe=t.oxw(2);return t.KtG(Fe.selectMatch(Xe,Ye))}),t.YNc(3,E,0,0,"ng-template",0),t.qZA()()}if(2&Oe){const we=t.oxw(),$e=we.$implicit,Ye=we.index,Xe=t.oxw(2),Fe=t.MAs(2);t.ekj("active",Xe.isActive($e)),t.Q6J("id",Xe.popupId+"-"+Ye)("@typeaheadAnimation",Xe.animationState),t.xp6(3),t.Q6J("ngTemplateOutlet",Xe.itemTemplate||Fe)("ngTemplateOutletContext",t.l5B(6,ne,$e.item,Ye,$e,Xe.query))}}function le(Oe,i){if(1&Oe&&(t.YNc(0,X,3,1,"li",8),t.YNc(1,K,4,11,"li",9)),2&Oe){const we=i.$implicit;t.Q6J("ngIf",we.isHeader()),t.xp6(1),t.Q6J("ngIf",!we.isHeader())}}function me(Oe,i){if(1&Oe&&(t.TgZ(0,"ul",5,6),t.YNc(2,le,2,2,"ng-template",7),t.qZA()),2&Oe){const we=t.oxw();t.Udp("overflow-y",we.needScrollbar?"scroll":"auto")("height",we.needScrollbar?we.guiHeight:"auto"),t.xp6(2),t.Q6J("ngForOf",we.matches)}}function Se(Oe,i){if(1&Oe&&(t.TgZ(0,"h6",10),t._uU(1),t.qZA()),2&Oe){const we=t.oxw().$implicit;t.xp6(1),t.Oqu(we)}}function ye(Oe,i){}function ze(Oe,i){if(1&Oe){const we=t.EpF();t.TgZ(0,"button",15,11),t.NdJ("click",function(Ye){t.CHM(we);const Xe=t.oxw().$implicit,Fe=t.oxw(2);return t.KtG(Fe.selectMatch(Xe,Ye))})("mouseenter",function(){t.CHM(we);const Ye=t.oxw().$implicit,Xe=t.oxw(2);return t.KtG(Xe.selectActive(Ye))}),t.YNc(2,ye,0,0,"ng-template",0),t.qZA()}if(2&Oe){const we=t.oxw(),$e=we.$implicit,Ye=we.index,Xe=t.oxw(2),Fe=t.MAs(2);t.ekj("active",Xe.isActive($e)),t.Q6J("id",Xe.popupId+"-"+Ye)("@typeaheadAnimation",Xe.animationState),t.xp6(2),t.Q6J("ngTemplateOutlet",Xe.itemTemplate||Fe)("ngTemplateOutletContext",t.l5B(6,ne,$e.item,Ye,$e,Xe.query))}}function Ee(Oe,i){if(1&Oe&&(t.YNc(0,Se,2,1,"h6",8),t.YNc(1,ze,3,11,"ng-template",14)),2&Oe){const we=i.$implicit;t.Q6J("ngIf",we.isHeader()),t.xp6(1),t.Q6J("ngIf",!we.isHeader())}}function qe(Oe,i){if(1&Oe&&t.YNc(0,Ee,2,2,"ng-template",7),2&Oe){const we=t.oxw();t.Q6J("ngForOf",we.matches)}}const Te=function(Oe,i,we,$e){return{matches:Oe,itemTemplate:i,query:we,$implicit:$e}},nt={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class wt{constructor(i,we=i,$e=!1){this.item=i,this.value=we,this.header=$e}isHeader(){return this.header}toString(){return this.value}}function lt(Oe){return Oe?Oe.replace(/[^A-Za-z0-9[\] ]/g,function(i){return nt[i]||i}):""}function pt(Oe,i=" ",we="",$e){let Ye=[];if($e){const Fe=Oe.split(new RegExp(`([${$e}]+)`,"g")),Tt=Fe[Fe.length-1];Tt>""&&(i&&we?Ye=Yt(Tt,i,we):Ye.push(Tt))}else Ye=Yt(Oe,i,we);return Ye}function Yt(Oe,i,we){const $e=[],Xe=Oe.split(new RegExp(`(?:[${we}])([^${we}]+)(?:[${we}])|([^${i}]+)`,"g")),Fe=Xe.length;let Tt;const vt=new RegExp(`[${we}]+`,"g");for(let Ge=0;Ge<Fe;Ge+=1)Tt=Xe[Ge],Tt&&Tt.length&&Tt!==i&&$e.push(Tt.replace(vt,""));return $e}function un(Oe,i){if(!i||"object"!=typeof Oe)return Oe.toString();if(i.endsWith("()"))return Oe[i.slice(0,i.length-2)]().toString();const $e=i.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const Ye of $e)Ye in Oe&&(Oe=Oe[Ye]);return Oe?Oe.toString():""}const Nt="220ms cubic-bezier(0, 0, 0.2, 1)",Mt=(0,f.X$)("typeaheadAnimation",[(0,f.SB)("animated-down",(0,f.oB)({height:"*",overflow:"hidden"})),(0,f.eR)("* => animated-down",[(0,f.oB)({height:0,overflow:"hidden"}),(0,f.jt)(Nt)]),(0,f.SB)("animated-up",(0,f.oB)({height:"*",overflow:"hidden"})),(0,f.eR)("* => animated-up",[(0,f.oB)({height:"*",overflow:"hidden"}),(0,f.jt)(Nt)]),(0,f.eR)("* => unanimated",(0,f.jt)("0s"))]);let Y=0,Q=(()=>{class Oe{constructor(we,$e,Ye,Xe){var Fe;this.positionService=we,this.renderer=$e,this.element=Ye,this.changeDetectorRef=Xe,this.activeChangeEvent=new t.vpe,this.isFocused=!1,this.positionServiceSubscription=new T.w0,this.height=0,this.popupId="ngb-typeahead-"+Y++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(null===(Fe=this.positionService.event$)||void 0===Fe?void 0:Fe.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get isBs4(){return!(0,e.XA)()}get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}get active(){return this._active}set active(we){this._active=we,this.activeChanged()}get matches(){return this._matches}set matches(we){var $e;if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=we,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),null!==($e=this._active)&&void 0!==$e&&$e.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const Ye=this._matches.find(Xe=>{var Fe;return Xe.value===(null===(Fe=this._active)||void 0===Fe?void 0:Fe.value)});if(Ye)return void this.selectActive(Ye);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){var we;return!(null===(we=this.parent)||void 0===we||!we.selectItemOnBlur)}selectActiveMatch(we){var $e,Ye;this._active&&null!==($e=this.parent)&&void 0!==$e&&$e.typeaheadSelectFirstItem&&this.selectMatch(this._active),(null===(Ye=this.parent)||void 0===Ye||!Ye.typeaheadSelectFirstItem)&&we&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const we=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${we}`)}prevActiveMatch(){if(!this._active)return;const we=this.matches.indexOf(this._active);this.setActive(this.matches[we-1<0?this.matches.length-1:we-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(we)}nextActiveMatch(){var we;const $e=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[$e+1>this.matches.length-1?0:$e+1]),null!==(we=this._active)&&void 0!==we&&we.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext($e)}selectActive(we){this.isFocused=!0,this.setActive(we)}highlight(we,$e){let Fe,Tt,Ye=we.value,Xe=(this.parent&&this.parent.typeaheadLatinize?lt(Ye):Ye).toLowerCase();if("object"==typeof $e){const vt=$e.length;for(let Ge=0;Ge<vt;Ge+=1)Fe=Xe.indexOf($e[Ge]),Tt=$e[Ge].length,Fe>=0&&Tt>0&&(Ye=`${Ye.substring(0,Fe)}<strong>${Ye.substring(Fe,Fe+Tt)}</strong>${Ye.substring(Fe+Tt)}`,Xe=`${Xe.substring(0,Fe)}        ${" ".repeat(Tt)}         ${Xe.substring(Fe+Tt)}`)}else $e&&(Fe=Xe.indexOf($e),Tt=$e.length,Fe>=0&&Tt>0&&(Ye=`${Ye.substring(0,Fe)}<strong>${Ye.substring(Fe,Fe+Tt)}</strong>${Ye.substring(Fe+Tt)}`));return Ye}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(we){return this.active===we}selectMatch(we,$e){var Ye;return $e&&($e.stopPropagation(),$e.preventDefault()),null===(Ye=this.parent)||void 0===Ye||Ye.changeModel(we),setTimeout(()=>{var Xe;return null===(Xe=this.parent)||void 0===Xe?void 0:Xe.typeaheadOnSelect.emit(we)},0),!1}setScrollableMode(){var we;if(this.ulElement||(this.ulElement=this.element),null!==(we=this.liElements)&&void 0!==we&&we.first){const $e=e.cQ.getStyles(this.ulElement.nativeElement),Ye=e.cQ.getStyles(this.liElements.first.nativeElement),Xe=parseFloat(($e["padding-bottom"]?$e["padding-bottom"]:"").replace("px","")),Fe=parseFloat(($e["padding-top"]?$e["padding-top"]:"0").replace("px","")),Tt=parseFloat((Ye.height?Ye.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*Tt+Fe+Xe}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(we){if(0!==we){if(this.liElements&&this.ulElement){const $e=this.liElements.toArray()[we-1];$e&&!this.isScrolledIntoView($e.nativeElement)&&(this.ulElement.nativeElement.scrollTop=$e.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(we){if(we+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const $e=this.liElements.toArray()[we+1];$e&&!this.isScrolledIntoView($e.nativeElement)&&(this.ulElement.nativeElement.scrollTop=$e.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number($e.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(we){var $e;let Ye;this._active=we,null==this._active||this._active.isHeader()||(Ye=we),null===($e=this.parent)||void 0===$e||$e.typeaheadOnPreview.emit(Ye)}isScrolledIntoView(we){if(!this.ulElement)return!1;const $e=this.ulElement.nativeElement.scrollTop,Ye=$e+Number(this.ulElement.nativeElement.offsetHeight),Xe=we.offsetTop;return Xe+we.offsetHeight<=Ye&&Xe>=$e}scrollToBottom(){var we;null===(we=this.ulElement)||void 0===we||!we.nativeElement||(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){var we;null===(we=this.ulElement)||void 0===we||!we.nativeElement||(this.ulElement.nativeElement.scrollTop=0)}}return Oe.\u0275fac=function(we){return new(we||Oe)(t.Y36(m.sA),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(t.sBO))},Oe.\u0275cmp=t.Xpm({type:Oe,selectors:[["typeahead-container"]],viewQuery:function(we,$e){if(1&we&&(t.Gf(q,5),t.Gf(re,5)),2&we){let Ye;t.iGM(Ye=t.CRH())&&($e.ulElement=Ye.first),t.iGM(Ye=t.CRH())&&($e.liElements=Ye)}},hostAttrs:[1,"dropdown","open","bottom",2,"position","absolute","display","block"],hostVars:9,hostBindings:function(we,$e){1&we&&t.NdJ("mouseleave",function(){return $e.focusLost()})("blur",function(){return $e.focusLost()}),2&we&&(t.uIk("role",$e.isBs4?"listbox":null),t.Udp("height",$e.isBs4&&$e.needScrollbar?$e.guiHeight:"auto")("visibility","inherit"),t.ekj("dropdown-menu",$e.isBs4)("dropup",$e.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:7,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["bsItemTemplate",""],["bs3Template",""],["bs4Template",""],[3,"innerHtml"],["role","listbox",1,"dropdown-menu"],["ulElement",""],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],["role","option",3,"id","active","mouseenter",4,"ngIf"],[1,"dropdown-header"],["liElements",""],["role","option",3,"id","mouseenter"],["href","#","tabindex","-1",3,"click"],[3,"ngIf"],["role","option",1,"dropdown-item",3,"id","click","mouseenter"]],template:function(we,$e){if(1&we&&(t.YNc(0,W,0,0,"ng-template",0),t.YNc(1,G,1,1,"ng-template",null,1,t.W1O),t.YNc(3,me,3,5,"ng-template",null,2,t.W1O),t.YNc(5,qe,1,1,"ng-template",null,3,t.W1O)),2&we){const Ye=t.MAs(2),Xe=t.MAs(4),Fe=t.MAs(6);t.Q6J("ngTemplateOutlet",$e.optionsListTemplate||($e.isBs4?Fe:Xe))("ngTemplateOutletContext",t.l5B(2,Te,$e.matches,$e.itemTemplate||Ye,$e.query,$e.typeaheadTemplateMethods))}},dependencies:[w.sg,w.O5,w.tP],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[Mt]}}),Oe})(),ce=(()=>{class Oe{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}}return Oe.\u0275fac=function(we){return new(we||Oe)},Oe.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),We=(()=>{class Oe{constructor(we,$e,Ye,Xe,Fe,Tt,vt){this.changeDetection=Ye,this.element=Xe,this.ngControl=Fe,this.renderer=Tt,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new t.vpe,this.typeaheadNoResults=new t.vpe,this.typeaheadOnSelect=new t.vpe,this.typeaheadOnPreview=new t.vpe,this.typeaheadOnBlur=new t.vpe,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new t.vpe,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=we.createLoader(Xe,vt,Tt).provide({provide:ce,useValue:$e}),Object.assign(this,{typeaheadHideResultsOnBlur:$e.hideResultsOnBlur,cancelRequestOnFocusLost:$e.cancelRequestOnFocusLost,typeaheadSelectFirstItem:$e.selectFirstItem,typeaheadIsFirstItemActive:$e.isFirstItemActive,typeaheadMinLength:$e.minLength,adaptivePosition:$e.adaptivePosition,isAnimated:$e.isAnimated,selectItemOnBlur:$e.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,C.b)(this.typeahead)&&(this.typeaheadAsync=!1),(0,C.b)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(we){const $e=void 0!==we.target.value?we.target.value:void 0!==we.target.textContent?we.target.textContent:we.target.innerText;null!=$e&&$e.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(we.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(we){if(this._container){if(27===we.keyCode||"Escape"===we.key)return void this.hide();if(38===we.keyCode||"ArrowUp"===we.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===we.keyCode||"ArrowDown"===we.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===we.keyCode||"Enter"===we.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){var we;this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===(null===(we=this._matches)||void 0===we?void 0:we.length)&&this.typeaheadOnBlur.emit(new wt(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(we){if(this._container&&((9===we.keyCode||"Tab"===we.key)&&this.onBlur(),9===we.keyCode||"Tab"===we.key||13===we.keyCode||"Enter"===we.key)){if(we.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(we){var $e;if(!we)return;let Ye;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const Xe=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=Xe.slice(0,Xe.length-1).concat(we.value).join(""),Ye=this._allEnteredValue}else Ye=we.value;this.ngControl.viewToModelUpdate(Ye),null===($e=this.ngControl.control)||void 0===$e||$e.setValue(Ye),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(Q).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",$e=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains($e.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains($e.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const we=(this.typeaheadLatinize?lt(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(we),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe($e=>{this.activeDescendant=$e,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const we of this._subscriptions)we.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,P.b)(this.typeaheadWaitMs),(0,a.b)(we=>this._allEnteredValue=we),(0,k.w)(()=>this.typeahead?this.typeahead:b.E)).subscribe(we=>{this.finalizeAsyncCall(we)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,P.b)(this.typeaheadWaitMs),(0,L.z)(we=>{this._allEnteredValue=we;const $e=this.normalizeQuery(we);return this.typeahead?((0,C.b)(this.typeahead)?this.typeahead:(0,g.D)(this.typeahead)).pipe((0,Z.h)(Xe=>!!Xe&&this.testMatch(this.normalizeOption(Xe),$e)),function J(){return(0,N.e)((Oe,i)=>{(function B(Oe,i){return(0,N.e)((0,j.U)(Oe,i,arguments.length>=2,!1,!0))})(V,[])(Oe).subscribe(i)})}()):b.E})).subscribe(we=>{this.finalizeAsyncCall(we)}))}normalizeOption(we){const $e=un(we,this.typeaheadOptionField);return(this.typeaheadLatinize?lt($e):$e).toLowerCase()}tokenizeQuery(we){let $e=we;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||($e=pt($e,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):$e=this.typeaheadSingleWords?pt($e,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):pt($e,void 0,void 0,this.typeaheadMultipleSearchDelimiters),$e}normalizeQuery(we){let $e=(this.typeaheadLatinize?lt(we):we).toString().toLowerCase();return $e=this.tokenizeQuery($e),$e}testMatch(we,$e){let Ye;if("object"==typeof $e){Ye=$e.length;for(let Xe=0;Xe<Ye;Xe+=1)if($e[Xe].length>0&&we.indexOf($e[Xe])<0)return!1;return!0}return we.indexOf($e)>=0}finalizeAsyncCall(we){if(this.prepareMatches(we||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const Ye=((this.typeaheadLatinize?lt(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(Ye),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(we){const $e=we.slice(0,this.typeaheadOptionsLimit),Ye=this.typeaheadOrderBy?this.orderMatches($e):$e;if(this.typeaheadGroupField){let Xe=[];Ye.map(Tt=>un(Tt,this.typeaheadGroupField)).filter((Tt,vt,Ge)=>Ge.indexOf(Tt)===vt).forEach(Tt=>{Xe.push(new wt(Tt,Tt,!0)),Xe=Xe.concat(Ye.filter(vt=>un(vt,this.typeaheadGroupField)===Tt).map(vt=>new wt(vt,un(vt,this.typeaheadOptionField))))}),this._matches=Xe}else this._matches=Ye.map(Xe=>new wt(Xe,un(Xe,this.typeaheadOptionField)))}orderMatches(we){if(!we.length)return we;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),we;const{field:$e,direction:Ye}=this.typeaheadOrderBy||{};return!Ye||"asc"!==Ye&&"desc"!==Ye?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),we):"string"==typeof we[0]?"asc"===Ye?we.sort():we.sort().reverse():$e&&"string"==typeof $e?we.sort((Xe,Fe)=>{const Tt=un(Xe,$e),vt=un(Fe,$e);return Tt<vt?"asc"===Ye?-1:1:Tt>vt?"asc"===Ye?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),we)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(we,$e){for(let Ye=0;Ye<we.length;Ye++)if(we.charAt(Ye).indexOf($e)>-1)return!0;return!1}}return Oe.\u0275fac=function(we){return new(we||Oe)(t.Y36(R.oj),t.Y36(ce),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(_.a5),t.Y36(t.Qsj),t.Y36(t.s_b))},Oe.\u0275dir=t.lG2({type:Oe,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(we,$e){1&we&&t.NdJ("input",function(Xe){return $e.onInput(Xe)})("keyup",function(Xe){return $e.onChange(Xe)})("click",function(){return $e.onFocus()})("focus",function(){return $e.onFocus()})("blur",function(){return $e.onBlur()})("keydown",function(Xe){return $e.onKeydown(Xe)}),2&we&&t.uIk("aria-activedescendant",$e.activeDescendant)("aria-owns",$e.isOpen?$e._container.popupId:null)("aria-expanded",$e.isOpen)("aria-autocomplete",$e.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]}),Oe})(),Je=(()=>{class Oe{static forRoot(){return{ngModule:Oe,providers:[R.oj,m.sA]}}}return Oe.\u0275fac=function(we){return new(we||Oe)},Oe.\u0275mod=t.oAB({type:Oe}),Oe.\u0275inj=t.cJS({imports:[w.ez]}),Oe})()},1607:(dt,Ce,p)=>{"use strict";p.d(Ce,{AL:()=>T,C:()=>f,GU:()=>me,O4:()=>Ee,Rg:()=>g,Wl:()=>ne,XA:()=>G,cQ:()=>Se,tj:()=>_,u9:()=>w,wo:()=>b});var t=p(4650);class e{constructor(Te,nt){this.open=Te,this.close=nt||Te}isManual(){return"manual"===this.open||"manual"===this.close}}const m={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function T(qe,Te=m){const nt=(qe||"").trim();if(0===nt.length)return[];const at=nt.split(/\s+/).map(lt=>lt.split(":")).map(lt=>{const mt=Te[lt[0]]||lt;return new e(mt[0],mt[1])}),wt=at.filter(lt=>lt.isManual());if(wt.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===wt.length&&at.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return at}function b(qe,Te){const nt=T(Te.triggers),at=Te.target;if(1===nt.length&&nt[0].isManual())return Function.prototype;const wt=[],lt=[],mt=()=>{lt.forEach(pt=>wt.push(pt())),lt.length=0};return nt.forEach(pt=>{const Yt=pt.open===pt.close,un=Yt?Te.toggle:Te.show;if(!Yt&&pt.close&&Te.hide){const Nt=qe.listen(at,pt.close,Te.hide);lt.push(()=>Nt)}un&&wt.push(qe.listen(at,pt.open,()=>un(mt)))}),()=>{wt.forEach(pt=>pt())}}function g(qe,Te){return Te.outsideClick?qe.listen("document","click",nt=>{Te.target&&Te.target.contains(nt.target)||Te.targets&&Te.targets.some(at=>at.contains(nt.target))||Te.hide&&Te.hide()}):Function.prototype}function f(qe,Te){return Te.outsideEsc?qe.listen("document","keyup.esc",nt=>{Te.target&&Te.target.contains(nt.target)||Te.targets&&Te.targets.some(at=>at.contains(nt.target))||Te.hide&&Te.hide()}):Function.prototype}const w=typeof window<"u"&&window||{},_=w.document;var J=(()=>{return(qe=J||(J={})).isBs3="bs3",qe.isBs4="bs4",qe.isBs5="bs5",J;var qe})();let q;function re(){if(typeof w.document>"u")return"bs4";const qe=w.document.createElement("span");qe.innerText="testing bs version",qe.classList.add("d-none"),qe.classList.add("pl-1"),w.document.head.appendChild(qe);const Te=qe.getBoundingClientRect(),nt=w.getComputedStyle(qe).paddingLeft;return!Te||Te&&0!==Te.top?(w.document.head.removeChild(qe),"bs3"):nt&&parseFloat(nt)?(w.document.head.removeChild(qe),"bs4"):(w.document.head.removeChild(qe),"bs5")}function G(){return typeof w>"u"||(typeof w.__theme>"u"?(q||(q=re()),"bs3"===q):"bs3"===w.__theme)}function X(){return!G()&&(q||(q=re()),"bs4"===q)}function ne(){return{isBs3:G(),isBs4:X(),isBs5:!G()&&!X()&&(q||(q=re()),"bs5"===q)}}function me(){return function(nt,at){const wt=` __${at}Value`;Object.defineProperty(nt,at,{get(){return this[wt]},set(lt){const mt=this[wt];this[wt]=lt,mt!==lt&&this[at+"Change"]&&this[at+"Change"].emit(lt)}})}}class Se{static reflow(Te){}static getStyles(Te){let nt=Te.ownerDocument.defaultView;return(!nt||!nt.opener)&&(nt=w),nt.getComputedStyle(Te)}static stackOverflowConfig(){const Te=function K(){const qe=ne(),Te=Object.keys(qe).find(nt=>qe[nt]);return J[Te]}();return{crossorigin:"bs3"!==Te?"anonymous":void 0,integrity:"bs5"===Te?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===Te?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===Te?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===Te?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}const ye={},ze=typeof console>"u"||!("warn"in console);function Ee(qe){!(0,t.X6Q)()||ze||qe in ye||(ye[qe]=!0,console.warn(qe))}},7185:(dt,Ce,p)=>{"use strict";p.d(Ce,{Rh:()=>Ee,_W:()=>Se});var t=p(4650),e=p(7340),m=p(7579),T=p(6895),C=p(1481);const b=["toast-component",""];function g(wt,lt){if(1&wt){const mt=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(mt);const Yt=t.oxw();return t.KtG(Yt.remove())}),t.TgZ(1,"span",6),t._uU(2,"\xd7"),t.qZA()()}}function f(wt,lt){if(1&wt&&(t.ynx(0),t._uU(1),t.BQk()),2&wt){const mt=t.oxw(2);t.xp6(1),t.hij("[",mt.duplicatesCount+1,"]")}}function w(wt,lt){if(1&wt&&(t.TgZ(0,"div"),t._uU(1),t.YNc(2,f,2,1,"ng-container",4),t.qZA()),2&wt){const mt=t.oxw();t.Tol(mt.options.titleClass),t.uIk("aria-label",mt.title),t.xp6(1),t.hij(" ",mt.title," "),t.xp6(1),t.Q6J("ngIf",mt.duplicatesCount)}}function _(wt,lt){if(1&wt&&t._UZ(0,"div",7),2&wt){const mt=t.oxw();t.Tol(mt.options.messageClass),t.Q6J("innerHTML",mt.message,t.oJD)}}function R(wt,lt){if(1&wt&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&wt){const mt=t.oxw();t.Tol(mt.options.messageClass),t.uIk("aria-label",mt.message),t.xp6(1),t.hij(" ",mt.message," ")}}function P(wt,lt){if(1&wt&&(t.TgZ(0,"div"),t._UZ(1,"div",9),t.qZA()),2&wt){const mt=t.oxw();t.xp6(1),t.Udp("width",mt.width+"%")}}class J{constructor(lt,mt){this.component=lt,this.injector=mt}attach(lt,mt){return this._attachedHost=lt,lt.attach(this,mt)}detach(){const lt=this._attachedHost;if(lt)return this._attachedHost=void 0,lt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(lt){this._attachedHost=lt}}class re{constructor(lt,mt,pt,Yt,un,Nt){this.toastId=lt,this.config=mt,this.message=pt,this.title=Yt,this.toastType=un,this.toastRef=Nt,this._onTap=new m.x,this._onAction=new m.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(lt){this._onAction.next(lt)}onAction(){return this._onAction.asObservable()}}const G=new t.OlP("ToastConfig");class X{constructor(lt){this._overlayRef=lt,this.duplicatesCount=0,this._afterClosed=new m.x,this._activate=new m.x,this._manualClose=new m.x,this._resetTimeout=new m.x,this._countDuplicate=new m.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(lt,mt){lt&&this._resetTimeout.next(),mt&&this._countDuplicate.next(++this.duplicatesCount)}}class E{constructor(lt,mt){this._toastPackage=lt,this._parentInjector=mt}get(lt,mt,pt){return lt===re?this._toastPackage:this._parentInjector.get(lt,mt,pt)}}class ne extends class q{attach(lt,mt){return this._attachedPortal=lt,this.attachComponentPortal(lt,mt)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(lt){this._disposeFn=lt}}{constructor(lt,mt,pt){super(),this._hostDomElement=lt,this._componentFactoryResolver=mt,this._appRef=pt}attachComponentPortal(lt,mt){const pt=this._componentFactoryResolver.resolveComponentFactory(lt.component);let Yt;return Yt=pt.create(lt.injector),this._appRef.attachView(Yt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Yt.hostView),Yt.destroy()}),mt?this._hostDomElement.insertBefore(this._getComponentRootNode(Yt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Yt)),Yt}_getComponentRootNode(lt){return lt.hostView.rootNodes[0]}}class K{constructor(lt){this._portalHost=lt}attach(lt,mt=!0){return this._portalHost.attach(lt,mt)}detach(){return this._portalHost.detach()}}let le=(()=>{class wt{constructor(mt){this._document=mt}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const mt=this._document.createElement("div");mt.classList.add("overlay-container"),mt.setAttribute("aria-live","polite"),this._document.body.appendChild(mt),this._containerElement=mt}}return wt.\u0275fac=function(mt){return new(mt||wt)(t.LFG(T.K0))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),me=(()=>{class wt{constructor(mt,pt,Yt,un){this._overlayContainer=mt,this._componentFactoryResolver=pt,this._appRef=Yt,this._document=un,this._paneElements=new Map}create(mt,pt){return this._createOverlayRef(this.getPaneElement(mt,pt))}getPaneElement(mt="",pt){return this._paneElements.get(pt)||this._paneElements.set(pt,{}),this._paneElements.get(pt)[mt]||(this._paneElements.get(pt)[mt]=this._createPaneElement(mt,pt)),this._paneElements.get(pt)[mt]}_createPaneElement(mt,pt){const Yt=this._document.createElement("div");return Yt.id="toast-container",Yt.classList.add(mt),Yt.classList.add("toast-container"),pt?pt.getContainerElement().appendChild(Yt):this._overlayContainer.getContainerElement().appendChild(Yt),Yt}_createPortalHost(mt){return new ne(mt,this._componentFactoryResolver,this._appRef)}_createOverlayRef(mt){return new K(this._createPortalHost(mt))}}return wt.\u0275fac=function(mt){return new(mt||wt)(t.LFG(le),t.LFG(t._Vd),t.LFG(t.z2F),t.LFG(T.K0))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),Se=(()=>{class wt{constructor(mt,pt,Yt,un,Nt){this.overlay=pt,this._injector=Yt,this.sanitizer=un,this.ngZone=Nt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...mt.default,...mt.config},mt.config.iconClasses&&(this.toastrConfig.iconClasses={...mt.default.iconClasses,...mt.config.iconClasses})}show(mt,pt,Yt={},un=""){return this._preBuildNotification(un,mt,pt,this.applyConfig(Yt))}success(mt,pt,Yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",mt,pt,this.applyConfig(Yt))}error(mt,pt,Yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",mt,pt,this.applyConfig(Yt))}info(mt,pt,Yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",mt,pt,this.applyConfig(Yt))}warning(mt,pt,Yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",mt,pt,this.applyConfig(Yt))}clear(mt){for(const pt of this.toasts)if(void 0!==mt){if(pt.toastId===mt)return void pt.toastRef.manualClose()}else pt.toastRef.manualClose()}remove(mt){const pt=this._findToast(mt);if(!pt||(pt.activeToast.toastRef.close(),this.toasts.splice(pt.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Yt=this.toasts[this.currentlyActive].toastRef;Yt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Yt.activate())}return!0}findDuplicate(mt="",pt="",Yt,un){const{includeTitleDuplicates:Nt}=this.toastrConfig;for(const Mt of this.toasts){const Y=Nt&&Mt.title===mt;if((!Nt||Y)&&Mt.message===pt)return Mt.toastRef.onDuplicate(Yt,un),Mt}return null}applyConfig(mt={}){return{...this.toastrConfig,...mt}}_findToast(mt){for(let pt=0;pt<this.toasts.length;pt++)if(this.toasts[pt].toastId===mt)return{index:pt,activeToast:this.toasts[pt]};return null}_preBuildNotification(mt,pt,Yt,un){return un.onActivateTick?this.ngZone.run(()=>this._buildNotification(mt,pt,Yt,un)):this._buildNotification(mt,pt,Yt,un)}_buildNotification(mt,pt,Yt,un){if(!un.toastComponent)throw new Error("toastComponent required");const Nt=this.findDuplicate(Yt,pt,this.toastrConfig.resetTimeoutOnDuplicate&&un.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Yt||pt)&&this.toastrConfig.preventDuplicates&&null!==Nt)return Nt;this.previousToastMessage=pt;let Mt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Mt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Y=this.overlay.create(un.positionClass,this.overlayContainer);this.index=this.index+1;let Q=pt;pt&&un.enableHtml&&(Q=this.sanitizer.sanitize(t.q3G.HTML,pt));const ce=new X(Y),We=new re(this.index,un,Q,Yt,mt,ce),Je=new E(We,this._injector),Oe=new J(un.toastComponent,Je),i=Y.attach(Oe,this.toastrConfig.newestOnTop);ce.componentInstance=i.instance;const we={toastId:this.index,title:Yt||"",message:pt||"",toastRef:ce,onShown:ce.afterActivate(),onHidden:ce.afterClosed(),onTap:We.onTap(),onAction:We.onAction(),portal:i};return Mt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{we.toastRef.activate()})),this.toasts.push(we),we}}return wt.\u0275fac=function(mt){return new(mt||wt)(t.LFG(G),t.LFG(me),t.LFG(t.zs3),t.LFG(C.H7),t.LFG(t.R0b))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();const ze={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class wt{constructor(mt,pt,Yt){this.toastrService=mt,this.toastPackage=pt,this.ngZone=Yt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=pt.message,this.title=pt.title,this.options=pt.config,this.originalTimeout=pt.config.timeOut,this.toastClasses=`${pt.toastType} ${pt.config.toastClass}`,this.sub=pt.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=pt.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=pt.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=pt.toastRef.countDuplicate().subscribe(un=>{this.duplicatesCount=un})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const mt=(new Date).getTime();this.width=(this.hideTime-mt)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(mt,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(mt),pt)):this.timeout=setTimeout(()=>mt(),pt)}outsideInterval(mt,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(mt),pt)):this.intervalId=setInterval(()=>mt(),pt)}runInsideAngular(mt){this.ngZone?this.ngZone.run(()=>mt()):mt()}}return wt.\u0275fac=function(mt){return new(mt||wt)(t.Y36(Se),t.Y36(re),t.Y36(t.R0b))},wt.\u0275cmp=t.Xpm({type:wt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(mt,pt){1&mt&&t.NdJ("click",function(){return pt.tapToast()})("mouseenter",function(){return pt.stickAround()})("mouseleave",function(){return pt.delayedHideToast()}),2&mt&&(t.d8E("@flyInOut",pt.state),t.Tol(pt.toastClasses),t.Udp("display",pt.displayStyle))},attrs:b,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(mt,pt){1&mt&&(t.YNc(0,g,3,0,"button",0),t.YNc(1,w,3,5,"div",1),t.YNc(2,_,1,3,"div",2),t.YNc(3,R,2,4,"div",3),t.YNc(4,P,2,2,"div",4)),2&mt&&(t.Q6J("ngIf",pt.options.closeButton),t.xp6(1),t.Q6J("ngIf",pt.title),t.xp6(1),t.Q6J("ngIf",pt.message&&pt.options.enableHtml),t.xp6(1),t.Q6J("ngIf",pt.message&&!pt.options.enableHtml),t.xp6(1),t.Q6J("ngIf",pt.options.progressBar))},dependencies:[T.O5],encapsulation:2,data:{animation:[(0,e.X$)("flyInOut",[(0,e.SB)("inactive",(0,e.oB)({opacity:0})),(0,e.SB)("active",(0,e.oB)({opacity:1})),(0,e.SB)("removed",(0,e.oB)({opacity:0})),(0,e.eR)("inactive => active",(0,e.jt)("{{ easeTime }}ms {{ easing }}")),(0,e.eR)("active => removed",(0,e.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),wt})()};let Ee=(()=>{class wt{static forRoot(mt={}){return{ngModule:wt,providers:[{provide:G,useValue:{default:ze,config:mt}}]}}}return wt.\u0275fac=function(mt){return new(mt||wt)},wt.\u0275mod=t.oAB({type:wt}),wt.\u0275inj=t.cJS({imports:[[T.ez]]}),wt})()},6349:(dt,Ce,p)=>{"use strict";p.d(Ce,{r3:()=>bs,e5:()=>oi,sE:()=>vr,cx:()=>Wn,UI:()=>yr,G:()=>Rr,jj:()=>hi,Tw:()=>hi,zu:()=>ps});var t={};p.r(t),p.d(t,{VERSION:()=>e,after:()=>rr,all:()=>Ds,allKeys:()=>Qt,any:()=>Rr,assign:()=>_t,before:()=>Ri,bind:()=>Mi,bindAll:()=>cs,chain:()=>Yi,chunk:()=>Fn,clone:()=>yt,collect:()=>yr,compact:()=>Dr,compose:()=>Sr,constant:()=>We,contains:()=>bs,countBy:()=>br,create:()=>it,debounce:()=>rs,default:()=>Or,defaults:()=>Ot,defer:()=>qr,delay:()=>us,detect:()=>vr,difference:()=>oi,drop:()=>wr,each:()=>sr,escape:()=>zn,every:()=>Ds,extend:()=>bt,extendOwn:()=>_t,filter:()=>jr,find:()=>vr,findIndex:()=>Wn,findKey:()=>Xn,findLastIndex:()=>pr,findWhere:()=>ss,first:()=>ki,flatten:()=>yn,foldl:()=>Cr,foldr:()=>Ji,forEach:()=>sr,functions:()=>Qn,get:()=>Jn,groupBy:()=>ao,has:()=>_i,head:()=>ki,identity:()=>Cn,include:()=>bs,includes:()=>bs,indexBy:()=>Zi,indexOf:()=>Zr,initial:()=>io,inject:()=>Cr,intersection:()=>Ie,invert:()=>$t,invoke:()=>Vi,isArguments:()=>Y,isArray:()=>un,isArrayBuffer:()=>Ee,isBoolean:()=>X,isDataView:()=>Yt,isDate:()=>me,isElement:()=>E,isEmpty:()=>de,isEqual:()=>Dt,isError:()=>ye,isFinite:()=>Q,isFunction:()=>nt,isMap:()=>fn,isMatch:()=>ee,isNaN:()=>ce,isNull:()=>W,isNumber:()=>le,isObject:()=>re,isRegExp:()=>Se,isSet:()=>kn,isString:()=>K,isSymbol:()=>ze,isTypedArray:()=>Xe,isUndefined:()=>G,isWeakMap:()=>An,isWeakSet:()=>Gn,iteratee:()=>bi,keys:()=>Ge,last:()=>Lr,lastIndexOf:()=>Pr,map:()=>yr,mapObject:()=>ci,matcher:()=>Zn,matches:()=>Zn,max:()=>Vr,memoize:()=>is,methods:()=>Qn,min:()=>Xr,mixin:()=>Ir,negate:()=>Cs,noop:()=>Fi,now:()=>zt,object:()=>rt,omit:()=>Hr,once:()=>ds,pairs:()=>ii,partial:()=>gr,partition:()=>Er,pick:()=>lr,pluck:()=>ws,property:()=>di,propertyOf:()=>Wt,random:()=>kt,range:()=>rn,reduce:()=>Cr,reduceRight:()=>Ji,reject:()=>hs,rest:()=>wr,restArguments:()=>q,result:()=>fi,sample:()=>zr,select:()=>jr,shuffle:()=>Wi,size:()=>si,some:()=>Rr,sortBy:()=>Gr,sortedIndex:()=>xr,tail:()=>wr,take:()=>ki,tap:()=>Jt,template:()=>xi,templateSettings:()=>ft,throttle:()=>_r,times:()=>Pn,toArray:()=>Is,toPath:()=>on,transpose:()=>ve,unescape:()=>et,union:()=>Xi,uniq:()=>hi,unique:()=>hi,uniqueId:()=>or,unzip:()=>ve,values:()=>ti,where:()=>no,without:()=>ps,wrap:()=>Rs,zip:()=>ie});var e="1.13.4",m="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},T=Array.prototype,C=Object.prototype,b=typeof Symbol<"u"?Symbol.prototype:null,g=T.push,f=T.slice,w=C.toString,_=C.hasOwnProperty,R=typeof ArrayBuffer<"u",P=typeof DataView<"u",a=Array.isArray,k=Object.keys,L=Object.create,Z=R&&ArrayBuffer.isView,j=isNaN,N=isFinite,B=!{toString:null}.propertyIsEnumerable("toString"),V=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],J=Math.pow(2,53)-1;function q(Me,je){return je=null==je?Me.length-1:+je,function(){for(var Et=Math.max(arguments.length-je,0),Rt=Array(Et),jt=0;jt<Et;jt++)Rt[jt]=arguments[jt+je];switch(je){case 0:return Me.call(this,Rt);case 1:return Me.call(this,arguments[0],Rt);case 2:return Me.call(this,arguments[0],arguments[1],Rt)}var Ht=Array(je+1);for(jt=0;jt<je;jt++)Ht[jt]=arguments[jt];return Ht[je]=Rt,Me.apply(this,Ht)}}function re(Me){var je=typeof Me;return"function"===je||"object"===je&&!!Me}function W(Me){return null===Me}function G(Me){return void 0===Me}function X(Me){return!0===Me||!1===Me||"[object Boolean]"===w.call(Me)}function E(Me){return!(!Me||1!==Me.nodeType)}function ne(Me){var je="[object "+Me+"]";return function(Et){return w.call(Et)===je}}const K=ne("String"),le=ne("Number"),me=ne("Date"),Se=ne("RegExp"),ye=ne("Error"),ze=ne("Symbol"),Ee=ne("ArrayBuffer");var qe=ne("Function");"object"!=typeof Int8Array&&"function"!=typeof(m.document&&m.document.childNodes)&&(qe=function(Me){return"function"==typeof Me||!1});const nt=qe,at=ne("Object");var wt=P&&at(new DataView(new ArrayBuffer(8))),lt=typeof Map<"u"&&at(new Map),mt=ne("DataView");const Yt=wt?function pt(Me){return null!=Me&&nt(Me.getInt8)&&Ee(Me.buffer)}:mt,un=a||ne("Array");function Nt(Me,je){return null!=Me&&_.call(Me,je)}var Mt=ne("Arguments");!function(){Mt(arguments)||(Mt=function(Me){return Nt(Me,"callee")})}();const Y=Mt;function Q(Me){return!ze(Me)&&N(Me)&&!isNaN(parseFloat(Me))}function ce(Me){return le(Me)&&j(Me)}function We(Me){return function(){return Me}}function Je(Me){return function(je){var Et=Me(je);return"number"==typeof Et&&Et>=0&&Et<=J}}function Oe(Me){return function(je){return je?.[Me]}}const i=Oe("byteLength"),we=Je(i);var $e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Xe=R?function Ye(Me){return Z?Z(Me)&&!Yt(Me):we(Me)&&$e.test(w.call(Me))}:We(!1),Fe=Oe("length");function vt(Me,je){je=function Tt(Me){for(var je={},Et=Me.length,Rt=0;Rt<Et;++Rt)je[Me[Rt]]=!0;return{contains:function(jt){return!0===je[jt]},push:function(jt){return je[jt]=!0,Me.push(jt)}}}(je);var Et=V.length,Rt=Me.constructor,jt=nt(Rt)&&Rt.prototype||C,Ht="constructor";for(Nt(Me,Ht)&&!je.contains(Ht)&&je.push(Ht);Et--;)(Ht=V[Et])in Me&&Me[Ht]!==jt[Ht]&&!je.contains(Ht)&&je.push(Ht)}function Ge(Me){if(!re(Me))return[];if(k)return k(Me);var je=[];for(var Et in Me)Nt(Me,Et)&&je.push(Et);return B&&vt(Me,je),je}function de(Me){if(null==Me)return!0;var je=Fe(Me);return"number"==typeof je&&(un(Me)||K(Me)||Y(Me))?0===je:0===Fe(Ge(Me))}function ee(Me,je){var Et=Ge(je),Rt=Et.length;if(null==Me)return!Rt;for(var jt=Object(Me),Ht=0;Ht<Rt;Ht++){var gn=Et[Ht];if(je[gn]!==jt[gn]||!(gn in jt))return!1}return!0}function U(Me){return Me instanceof U?Me:this instanceof U?void(this._wrapped=Me):new U(Me)}function te(Me){return new Uint8Array(Me.buffer||Me,Me.byteOffset||0,i(Me))}U.VERSION=e,U.prototype.valueOf=U.prototype.toJSON=U.prototype.value=function(){return this._wrapped},U.prototype.toString=function(){return String(this._wrapped)};var Re="[object DataView]";function ot(Me,je,Et,Rt){if(Me===je)return 0!==Me||1/Me==1/je;if(null==Me||null==je)return!1;if(Me!=Me)return je!=je;var jt=typeof Me;return("function"===jt||"object"===jt||"object"==typeof je)&&ut(Me,je,Et,Rt)}function ut(Me,je,Et,Rt){Me instanceof U&&(Me=Me._wrapped),je instanceof U&&(je=je._wrapped);var jt=w.call(Me);if(jt!==w.call(je))return!1;if(wt&&"[object Object]"==jt&&Yt(Me)){if(!Yt(je))return!1;jt=Re}switch(jt){case"[object RegExp]":case"[object String]":return""+Me==""+je;case"[object Number]":return+Me!=+Me?+je!=+je:0==+Me?1/+Me==1/je:+Me==+je;case"[object Date]":case"[object Boolean]":return+Me==+je;case"[object Symbol]":return b.valueOf.call(Me)===b.valueOf.call(je);case"[object ArrayBuffer]":case Re:return ut(te(Me),te(je),Et,Rt)}var Ht="[object Array]"===jt;if(!Ht&&Xe(Me)){if(i(Me)!==i(je))return!1;if(Me.buffer===je.buffer&&Me.byteOffset===je.byteOffset)return!0;Ht=!0}if(!Ht){if("object"!=typeof Me||"object"!=typeof je)return!1;var Tn=Me.constructor,ai=je.constructor;if(Tn!==ai&&!(nt(Tn)&&Tn instanceof Tn&&nt(ai)&&ai instanceof ai)&&"constructor"in Me&&"constructor"in je)return!1}Rt=Rt||[];for(var jn=(Et=Et||[]).length;jn--;)if(Et[jn]===Me)return Rt[jn]===je;if(Et.push(Me),Rt.push(je),Ht){if((jn=Me.length)!==je.length)return!1;for(;jn--;)if(!ot(Me[jn],je[jn],Et,Rt))return!1}else{var Kr,ur=Ge(Me);if(jn=ur.length,Ge(je).length!==jn)return!1;for(;jn--;)if(!Nt(je,Kr=ur[jn])||!ot(Me[Kr],je[Kr],Et,Rt))return!1}return Et.pop(),Rt.pop(),!0}function Dt(Me,je){return ot(Me,je)}function Qt(Me){if(!re(Me))return[];var je=[];for(var Et in Me)je.push(Et);return B&&vt(Me,je),je}function mn(Me){var je=Fe(Me);return function(Et){if(null==Et)return!1;var Rt=Qt(Et);if(Fe(Rt))return!1;for(var jt=0;jt<je;jt++)if(!nt(Et[Me[jt]]))return!1;return Me!==It||!nt(Et[nn])}}var nn="forEach",sn=["clear","delete"],gt=["get","has","set"],dn=sn.concat(nn,gt),It=sn.concat(gt),Xt=["add"].concat(sn,nn,"has");const fn=lt?mn(dn):ne("Map"),An=lt?mn(It):ne("WeakMap"),kn=lt?mn(Xt):ne("Set"),Gn=ne("WeakSet");function ti(Me){for(var je=Ge(Me),Et=je.length,Rt=Array(Et),jt=0;jt<Et;jt++)Rt[jt]=Me[je[jt]];return Rt}function ii(Me){for(var je=Ge(Me),Et=je.length,Rt=Array(Et),jt=0;jt<Et;jt++)Rt[jt]=[je[jt],Me[je[jt]]];return Rt}function $t(Me){for(var je={},Et=Ge(Me),Rt=0,jt=Et.length;Rt<jt;Rt++)je[Me[Et[Rt]]]=Et[Rt];return je}function Qn(Me){var je=[];for(var Et in Me)nt(Me[Et])&&je.push(Et);return je.sort()}function Nn(Me,je){return function(Et){var Rt=arguments.length;if(je&&(Et=Object(Et)),Rt<2||null==Et)return Et;for(var jt=1;jt<Rt;jt++)for(var Ht=arguments[jt],gn=Me(Ht),Tn=gn.length,ai=0;ai<Tn;ai++){var jn=gn[ai];(!je||void 0===Et[jn])&&(Et[jn]=Ht[jn])}return Et}}const bt=Nn(Qt),_t=Nn(Ge),Ot=Nn(Qt,!0);function Ke(Me){if(!re(Me))return{};if(L)return L(Me);var je=function(){};je.prototype=Me;var Et=new je;return je.prototype=null,Et}function it(Me,je){var Et=Ke(Me);return je&&_t(Et,je),Et}function yt(Me){return re(Me)?un(Me)?Me.slice():bt({},Me):Me}function Jt(Me,je){return je(Me),Me}function on(Me){return un(Me)?Me:[Me]}function Bt(Me){return U.toPath(Me)}function Mn(Me,je){for(var Et=je.length,Rt=0;Rt<Et;Rt++){if(null==Me)return;Me=Me[je[Rt]]}return Et?Me:void 0}function Jn(Me,je,Et){var Rt=Mn(Me,Bt(je));return G(Rt)?Et:Rt}function _i(Me,je){for(var Et=(je=Bt(je)).length,Rt=0;Rt<Et;Rt++){var jt=je[Rt];if(!Nt(Me,jt))return!1;Me=Me[jt]}return!!Et}function Cn(Me){return Me}function Zn(Me){return Me=_t({},Me),function(je){return ee(je,Me)}}function di(Me){return Me=Bt(Me),function(je){return Mn(je,Me)}}function Un(Me,je,Et){if(void 0===je)return Me;switch(Et??3){case 1:return function(Rt){return Me.call(je,Rt)};case 3:return function(Rt,jt,Ht){return Me.call(je,Rt,jt,Ht)};case 4:return function(Rt,jt,Ht,gn){return Me.call(je,Rt,jt,Ht,gn)}}return function(){return Me.apply(je,arguments)}}function Ui(Me,je,Et){return null==Me?Cn:nt(Me)?Un(Me,je,Et):re(Me)&&!un(Me)?Zn(Me):di(Me)}function bi(Me,je){return Ui(Me,je,1/0)}function pi(Me,je,Et){return U.iteratee!==bi?U.iteratee(Me,je):Ui(Me,je,Et)}function ci(Me,je,Et){je=pi(je,Et);for(var Rt=Ge(Me),jt=Rt.length,Ht={},gn=0;gn<jt;gn++){var Tn=Rt[gn];Ht[Tn]=je(Me[Tn],Tn,Me)}return Ht}function Fi(){}function Wt(Me){return null==Me?Fi:function(je){return Jn(Me,je)}}function Pn(Me,je,Et){var Rt=Array(Math.max(0,Me));je=Un(je,Et,1);for(var jt=0;jt<Me;jt++)Rt[jt]=je(jt);return Rt}function kt(Me,je){return null==je&&(je=Me,Me=0),Me+Math.floor(Math.random()*(je-Me+1))}U.toPath=on,U.iteratee=bi;const zt=Date.now||function(){return(new Date).getTime()};function Sn(Me){var je=function(Ht){return Me[Ht]},Et="(?:"+Ge(Me).join("|")+")",Rt=RegExp(Et),jt=RegExp(Et,"g");return function(Ht){return Rt.test(Ht=null==Ht?"":""+Ht)?Ht.replace(jt,je):Ht}}const Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},zn=Sn(Ln),et=Sn($t(Ln)),ft=U.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Lt=/(.)^/,pn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},hn=/\\|'|\r|\n|\u2028|\u2029/g;function In(Me){return"\\"+pn[Me]}var Rn=/^\s*(\w|\$)+\s*$/;function xi(Me,je,Et){!je&&Et&&(je=Et),je=Ot({},je,U.templateSettings);var Rt=RegExp([(je.escape||Lt).source,(je.interpolate||Lt).source,(je.evaluate||Lt).source].join("|")+"|$","g"),jt=0,Ht="__p+='";Me.replace(Rt,function(jn,ur,Kr,dr,zi){return Ht+=Me.slice(jt,zi).replace(hn,In),jt=zi+jn.length,ur?Ht+="'+\n((__t=("+ur+"))==null?'':_.escape(__t))+\n'":Kr?Ht+="'+\n((__t=("+Kr+"))==null?'':__t)+\n'":dr&&(Ht+="';\n"+dr+"\n__p+='"),jn}),Ht+="';\n";var Tn,gn=je.variable;if(gn){if(!Rn.test(gn))throw new Error("variable is not a bare identifier: "+gn)}else Ht="with(obj||{}){\n"+Ht+"}\n",gn="obj";Ht="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Ht+"return __p;\n";try{Tn=new Function(gn,"_",Ht)}catch(jn){throw jn.source=Ht,jn}var ai=function(jn){return Tn.call(this,jn,U)};return ai.source="function("+gn+"){\n"+Ht+"}",ai}function fi(Me,je,Et){var Rt=(je=Bt(je)).length;if(!Rt)return nt(Et)?Et.call(Me):Et;for(var jt=0;jt<Rt;jt++){var Ht=Me?.[je[jt]];void 0===Ht&&(Ht=Et,jt=Rt),Me=nt(Ht)?Ht.call(Me):Ht}return Me}var qn=0;function or(Me){var je=++qn+"";return Me?Me+je:je}function Yi(Me){var je=U(Me);return je._chain=!0,je}function hr(Me,je,Et,Rt,jt){if(!(Rt instanceof je))return Me.apply(Et,jt);var Ht=Ke(Me.prototype),gn=Me.apply(Ht,jt);return re(gn)?gn:Ht}var Ei=q(function(Me,je){var Et=Ei.placeholder,Rt=function(){for(var jt=0,Ht=je.length,gn=Array(Ht),Tn=0;Tn<Ht;Tn++)gn[Tn]=je[Tn]===Et?arguments[jt++]:je[Tn];for(;jt<arguments.length;)gn.push(arguments[jt++]);return hr(Me,Rt,this,this,gn)};return Rt});Ei.placeholder=U;const gr=Ei,Mi=q(function(Me,je,Et){if(!nt(Me))throw new TypeError("Bind must be called on a function");var Rt=q(function(jt){return hr(Me,Rt,je,this,Et.concat(jt))});return Rt}),Hi=Je(Fe);function Nr(Me,je,Et,Rt){if(Rt=Rt||[],je||0===je){if(je<=0)return Rt.concat(Me)}else je=1/0;for(var jt=Rt.length,Ht=0,gn=Fe(Me);Ht<gn;Ht++){var Tn=Me[Ht];if(Hi(Tn)&&(un(Tn)||Y(Tn)))if(je>1)Nr(Tn,je-1,Et,Rt),jt=Rt.length;else for(var ai=0,jn=Tn.length;ai<jn;)Rt[jt++]=Tn[ai++];else Et||(Rt[jt++]=Tn)}return Rt}const cs=q(function(Me,je){var Et=(je=Nr(je,!1,!1)).length;if(Et<1)throw new Error("bindAll must be passed function names");for(;Et--;){var Rt=je[Et];Me[Rt]=Mi(Me[Rt],Me)}return Me});function is(Me,je){var Et=function(Rt){var jt=Et.cache,Ht=""+(je?je.apply(this,arguments):Rt);return Nt(jt,Ht)||(jt[Ht]=Me.apply(this,arguments)),jt[Ht]};return Et.cache={},Et}const us=q(function(Me,je,Et){return setTimeout(function(){return Me.apply(null,Et)},je)}),qr=gr(us,U,1);function _r(Me,je,Et){var Rt,jt,Ht,gn,Tn=0;Et||(Et={});var ai=function(){Tn=!1===Et.leading?0:zt(),Rt=null,gn=Me.apply(jt,Ht),Rt||(jt=Ht=null)},jn=function(){var ur=zt();!Tn&&!1===Et.leading&&(Tn=ur);var Kr=je-(ur-Tn);return jt=this,Ht=arguments,Kr<=0||Kr>je?(Rt&&(clearTimeout(Rt),Rt=null),Tn=ur,gn=Me.apply(jt,Ht),Rt||(jt=Ht=null)):!Rt&&!1!==Et.trailing&&(Rt=setTimeout(ai,Kr)),gn};return jn.cancel=function(){clearTimeout(Rt),Tn=0,Rt=jt=Ht=null},jn}function rs(Me,je,Et){var Rt,jt,Ht,gn,Tn,ai=function(){var ur=zt()-jt;je>ur?Rt=setTimeout(ai,je-ur):(Rt=null,Et||(gn=Me.apply(Tn,Ht)),Rt||(Ht=Tn=null))},jn=q(function(ur){return Tn=this,Ht=ur,jt=zt(),Rt||(Rt=setTimeout(ai,je),Et&&(gn=Me.apply(Tn,Ht))),gn});return jn.cancel=function(){clearTimeout(Rt),Rt=Ht=Tn=null},jn}function Rs(Me,je){return gr(je,Me)}function Cs(Me){return function(){return!Me.apply(this,arguments)}}function Sr(){var Me=arguments,je=Me.length-1;return function(){for(var Et=je,Rt=Me[je].apply(this,arguments);Et--;)Rt=Me[Et].call(this,Rt);return Rt}}function rr(Me,je){return function(){if(--Me<1)return je.apply(this,arguments)}}function Ri(Me,je){var Et;return function(){return--Me>0&&(Et=je.apply(this,arguments)),Me<=1&&(je=null),Et}}const ds=gr(Ri,2);function Xn(Me,je,Et){je=pi(je,Et);for(var jt,Rt=Ge(Me),Ht=0,gn=Rt.length;Ht<gn;Ht++)if(je(Me[jt=Rt[Ht]],jt,Me))return jt}function _s(Me){return function(je,Et,Rt){Et=pi(Et,Rt);for(var jt=Fe(je),Ht=Me>0?0:jt-1;Ht>=0&&Ht<jt;Ht+=Me)if(Et(je[Ht],Ht,je))return Ht;return-1}}const Wn=_s(1),pr=_s(-1);function xr(Me,je,Et,Rt){for(var jt=(Et=pi(Et,Rt,1))(je),Ht=0,gn=Fe(Me);Ht<gn;){var Tn=Math.floor((Ht+gn)/2);Et(Me[Tn])<jt?Ht=Tn+1:gn=Tn}return Ht}function Yr(Me,je,Et){return function(Rt,jt,Ht){var gn=0,Tn=Fe(Rt);if("number"==typeof Ht)Me>0?gn=Ht>=0?Ht:Math.max(Ht+Tn,gn):Tn=Ht>=0?Math.min(Ht+1,Tn):Ht+Tn+1;else if(Et&&Ht&&Tn)return Rt[Ht=Et(Rt,jt)]===jt?Ht:-1;if(jt!=jt)return(Ht=je(f.call(Rt,gn,Tn),ce))>=0?Ht+gn:-1;for(Ht=Me>0?gn:Tn-1;Ht>=0&&Ht<Tn;Ht+=Me)if(Rt[Ht]===jt)return Ht;return-1}}const Zr=Yr(1,Wn,xr),Pr=Yr(-1,pr);function vr(Me,je,Et){var jt=(Hi(Me)?Wn:Xn)(Me,je,Et);if(void 0!==jt&&-1!==jt)return Me[jt]}function ss(Me,je){return vr(Me,Zn(je))}function sr(Me,je,Et){var Rt,jt;if(je=Un(je,Et),Hi(Me))for(Rt=0,jt=Me.length;Rt<jt;Rt++)je(Me[Rt],Rt,Me);else{var Ht=Ge(Me);for(Rt=0,jt=Ht.length;Rt<jt;Rt++)je(Me[Ht[Rt]],Ht[Rt],Me)}return Me}function yr(Me,je,Et){je=pi(je,Et);for(var Rt=!Hi(Me)&&Ge(Me),jt=(Rt||Me).length,Ht=Array(jt),gn=0;gn<jt;gn++){var Tn=Rt?Rt[gn]:gn;Ht[gn]=je(Me[Tn],Tn,Me)}return Ht}function os(Me){var je=function(Et,Rt,jt,Ht){var gn=!Hi(Et)&&Ge(Et),Tn=(gn||Et).length,ai=Me>0?0:Tn-1;for(Ht||(jt=Et[gn?gn[ai]:ai],ai+=Me);ai>=0&&ai<Tn;ai+=Me){var jn=gn?gn[ai]:ai;jt=Rt(jt,Et[jn],jn,Et)}return jt};return function(Et,Rt,jt,Ht){var gn=arguments.length>=3;return je(Et,Un(Rt,Ht,4),jt,gn)}}const Cr=os(1),Ji=os(-1);function jr(Me,je,Et){var Rt=[];return je=pi(je,Et),sr(Me,function(jt,Ht,gn){je(jt,Ht,gn)&&Rt.push(jt)}),Rt}function hs(Me,je,Et){return jr(Me,Cs(pi(je)),Et)}function Ds(Me,je,Et){je=pi(je,Et);for(var Rt=!Hi(Me)&&Ge(Me),jt=(Rt||Me).length,Ht=0;Ht<jt;Ht++){var gn=Rt?Rt[Ht]:Ht;if(!je(Me[gn],gn,Me))return!1}return!0}function Rr(Me,je,Et){je=pi(je,Et);for(var Rt=!Hi(Me)&&Ge(Me),jt=(Rt||Me).length,Ht=0;Ht<jt;Ht++){var gn=Rt?Rt[Ht]:Ht;if(je(Me[gn],gn,Me))return!0}return!1}function bs(Me,je,Et,Rt){return Hi(Me)||(Me=ti(Me)),("number"!=typeof Et||Rt)&&(Et=0),Zr(Me,je,Et)>=0}const Vi=q(function(Me,je,Et){var Rt,jt;return nt(je)?jt=je:(je=Bt(je),Rt=je.slice(0,-1),je=je[je.length-1]),yr(Me,function(Ht){var gn=jt;if(!gn){if(Rt&&Rt.length&&(Ht=Mn(Ht,Rt)),null==Ht)return;gn=Ht[je]}return null==gn?gn:gn.apply(Ht,Et)})});function ws(Me,je){return yr(Me,di(je))}function no(Me,je){return jr(Me,Zn(je))}function Vr(Me,je,Et){var Ht,gn,Rt=-1/0,jt=-1/0;if(null==je||"number"==typeof je&&"object"!=typeof Me[0]&&null!=Me)for(var Tn=0,ai=(Me=Hi(Me)?Me:ti(Me)).length;Tn<ai;Tn++)null!=(Ht=Me[Tn])&&Ht>Rt&&(Rt=Ht);else je=pi(je,Et),sr(Me,function(jn,ur,Kr){((gn=je(jn,ur,Kr))>jt||gn===-1/0&&Rt===-1/0)&&(Rt=jn,jt=gn)});return Rt}function Xr(Me,je,Et){var Ht,gn,Rt=1/0,jt=1/0;if(null==je||"number"==typeof je&&"object"!=typeof Me[0]&&null!=Me)for(var Tn=0,ai=(Me=Hi(Me)?Me:ti(Me)).length;Tn<ai;Tn++)null!=(Ht=Me[Tn])&&Ht<Rt&&(Rt=Ht);else je=pi(je,Et),sr(Me,function(jn,ur,Kr){((gn=je(jn,ur,Kr))<jt||gn===1/0&&Rt===1/0)&&(Rt=jn,jt=gn)});return Rt}var ks=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Is(Me){return Me?un(Me)?f.call(Me):K(Me)?Me.match(ks):Hi(Me)?yr(Me,Cn):ti(Me):[]}function zr(Me,je,Et){if(null==je||Et)return Hi(Me)||(Me=ti(Me)),Me[kt(Me.length-1)];var Rt=Is(Me),jt=Fe(Rt);je=Math.max(Math.min(je,jt),0);for(var Ht=jt-1,gn=0;gn<je;gn++){var Tn=kt(gn,Ht),ai=Rt[gn];Rt[gn]=Rt[Tn],Rt[Tn]=ai}return Rt.slice(0,je)}function Wi(Me){return zr(Me,1/0)}function Gr(Me,je,Et){var Rt=0;return je=pi(je,Et),ws(yr(Me,function(jt,Ht,gn){return{value:jt,index:Rt++,criteria:je(jt,Ht,gn)}}).sort(function(jt,Ht){var gn=jt.criteria,Tn=Ht.criteria;if(gn!==Tn){if(gn>Tn||void 0===gn)return 1;if(gn<Tn||void 0===Tn)return-1}return jt.index-Ht.index}),"value")}function as(Me,je){return function(Et,Rt,jt){var Ht=je?[[],[]]:{};return Rt=pi(Rt,jt),sr(Et,function(gn,Tn){var ai=Rt(gn,Tn,Et);Me(Ht,gn,ai)}),Ht}}const ao=as(function(Me,je,Et){Nt(Me,Et)?Me[Et].push(je):Me[Et]=[je]}),Zi=as(function(Me,je,Et){Me[Et]=je}),br=as(function(Me,je,Et){Nt(Me,Et)?Me[Et]++:Me[Et]=1}),Er=as(function(Me,je,Et){Me[Et?0:1].push(je)},!0);function si(Me){return null==Me?0:Hi(Me)?Me.length:Ge(Me).length}function Ps(Me,je,Et){return je in Et}const lr=q(function(Me,je){var Et={},Rt=je[0];if(null==Me)return Et;nt(Rt)?(je.length>1&&(Rt=Un(Rt,je[1])),je=Qt(Me)):(Rt=Ps,je=Nr(je,!1,!1),Me=Object(Me));for(var jt=0,Ht=je.length;jt<Ht;jt++){var gn=je[jt],Tn=Me[gn];Rt(Tn,gn,Me)&&(Et[gn]=Tn)}return Et}),Hr=q(function(Me,je){var Rt,Et=je[0];return nt(Et)?(Et=Cs(Et),je.length>1&&(Rt=je[1])):(je=yr(Nr(je,!1,!1),String),Et=function(jt,Ht){return!bs(je,Ht)}),lr(Me,Et,Rt)});function io(Me,je,Et){return f.call(Me,0,Math.max(0,Me.length-(null==je||Et?1:je)))}function ki(Me,je,Et){return null==Me||Me.length<1?null==je||Et?void 0:[]:null==je||Et?Me[0]:io(Me,Me.length-je)}function wr(Me,je,Et){return f.call(Me,null==je||Et?1:je)}function Lr(Me,je,Et){return null==Me||Me.length<1?null==je||Et?void 0:[]:null==je||Et?Me[Me.length-1]:wr(Me,Math.max(0,Me.length-je))}function Dr(Me){return jr(Me,Boolean)}function yn(Me,je){return Nr(Me,je,!1)}const oi=q(function(Me,je){return je=Nr(je,!0,!0),jr(Me,function(Et){return!bs(je,Et)})}),ps=q(function(Me,je){return oi(Me,je)});function hi(Me,je,Et,Rt){X(je)||(Rt=Et,Et=je,je=!1),null!=Et&&(Et=pi(Et,Rt));for(var jt=[],Ht=[],gn=0,Tn=Fe(Me);gn<Tn;gn++){var ai=Me[gn],jn=Et?Et(ai,gn,Me):ai;je&&!Et?((!gn||Ht!==jn)&&jt.push(ai),Ht=jn):Et?bs(Ht,jn)||(Ht.push(jn),jt.push(ai)):bs(jt,ai)||jt.push(ai)}return jt}const Xi=q(function(Me){return hi(Nr(Me,!0,!0))});function Ie(Me){for(var je=[],Et=arguments.length,Rt=0,jt=Fe(Me);Rt<jt;Rt++){var Ht=Me[Rt];if(!bs(je,Ht)){var gn;for(gn=1;gn<Et&&bs(arguments[gn],Ht);gn++);gn===Et&&je.push(Ht)}}return je}function ve(Me){for(var je=Me&&Vr(Me,Fe).length||0,Et=Array(je),Rt=0;Rt<je;Rt++)Et[Rt]=ws(Me,Rt);return Et}const ie=q(ve);function rt(Me,je){for(var Et={},Rt=0,jt=Fe(Me);Rt<jt;Rt++)je?Et[Me[Rt]]=je[Rt]:Et[Me[Rt][0]]=Me[Rt][1];return Et}function rn(Me,je,Et){null==je&&(je=Me||0,Me=0),Et||(Et=je<Me?-1:1);for(var Rt=Math.max(Math.ceil((je-Me)/Et),0),jt=Array(Rt),Ht=0;Ht<Rt;Ht++,Me+=Et)jt[Ht]=Me;return jt}function Fn(Me,je){if(null==je||je<1)return[];for(var Et=[],Rt=0,jt=Me.length;Rt<jt;)Et.push(f.call(Me,Rt,Rt+=je));return Et}function ji(Me,je){return Me._chain?U(je).chain():je}function Ir(Me){return sr(Qn(Me),function(je){var Et=U[je]=Me[je];U.prototype[je]=function(){var Rt=[this._wrapped];return g.apply(Rt,arguments),ji(this,Et.apply(U,Rt))}}),U}sr(["pop","push","reverse","shift","sort","splice","unshift"],function(Me){var je=T[Me];U.prototype[Me]=function(){var Et=this._wrapped;return null!=Et&&(je.apply(Et,arguments),("shift"===Me||"splice"===Me)&&0===Et.length&&delete Et[0]),ji(this,Et)}}),sr(["concat","join","slice"],function(Me){var je=T[Me];U.prototype[Me]=function(){var Et=this._wrapped;return null!=Et&&(Et=je.apply(Et,arguments)),ji(this,Et)}});const Or=U;var er=Ir(t);er._=er},5861:(dt,Ce,p)=>{"use strict";function t(m,T,C,b,g,f,w){try{var _=m[f](w),R=_.value}catch(P){return void C(P)}_.done?T(R):Promise.resolve(R).then(b,g)}function e(m){return function(){var T=this,C=arguments;return new Promise(function(b,g){var f=m.apply(T,C);function w(R){t(f,b,g,w,_,"next",R)}function _(R){t(f,b,g,w,_,"throw",R)}w(void 0)})}}p.d(Ce,{Z:()=>e})}},dt=>{dt(dt.s=8312)}]);